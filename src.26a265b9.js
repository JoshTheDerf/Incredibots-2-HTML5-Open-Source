parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"IHN5":[function(require,module,exports) {
var global = arguments[3];
var define;
var t,n=arguments[3];!function(n){var e=n.Promise,o=e&&"resolve"in e&&"reject"in e&&"all"in e&&"race"in e&&function(){var t;return new e(function(n){t=n}),"function"==typeof t}();"undefined"!=typeof exports&&exports?(exports.Promise=o?e:b,exports.Polyfill=b):"function"==typeof t&&t.amd?t(function(){return o?e:b}):o||(n.Promise=b);var r="pending",i="sealed",c="fulfilled",f="rejected",u=function(){};function a(t){return"[object Array]"===Object.prototype.toString.call(t)}var s,h="undefined"!=typeof setImmediate?setImmediate:setTimeout,l=[];function p(){for(var t=0;t<l.length;t++)l[t][0](l[t][1]);l=[],s=!1}function d(t,n){l.push([t,n]),s||(s=!0,h(p,0))}function y(t){var n=t.owner,e=n.state_,o=n.data_,r=t[e],i=t.then;if("function"==typeof r){e=c;try{o=r(o)}catch(u){_(i,u)}}w(i,o)||(e===c&&m(i,o),e===f&&_(i,o))}function w(t,n){var e;try{if(t===n)throw new TypeError("A promises callback cannot return that same promise.");if(n&&("function"==typeof n||"object"==typeof n)){var o=n.then;if("function"==typeof o)return o.call(n,function(o){e||(e=!0,n!==o?m(t,o):v(t,o))},function(n){e||(e=!0,_(t,n))}),!0}}catch(r){return e||_(t,r),!0}return!1}function m(t,n){t!==n&&w(t,n)||v(t,n)}function v(t,n){t.state_===r&&(t.state_=i,t.data_=n,d(P,t))}function _(t,n){t.state_===r&&(t.state_=i,t.data_=n,d(g,t))}function j(t){var n=t.then_;t.then_=void 0;for(var e=0;e<n.length;e++)y(n[e])}function P(t){t.state_=c,j(t)}function g(t){t.state_=f,j(t)}function b(t){if("function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(this instanceof b==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(t,n){function e(t){_(n,t)}try{t(function(t){m(n,t)},e)}catch(o){e(o)}}(t,this)}b.prototype={constructor:b,state_:r,then_:null,data_:void 0,then:function(t,n){var e={owner:this,then:new this.constructor(u),fulfilled:t,rejected:n};return this.state_===c||this.state_===f?d(y,e):this.then_.push(e),e.then},catch:function(t){return this.then(null,t)}},b.all=function(t){if(!a(t))throw new TypeError("You must pass an array to Promise.all().");return new this(function(n,e){var o=[],r=0;function i(t){return r++,function(e){o[t]=e,--r||n(o)}}for(var c,f=0;f<t.length;f++)(c=t[f])&&"function"==typeof c.then?c.then(i(f),e):o[f]=c;r||n(o)})},b.race=function(t){if(!a(t))throw new TypeError("You must pass an array to Promise.race().");return new this(function(n,e){for(var o,r=0;r<t.length;r++)(o=t[r])&&"function"==typeof o.then?o.then(n,e):n(o)})},b.resolve=function(t){return t&&"object"==typeof t&&t.constructor===this?t:new this(function(n){n(t)})},b.reject=function(t){return new this(function(n,e){e(t)})}}("undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:this);
},{}],"YOwE":[function(require,module,exports) {
"use strict";var r=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,e=Object.prototype.propertyIsEnumerable;function n(r){if(null==r)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function o(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de","5"===Object.getOwnPropertyNames(r)[0])return!1;for(var t={},e=0;e<10;e++)t["_"+String.fromCharCode(e)]=e;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(r){return t[r]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(r){n[r]=r}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(o){return!1}}module.exports=o()?Object.assign:function(o,c){for(var a,i,s=n(o),f=1;f<arguments.length;f++){for(var u in a=Object(arguments[f]))t.call(a,u)&&(s[u]=a[u]);if(r){i=r(a);for(var b=0;b<i.length;b++)e.call(a,i[b])&&(s[i[b]]=a[i[b]])}}return s};
},{}],"jbXN":[function(require,module,exports) {
"use strict";var n=require("es6-promise-polyfill"),r=e(require("object-assign"));function e(n){return n&&n.__esModule?n:{default:n}}window.Promise||(window.Promise=n.Polyfill),Object.assign||(Object.assign=r.default);var i=16;if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!window.performance||!window.performance.now){var o=Date.now();window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-o}}for(var t=Date.now(),a=["ms","moz","webkit","o"],w=0;w<a.length&&!window.requestAnimationFrame;++w){var m=a[w];window.requestAnimationFrame=window[m+"RequestAnimationFrame"],window.cancelAnimationFrame=window[m+"CancelAnimationFrame"]||window[m+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(n){if("function"!=typeof n)throw new TypeError(n+"is not a function");var r=Date.now(),e=i+t-r;return e<0&&(e=0),t=r,window.setTimeout(function(){t=Date.now(),n(performance.now())},e)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){return clearTimeout(n)}),Math.sign||(Math.sign=function(n){return 0===(n=Number(n))||isNaN(n)?n:n>0?1:-1}),Number.isInteger||(Number.isInteger=function(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array);
},{"es6-promise-polyfill":"IHN5","object-assign":"YOwE"}],"Hp9w":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=m;var e=/iPhone/i,i=/iPod/i,o=/iPad/i,t=/\biOS-universal(?:.+)Mac\b/i,n=/\bAndroid(?:.+)Mobile\b/i,r=/Android/i,a=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,d=/Silk/i,l=/Windows Phone/i,p=/\bWindows(?:.+)ARM\b/i,s=/BlackBerry/i,u=/BB10/i,b=/Opera Mini/i,c=/\b(CriOS|Chrome)(?:.+)Mobile/i,h=/Mobile(?:.+)Firefox\b/i,v=function(e){return void 0!==e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"==typeof MSStream};function f(e){return function(i){return i.test(e)}}function m(m){var g={userAgent:"",platform:"",maxTouchPoints:0};m||"undefined"==typeof navigator?"string"==typeof m?g.userAgent=m:m&&m.userAgent&&(g={userAgent:m.userAgent,platform:m.platform,maxTouchPoints:m.maxTouchPoints||0}):g={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var A=g.userAgent,P=A.split("[FBAN");void 0!==P[1]&&(A=P[0]),void 0!==(P=A.split("Twitter"))[1]&&(A=P[0]);var w=f(A),x={apple:{phone:w(e)&&!w(l),ipod:w(i),tablet:!w(e)&&(w(o)||v(g))&&!w(l),universal:w(t),device:(w(e)||w(i)||w(o)||w(t)||v(g))&&!w(l)},amazon:{phone:w(a),tablet:!w(a)&&w(d),device:w(a)||w(d)},android:{phone:!w(l)&&w(a)||!w(l)&&w(n),tablet:!w(l)&&!w(a)&&!w(n)&&(w(d)||w(r)),device:!w(l)&&(w(a)||w(d)||w(n)||w(r))||w(/\bokhttp\b/i)},windows:{phone:w(l),tablet:w(p),device:w(l)||w(p)},other:{blackberry:w(s),blackberry10:w(u),opera:w(b),firefox:w(h),chrome:w(c),device:w(s)||w(u)||w(b)||w(h)||w(c)},any:!1,phone:!1,tablet:!1};return x.any=x.apple.device||x.android.device||x.windows.device||x.other.device,x.phone=x.apple.phone||x.android.phone||x.windows.phone,x.tablet=x.apple.tablet||x.android.tablet||x.windows.tablet,x}
},{}],"uJg3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={};Object.defineProperty(exports,"default",{enumerable:!0,get:function(){return t.default}});var t=n(require("./isMobile"));function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var f=o?Object.getOwnPropertyDescriptor(e,u):null;f&&(f.get||f.set)?Object.defineProperty(n,u,f):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===t[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return t[r]}}))});
},{"./isMobile":"Hp9w"}],"Xe2x":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.settings=exports.isMobile=void 0;var e=r(require("ismobilejs"));function r(e){return e&&e.__esModule?e:{default:e}}var i=(0,e.default)(window.navigator);function t(e){var r=!0;if(i.tablet||i.phone){var t;if(i.apple.device)if(t=navigator.userAgent.match(/OS (\d+)_(\d+)?/))parseInt(t[1],10)<11&&(r=!1);if(i.android.device)if(t=navigator.userAgent.match(/Android\s([0-9.]*)/))parseInt(t[1],10)<7&&(r=!1)}return r?e:4}function a(){return!i.apple.device}exports.isMobile=i;var n={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:t(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:i.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:a(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};exports.settings=n;
},{"ismobilejs":"uJg3"}],"LqgX":[function(require,module,exports) {
"use strict";var e=Object.prototype.hasOwnProperty,t="~";function n(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,n,o,s,i){if("function"!=typeof o)throw new TypeError("The listener must be a function");var c=new r(o,s||e,i),f=t?t+n:n;return e._events[f]?e._events[f].fn?e._events[f]=[e._events[f],c]:e._events[f].push(c):(e._events[f]=c,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function i(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(t=!1)),i.prototype.eventNames=function(){var n,r,o=[];if(0===this._eventsCount)return o;for(r in n=this._events)e.call(n,r)&&o.push(t?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(n)):o},i.prototype.listeners=function(e){var n=t?t+e:e,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,s=r.length,i=new Array(s);o<s;o++)i[o]=r[o].fn;return i},i.prototype.listenerCount=function(e){var n=t?t+e:e,r=this._events[n];return r?r.fn?1:r.length:0},i.prototype.emit=function(e,n,r,o,s,i){var c=t?t+e:e;if(!this._events[c])return!1;var f,u,a=this._events[c],l=arguments.length;if(a.fn){switch(a.once&&this.removeListener(e,a.fn,void 0,!0),l){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,n),!0;case 3:return a.fn.call(a.context,n,r),!0;case 4:return a.fn.call(a.context,n,r,o),!0;case 5:return a.fn.call(a.context,n,r,o,s),!0;case 6:return a.fn.call(a.context,n,r,o,s,i),!0}for(u=1,f=new Array(l-1);u<l;u++)f[u-1]=arguments[u];a.fn.apply(a.context,f)}else{var v,h=a.length;for(u=0;u<h;u++)switch(a[u].once&&this.removeListener(e,a[u].fn,void 0,!0),l){case 1:a[u].fn.call(a[u].context);break;case 2:a[u].fn.call(a[u].context,n);break;case 3:a[u].fn.call(a[u].context,n,r);break;case 4:a[u].fn.call(a[u].context,n,r,o);break;default:if(!f)for(v=1,f=new Array(l-1);v<l;v++)f[v-1]=arguments[v];a[u].fn.apply(a[u].context,f)}}return!0},i.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},i.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},i.prototype.removeListener=function(e,n,r,o){var i=t?t+e:e;if(!this._events[i])return this;if(!n)return s(this,i),this;var c=this._events[i];if(c.fn)c.fn!==n||o&&!c.once||r&&c.context!==r||s(this,i);else{for(var f=0,u=[],a=c.length;f<a;f++)(c[f].fn!==n||o&&!c[f].once||r&&c[f].context!==r)&&u.push(c[f]);u.length?this._events[i]=1===u.length?u[0]:u:s(this,i)}return this},i.prototype.removeAllListeners=function(e){var r;return e?(r=t?t+e:e,this._events[r]&&s(this,r)):(this._events=new n,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prefixed=t,i.EventEmitter=i,"undefined"!=typeof module&&(module.exports=i);
},{}],"d3f1":[function(require,module,exports) {
"use strict";function e(e,t,x){x=x||2;var i,u,v,y,o,p,a,l=t&&t.length,h=l?t[0]*x:e.length,s=n(e,0,h,x,!0),c=[];if(!s||s.next===s.prev)return c;if(l&&(s=f(e,t,s,x)),e.length>80*x){i=v=e[0],u=y=e[1];for(var Z=x;Z<h;Z+=x)(o=e[Z])<i&&(i=o),(p=e[Z+1])<u&&(u=p),o>v&&(v=o),p>y&&(y=p);a=0!==(a=Math.max(v-i,y-u))?1/a:0}return r(s,c,x,i,u,a),c}function n(e,n,t,r,x){var i,u;if(x===D(e,n,t,r)>0)for(i=n;i<t;i+=r)u=A(i,e[i],e[i+1],u);else for(i=t-r;i>=n;i-=r)u=A(i,e[i],e[i+1],u);return u&&w(u,u.next)&&(B(u),u=u.next),u}function t(e,n){if(!e)return e;n||(n=e);var t,r=e;do{if(t=!1,r.steiner||!w(r,r.next)&&0!==g(r.prev,r,r.next))r=r.next;else{if(B(r),(r=n=r.prev)===r.next)break;t=!0}}while(t||r!==n);return n}function r(e,n,f,y,o,p,a){if(e){!a&&p&&l(e,y,o,p);for(var h,s,c=e;e.prev!==e.next;)if(h=e.prev,s=e.next,p?i(e,y,o,p):x(e))n.push(h.i/f),n.push(e.i/f),n.push(s.i/f),B(e),e=s.next,c=s.next;else if((e=s)===c){a?1===a?r(e=u(t(e),n,f),n,f,y,o,p,2):2===a&&v(e,n,f,y,o,p):r(t(e),n,f,y,o,p,1);break}}}function x(e){var n=e.prev,t=e,r=e.next;if(g(n,t,r)>=0)return!1;for(var x=e.next.next;x!==e.prev;){if(Z(n.x,n.y,t.x,t.y,r.x,r.y,x.x,x.y)&&g(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function i(e,n,t,r){var x=e.prev,i=e,u=e.next;if(g(x,i,u)>=0)return!1;for(var v=x.x<i.x?x.x<u.x?x.x:u.x:i.x<u.x?i.x:u.x,f=x.y<i.y?x.y<u.y?x.y:u.y:i.y<u.y?i.y:u.y,y=x.x>i.x?x.x>u.x?x.x:u.x:i.x>u.x?i.x:u.x,o=x.y>i.y?x.y>u.y?x.y:u.y:i.y>u.y?i.y:u.y,p=s(v,f,n,t,r),a=s(y,o,n,t,r),l=e.prevZ,h=e.nextZ;l&&l.z>=p&&h&&h.z<=a;){if(l!==e.prev&&l!==e.next&&Z(x.x,x.y,i.x,i.y,u.x,u.y,l.x,l.y)&&g(l.prev,l,l.next)>=0)return!1;if(l=l.prevZ,h!==e.prev&&h!==e.next&&Z(x.x,x.y,i.x,i.y,u.x,u.y,h.x,h.y)&&g(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(;l&&l.z>=p;){if(l!==e.prev&&l!==e.next&&Z(x.x,x.y,i.x,i.y,u.x,u.y,l.x,l.y)&&g(l.prev,l,l.next)>=0)return!1;l=l.prevZ}for(;h&&h.z<=a;){if(h!==e.prev&&h!==e.next&&Z(x.x,x.y,i.x,i.y,u.x,u.y,h.x,h.y)&&g(h.prev,h,h.next)>=0)return!1;h=h.nextZ}return!0}function u(e,n,r){var x=e;do{var i=x.prev,u=x.next.next;!w(i,u)&&M(i,x,x.next,u)&&k(i,u)&&k(u,i)&&(n.push(i.i/r),n.push(x.i/r),n.push(u.i/r),B(x),B(x.next),x=e=u),x=x.next}while(x!==e);return t(x)}function v(e,n,x,i,u,v){var f=e;do{for(var y=f.next.next;y!==f.prev;){if(f.i!==y.i&&d(f,y)){var o=q(f,y);return f=t(f,f.next),o=t(o,o.next),r(f,n,x,i,u,v),void r(o,n,x,i,u,v)}y=y.next}f=f.next}while(f!==e)}function f(e,r,x,i){var u,v,f,p=[];for(u=0,v=r.length;u<v;u++)(f=n(e,r[u]*i,u<v-1?r[u+1]*i:e.length,i,!1))===f.next&&(f.steiner=!0),p.push(c(f));for(p.sort(y),u=0;u<p.length;u++)o(p[u],x),x=t(x,x.next);return x}function y(e,n){return e.x-n.x}function o(e,n){if(n=p(e,n)){var r=q(n,e);t(n,n.next),t(r,r.next)}}function p(e,n){var t,r=n,x=e.x,i=e.y,u=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var v=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(v<=x&&v>u){if(u=v,v===x){if(i===r.y)return r;if(i===r.next.y)return r.next}t=r.x<r.next.x?r:r.next}}r=r.next}while(r!==n);if(!t)return null;if(x===u)return t;var f,y=t,o=t.x,p=t.y,l=1/0;r=t;do{x>=r.x&&r.x>=o&&x!==r.x&&Z(i<p?x:u,i,o,p,i<p?u:x,i,r.x,r.y)&&(f=Math.abs(i-r.y)/(x-r.x),k(r,e)&&(f<l||f===l&&(r.x>t.x||r.x===t.x&&a(t,r)))&&(t=r,l=f)),r=r.next}while(r!==y);return t}function a(e,n){return g(e.prev,e,n.prev)<0&&g(n.next,e,e.next)<0}function l(e,n,t,r){var x=e;do{null===x.z&&(x.z=s(x.x,x.y,n,t,r)),x.prevZ=x.prev,x.nextZ=x.next,x=x.next}while(x!==e);x.prevZ.nextZ=null,x.prevZ=null,h(x)}function h(e){var n,t,r,x,i,u,v,f,y=1;do{for(t=e,e=null,i=null,u=0;t;){for(u++,r=t,v=0,n=0;n<y&&(v++,r=r.nextZ);n++);for(f=y;v>0||f>0&&r;)0!==v&&(0===f||!r||t.z<=r.z)?(x=t,t=t.nextZ,v--):(x=r,r=r.nextZ,f--),i?i.nextZ=x:e=x,x.prevZ=i,i=x;t=r}i.nextZ=null,y*=2}while(u>1);return e}function s(e,n,t,r,x){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-t)*x)|e<<8))|e<<4))|e<<2))|e<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-r)*x)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function c(e){var n=e,t=e;do{(n.x<t.x||n.x===t.x&&n.y<t.y)&&(t=n),n=n.next}while(n!==e);return t}function Z(e,n,t,r,x,i,u,v){return(x-u)*(n-v)-(e-u)*(i-v)>=0&&(e-u)*(r-v)-(t-u)*(n-v)>=0&&(t-u)*(i-v)-(x-u)*(r-v)>=0}function d(e,n){return e.next.i!==n.i&&e.prev.i!==n.i&&!b(e,n)&&(k(e,n)&&k(n,e)&&j(e,n)&&(g(e.prev,e,n.prev)||g(e,n.prev,n))||w(e,n)&&g(e.prev,e,e.next)>0&&g(n.prev,n,n.next)>0)}function g(e,n,t){return(n.y-e.y)*(t.x-n.x)-(n.x-e.x)*(t.y-n.y)}function w(e,n){return e.x===n.x&&e.y===n.y}function M(e,n,t,r){var x=m(g(e,n,t)),i=m(g(e,n,r)),u=m(g(t,r,e)),v=m(g(t,r,n));return x!==i&&u!==v||(!(0!==x||!z(e,t,n))||(!(0!==i||!z(e,r,n))||(!(0!==u||!z(t,e,r))||!(0!==v||!z(t,n,r)))))}function z(e,n,t){return n.x<=Math.max(e.x,t.x)&&n.x>=Math.min(e.x,t.x)&&n.y<=Math.max(e.y,t.y)&&n.y>=Math.min(e.y,t.y)}function m(e){return e>0?1:e<0?-1:0}function b(e,n){var t=e;do{if(t.i!==e.i&&t.next.i!==e.i&&t.i!==n.i&&t.next.i!==n.i&&M(t,t.next,e,n))return!0;t=t.next}while(t!==e);return!1}function k(e,n){return g(e.prev,e,e.next)<0?g(e,n,e.next)>=0&&g(e,e.prev,n)>=0:g(e,n,e.prev)<0||g(e,e.next,n)<0}function j(e,n){var t=e,r=!1,x=(e.x+n.x)/2,i=(e.y+n.y)/2;do{t.y>i!=t.next.y>i&&t.next.y!==t.y&&x<(t.next.x-t.x)*(i-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next}while(t!==e);return r}function q(e,n){var t=new C(e.i,e.x,e.y),r=new C(n.i,n.x,n.y),x=e.next,i=n.prev;return e.next=n,n.prev=e,t.next=x,x.prev=t,r.next=t,t.prev=r,i.next=r,r.prev=i,r}function A(e,n,t,r){var x=new C(e,n,t);return r?(x.next=r.next,x.prev=r,r.next.prev=x,r.next=x):(x.prev=x,x.next=x),x}function B(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function C(e,n,t){this.i=e,this.x=n,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function D(e,n,t,r){for(var x=0,i=n,u=t-r;i<t;i+=r)x+=(e[u]-e[i])*(e[i+1]+e[u+1]),u=i;return x}module.exports=e,module.exports.default=e,e.deviation=function(e,n,t,r){var x=n&&n.length,i=x?n[0]*t:e.length,u=Math.abs(D(e,0,i,t));if(x)for(var v=0,f=n.length;v<f;v++){var y=n[v]*t,o=v<f-1?n[v+1]*t:e.length;u-=Math.abs(D(e,y,o,t))}var p=0;for(v=0;v<r.length;v+=3){var a=r[v]*t,l=r[v+1]*t,h=r[v+2]*t;p+=Math.abs((e[a]-e[h])*(e[l+1]-e[a+1])-(e[a]-e[l])*(e[h+1]-e[a+1]))}return 0===u&&0===p?0:Math.abs((p-u)/u)},e.flatten=function(e){for(var n=e[0][0].length,t={vertices:[],holes:[],dimensions:n},r=0,x=0;x<e.length;x++){for(var i=0;i<e[x].length;i++)for(var u=0;u<n;u++)t.vertices.push(e[x][i][u]);x>0&&(r+=e[x-1].length,t.holes.push(r))}return t};
},{}],"GVK8":[function(require,module,exports) {
var global = arguments[3];
var define;
var o,e=arguments[3];!function(n){var r="object"==typeof exports&&exports&&!exports.nodeType&&exports,t="object"==typeof module&&module&&!module.nodeType&&module,u="object"==typeof e&&e;u.global!==u&&u.window!==u&&u.self!==u||(n=u);var i,f,c=2147483647,l=36,s=1,p=26,a=38,d=700,h=72,v=128,g="-",w=/^xn--/,x=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,m={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=l-s,b=Math.floor,j=String.fromCharCode;function A(o){throw new RangeError(m[o])}function I(o,e){for(var n=o.length,r=[];n--;)r[n]=e(o[n]);return r}function E(o,e){var n=o.split("@"),r="";return n.length>1&&(r=n[0]+"@",o=n[1]),r+I((o=o.replace(y,".")).split("."),e).join(".")}function F(o){for(var e,n,r=[],t=0,u=o.length;t<u;)(e=o.charCodeAt(t++))>=55296&&e<=56319&&t<u?56320==(64512&(n=o.charCodeAt(t++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),t--):r.push(e);return r}function O(o){return I(o,function(o){var e="";return o>65535&&(e+=j((o-=65536)>>>10&1023|55296),o=56320|1023&o),e+=j(o)}).join("")}function S(o,e){return o+22+75*(o<26)-((0!=e)<<5)}function T(o,e,n){var r=0;for(o=n?b(o/d):o>>1,o+=b(o/e);o>C*p>>1;r+=l)o=b(o/C);return b(r+(C+1)*o/(o+a))}function L(o){var e,n,r,t,u,i,f,a,d,w,x,y=[],m=o.length,C=0,j=v,I=h;for((n=o.lastIndexOf(g))<0&&(n=0),r=0;r<n;++r)o.charCodeAt(r)>=128&&A("not-basic"),y.push(o.charCodeAt(r));for(t=n>0?n+1:0;t<m;){for(u=C,i=1,f=l;t>=m&&A("invalid-input"),((a=(x=o.charCodeAt(t++))-48<10?x-22:x-65<26?x-65:x-97<26?x-97:l)>=l||a>b((c-C)/i))&&A("overflow"),C+=a*i,!(a<(d=f<=I?s:f>=I+p?p:f-I));f+=l)i>b(c/(w=l-d))&&A("overflow"),i*=w;I=T(C-u,e=y.length+1,0==u),b(C/e)>c-j&&A("overflow"),j+=b(C/e),C%=e,y.splice(C++,0,j)}return O(y)}function M(o){var e,n,r,t,u,i,f,a,d,w,x,y,m,C,I,E=[];for(y=(o=F(o)).length,e=v,n=0,u=h,i=0;i<y;++i)(x=o[i])<128&&E.push(j(x));for(r=t=E.length,t&&E.push(g);r<y;){for(f=c,i=0;i<y;++i)(x=o[i])>=e&&x<f&&(f=x);for(f-e>b((c-n)/(m=r+1))&&A("overflow"),n+=(f-e)*m,e=f,i=0;i<y;++i)if((x=o[i])<e&&++n>c&&A("overflow"),x==e){for(a=n,d=l;!(a<(w=d<=u?s:d>=u+p?p:d-u));d+=l)I=a-w,C=l-w,E.push(j(S(w+I%C,0))),a=b(I/C);E.push(j(S(a,0))),u=T(n,m,r==t),n=0,++r}++n,++e}return E.join("")}if(i={version:"1.4.1",ucs2:{decode:F,encode:O},decode:L,encode:M,toASCII:function(o){return E(o,function(o){return x.test(o)?"xn--"+M(o):o})},toUnicode:function(o){return E(o,function(o){return w.test(o)?L(o.slice(4).toLowerCase()):o})}},"function"==typeof o&&"object"==typeof o.amd&&o.amd)o("punycode",function(){return i});else if(r&&t)if(module.exports==r)t.exports=i;else for(f in i)i.hasOwnProperty(f)&&(r[f]=i[f]);else n.punycode=i}(this);
},{}],"oHuK":[function(require,module,exports) {
"use strict";module.exports={isString:function(n){return"string"==typeof n},isObject:function(n){return"object"==typeof n&&null!==n},isNull:function(n){return null===n},isNullOrUndefined:function(n){return null==n}};
},{}],"ObZ4":[function(require,module,exports) {
"use strict";function r(r,e){return Object.prototype.hasOwnProperty.call(r,e)}module.exports=function(t,n,o,a){n=n||"&",o=o||"=";var s={};if("string"!=typeof t||0===t.length)return s;var p=/\+/g;t=t.split(n);var u=1e3;a&&"number"==typeof a.maxKeys&&(u=a.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var i=0;i<c;++i){var y,l,f,v,b=t[i].replace(p,"%20"),d=b.indexOf(o);d>=0?(y=b.substr(0,d),l=b.substr(d+1)):(y=b,l=""),f=decodeURIComponent(y),v=decodeURIComponent(l),r(s,f)?e(s[f])?s[f].push(v):s[f]=[s[f],v]:s[f]=v}return s};var e=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)};
},{}],"XK8a":[function(require,module,exports) {
"use strict";var n=function(n){switch(typeof n){case"string":return n;case"boolean":return n?"true":"false";case"number":return isFinite(n)?n:"";default:return""}};module.exports=function(o,u,c,a){return u=u||"&",c=c||"=",null===o&&(o=void 0),"object"==typeof o?r(t(o),function(t){var a=encodeURIComponent(n(t))+c;return e(o[t])?r(o[t],function(e){return a+encodeURIComponent(n(e))}).join(u):a+encodeURIComponent(n(o[t]))}).join(u):a?encodeURIComponent(n(a))+c+encodeURIComponent(n(o)):""};var e=Array.isArray||function(n){return"[object Array]"===Object.prototype.toString.call(n)};function r(n,e){if(n.map)return n.map(e);for(var r=[],t=0;t<n.length;t++)r.push(e(n[t],t));return r}var t=Object.keys||function(n){var e=[];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.push(r);return e};
},{}],"SF0R":[function(require,module,exports) {
"use strict";exports.decode=exports.parse=require("./decode"),exports.encode=exports.stringify=require("./encode");
},{"./decode":"ObZ4","./encode":"XK8a"}],"j37I":[function(require,module,exports) {
"use strict";var t=require("punycode"),s=require("./util");function h(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}exports.parse=b,exports.resolve=O,exports.resolveObject=d,exports.format=q,exports.Url=h;var e=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,r=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,o=["<",">",'"',"`"," ","\r","\n","\t"],n=["{","}","|","\\","^","`"].concat(o),i=["'"].concat(n),l=["%","/","?",";","#"].concat(i),p=["/","?","#"],c=255,u=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=require("querystring");function b(t,e,a){if(t&&s.isObject(t)&&t instanceof h)return t;var r=new h;return r.parse(t,e,a),r}function q(t){return s.isString(t)&&(t=b(t)),t instanceof h?t.format():h.prototype.format.call(t)}function O(t,s){return b(t,!1,!0).resolve(s)}function d(t,s){return t?b(t,!1,!0).resolveObject(s):s}h.prototype.parse=function(h,a,o){if(!s.isString(h))throw new TypeError("Parameter 'url' must be a string, not "+typeof h);var n=h.indexOf("?"),b=-1!==n&&n<h.indexOf("#")?"?":"#",q=h.split(b);q[0]=q[0].replace(/\\/g,"/");var O=h=q.join(b);if(O=O.trim(),!o&&1===h.split("#").length){var d=r.exec(O);if(d)return this.path=O,this.href=O,this.pathname=d[1],d[2]?(this.search=d[2],this.query=a?y.parse(this.search.substr(1)):this.search.substr(1)):a&&(this.search="",this.query={}),this}var j=e.exec(O);if(j){var x=(j=j[0]).toLowerCase();this.protocol=x,O=O.substr(j.length)}if(o||j||O.match(/^\/\/[^@\/]+@[^@\/]+/)){var A="//"===O.substr(0,2);!A||j&&v[j]||(O=O.substr(2),this.slashes=!0)}if(!v[j]&&(A||j&&!g[j])){for(var C,I,w=-1,U=0;U<p.length;U++){-1!==(k=O.indexOf(p[U]))&&(-1===w||k<w)&&(w=k)}-1!==(I=-1===w?O.lastIndexOf("@"):O.lastIndexOf("@",w))&&(C=O.slice(0,I),O=O.slice(I+1),this.auth=decodeURIComponent(C)),w=-1;for(U=0;U<l.length;U++){var k;-1!==(k=O.indexOf(l[U]))&&(-1===w||k<w)&&(w=k)}-1===w&&(w=O.length),this.host=O.slice(0,w),O=O.slice(w),this.parseHost(),this.hostname=this.hostname||"";var N="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!N)for(var R=this.hostname.split(/\./),S=(U=0,R.length);U<S;U++){var $=R[U];if($&&!$.match(u)){for(var z="",H=0,L=$.length;H<L;H++)$.charCodeAt(H)>127?z+="x":z+=$[H];if(!z.match(u)){var Z=R.slice(0,U),_=R.slice(U+1),E=$.match(f);E&&(Z.push(E[1]),_.unshift(E[2])),_.length&&(O="/"+_.join(".")+O),this.hostname=Z.join(".");break}}}this.hostname.length>c?this.hostname="":this.hostname=this.hostname.toLowerCase(),N||(this.hostname=t.toASCII(this.hostname));var P=this.port?":"+this.port:"",T=this.hostname||"";this.host=T+P,this.href+=this.host,N&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==O[0]&&(O="/"+O))}if(!m[x])for(U=0,S=i.length;U<S;U++){var B=i[U];if(-1!==O.indexOf(B)){var D=encodeURIComponent(B);D===B&&(D=escape(B)),O=O.split(B).join(D)}}var F=O.indexOf("#");-1!==F&&(this.hash=O.substr(F),O=O.slice(0,F));var G=O.indexOf("?");if(-1!==G?(this.search=O.substr(G),this.query=O.substr(G+1),a&&(this.query=y.parse(this.query)),O=O.slice(0,G)):a&&(this.search="",this.query={}),O&&(this.pathname=O),g[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){P=this.pathname||"";var J=this.search||"";this.path=P+J}return this.href=this.format(),this},h.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var h=this.protocol||"",e=this.pathname||"",a=this.hash||"",r=!1,o="";this.host?r=t+this.host:this.hostname&&(r=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&s.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var n=this.search||o&&"?"+o||"";return h&&":"!==h.substr(-1)&&(h+=":"),this.slashes||(!h||g[h])&&!1!==r?(r="//"+(r||""),e&&"/"!==e.charAt(0)&&(e="/"+e)):r||(r=""),a&&"#"!==a.charAt(0)&&(a="#"+a),n&&"?"!==n.charAt(0)&&(n="?"+n),h+r+(e=e.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(n=n.replace("#","%23"))+a},h.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},h.prototype.resolveObject=function(t){if(s.isString(t)){var e=new h;e.parse(t,!1,!0),t=e}for(var a=new h,r=Object.keys(this),o=0;o<r.length;o++){var n=r[o];a[n]=this[n]}if(a.hash=t.hash,""===t.href)return a.href=a.format(),a;if(t.slashes&&!t.protocol){for(var i=Object.keys(t),l=0;l<i.length;l++){var p=i[l];"protocol"!==p&&(a[p]=t[p])}return g[a.protocol]&&a.hostname&&!a.pathname&&(a.path=a.pathname="/"),a.href=a.format(),a}if(t.protocol&&t.protocol!==a.protocol){if(!g[t.protocol]){for(var c=Object.keys(t),u=0;u<c.length;u++){var f=c[u];a[f]=t[f]}return a.href=a.format(),a}if(a.protocol=t.protocol,t.host||v[t.protocol])a.pathname=t.pathname;else{for(var m=(t.pathname||"").split("/");m.length&&!(t.host=m.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),a.pathname=m.join("/")}if(a.search=t.search,a.query=t.query,a.host=t.host||"",a.auth=t.auth,a.hostname=t.hostname||t.host,a.port=t.port,a.pathname||a.search){var y=a.pathname||"",b=a.search||"";a.path=y+b}return a.slashes=a.slashes||t.slashes,a.href=a.format(),a}var q=a.pathname&&"/"===a.pathname.charAt(0),O=t.host||t.pathname&&"/"===t.pathname.charAt(0),d=O||q||a.host&&t.pathname,j=d,x=a.pathname&&a.pathname.split("/")||[],A=(m=t.pathname&&t.pathname.split("/")||[],a.protocol&&!g[a.protocol]);if(A&&(a.hostname="",a.port=null,a.host&&(""===x[0]?x[0]=a.host:x.unshift(a.host)),a.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===m[0]?m[0]=t.host:m.unshift(t.host)),t.host=null),d=d&&(""===m[0]||""===x[0])),O)a.host=t.host||""===t.host?t.host:a.host,a.hostname=t.hostname||""===t.hostname?t.hostname:a.hostname,a.search=t.search,a.query=t.query,x=m;else if(m.length)x||(x=[]),x.pop(),x=x.concat(m),a.search=t.search,a.query=t.query;else if(!s.isNullOrUndefined(t.search)){if(A)a.hostname=a.host=x.shift(),(k=!!(a.host&&a.host.indexOf("@")>0)&&a.host.split("@"))&&(a.auth=k.shift(),a.host=a.hostname=k.shift());return a.search=t.search,a.query=t.query,s.isNull(a.pathname)&&s.isNull(a.search)||(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.href=a.format(),a}if(!x.length)return a.pathname=null,a.search?a.path="/"+a.search:a.path=null,a.href=a.format(),a;for(var C=x.slice(-1)[0],I=(a.host||t.host||x.length>1)&&("."===C||".."===C)||""===C,w=0,U=x.length;U>=0;U--)"."===(C=x[U])?x.splice(U,1):".."===C?(x.splice(U,1),w++):w&&(x.splice(U,1),w--);if(!d&&!j)for(;w--;w)x.unshift("..");!d||""===x[0]||x[0]&&"/"===x[0].charAt(0)||x.unshift(""),I&&"/"!==x.join("/").substr(-1)&&x.push("");var k,N=""===x[0]||x[0]&&"/"===x[0].charAt(0);A&&(a.hostname=a.host=N?"":x.length?x.shift():"",(k=!!(a.host&&a.host.indexOf("@")>0)&&a.host.split("@"))&&(a.auth=k.shift(),a.host=a.hostname=k.shift()));return(d=d||a.host&&x.length)&&!N&&x.unshift(""),x.length?a.pathname=x.join("/"):(a.pathname=null,a.path=null),s.isNull(a.pathname)&&s.isNull(a.search)||(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.auth=t.auth||a.auth,a.slashes=a.slashes||t.slashes,a.href=a.format(),a},h.prototype.parseHost=function(){var t=this.host,s=a.exec(t);s&&(":"!==(s=s[0])&&(this.port=s.substr(1)),t=t.substr(0,t.length-s.length)),t&&(this.hostname=t)};
},{"punycode":"GVK8","./util":"oHuK","querystring":"SF0R"}],"djkr":[function(require,module,exports) {
"use strict";var E,_,T,A,R,N,O,S,L,I,P,M,U,D,C,o,t;Object.defineProperty(exports,"__esModule",{value:!0}),exports.WRAP_MODES=exports.TYPES=exports.TARGETS=exports.SCALE_MODES=exports.RENDERER_TYPE=exports.PRECISION=exports.MSAA_QUALITY=exports.MIPMAP_MODES=exports.MASK_TYPES=exports.GC_MODES=exports.FORMATS=exports.ENV=exports.DRAW_MODES=exports.CLEAR_MODES=exports.BUFFER_BITS=exports.BLEND_MODES=exports.ALPHA_MODES=void 0,exports.ENV=E,function(E){E[E.WEBGL_LEGACY=0]="WEBGL_LEGACY",E[E.WEBGL=1]="WEBGL",E[E.WEBGL2=2]="WEBGL2"}(E||(exports.ENV=E={})),exports.RENDERER_TYPE=_,function(E){E[E.UNKNOWN=0]="UNKNOWN",E[E.WEBGL=1]="WEBGL",E[E.CANVAS=2]="CANVAS"}(_||(exports.RENDERER_TYPE=_={})),exports.BUFFER_BITS=T,function(E){E[E.COLOR=16384]="COLOR",E[E.DEPTH=256]="DEPTH",E[E.STENCIL=1024]="STENCIL"}(T||(exports.BUFFER_BITS=T={})),exports.BLEND_MODES=A,function(E){E[E.NORMAL=0]="NORMAL",E[E.ADD=1]="ADD",E[E.MULTIPLY=2]="MULTIPLY",E[E.SCREEN=3]="SCREEN",E[E.OVERLAY=4]="OVERLAY",E[E.DARKEN=5]="DARKEN",E[E.LIGHTEN=6]="LIGHTEN",E[E.COLOR_DODGE=7]="COLOR_DODGE",E[E.COLOR_BURN=8]="COLOR_BURN",E[E.HARD_LIGHT=9]="HARD_LIGHT",E[E.SOFT_LIGHT=10]="SOFT_LIGHT",E[E.DIFFERENCE=11]="DIFFERENCE",E[E.EXCLUSION=12]="EXCLUSION",E[E.HUE=13]="HUE",E[E.SATURATION=14]="SATURATION",E[E.COLOR=15]="COLOR",E[E.LUMINOSITY=16]="LUMINOSITY",E[E.NORMAL_NPM=17]="NORMAL_NPM",E[E.ADD_NPM=18]="ADD_NPM",E[E.SCREEN_NPM=19]="SCREEN_NPM",E[E.NONE=20]="NONE",E[E.SRC_OVER=0]="SRC_OVER",E[E.SRC_IN=21]="SRC_IN",E[E.SRC_OUT=22]="SRC_OUT",E[E.SRC_ATOP=23]="SRC_ATOP",E[E.DST_OVER=24]="DST_OVER",E[E.DST_IN=25]="DST_IN",E[E.DST_OUT=26]="DST_OUT",E[E.DST_ATOP=27]="DST_ATOP",E[E.ERASE=26]="ERASE",E[E.SUBTRACT=28]="SUBTRACT",E[E.XOR=29]="XOR"}(A||(exports.BLEND_MODES=A={})),exports.DRAW_MODES=R,function(E){E[E.POINTS=0]="POINTS",E[E.LINES=1]="LINES",E[E.LINE_LOOP=2]="LINE_LOOP",E[E.LINE_STRIP=3]="LINE_STRIP",E[E.TRIANGLES=4]="TRIANGLES",E[E.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",E[E.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(R||(exports.DRAW_MODES=R={})),exports.FORMATS=N,function(E){E[E.RGBA=6408]="RGBA",E[E.RGB=6407]="RGB",E[E.ALPHA=6406]="ALPHA",E[E.LUMINANCE=6409]="LUMINANCE",E[E.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",E[E.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",E[E.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(N||(exports.FORMATS=N={})),exports.TARGETS=O,function(E){E[E.TEXTURE_2D=3553]="TEXTURE_2D",E[E.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",E[E.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",E[E.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",E[E.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",E[E.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",E[E.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",E[E.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",E[E.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(O||(exports.TARGETS=O={})),exports.TYPES=S,function(E){E[E.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",E[E.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",E[E.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",E[E.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",E[E.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",E[E.FLOAT=5126]="FLOAT",E[E.HALF_FLOAT=36193]="HALF_FLOAT"}(S||(exports.TYPES=S={})),exports.SCALE_MODES=L,function(E){E[E.NEAREST=0]="NEAREST",E[E.LINEAR=1]="LINEAR"}(L||(exports.SCALE_MODES=L={})),exports.WRAP_MODES=I,function(E){E[E.CLAMP=33071]="CLAMP",E[E.REPEAT=10497]="REPEAT",E[E.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(I||(exports.WRAP_MODES=I={})),exports.MIPMAP_MODES=P,function(E){E[E.OFF=0]="OFF",E[E.POW2=1]="POW2",E[E.ON=2]="ON"}(P||(exports.MIPMAP_MODES=P={})),exports.ALPHA_MODES=M,function(E){E[E.NPM=0]="NPM",E[E.UNPACK=1]="UNPACK",E[E.PMA=2]="PMA",E[E.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",E[E.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",E[E.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(M||(exports.ALPHA_MODES=M={})),exports.CLEAR_MODES=U,function(E){E[E.NO=0]="NO",E[E.YES=1]="YES",E[E.AUTO=2]="AUTO",E[E.BLEND=0]="BLEND",E[E.CLEAR=1]="CLEAR",E[E.BLIT=2]="BLIT"}(U||(exports.CLEAR_MODES=U={})),exports.GC_MODES=D,function(E){E[E.AUTO=0]="AUTO",E[E.MANUAL=1]="MANUAL"}(D||(exports.GC_MODES=D={})),exports.PRECISION=C,function(E){E.LOW="lowp",E.MEDIUM="mediump",E.HIGH="highp"}(C||(exports.PRECISION=C={})),exports.MASK_TYPES=o,function(E){E[E.NONE=0]="NONE",E[E.SCISSOR=1]="SCISSOR",E[E.STENCIL=2]="STENCIL",E[E.SPRITE=3]="SPRITE"}(o||(exports.MASK_TYPES=o={})),exports.MSAA_QUALITY=t,function(E){E[E.NONE=0]="NONE",E[E.LOW=2]="LOW",E[E.MEDIUM=4]="MEDIUM",E[E.HIGH=8]="HIGH"}(t||(exports.MSAA_QUALITY=t={}));
},{}],"X4iF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.clearTextureCache=W,exports.correctBlendMode=b,exports.createIndicesForQuads=D,exports.decomposeDataUri=z,exports.deprecation=I,exports.destroyTextureCache=k,exports.determineCrossOrigin=H,exports.getBufferType=O,exports.getResolutionOfUrl=V,exports.hex2rgb=g,exports.hex2string=x,exports.interleaveTypedArrays=M,exports.isPow2=P,exports.isWebGLSupported=d,exports.log2=N,exports.nextPow2=C,exports.premultiplyRgba=w,exports.premultiplyTint=A,exports.premultiplyTintToRgba=m,exports.removeItems=R,exports.rgb2hex=v,exports.sayHello=p,exports.sign=L,exports.skipHello=f,exports.string2hex=h,exports.trimCanvas=q,exports.uid=S,Object.defineProperty(exports,"isMobile",{enumerable:!0,get:function(){return e.isMobile}}),Object.defineProperty(exports,"EventEmitter",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"earcut",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"url",{enumerable:!0,get:function(){return n.default}}),exports.premultiplyBlendMode=exports.TextureCache=exports.ProgramCache=exports.DATA_URI=exports.CanvasRenderTarget=exports.BaseTextureCache=void 0;var e=require("@pixi/settings"),t=s(require("eventemitter3")),r=s(require("earcut")),n=a(require("url")),o=require("@pixi/constants");function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function a(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function s(e){return e&&e.__esModule?e:{default:e}}e.settings.RETINA_PREFIX=/@([0-9\.]+)x/,e.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var c,u=!1,l="5.3.6";function f(){u=!0}function p(e){var t;if(!u){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var r=["\n %c %c %c PixiJS "+l+" - ✰ "+e+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(t=window.console).log.apply(t,r)}else window.console&&window.console.log("PixiJS "+l+" - "+e+" - http://www.pixijs.com/");u=!0}}function d(){return void 0===c&&(c=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:e.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var r=document.createElement("canvas"),n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t),o=!(!n||!n.getContextAttributes().stencil);if(n){var i=n.getExtension("WEBGL_lose_context");i&&i.loseContext()}return n=null,o}catch(a){return!1}}()),c}function g(e,t){return void 0===t&&(t=[]),t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255,t}function x(e){var t=e.toString(16);return"#"+(t="000000".substr(0,6-t.length)+t)}function h(e){return"string"==typeof e&&"#"===e[0]&&(e=e.substr(1)),parseInt(e,16)}function v(e){return(255*e[0]<<16)+(255*e[1]<<8)+(255*e[2]|0)}function E(){for(var e=[],t=[],r=0;r<32;r++)e[r]=r,t[r]=r;e[o.BLEND_MODES.NORMAL_NPM]=o.BLEND_MODES.NORMAL,e[o.BLEND_MODES.ADD_NPM]=o.BLEND_MODES.ADD,e[o.BLEND_MODES.SCREEN_NPM]=o.BLEND_MODES.SCREEN,t[o.BLEND_MODES.NORMAL]=o.BLEND_MODES.NORMAL_NPM,t[o.BLEND_MODES.ADD]=o.BLEND_MODES.ADD_NPM,t[o.BLEND_MODES.SCREEN]=o.BLEND_MODES.SCREEN_NPM;var n=[];return n.push(t),n.push(e),n}var y=E();function b(e,t){return y[t?1:0][e]}function w(e,t,r,n){return r=r||new Float32Array(4),n||void 0===n?(r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t):(r[0]=e[0],r[1]=e[1],r[2]=e[2]),r[3]=t,r}function A(e,t){if(1===t)return(255*t<<24)+e;if(0===t)return 0;var r=e>>16&255,n=e>>8&255,o=255&e;return(255*t<<24)+((r=r*t+.5|0)<<16)+((n=n*t+.5|0)<<8)+(o=o*t+.5|0)}function m(e,t,r,n){return(r=r||new Float32Array(4))[0]=(e>>16&255)/255,r[1]=(e>>8&255)/255,r[2]=(255&e)/255,(n||void 0===n)&&(r[0]*=t,r[1]*=t,r[2]*=t),r[3]=t,r}function D(e,t){void 0===t&&(t=null);var r=6*e;if((t=t||new Uint16Array(r)).length!==r)throw new Error("Out buffer length is incorrect, got "+t.length+" and expected "+r);for(var n=0,o=0;n<r;n+=6,o+=4)t[n+0]=o+0,t[n+1]=o+1,t[n+2]=o+2,t[n+3]=o+0,t[n+4]=o+2,t[n+5]=o+3;return t}function O(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return"Uint16Array"}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return"Uint8Array";return null}exports.premultiplyBlendMode=y;var _={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};function M(e,t){for(var r=0,n=0,o={},i=0;i<e.length;i++)n+=t[i],r+=e[i].length;var a=new ArrayBuffer(4*r),s=null,c=0;for(i=0;i<e.length;i++){var u=t[i],l=e[i],f=O(l);o[f]||(o[f]=new _[f](a)),s=o[f];for(var p=0;p<l.length;p++){s[(p/u|0)*n+c+p%u]=l[p]}c+=u}return new Float32Array(a)}function C(e){return e+=0===e?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1}function P(e){return!(e&e-1||!e)}function N(e){var t=(e>65535?1:0)<<4,r=((e>>>=t)>255?1:0)<<3;return t|=r,t|=r=((e>>>=r)>15?1:0)<<2,(t|=r=((e>>>=r)>3?1:0)<<1)|(e>>>=r)>>1}function R(e,t,r){var n,o=e.length;if(!(t>=o||0===r)){var i=o-(r=t+r>o?o-t:r);for(n=t;n<i;++n)e[n]=e[n+r];e.length=i}}function L(e){return 0===e?0:e<0?-1:1}var T=0;function S(){return++T}var B={};function I(e,t,r){if(void 0===r&&(r=3),!B[t]){var n=(new Error).stack;void 0===n?console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+e):(n=n.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+"\nDeprecated since v"+e),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+e),console.warn(n))),B[t]=!0}}var j={};exports.ProgramCache=j;var F=Object.create(null);exports.TextureCache=F;var U=Object.create(null);function k(){var e;for(e in F)F[e].destroy();for(e in U)U[e].destroy()}function W(){var e;for(e in F)delete F[e];for(e in U)delete U[e]}exports.BaseTextureCache=U;var J=function(){function t(t,r,n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||e.settings.RESOLUTION,this.resize(t,r)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(e,t){this.canvas.width=e*this.resolution,this.canvas.height=t*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=e},enumerable:!1,configurable:!0}),t}();function q(e){var t,r,n,o=e.width,i=e.height,a=e.getContext("2d"),s=a.getImageData(0,0,o,i).data,c=s.length,u={top:null,left:null,right:null,bottom:null},l=null;for(t=0;t<c;t+=4)0!==s[t+3]&&(r=t/4%o,n=~~(t/4/o),null===u.top&&(u.top=n),null===u.left?u.left=r:r<u.left&&(u.left=r),null===u.right?u.right=r+1:u.right<r&&(u.right=r+1),null===u.bottom?u.bottom=n:u.bottom<n&&(u.bottom=n));return null!==u.top&&(o=u.right-u.left,i=u.bottom-u.top+1,l=a.getImageData(u.left,u.top,o,i)),{height:i,width:o,data:l}}exports.CanvasRenderTarget=J;var G,Y=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function z(e){var t=Y.exec(e);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}}function H(e,t){if(void 0===t&&(t=window.location),0===e.indexOf("data:"))return"";t=t||window.location,G||(G=document.createElement("a")),G.href=e;var r=(0,n.parse)(G.href),o=!r.port&&""===t.port||r.port===t.port;return r.hostname===t.hostname&&o&&r.protocol===t.protocol?"":"anonymous"}function V(t,r){var n=e.settings.RETINA_PREFIX.exec(t);return n?parseFloat(n[1]):void 0!==r?r:1}exports.DATA_URI=Y;
},{"@pixi/settings":"Xe2x","eventemitter3":"LqgX","earcut":"d3f1","url":"j37I","@pixi/constants":"djkr"}],"w9h1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.groupD8=exports.Transform=exports.SHAPES=exports.RoundedRectangle=exports.Rectangle=exports.RAD_TO_DEG=exports.Polygon=exports.Point=exports.PI_2=exports.ObservablePoint=exports.Matrix=exports.Ellipse=exports.DEG_TO_RAD=exports.Circle=void 0;var t=2*Math.PI;exports.PI_2=t;var i=180/Math.PI;exports.RAD_TO_DEG=i;var s,h=Math.PI/180;exports.DEG_TO_RAD=h,exports.SHAPES=s,function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"}(s||(exports.SHAPES=s={}));var o=function(){function t(t,i,h,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===h&&(h=0),void 0===o&&(o=0),this.x=Number(t),this.y=Number(i),this.width=Number(h),this.height=Number(o),this.type=s.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},t.prototype.contains=function(t,i){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&i>=this.y&&i<this.y+this.height)},t.prototype.pad=function(t,i){return void 0===t&&(t=0),void 0===i&&(i=t),this.x-=t,this.y-=i,this.width+=2*t,this.height+=2*i,this},t.prototype.fit=function(t){var i=Math.max(this.x,t.x),s=Math.min(this.x+this.width,t.x+t.width),h=Math.max(this.y,t.y),o=Math.min(this.y+this.height,t.y+t.height);return this.x=i,this.width=Math.max(s-i,0),this.y=h,this.height=Math.max(o-h,0),this},t.prototype.ceil=function(t,i){void 0===t&&(t=1),void 0===i&&(i=.001);var s=Math.ceil((this.x+this.width-i)*t)/t,h=Math.ceil((this.y+this.height-i)*t)/t;return this.x=Math.floor((this.x+i)*t)/t,this.y=Math.floor((this.y+i)*t)/t,this.width=s-this.x,this.height=h-this.y,this},t.prototype.enlarge=function(t){var i=Math.min(this.x,t.x),s=Math.max(this.x+this.width,t.x+t.width),h=Math.min(this.y,t.y),o=Math.max(this.y+this.height,t.y+t.height);return this.x=i,this.width=s-i,this.y=h,this.height=o-h,this},t}();exports.Rectangle=o;var r=function(){function t(t,i,h){void 0===t&&(t=0),void 0===i&&(i=0),void 0===h&&(h=0),this.x=t,this.y=i,this.radius=h,this.type=s.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,i){if(this.radius<=0)return!1;var s=this.radius*this.radius,h=this.x-t,o=this.y-i;return(h*=h)+(o*=o)<=s},t.prototype.getBounds=function(){return new o(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}();exports.Circle=r;var e=function(){function t(t,i,h,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===h&&(h=0),void 0===o&&(o=0),this.x=t,this.y=i,this.width=h,this.height=o,this.type=s.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,i){if(this.width<=0||this.height<=0)return!1;var s=(t-this.x)/this.width,h=(i-this.y)/this.height;return(s*=s)+(h*=h)<=1},t.prototype.getBounds=function(){return new o(this.x-this.width,this.y-this.height,this.width,this.height)},t}();exports.Ellipse=e;var n=function(){function t(){for(var t=arguments,i=[],h=0;h<arguments.length;h++)i[h]=t[h];var o=Array.isArray(i[0])?i[0]:i;if("number"!=typeof o[0]){for(var r=[],e=0,n=o.length;e<n;e++)r.push(o[e].x,o[e].y);o=r}this.points=o,this.type=s.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var i=new t(this.points.slice());return i.closeStroke=this.closeStroke,i},t.prototype.contains=function(t,i){for(var s=!1,h=this.points.length/2,o=0,r=h-1;o<h;r=o++){var e=this.points[2*o],n=this.points[2*o+1],a=this.points[2*r],c=this.points[2*r+1];n>i!=c>i&&t<(i-n)/(c-n)*(a-e)+e&&(s=!s)}return s},t}();exports.Polygon=n;var a=function(){function t(t,i,h,o,r){void 0===t&&(t=0),void 0===i&&(i=0),void 0===h&&(h=0),void 0===o&&(o=0),void 0===r&&(r=20),this.x=t,this.y=i,this.width=h,this.height=o,this.radius=r,this.type=s.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,i){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&i>=this.y&&i<=this.y+this.height){if(i>=this.y+this.radius&&i<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var s=t-(this.x+this.radius),h=i-(this.y+this.radius),o=this.radius*this.radius;if(s*s+h*h<=o)return!0;if((s=t-(this.x+this.width-this.radius))*s+h*h<=o)return!0;if(s*s+(h=i-(this.y+this.height-this.radius))*h<=o)return!0;if((s=t-(this.x+this.radius))*s+h*h<=o)return!0}return!1},t}();exports.RoundedRectangle=a;var c=function(){function t(t,i){void 0===t&&(t=0),void 0===i&&(i=0),this.x=t,this.y=i}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},t.prototype.copyTo=function(t){return t.set(this.x,this.y),t},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,i){return void 0===t&&(t=0),void 0===i&&(i=t),this.x=t,this.y=i,this},t}();exports.Point=c;var u=function(){function t(t,i,s,h){void 0===s&&(s=0),void 0===h&&(h=0),this._x=s,this._y=h,this.cb=t,this.scope=i}return t.prototype.clone=function(i,s){return void 0===i&&(i=this.cb),void 0===s&&(s=this.scope),new t(i,s,this._x,this._y)},t.prototype.set=function(t,i){return void 0===t&&(t=0),void 0===i&&(i=t),this._x===t&&this._y===i||(this._x=t,this._y=i,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(t){return t.set(this._x,this._y),t},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}();exports.ObservablePoint=u;var p=function(){function i(t,i,s,h,o,r){void 0===t&&(t=1),void 0===i&&(i=0),void 0===s&&(s=0),void 0===h&&(h=1),void 0===o&&(o=0),void 0===r&&(r=0),this.array=null,this.a=t,this.b=i,this.c=s,this.d=h,this.tx=o,this.ty=r}return i.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},i.prototype.set=function(t,i,s,h,o,r){return this.a=t,this.b=i,this.c=s,this.d=h,this.tx=o,this.ty=r,this},i.prototype.toArray=function(t,i){this.array||(this.array=new Float32Array(9));var s=i||this.array;return t?(s[0]=this.a,s[1]=this.b,s[2]=0,s[3]=this.c,s[4]=this.d,s[5]=0,s[6]=this.tx,s[7]=this.ty,s[8]=1):(s[0]=this.a,s[1]=this.c,s[2]=this.tx,s[3]=this.b,s[4]=this.d,s[5]=this.ty,s[6]=0,s[7]=0,s[8]=1),s},i.prototype.apply=function(t,i){i=i||new c;var s=t.x,h=t.y;return i.x=this.a*s+this.c*h+this.tx,i.y=this.b*s+this.d*h+this.ty,i},i.prototype.applyInverse=function(t,i){i=i||new c;var s=1/(this.a*this.d+this.c*-this.b),h=t.x,o=t.y;return i.x=this.d*s*h+-this.c*s*o+(this.ty*this.c-this.tx*this.d)*s,i.y=this.a*s*o+-this.b*s*h+(-this.ty*this.a+this.tx*this.b)*s,i},i.prototype.translate=function(t,i){return this.tx+=t,this.ty+=i,this},i.prototype.scale=function(t,i){return this.a*=t,this.d*=i,this.c*=t,this.b*=i,this.tx*=t,this.ty*=i,this},i.prototype.rotate=function(t){var i=Math.cos(t),s=Math.sin(t),h=this.a,o=this.c,r=this.tx;return this.a=h*i-this.b*s,this.b=h*s+this.b*i,this.c=o*i-this.d*s,this.d=o*s+this.d*i,this.tx=r*i-this.ty*s,this.ty=r*s+this.ty*i,this},i.prototype.append=function(t){var i=this.a,s=this.b,h=this.c,o=this.d;return this.a=t.a*i+t.b*h,this.b=t.a*s+t.b*o,this.c=t.c*i+t.d*h,this.d=t.c*s+t.d*o,this.tx=t.tx*i+t.ty*h+this.tx,this.ty=t.tx*s+t.ty*o+this.ty,this},i.prototype.setTransform=function(t,i,s,h,o,r,e,n,a){return this.a=Math.cos(e+a)*o,this.b=Math.sin(e+a)*o,this.c=-Math.sin(e-n)*r,this.d=Math.cos(e-n)*r,this.tx=t-(s*this.a+h*this.c),this.ty=i-(s*this.b+h*this.d),this},i.prototype.prepend=function(t){var i=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var s=this.a,h=this.c;this.a=s*t.a+this.b*t.c,this.b=s*t.b+this.b*t.d,this.c=h*t.a+this.d*t.c,this.d=h*t.b+this.d*t.d}return this.tx=i*t.a+this.ty*t.c+t.tx,this.ty=i*t.b+this.ty*t.d+t.ty,this},i.prototype.decompose=function(i){var s=this.a,h=this.b,o=this.c,r=this.d,e=-Math.atan2(-o,r),n=Math.atan2(h,s),a=Math.abs(e+n);return a<1e-5||Math.abs(t-a)<1e-5?(i.rotation=n,i.skew.x=i.skew.y=0):(i.rotation=0,i.skew.x=e,i.skew.y=n),i.scale.x=Math.sqrt(s*s+h*h),i.scale.y=Math.sqrt(o*o+r*r),i.position.x=this.tx,i.position.y=this.ty,i},i.prototype.invert=function(){var t=this.a,i=this.b,s=this.c,h=this.d,o=this.tx,r=t*h-i*s;return this.a=h/r,this.b=-i/r,this.c=-s/r,this.d=t/r,this.tx=(s*this.ty-h*o)/r,this.ty=-(t*this.ty-i*o)/r,this},i.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},i.prototype.clone=function(){var t=new i;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},i.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},i.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},Object.defineProperty(i,"IDENTITY",{get:function(){return new i},enumerable:!1,configurable:!0}),Object.defineProperty(i,"TEMP_MATRIX",{get:function(){return new i},enumerable:!1,configurable:!0}),i}();exports.Matrix=p;var y=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],d=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],x=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],f=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],l=[],v=[],b=Math.sign;function _(){for(var t=0;t<16;t++){var i=[];l.push(i);for(var s=0;s<16;s++)for(var h=b(y[t]*y[s]+x[t]*d[s]),o=b(d[t]*y[s]+f[t]*d[s]),r=b(y[t]*x[s]+x[t]*f[s]),e=b(d[t]*x[s]+f[t]*f[s]),n=0;n<16;n++)if(y[n]===h&&d[n]===o&&x[n]===r&&f[n]===e){i.push(n);break}}for(t=0;t<16;t++){var a=new p;a.set(y[t],d[t],x[t],f[t],0,0),v.push(a)}}_();var w={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return y[t]},uY:function(t){return d[t]},vX:function(t){return x[t]},vY:function(t){return f[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,i){return l[t][i]},sub:function(t,i){return l[t][w.inv(i)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,i){return 2*Math.abs(t)<=Math.abs(i)?i>=0?w.S:w.N:2*Math.abs(i)<=Math.abs(t)?t>0?w.E:w.W:i>0?t>0?w.SE:w.SW:t>0?w.NE:w.NW},matrixAppendRotationInv:function(t,i,s,h){void 0===s&&(s=0),void 0===h&&(h=0);var o=v[w.inv(i)];o.tx=s,o.ty=h,t.append(o)}};exports.groupD8=w;var g=function(){function t(){this.worldTransform=new p,this.localTransform=new p,this.position=new u(this.onChange,this,0,0),this.scale=new u(this.onChange,this,1,1),this.pivot=new u(this.onChange,this,0,0),this.skew=new u(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(t){var i=this.localTransform;if(this._localID!==this._currentLocalID&&(i.a=this._cx*this.scale.x,i.b=this._sx*this.scale.x,i.c=this._cy*this.scale.y,i.d=this._sy*this.scale.y,i.tx=this.position.x-(this.pivot.x*i.a+this.pivot.y*i.c),i.ty=this.position.y-(this.pivot.x*i.b+this.pivot.y*i.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var s=t.worldTransform,h=this.worldTransform;h.a=i.a*s.a+i.b*s.c,h.b=i.a*s.b+i.b*s.d,h.c=i.c*s.a+i.d*s.c,h.d=i.c*s.b+i.d*s.d,h.tx=i.tx*s.a+i.ty*s.c+s.tx,h.ty=i.tx*s.b+i.ty*s.d+s.ty,this._parentID=t._worldID,this._worldID++}},t.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();exports.Transform=g;
},{}],"qvzw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TemporaryDisplayObject=exports.DisplayObject=exports.Container=exports.Bounds=void 0;var t=require("@pixi/settings"),e=require("@pixi/math"),i=require("@pixi/utils");t.settings.SORTABLE_CHILDREN=!1;var n=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?e.Rectangle.EMPTY:((t=t||new e.Rectangle(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,i=this.minY,n=this.maxX,r=this.maxY,s=t[0],o=t[1];e=s<e?s:e,i=o<i?o:i,n=s>n?s:n,r=o>r?o:r,e=(s=t[2])<e?s:e,i=(o=t[3])<i?o:i,n=s>n?s:n,r=o>r?o:r,e=(s=t[4])<e?s:e,i=(o=t[5])<i?o:i,n=s>n?s:n,r=o>r?o:r,e=(s=t[6])<e?s:e,i=(o=t[7])<i?o:i,n=s>n?s:n,r=o>r?o:r,this.minX=e,this.minY=i,this.maxX=n,this.maxY=r},t.prototype.addFrame=function(t,e,i,n,r){this.addFrameMatrix(t.worldTransform,e,i,n,r)},t.prototype.addFrameMatrix=function(t,e,i,n,r){var s=t.a,o=t.b,a=t.c,h=t.d,l=t.tx,d=t.ty,p=this.minX,m=this.minY,u=this.maxX,c=this.maxY,f=s*e+a*i+l,y=o*e+h*i+d;p=f<p?f:p,m=y<m?y:m,u=f>u?f:u,c=y>c?y:c,p=(f=s*n+a*i+l)<p?f:p,m=(y=o*n+h*i+d)<m?y:m,u=f>u?f:u,c=y>c?y:c,p=(f=s*e+a*r+l)<p?f:p,m=(y=o*e+h*r+d)<m?y:m,u=f>u?f:u,c=y>c?y:c,p=(f=s*n+a*r+l)<p?f:p,m=(y=o*n+h*r+d)<m?y:m,u=f>u?f:u,c=y>c?y:c,this.minX=p,this.minY=m,this.maxX=u,this.maxY=c},t.prototype.addVertexData=function(t,e,i){for(var n=this.minX,r=this.minY,s=this.maxX,o=this.maxY,a=e;a<i;a+=2){var h=t[a],l=t[a+1];n=h<n?h:n,r=l<r?l:r,s=h>s?h:s,o=l>o?l:o}this.minX=n,this.minY=r,this.maxX=s,this.maxY=o},t.prototype.addVertices=function(t,e,i,n){this.addVerticesMatrix(t.worldTransform,e,i,n)},t.prototype.addVerticesMatrix=function(t,e,i,n,r,s){void 0===r&&(r=0),void 0===s&&(s=r);for(var o=t.a,a=t.b,h=t.c,l=t.d,d=t.tx,p=t.ty,m=this.minX,u=this.minY,c=this.maxX,f=this.maxY,y=i;y<n;y+=2){var b=e[y],x=e[y+1],v=o*b+h*x+d,_=l*x+a*b+p;m=Math.min(m,v-r),c=Math.max(c,v+r),u=Math.min(u,_-s),f=Math.max(f,_+s)}this.minX=m,this.minY=u,this.maxX=c,this.maxY=f},t.prototype.addBounds=function(t){var e=this.minX,i=this.minY,n=this.maxX,r=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<i?t.minY:i,this.maxX=t.maxX>n?t.maxX:n,this.maxY=t.maxY>r?t.maxY:r},t.prototype.addBoundsMask=function(t,e){var i=t.minX>e.minX?t.minX:e.minX,n=t.minY>e.minY?t.minY:e.minY,r=t.maxX<e.maxX?t.maxX:e.maxX,s=t.maxY<e.maxY?t.maxY:e.maxY;if(i<=r&&n<=s){var o=this.minX,a=this.minY,h=this.maxX,l=this.maxY;this.minX=i<o?i:o,this.minY=n<a?n:a,this.maxX=r>h?r:h,this.maxY=s>l?s:l}},t.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},t.prototype.addBoundsArea=function(t,e){var i=t.minX>e.x?t.minX:e.x,n=t.minY>e.y?t.minY:e.y,r=t.maxX<e.x+e.width?t.maxX:e.x+e.width,s=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(i<=r&&n<=s){var o=this.minX,a=this.minY,h=this.maxX,l=this.maxY;this.minX=i<o?i:o,this.minY=n<a?n:a,this.maxX=r>h?r:h,this.maxY=s>l?s:l}},t.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},t.prototype.addFramePad=function(t,e,i,n,r,s){t-=r,e-=s,i+=r,n+=s,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>n?this.maxY:n},t}();exports.Bounds=n;var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function s(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var o=function(t){function i(){var i=t.call(this)||this;return i.tempDisplayObjectParent=null,i.transform=new e.Transform,i.alpha=1,i.visible=!0,i.renderable=!0,i.parent=null,i.worldAlpha=1,i._lastSortedIndex=0,i._zIndex=0,i.filterArea=null,i.filters=null,i._enabledFilters=null,i._bounds=new n,i._localBounds=null,i._boundsID=0,i._boundsRect=null,i._localBoundsRect=null,i._mask=null,i._destroyed=!1,i.isSprite=!1,i.isMask=!1,i}return s(i,t),i.mixin=function(t){for(var e=Object.keys(t),n=0;n<e.length;++n){var r=e[n];Object.defineProperty(i.prototype,r,Object.getOwnPropertyDescriptor(t,r))}},i.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},i.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},i.prototype.getBounds=function(t,i){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),i||(this._boundsRect||(this._boundsRect=new e.Rectangle),i=this._boundsRect),this._bounds.getRectangle(i)},i.prototype.getLocalBounds=function(t){t||(this._localBoundsRect||(this._localBoundsRect=new e.Rectangle),t=this._localBoundsRect),this._localBounds||(this._localBounds=new n);var i=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var s=this._bounds,o=this._boundsID;this._bounds=this._localBounds;var a=this.getBounds(!1,t);return this.parent=r,this.transform=i,this._bounds=s,this._bounds.updateID+=this._boundsID-o,a},i.prototype.toGlobal=function(t,e,i){return void 0===i&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},i.prototype.toLocal=function(t,e,i,n){return e&&(t=e.toGlobal(t,i,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,i)},i.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},i.prototype.setTransform=function(t,e,i,n,r,s,o,a,h){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=1),void 0===n&&(n=1),void 0===r&&(r=0),void 0===s&&(s=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===h&&(h=0),this.position.x=t,this.position.y=e,this.scale.x=i||1,this.scale.y=n||1,this.rotation=r,this.skew.x=s,this.skew.y=o,this.pivot.x=a,this.pivot.y=h,this},i.prototype.destroy=function(t){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(i.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new a),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),i.prototype.enableTempParent=function(){var t=this.parent;return this.parent=this._tempDisplayObjectParent,t},i.prototype.disableTempParent=function(t){this.parent=t},Object.defineProperty(i.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"angle",{get:function(){return this.transform.rotation*e.RAD_TO_DEG},set:function(t){this.transform.rotation=t*e.DEG_TO_RAD},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"mask",{get:function(){return this._mask},set:function(t){var e;this._mask&&((e=this._mask.maskObject||this._mask).renderable=!0,e.isMask=!1);(this._mask=t,this._mask)&&((e=this._mask.maskObject||this._mask).renderable=!1,e.isMask=!0)},enumerable:!1,configurable:!0}),i}(i.EventEmitter);exports.DisplayObject=o;var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sortDirty=null,e}return s(e,t),e}(o);function h(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}exports.TemporaryDisplayObject=a,o.prototype.displayObjectUpdateTransform=o.prototype.updateTransform;var l=function(e){function n(){var i=e.call(this)||this;return i.children=[],i.sortableChildren=t.settings.SORTABLE_CHILDREN,i.sortDirty=!1,i}return s(n,e),n.prototype.onChildrenChange=function(t){},n.prototype.addChild=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];if(e.length>1)for(var n=0;n<e.length;n++)this.addChild(e[n]);else{var r=e[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return e[0]},n.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},n.prototype.swapChildren=function(t,e){if(t!==e){var i=this.getChildIndex(t),n=this.getChildIndex(e);this.children[i]=e,this.children[n]=t,this.onChildrenChange(i<n?i:n)}},n.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},n.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var n=this.getChildIndex(t);(0,i.removeItems)(this.children,n,1),this.children.splice(e,0,t),this.onChildrenChange(e)},n.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},n.prototype.removeChild=function(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];if(e.length>1)for(var r=0;r<e.length;r++)this.removeChild(e[r]);else{var s=e[0],o=this.children.indexOf(s);if(-1===o)return null;s.parent=null,s.transform._parentID=-1,(0,i.removeItems)(this.children,o,1),this._boundsID++,this.onChildrenChange(o),s.emit("removed",this),this.emit("childRemoved",s,this,o)}return e[0]},n.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,(0,i.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},n.prototype.removeChildren=function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.children.length);var i,n=t,r=e-n;if(r>0&&r<=e){i=this.children.splice(n,r);for(var s=0;s<i.length;++s)i[s].parent=null,i[s].transform&&(i[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(s=0;s<i.length;++s)i[s].emit("removed",this),this.emit("childRemoved",i[s],this,s);return i}if(0===r&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},n.prototype.sortChildren=function(){for(var t=!1,e=0,i=this.children.length;e<i;++e){var n=this.children[e];n._lastSortedIndex=e,t||0===n.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(h),this.sortDirty=!1},n.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var i=this.children[t];i.visible&&i.updateTransform()}},n.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];if(e.visible&&e.renderable)if(e.calculateBounds(),e._mask){var i=e._mask.maskObject||e._mask;i.calculateBounds(),this._bounds.addBoundsMask(e._bounds,i._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID},n.prototype.getLocalBounds=function(t,i){void 0===i&&(i=!1);var n=e.prototype.getLocalBounds.call(this,t);if(!i)for(var r=0,s=this.children.length;r<s;++r){var o=this.children[r];o.visible&&o.updateTransform()}return n},n.prototype._calculateBounds=function(){},n.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e=0,i=this.children.length;e<i;++e)this.children[e].render(t)}},n.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters,i=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var n=0;n<e.length;n++)e[n].enabled&&this._enabledFilters.push(e[n]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}i&&t.mask.push(this,this._mask),this._render(t);n=0;for(var r=this.children.length;n<r;n++)this.children[n].render(t);t.batch.flush(),i&&t.mask.pop(this),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},n.prototype._render=function(t){},n.prototype.destroy=function(t){e.prototype.destroy.call(this),this.sortDirty=!1;var i="boolean"==typeof t?t:t&&t.children,n=this.removeChildren(0,this.children.length);if(i)for(var r=0;r<n.length;++r)n[r].destroy(t)},Object.defineProperty(n.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},enumerable:!1,configurable:!0}),n}(o);exports.Container=l,l.prototype.containerUpdateTransform=l.prototype.updateTransform;
},{"@pixi/settings":"Xe2x","@pixi/math":"w9h1","@pixi/utils":"X4iF"}],"JMFw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.accessibleTarget=exports.AccessibilityManager=void 0;var e=require("@pixi/display"),t=require("@pixi/utils"),i={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};exports.accessibleTarget=i,e.DisplayObject.mixin(i);var s=9,n=100,o=0,r=0,l=2,a=1,c=-1e3,d=-1e3,h=2,p=function(){function e(e){this._hookDiv=null,(t.isMobile.tablet||t.isMobile.phone)&&this.createTouchHook();var i=document.createElement("div");i.style.width=n+"px",i.style.height=n+"px",i.style.position="absolute",i.style.top=o+"px",i.style.left=r+"px",i.style.zIndex=l.toString(),this.div=i,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._isActive=!1,this._isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),e.prototype.createTouchHook=function(){var e=this,t=document.createElement("button");t.style.width=a+"px",t.style.height=a+"px",t.style.position="absolute",t.style.top=c+"px",t.style.left=d+"px",t.style.zIndex=h.toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessability for this content",t.addEventListener("focus",function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()}),document.body.appendChild(t),this._hookDiv=t},e.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},e.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},e.prototype.deactivate=function(){this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},e.prototype.updateAccessibleObjects=function(e){if(e.visible&&e.accessibleChildren){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);for(var t=e.children,i=0;i<t.length;i++)this.updateAccessibleObjects(t[i])}},e.prototype.update=function(){var e=performance.now();if(!(t.isMobile.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var i=this.renderer.view.getBoundingClientRect(),s=this.renderer.resolution,n=i.width/this.renderer.width*s,o=i.height/this.renderer.height*s,r=this.div;r.style.left=i.left+"px",r.style.top=i.top+"px",r.style.width=this.renderer.width+"px",r.style.height=this.renderer.height+"px";for(var l=0;l<this.children.length;l++){var a=this.children[l];if(a.renderId!==this.renderId)a._accessibleActive=!1,(0,t.removeItems)(this.children,l,1),this.div.removeChild(a._accessibleDiv),this.pool.push(a._accessibleDiv),a._accessibleDiv=null,l--;else{r=a._accessibleDiv;var c=a.hitArea,d=a.worldTransform;a.hitArea?(r.style.left=(d.tx+c.x*d.a)*n+"px",r.style.top=(d.ty+c.y*d.d)*o+"px",r.style.width=c.width*d.a*n+"px",r.style.height=c.height*d.d*o+"px"):(c=a.getBounds(),this.capHitArea(c),r.style.left=c.x*n+"px",r.style.top=c.y*o+"px",r.style.width=c.width*n+"px",r.style.height=c.height*o+"px",r.title!==a.accessibleTitle&&null!==a.accessibleTitle&&(r.title=a.accessibleTitle),r.getAttribute("aria-label")!==a.accessibleHint&&null!==a.accessibleHint&&r.setAttribute("aria-label",a.accessibleHint)),a.accessibleTitle===r.title&&a.tabIndex===r.tabIndex||(r.title=a.accessibleTitle,r.tabIndex=a.tabIndex,this.debug&&this.updateDebugHTML(r))}}this.renderId++}},e.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},e.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0),e.x+e.width>this.renderer.width&&(e.width=this.renderer.width-e.x),e.y+e.height>this.renderer.height&&(e.height=this.renderer.height-e.y)},e.prototype.addChild=function(e){var t=this.pool.pop();t||((t=document.createElement("button")).style.width=n+"px",t.style.height=n+"px",t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=l.toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&null!==e.accessibleTitle?t.title=e.accessibleTitle:e.accessibleHint&&null!==e.accessibleHint||(t.title="displayObject "+e.tabIndex),e.accessibleHint&&null!==e.accessibleHint&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},e.prototype._onClick=function(e){var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"click",t.eventData),t.dispatchEvent(e.target.displayObject,"pointertap",t.eventData),t.dispatchEvent(e.target.displayObject,"tap",t.eventData)},e.prototype._onFocus=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive");var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"mouseover",t.eventData)},e.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite");var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"mouseout",t.eventData)},e.prototype._onKeyDown=function(e){e.keyCode===s&&this.activate()},e.prototype._onMouseMove=function(e){0===e.movementX&&0===e.movementY||this.deactivate()},e.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},e}();exports.AccessibilityManager=p;
},{"@pixi/display":"qvzw","@pixi/utils":"X4iF"}],"AWzT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UPDATE_PRIORITY=exports.TickerPlugin=exports.Ticker=void 0;var t,e=require("@pixi/settings");e.settings.TARGET_FPMS=.06,exports.UPDATE_PRIORITY=t,function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"}(t||(exports.UPDATE_PRIORITY=t={}));var i=function(){function t(t,e,i,s){void 0===e&&(e=null),void 0===i&&(i=0),void 0===s&&(s=!1),this.fn=t,this.context=e,this.priority=i,this.once=s,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}(),s=function(){function s(){var t=this;this._head=new i(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/e.settings.TARGET_FPMS,this.elapsedMS=1/e.settings.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return s.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},s.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},s.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},s.prototype.add=function(e,s,r){return void 0===r&&(r=t.NORMAL),this._addListener(new i(e,s,r))},s.prototype.addOnce=function(e,s,r){return void 0===r&&(r=t.NORMAL),this._addListener(new i(e,s,r,!0))},s.prototype._addListener=function(t){var e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this},s.prototype.remove=function(t,e){for(var i=this._head.next;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(s.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),s.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},s.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},s.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},s.prototype.update=function(t){var i;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((i=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(i=this._maxElapsedMS),i*=this.speed,this._minElapsedMS){var s=t-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=t-s%this._minElapsedMS}this.deltaMS=i,this.deltaTime=this.deltaMS*e.settings.TARGET_FPMS;for(var r=this._head,n=r.next;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(s.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var i=Math.min(this.maxFPS,t),s=Math.min(Math.max(0,i)/1e3,e.settings.TARGET_FPMS);this._maxElapsedMS=1/s},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(s,"shared",{get:function(){if(!s._shared){var t=s._shared=new s;t.autoStart=!0,t._protected=!0}return s._shared},enumerable:!1,configurable:!0}),Object.defineProperty(s,"system",{get:function(){if(!s._system){var t=s._system=new s;t.autoStart=!0,t._protected=!0}return s._system},enumerable:!1,configurable:!0}),s}();exports.Ticker=s;var r=function(){function e(){}return e.init=function(e){var i=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,t.LOW)},get:function(){return this._ticker}}),this.stop=function(){i._ticker.stop()},this.start=function(){i._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?s.shared:new s,e.autoStart&&this.start()},e.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},e}();exports.TickerPlugin=r;
},{"@pixi/settings":"Xe2x"}],"hG98":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.interactiveTarget=exports.InteractionTrackingData=exports.InteractionManager=exports.InteractionEvent=exports.InteractionData=void 0;var t=require("@pixi/math"),e=require("@pixi/ticker"),i=require("@pixi/display"),n=require("@pixi/utils"),o=function(){function e(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new t.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(e.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),e.prototype.getLocalPosition=function(t,e,i){return t.worldTransform.applyInverse(i||this.global,e)},e.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},e.prototype.reset=function(){this.isPrimary=!1},e}();exports.InteractionData=o;var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function s(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var a=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}();exports.InteractionEvent=a;var h=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return 0!=(this._flags&t.FLAGS.OVER)},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return 0!=(this._flags&t.FLAGS.RIGHT_DOWN)},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return 0!=(this._flags&t.FLAGS.LEFT_DOWN)},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}();exports.InteractionTrackingData=h;var c=function(){function e(){this._tempPoint=new t.Point}return e.prototype.recursiveFindHit=function(t,e,i,n,o){if(!e||!e.visible)return!1;var r=t.data.global,s=!1,a=o=e.interactive||o,h=!0;if(e.hitArea?(n&&(e.worldTransform.applyInverse(r,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(n=!1,h=!1)),a=!1):e._mask&&n&&(e._mask.containsPoint&&e._mask.containsPoint(r)||(n=!1)),h&&e.interactiveChildren&&e.children)for(var c=e.children,p=c.length-1;p>=0;p--){var u=c[p],l=this.recursiveFindHit(t,u,i,n,a);if(l){if(!u.parent)continue;a=!1,l&&(t.target&&(n=!1),s=!0)}}return o&&(n&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(r)&&(s=!0),e.interactive&&(s&&!t.target&&(t.target=e),i&&i(t,e,!!s))),s},e.prototype.findHit=function(t,e,i,n){this.recursiveFindHit(t,e,i,n,!1)},e}(),p={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};exports.interactiveTarget=p,i.DisplayObject.mixin(p);var u=1,l={target:null,data:{global:null}},d=function(t){function n(e,n){var r=t.call(this)||this;return n=n||{},r.renderer=e,r.autoPreventDefault=void 0===n.autoPreventDefault||n.autoPreventDefault,r.interactionFrequency=n.interactionFrequency||10,r.mouse=new o,r.mouse.identifier=u,r.mouse.global.set(-999999),r.activeInteractionData={},r.activeInteractionData[u]=r.mouse,r.interactionDataPool=[],r.eventData=new a,r.interactionDOMElement=null,r.moveWhenInside=!1,r.eventsAdded=!1,r.tickerAdded=!1,r.mouseOverRenderer=!1,r.supportsTouchEvents="ontouchstart"in window,r.supportsPointerEvents=!!window.PointerEvent,r.onPointerUp=r.onPointerUp.bind(r),r.processPointerUp=r.processPointerUp.bind(r),r.onPointerCancel=r.onPointerCancel.bind(r),r.processPointerCancel=r.processPointerCancel.bind(r),r.onPointerDown=r.onPointerDown.bind(r),r.processPointerDown=r.processPointerDown.bind(r),r.onPointerMove=r.onPointerMove.bind(r),r.processPointerMove=r.processPointerMove.bind(r),r.onPointerOut=r.onPointerOut.bind(r),r.processPointerOverOut=r.processPointerOverOut.bind(r),r.onPointerOver=r.onPointerOver.bind(r),r.cursorStyles={default:"inherit",pointer:"pointer"},r.currentCursorMode=null,r.cursor=null,r.resolution=1,r.delayedEvents=[],r.search=new c,r._tempDisplayObject=new i.TemporaryDisplayObject,r._useSystemTicker=void 0===n.useSystemTicker||n.useSystemTicker,r.setTargetElement(r.renderer.view,r.renderer.resolution),r}return s(n,t),Object.defineProperty(n.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(t){this._useSystemTicker=t,t?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),n.prototype.hitTest=function(t,e){return l.target=null,l.data.global=t,e||(e=this.lastObjectRendered),this.processInteractive(l,e,null,!0),l.target},n.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents(),this.addTickerListener()},n.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(e.Ticker.system.add(this.tickerUpdate,this,e.UPDATE_PRIORITY.INTERACTION),this.tickerAdded=!0)},n.prototype.removeTickerListener=function(){this.tickerAdded&&(e.Ticker.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},n.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},n.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},n.prototype.tickerUpdate=function(t){this._deltaTime+=t,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},n.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var t in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(t)){var e=this.activeInteractionData[t];if(e.originalEvent&&"touch"!==e.pointerType){var i=this.configureInteractionEventForDOMEvent(this.eventData,e.originalEvent,e);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},n.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(typeof e){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},n.prototype.dispatchEvent=function(t,e,i){i.stopPropagationHint&&t!==i.stopsPropagatingAt||(i.currentTarget=t,i.type=e,t.emit(e,i),t[e]&&t[e](i))},n.prototype.delayDispatchEvent=function(t,e,i){this.delayedEvents.push({displayObject:t,eventString:e,eventData:i})},n.prototype.mapPositionToPoint=function(t,e,i){var n;n=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var o=1/this.resolution;t.x=(e-n.left)*(this.interactionDOMElement.width/n.width)*o,t.y=(i-n.top)*(this.interactionDOMElement.height/n.height)*o},n.prototype.processInteractive=function(t,e,i,n){var o=this.search.findHit(t,e,i,n),r=this.delayedEvents;if(!r.length)return o;t.stopPropagationHint=!1;var s=r.length;this.delayedEvents=[];for(var a=0;a<s;a++){var h=r[a],c=h.displayObject,p=h.eventString,u=h.eventData;u.stopsPropagatingAt===c&&(u.stopPropagationHint=!0),this.dispatchEvent(c,p,u)}return o},n.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);if(this.autoPreventDefault&&e[0].isNormalized)(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(var i=e.length,n=0;n<i;n++){var o=e[n],r=this.getInteractionDataForPointerId(o),s=this.configureInteractionEventForDOMEvent(this.eventData,o,r);if(s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===o.pointerType)this.emit("touchstart",s);else if("mouse"===o.pointerType||"pen"===o.pointerType){var a=2===o.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},n.prototype.processPointerDown=function(t,e,i){var n=t.data,o=t.data.identifier;if(i)if(e.trackedPointers[o]||(e.trackedPointers[o]=new h(o)),this.dispatchEvent(e,"pointerdown",t),"touch"===n.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===n.pointerType||"pen"===n.pointerType){var r=2===n.button;r?e.trackedPointers[o].rightDown=!0:e.trackedPointers[o].leftDown=!0,this.dispatchEvent(e,r?"rightdown":"mousedown",t)}},n.prototype.onPointerComplete=function(t,e,i){for(var n=this.normalizeToPointerData(t),o=n.length,r=t.target!==this.interactionDOMElement?"outside":"",s=0;s<o;s++){var a=n[s],h=this.getInteractionDataForPointerId(a),c=this.configureInteractionEventForDOMEvent(this.eventData,a,h);if(c.data.originalEvent=t,this.processInteractive(c,this.lastObjectRendered,i,e||!r),this.emit(e?"pointercancel":"pointerup"+r,c),"mouse"===a.pointerType||"pen"===a.pointerType){var p=2===a.button;this.emit(p?"rightup"+r:"mouseup"+r,c)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+r,c),this.releaseInteractionDataForPointerId(a.pointerId))}},n.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},n.prototype.processPointerCancel=function(t,e){var i=t.data,n=t.data.identifier;void 0!==e.trackedPointers[n]&&(delete e.trackedPointers[n],this.dispatchEvent(e,"pointercancel",t),"touch"===i.pointerType&&this.dispatchEvent(e,"touchcancel",t))},n.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},n.prototype.processPointerUp=function(t,e,i){var n=t.data,o=t.data.identifier,r=e.trackedPointers[o],s="touch"===n.pointerType,a="mouse"===n.pointerType||"pen"===n.pointerType,c=!1;if(a){var p=2===n.button,u=h.FLAGS,l=p?u.RIGHT_DOWN:u.LEFT_DOWN,d=void 0!==r&&r.flags&l;i?(this.dispatchEvent(e,p?"rightup":"mouseup",t),d&&(this.dispatchEvent(e,p?"rightclick":"click",t),c=!0)):d&&this.dispatchEvent(e,p?"rightupoutside":"mouseupoutside",t),r&&(p?r.rightDown=!1:r.leftDown=!1)}i?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),r&&(a&&!c||this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),r.over=!1))):r&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),r&&r.none&&delete e.trackedPointers[o]},n.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this._didMove=!0,this.cursor=null);for(var i=e.length,n=0;n<i;n++){var o=e[n],r=this.getInteractionDataForPointerId(o),s=this.configureInteractionEventForDOMEvent(this.eventData,o,r);s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",s),"touch"===o.pointerType&&this.emit("touchmove",s),"mouse"!==o.pointerType&&"pen"!==o.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},n.prototype.processPointerMove=function(t,e,i){var n=t.data,o="touch"===n.pointerType,r="mouse"===n.pointerType||"pen"===n.pointerType;r&&this.processPointerOverOut(t,e,i),this.moveWhenInside&&!i||(this.dispatchEvent(e,"pointermove",t),o&&this.dispatchEvent(e,"touchmove",t),r&&this.dispatchEvent(e,"mousemove",t))},n.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var i=this.getInteractionDataForPointerId(e),n=this.configureInteractionEventForDOMEvent(this.eventData,e,i);n.data.originalEvent=e,this.processInteractive(n,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",n),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",n):this.releaseInteractionDataForPointerId(i.identifier)}},n.prototype.processPointerOverOut=function(t,e,i){var n=t.data,o=t.data.identifier,r="mouse"===n.pointerType||"pen"===n.pointerType,s=e.trackedPointers[o];i&&!s&&(s=e.trackedPointers[o]=new h(o)),void 0!==s&&(i&&this.mouseOverRenderer?(s.over||(s.over=!0,this.delayDispatchEvent(e,"pointerover",t),r&&this.delayDispatchEvent(e,"mouseover",t)),r&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),r&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[o]))},n.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],i=this.getInteractionDataForPointerId(e),n=this.configureInteractionEventForDOMEvent(this.eventData,e,i);n.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",n),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",n)},n.prototype.getInteractionDataForPointerId=function(t){var e,i=t.pointerId;return i===u||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[i]?e=this.activeInteractionData[i]:((e=this.interactionDataPool.pop()||new o).identifier=i,this.activeInteractionData[i]=e),e.copyEvent(t),e},n.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},n.prototype.configureInteractionEventForDOMEvent=function(t,e,i){return t.data=i,this.mapPositionToPoint(i.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=i.global.x,e.globalY=i.global.y),i.originalEvent=e,t.reset(),t},n.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var i=0,n=t.changedTouches.length;i<n;i++){var o=t.changedTouches[i];void 0===o.button&&(o.button=t.touches.length?1:0),void 0===o.buttons&&(o.buttons=t.touches.length?1:0),void 0===o.isPrimary&&(o.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===o.width&&(o.width=o.radiusX||1),void 0===o.height&&(o.height=o.radiusY||1),void 0===o.tiltX&&(o.tiltX=0),void 0===o.tiltY&&(o.tiltY=0),void 0===o.pointerType&&(o.pointerType="touch"),void 0===o.pointerId&&(o.pointerId=o.identifier||0),void 0===o.pressure&&(o.pressure=o.force||.5),void 0===o.twist&&(o.twist=0),void 0===o.tangentialPressure&&(o.tangentialPressure=0),void 0===o.layerX&&(o.layerX=o.offsetX=o.clientX),void 0===o.layerY&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,e.push(o)}else if(!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent)e.push(t);else{var r=t;void 0===r.isPrimary&&(r.isPrimary=!0),void 0===r.width&&(r.width=1),void 0===r.height&&(r.height=1),void 0===r.tiltX&&(r.tiltX=0),void 0===r.tiltY&&(r.tiltY=0),void 0===r.pointerType&&(r.pointerType="mouse"),void 0===r.pointerId&&(r.pointerId=u),void 0===r.pressure&&(r.pressure=.5),void 0===r.twist&&(r.twist=0),void 0===r.tangentialPressure&&(r.tangentialPressure=0),r.isNormalized=!0,e.push(r)}return e},n.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},n}(n.EventEmitter);exports.InteractionManager=d;
},{"@pixi/math":"w9h1","@pixi/ticker":"AWzT","@pixi/display":"qvzw","@pixi/utils":"X4iF"}],"KLq2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Runner=void 0;var t=function(){function t(t){this.items=[],this._name=t,this._aliasCount=0}return t.prototype.emit=function(t,e,i,s,n,r,o,u){if(arguments.length>8)throw new Error("max arguments reached");var h=this.name,a=this.items;this._aliasCount++;for(var m=0,p=a.length;m<p;m++)a[m][h](t,e,i,s,n,r,o,u);return a===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},t.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},t.prototype.contains=function(t){return-1!==this.items.indexOf(t)},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();exports.Runner=t,Object.defineProperties(t.prototype,{dispatch:{value:t.prototype.emit},run:{value:t.prototype.emit}});
},{}],"lj2a":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.autoDetectRenderer=At,exports.checkMaxIfStatementsInShader=Oe,exports.uniformParsers=exports.systems=exports.resources=exports.defaultVertex=exports.defaultFilterVertex=exports.ViewableBuffer=exports.UniformGroup=exports.TextureUvs=exports.TextureMatrix=exports.Texture=exports.System=exports.State=exports.SpriteMaskFilter=exports.Shader=exports.Renderer=exports.RenderTexturePool=exports.RenderTexture=exports.QuadUv=exports.Quad=exports.Program=exports.ObjectRenderer=exports.MaskData=exports.IGLUniformData=exports.Geometry=exports.GLTexture=exports.GLProgram=exports.GLFramebuffer=exports.Framebuffer=exports.FilterState=exports.Filter=exports.Buffer=exports.BatchTextureArray=exports.BatchShaderGenerator=exports.BatchRenderer=exports.BatchPluginFactory=exports.BatchGeometry=exports.BatchDrawCall=exports.BaseTexture=exports.BaseRenderTexture=exports.Attribute=exports.AbstractRenderer=exports.AbstractBatchRenderer=void 0;var e=require("@pixi/settings"),t=require("@pixi/constants"),r=require("@pixi/utils"),i=require("@pixi/runner"),n=require("@pixi/ticker"),o=require("@pixi/math");e.settings.PREFER_ENV=r.isMobile.any?t.ENV.WEBGL:t.ENV.WEBGL2,e.settings.STRICT_TEXTURE_CACHE=!1;var s=[];function a(e,t){if(!e)return null;var r="";if("string"==typeof e){var i=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);i&&(r=i[1].toLowerCase())}for(var n=s.length-1;n>=0;--n){var o=s[n];if(o.test&&o.test(e,r))return new o(e,t)}throw new Error("Unrecognized source type to auto-detect Resource")}var u=function(e,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function h(e,t){function r(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var l=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new i.Runner("setRealSize"),this.onUpdate=new i.Runner("update"),this.onError=new i.Runner("onError")}return e.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},e.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},e.prototype.resize=function(e,t){e===this._width&&t===this._height||(this._width=e,this._height=t,this.onResize.emit(e,t))},Object.defineProperty(e.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),e.prototype.update=function(){this.destroyed||this.onUpdate.emit()},e.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),e.prototype.style=function(e,t,r){return!1},e.prototype.dispose=function(){},e.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},e.test=function(e,t){return!1},e}(),d=function(e){function r(t,r){var i=this,n=r||{},o=n.width,s=n.height;if(!o||!s)throw new Error("BufferResource width or height invalid");return(i=e.call(this,o,s)||this).data=t,i}return h(r,e),r.prototype.upload=function(e,r,i){var n=e.gl;return n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===t.ALPHA_MODES.UNPACK),i.width===r.width&&i.height===r.height?n.texSubImage2D(r.target,0,0,0,r.width,r.height,r.format,r.type,this.data):(i.width=r.width,i.height=r.height,n.texImage2D(r.target,0,i.internalFormat,r.width,r.height,0,r.format,i.type,this.data)),!0},r.prototype.dispose=function(){this.data=null},r.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},r}(l),c={scaleMode:t.SCALE_MODES.NEAREST,format:t.FORMATS.RGBA,alphaMode:t.ALPHA_MODES.NPM},f=function(i){function n(n,o){void 0===n&&(n=null),void 0===o&&(o=null);var s=i.call(this)||this,u=(o=o||{}).alphaMode,h=o.mipmap,d=o.anisotropicLevel,c=o.scaleMode,f=o.width,p=o.height,m=o.wrapMode,v=o.format,g=o.type,y=o.target,x=o.resolution,_=o.resourceOptions;return!n||n instanceof l||((n=a(n,_)).internal=!0),s.width=f||0,s.height=p||0,s.resolution=x||e.settings.RESOLUTION,s.mipmap=void 0!==h?h:e.settings.MIPMAP_TEXTURES,s.anisotropicLevel=void 0!==d?d:e.settings.ANISOTROPIC_LEVEL,s.wrapMode=m||e.settings.WRAP_MODE,s.scaleMode=void 0!==c?c:e.settings.SCALE_MODE,s.format=v||t.FORMATS.RGBA,s.type=g||t.TYPES.UNSIGNED_BYTE,s.target=y||t.TARGETS.TEXTURE_2D,s.alphaMode=void 0!==u?u:t.ALPHA_MODES.UNPACK,void 0!==o.premultiplyAlpha&&(s.premultiplyAlpha=o.premultiplyAlpha),s.uid=(0,r.uid)(),s.touched=0,s.isPowerOfTwo=!1,s._refreshPOT(),s._glTextures={},s.dirtyId=0,s.dirtyStyleId=0,s.cacheId=null,s.valid=f>0&&p>0,s.textureCacheIds=[],s.destroyed=!1,s.resource=null,s._batchEnabled=0,s._batchLocation=0,s.parentTextureArray=null,s.setResource(n),s}return h(n,i),Object.defineProperty(n.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),n.prototype.setStyle=function(e,t){var r;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,r=!0),void 0!==t&&t!==this.mipmap&&(this.mipmap=t,r=!0),r&&this.dirtyStyleId++,this},n.prototype.setSize=function(e,t,r){return this.resolution=r||this.resolution,this.width=e,this.height=t,this._refreshPOT(),this.update(),this},n.prototype.setRealSize=function(e,t,r){return this.resolution=r||this.resolution,this.width=e/this.resolution,this.height=t/this.resolution,this._refreshPOT(),this.update(),this},n.prototype._refreshPOT=function(){this.isPowerOfTwo=(0,r.isPow2)(this.realWidth)&&(0,r.isPow2)(this.realHeight)},n.prototype.setResolution=function(e){var t=this.resolution;return t===e?this:(this.resolution=e,this.valid&&(this.width=this.width*t/e,this.height=this.height*t/e,this.emit("update",this)),this._refreshPOT(),this)},n.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},n.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},n.prototype.onError=function(e){this.emit("error",this,e)},n.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete r.BaseTextureCache[this.cacheId],delete r.TextureCache[this.cacheId],this.cacheId=null),this.dispose(),n.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},n.prototype.dispose=function(){this.emit("dispose",this)},n.prototype.castToBaseTexture=function(){return this},n.from=function(t,i,o){void 0===o&&(o=e.settings.STRICT_TEXTURE_CACHE);var s="string"==typeof t,a=null;s?a=t:(t._pixiId||(t._pixiId="pixiid_"+(0,r.uid)()),a=t._pixiId);var u=r.BaseTextureCache[a];if(s&&o&&!u)throw new Error('The cacheId "'+a+'" does not exist in BaseTextureCache.');return u||((u=new n(t,i)).cacheId=a,n.addToCache(u,a)),u},n.fromBuffer=function(e,r,i,o){e=e||new Float32Array(r*i*4);var s=new d(e,{width:r,height:i}),a=e instanceof Float32Array?t.TYPES.FLOAT:t.TYPES.UNSIGNED_BYTE;return new n(s,Object.assign(c,o||{width:r,height:i,type:a}))},n.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),r.BaseTextureCache[t]&&console.warn("BaseTexture added to the cache with an id ["+t+"] that already had an entry"),r.BaseTextureCache[t]=e)},n.removeFromCache=function(e){if("string"==typeof e){var t=r.BaseTextureCache[e];if(t){var i=t.textureCacheIds.indexOf(e);return i>-1&&t.textureCacheIds.splice(i,1),delete r.BaseTextureCache[e],t}}else if(e&&e.textureCacheIds){for(var n=0;n<e.textureCacheIds.length;++n)delete r.BaseTextureCache[e.textureCacheIds[n]];return e.textureCacheIds.length=0,e}return null},n._globalBatch=0,n}(r.EventEmitter);exports.BaseTexture=f;var p=function(e){function t(t,r){var i=this,n=r||{},o=n.width,s=n.height;(i=e.call(this,o,s)||this).items=[],i.itemDirtyIds=[];for(var a=0;a<t;a++){var u=new f;i.items.push(u),i.itemDirtyIds.push(-2)}return i.length=t,i._load=null,i.baseTexture=null,i}return h(t,e),t.prototype.initFromArray=function(e,t){for(var r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof l?this.addResourceAt(e[r],r):this.addResourceAt(a(e[r],t),r))},t.prototype.dispose=function(){for(var e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(e,t){if(!this.items[t])throw new Error("Index "+t+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this},t.prototype.bind=function(t){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");e.prototype.bind.call(this,t);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=t,this.items[r].on("update",t.update,t)},t.prototype.unbind=function(t){e.prototype.unbind.call(this,t);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",t.update,t)},t.prototype.load=function(){var e=this;if(this._load)return this._load;var t=this.items.map(function(e){return e.resource}).filter(function(e){return e}).map(function(e){return e.load()});return this._load=Promise.all(t).then(function(){var t=e.items[0],r=t.realWidth,i=t.realHeight;return e.resize(r,i),Promise.resolve(e)}),this._load},t}(l),m=function(e){function r(t,r){var i,n,o=this,s=r||{},a=s.width,u=s.height;return Array.isArray(t)?(i=t,n=t.length):n=t,o=e.call(this,n,{width:a,height:u})||this,i&&o.initFromArray(i,r),o}return h(r,e),r.prototype.addBaseTextureAt=function(e,t){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,t),this},r.prototype.bind=function(r){e.prototype.bind.call(this,r),r.target=t.TARGETS.TEXTURE_2D_ARRAY},r.prototype.upload=function(e,t,r){var i=this.length,n=this.itemDirtyIds,o=this.items,s=e.gl;r.dirtyId<0&&s.texImage3D(s.TEXTURE_2D_ARRAY,0,t.format,this._width,this._height,i,0,t.format,t.type,null);for(var a=0;a<i;a++){var u=o[a];n[a]<u.dirtyId&&(n[a]=u.dirtyId,u.valid&&s.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,a,u.resource.width,u.resource.height,1,t.format,t.type,u.resource.source))}return!0},r}(p),v=function(e){function i(t){var r=this,i=t,n=i.naturalWidth||i.videoWidth||i.width,o=i.naturalHeight||i.videoHeight||i.height;return(r=e.call(this,n,o)||this).source=t,r.noSubImage=!1,r}return h(i,e),i.crossOrigin=function(e,t,i){void 0===i&&0!==t.indexOf("data:")?e.crossOrigin=(0,r.determineCrossOrigin)(t):!1!==i&&(e.crossOrigin="string"==typeof i?i:"anonymous")},i.prototype.upload=function(e,r,i,n){var o=e.gl,s=r.realWidth,a=r.realHeight;return n=n||this.source,o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===t.ALPHA_MODES.UNPACK),this.noSubImage||r.target!==o.TEXTURE_2D||i.width!==s||i.height!==a?(i.width=s,i.height=a,o.texImage2D(r.target,0,r.format,r.format,r.type,n)):o.texSubImage2D(o.TEXTURE_2D,0,0,0,r.format,r.type,n),!0},i.prototype.update=function(){if(!this.destroyed){var t=this.source,r=t.naturalWidth||t.videoWidth||t.width,i=t.naturalHeight||t.videoHeight||t.height;this.resize(r,i),e.prototype.update.call(this)}},i.prototype.dispose=function(){this.source=null},i}(l),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.test=function(e){var t=window.OffscreenCanvas;return!!(t&&e instanceof t)||e instanceof HTMLCanvasElement},t}(v),y=function(e){function r(i,n){var o=this,s=n||{},a=s.width,u=s.height,h=s.autoLoad,l=s.linkBaseTexture;if(i&&i.length!==r.SIDES)throw new Error("Invalid length. Got "+i.length+", expected 6");o=e.call(this,6,{width:a,height:u})||this;for(var d=0;d<r.SIDES;d++)o.items[d].target=t.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+d;return o.linkBaseTexture=!1!==l,i&&o.initFromArray(i,n),!1!==h&&o.load(),o}return h(r,e),r.prototype.bind=function(r){e.prototype.bind.call(this,r),r.target=t.TARGETS.TEXTURE_CUBE_MAP},r.prototype.addBaseTextureAt=function(e,r,i){if(void 0===i&&(i=this.linkBaseTexture),!this.items[r])throw new Error("Index "+r+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,r)}else e.target=t.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this},r.prototype.upload=function(e,t,i){for(var n=this.itemDirtyIds,o=0;o<r.SIDES;o++){var s=this.items[o];n[o]<s.dirtyId&&(s.valid&&s.resource?(s.resource.upload(e,s,i),n[o]=s.dirtyId):n[o]<-1&&(e.gl.texImage2D(s.target,0,i.internalFormat,t.realWidth,t.realHeight,0,t.format,i.type,null),n[o]=-1))}return!0},r.test=function(e){return Array.isArray(e)&&e.length===r.SIDES},r.SIDES=6,r}(p),x=function(r){function i(t,i){var n=this;if(i=i||{},!(t instanceof HTMLImageElement)){var o=new Image;v.crossOrigin(o,t,i.crossorigin),o.src=t,t=o}return n=r.call(this,t)||this,!t.complete&&n._width&&n._height&&(n._width=0,n._height=0),n.url=t.src,n._process=null,n.preserveBitmap=!1,n.createBitmap=(void 0!==i.createBitmap?i.createBitmap:e.settings.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,n.alphaMode="number"==typeof i.alphaMode?i.alphaMode:null,void 0!==i.premultiplyAlpha&&(n.premultiplyAlpha=i.premultiplyAlpha),n.bitmap=null,n._load=null,!1!==i.autoLoad&&n.load(),n}return h(i,r),i.prototype.load=function(e){var t=this;return this._load?this._load:(void 0!==e&&(this.createBitmap=e),this._load=new Promise(function(e,r){var i=t.source;t.url=i.src;var n=function(){t.destroyed||(i.onload=null,i.onerror=null,t.resize(i.width,i.height),t._load=null,t.createBitmap?e(t.process()):e(t))};i.complete&&i.src?n():(i.onload=n,i.onerror=function(e){r(e),t.onError.emit(e)})}),this._load)},i.prototype.process=function(){var e=this,r=this.source;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(r,0,0,r.width,r.height,{premultiplyAlpha:this.alphaMode===t.ALPHA_MODES.UNPACK?"premultiply":"none"}).then(function(t){return e.destroyed?Promise.reject():(e.bitmap=t,e.update(),e._process=null,Promise.resolve(e))}),this._process):Promise.resolve(this)},i.prototype.upload=function(e,t,i){if("number"==typeof this.alphaMode&&(t.alphaMode=this.alphaMode),!this.createBitmap)return r.prototype.upload.call(this,e,t,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(r.prototype.upload.call(this,e,t,i,this.bitmap),!this.preserveBitmap){var n=!0,o=t._glTextures;for(var s in o){var a=o[s];if(a!==i&&a.dirtyId!==t.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},i.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,r.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},i.test=function(e){return"string"==typeof e||e instanceof HTMLImageElement},i}(v),_=function(e){function t(t,r){var i=this;return r=r||{},(i=e.call(this,document.createElement("canvas"))||this)._width=0,i._height=0,i.svg=t,i.scale=r.scale||1,i._overrideWidth=r.width,i._overrideHeight=r.height,i._resolve=null,i._crossorigin=r.crossorigin,i._load=null,!1!==r.autoLoad&&i.load(),i}return h(t,e),t.prototype.load=function(){var e=this;return this._load?this._load:(this._load=new Promise(function(t){if(e._resolve=function(){e.resize(e.source.width,e.source.height),t(e)},/^\<svg/.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()}),this._load)},t.prototype._loadSvg=function(){var e=this,t=new Image;v.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=function(r){e._resolve&&(t.onerror=null,e.onError.emit(r))},t.onload=function(){if(e._resolve){var i=t.width,n=t.height;if(!i||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var o=i*e.scale,s=n*e.scale;(e._overrideWidth||e._overrideHeight)&&(o=e._overrideWidth||e._overrideHeight/n*i,s=e._overrideHeight||e._overrideWidth/i*n),o=Math.round(o),s=Math.round(s);var a=e.source;a.width=o,a.height=s,a._pixiId="canvas_"+(0,r.uid)(),a.getContext("2d").drawImage(t,0,0,i,n,0,0,o,s),e._resolve(),e._resolve=null}}},t.getSize=function(e){var r=t.SVG_SIZE.exec(e),i={};return r&&(i[r[1]]=Math.round(parseFloat(r[3])),i[r[5]]=Math.round(parseFloat(r[7]))),i},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(e,t){return"svg"===t||"string"==typeof e&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||"string"==typeof e&&0===e.indexOf("<svg")},t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(v),E=function(e){function t(r,i){var n=this;if(i=i||{},!(r instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),"string"==typeof r&&(r=[r]);var s=r[0].src||r[0];v.crossOrigin(o,s,i.crossorigin);for(var a=0;a<r.length;++a){var u=document.createElement("source"),h=r[a],l=h.src,d=h.mime,c=(l=l||r[a]).split("?").shift().toLowerCase(),f=c.substr(c.lastIndexOf(".")+1);d=d||t.MIME_TYPES[f]||"video/"+f,u.src=l,u.type=d,o.appendChild(u)}r=o}return(n=e.call(this,r)||this).noSubImage=!0,n._autoUpdate=!0,n._isConnectedToTicker=!1,n._updateFPS=i.updateFPS||0,n._msToNextUpdate=0,n.autoPlay=!1!==i.autoPlay,n._load=null,n._resolve=null,n._onCanPlay=n._onCanPlay.bind(n),n._onError=n._onError.bind(n),!1!==i.autoLoad&&n.load(),n}return h(t,e),t.prototype.update=function(t){if(void 0===t&&(t=0),!this.destroyed){var r=n.Ticker.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r),(!this._updateFPS||this._msToNextUpdate<=0)&&(e.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},t.prototype.load=function(){var e=this;if(this._load)return this._load;var t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(function(r){e.valid?r(e):(e._resolve=r,t.load())}),this._load},t.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},t.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&!1===e.paused&&!1===e.ended&&e.readyState>2},t.prototype._isSourceReady=function(){var e=this.source;return 3===e.readyState||4===e.readyState},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(n.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(n.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var t=this.valid;this.resize(e.videoWidth,e.videoHeight),!t&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&n.Ticker.shared.remove(this.update,this);var t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(n.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(n.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),t.test=function(e,r){return e instanceof HTMLVideoElement||t.TYPES.indexOf(r)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(v),T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.test=function(e){return!!window.createImageBitmap&&e instanceof ImageBitmap},t}(v);s.push(x,T,g,E,_,d,y,m);var b={Resource:l,BaseImageResource:v,INSTALLED:s,autoDetectResource:a,AbstractMultiResource:p,ArrayResource:m,BufferResource:d,CanvasResource:g,CubeResource:y,ImageResource:x,SVGResource:_,VideoResource:E,ImageBitmapResource:T};exports.resources=b;var S=function(){function e(e){this.renderer=e}return e.prototype.destroy=function(){this.renderer=null},e}();exports.System=S;var w=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return h(r,e),r.prototype.upload=function(e,r,i){var n=e.gl;return n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===t.ALPHA_MODES.UNPACK),i.width===r.width&&i.height===r.height?n.texSubImage2D(r.target,0,0,0,r.width,r.height,r.format,r.type,this.data):(i.width=r.width,i.height=r.height,n.texImage2D(r.target,0,1===e.context.webGLVersion?n.DEPTH_COMPONENT:n.DEPTH_COMPONENT16,r.width,r.height,0,r.format,r.type,this.data)),!0},r}(d),A=function(){function e(e,r){this.width=Math.ceil(e||100),this.height=Math.ceil(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new i.Runner("disposeFramebuffer"),this.multisample=t.MSAA_QUALITY.NONE}return Object.defineProperty(e.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),e.prototype.addColorTexture=function(e,r){return void 0===e&&(e=0),this.colorTextures[e]=r||new f(null,{scaleMode:t.SCALE_MODES.NEAREST,resolution:1,mipmap:t.MIPMAP_MODES.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.addDepthTexture=function(e){return this.depthTexture=e||new f(new w(null,{width:this.width,height:this.height}),{scaleMode:t.SCALE_MODES.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:t.MIPMAP_MODES.OFF,format:t.FORMATS.DEPTH_COMPONENT,type:t.TYPES.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.resize=function(e,t){if(e=Math.ceil(e),t=Math.ceil(t),e!==this.width||t!==this.height){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var i=this.colorTextures[r],n=i.resolution;i.setSize(e/n,t/n)}if(this.depthTexture){n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,t/n)}}},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},e}();exports.Framebuffer=A;var C=function(e){function t(t){var r=this;"number"==typeof t&&(t={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]});r=e.call(this,null,t)||this;var i=t||{},n=i.width,o=i.height;return r.mipmap=0,r.width=Math.ceil(n)||100,r.height=Math.ceil(o)||100,r.valid=!0,r.clearColor=[0,0,0,0],r.framebuffer=new A(r.width*r.resolution,r.height*r.resolution).addColorTexture(0,r),r.maskStack=[],r.filterStack=[{}],r}return h(t,e),t.prototype.resize=function(e,t){e=Math.ceil(e),t=Math.ceil(t),this.framebuffer.resize(e*this.resolution,t*this.resolution)},t.prototype.dispose=function(){this.framebuffer.dispose(),e.prototype.dispose.call(this)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(f);exports.BaseRenderTexture=C;var R=function(){function e(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return e.prototype.set=function(e,t,r){var i=t.width,n=t.height;if(r){var s=e.width/2/i,a=e.height/2/n,u=e.x/i+s,h=e.y/n+a;r=o.groupD8.add(r,o.groupD8.NW),this.x0=u+s*o.groupD8.uX(r),this.y0=h+a*o.groupD8.uY(r),r=o.groupD8.add(r,2),this.x1=u+s*o.groupD8.uX(r),this.y1=h+a*o.groupD8.uY(r),r=o.groupD8.add(r,2),this.x2=u+s*o.groupD8.uX(r),this.y2=h+a*o.groupD8.uY(r),r=o.groupD8.add(r,2),this.x3=u+s*o.groupD8.uX(r),this.y3=h+a*o.groupD8.uY(r)}else this.x0=e.x/i,this.y0=e.y/n,this.x1=(e.x+e.width)/i,this.y1=e.y/n,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/n,this.x3=e.x/i,this.y3=(e.y+e.height)/n;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},e}();exports.TextureUvs=R;var I=new R,O=function(t){function i(e,r,n,s,a,u){var h=t.call(this)||this;if(h.noFrame=!1,r||(h.noFrame=!0,r=new o.Rectangle(0,0,1,1)),e instanceof i&&(e=e.baseTexture),h.baseTexture=e,h._frame=r,h.trim=s,h.valid=!1,h._uvs=I,h.uvMatrix=null,h.orig=n||r,h._rotate=Number(a||0),!0===a)h._rotate=2;else if(h._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return h.defaultAnchor=u?new o.Point(u.x,u.y):new o.Point(0,0),h._updateID=0,h.textureCacheIds=[],e.valid?h.noFrame?e.valid&&h.onBaseTextureUpdated(e):h.frame=r:e.once("loaded",h.onBaseTextureUpdated,h),h.noFrame&&e.on("update",h.onBaseTextureUpdated,h),h}return h(i,t),i.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},i.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},i.prototype.destroy=function(e){if(this.baseTexture){if(e){var t=this.baseTexture;t&&t.url&&r.TextureCache[t.url]&&i.removeFromCache(t.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,i.removeFromCache(this),this.textureCacheIds=null},i.prototype.clone=function(){return new i(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},i.prototype.updateUvs=function(){this._uvs===I&&(this._uvs=new R),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},i.from=function(t,n,o){void 0===n&&(n={}),void 0===o&&(o=e.settings.STRICT_TEXTURE_CACHE);var s="string"==typeof t,a=null;s?a=t:(t._pixiId||(t._pixiId="pixiid_"+(0,r.uid)()),a=t._pixiId);var u=r.TextureCache[a];if(s&&o&&!u)throw new Error('The cacheId "'+a+'" does not exist in TextureCache.');return u||(n.resolution||(n.resolution=(0,r.getResolutionOfUrl)(t)),(u=new i(new f(t,n))).baseTexture.cacheId=a,f.addToCache(u.baseTexture,a),i.addToCache(u,a)),u},i.fromURL=function(e,t){var r=Object.assign({autoLoad:!1},null==t?void 0:t.resourceOptions),n=i.from(e,Object.assign({resourceOptions:r},t),!1),o=n.baseTexture.resource;return n.baseTexture.valid?Promise.resolve(n):o.load().then(function(){return Promise.resolve(n)})},i.fromBuffer=function(e,t,r,n){return new i(f.fromBuffer(e,t,r,n))},i.fromLoader=function(t,n,o){var s=new x(t);s.url=n;var a=new i(new f(s,{scaleMode:e.settings.SCALE_MODE,resolution:(0,r.getResolutionOfUrl)(n)}));return o||(o=n),f.addToCache(a.baseTexture,o),i.addToCache(a,o),o!==n&&(f.addToCache(a.baseTexture,n),i.addToCache(a,n)),a},i.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),r.TextureCache[t]&&console.warn("Texture added to the cache with an id ["+t+"] that already had an entry"),r.TextureCache[t]=e)},i.removeFromCache=function(e){if("string"==typeof e){var t=r.TextureCache[e];if(t){var i=t.textureCacheIds.indexOf(e);return i>-1&&t.textureCacheIds.splice(i,1),delete r.TextureCache[e],t}}else if(e&&e.textureCacheIds){for(var n=0;n<e.textureCacheIds.length;++n)r.TextureCache[e.textureCacheIds[n]]===e&&delete r.TextureCache[e.textureCacheIds[n]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(i.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var t=e.x,r=e.y,i=e.width,n=e.height,o=t+i>this.baseTexture.width,s=r+n>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",u="X: "+t+" + "+i+" = "+(t+i)+" > "+this.baseTexture.width,h="Y: "+r+" + "+n+" = "+(r+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+u+" "+a+" "+h)}this.valid=i&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),i.prototype.castToBaseTexture=function(){return this.baseTexture},i}(r.EventEmitter);function P(){var e=document.createElement("canvas");e.width=16,e.height=16;var t=e.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,16,16),new O(new f(new g(e)))}function M(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}exports.Texture=O,O.EMPTY=new O(new f),M(O.EMPTY),M(O.EMPTY.baseTexture),O.WHITE=P(),M(O.WHITE),M(O.WHITE.baseTexture);var D=function(e){function t(t,r){var i=this,n=null;if(!(t instanceof C)){var o=arguments[1],s=arguments[2],a=arguments[3],u=arguments[4];console.warn("Please use RenderTexture.create("+o+", "+s+") instead of the ctor directly."),n=arguments[0],r=null,t=new C({width:o,height:s,scaleMode:a,resolution:u})}return(i=e.call(this,t,r)||this).legacyRenderer=n,i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return h(t,e),Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,t,r){void 0===r&&(r=!0),e=Math.ceil(e),t=Math.ceil(t),this.valid=e>0&&t>0,this._frame.width=this.orig.width=e,this._frame.height=this.orig.height=t,r&&this.baseTexture.resize(e,t),this.updateUvs()},t.prototype.setResolution=function(e){var t=this.baseTexture;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))},t.create=function(e){return"number"==typeof e&&(e={width:e,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new t(new C(e))},t}(O);exports.RenderTexture=D;var F=function(){function e(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return e.prototype.createTexture=function(e,t){var r=new C(Object.assign({width:e,height:t,resolution:1},this.textureOptions));return new D(r)},e.prototype.getOptimalTexture=function(t,i,n){void 0===n&&(n=1);var o=e.SCREEN_KEY;t*=n,i*=n,this.enableFullScreen&&t===this._pixelsWidth&&i===this._pixelsHeight||(o=(65535&(t=(0,r.nextPow2)(t)))<<16|65535&(i=(0,r.nextPow2)(i))),this.texturePool[o]||(this.texturePool[o]=[]);var s=this.texturePool[o].pop();return s||(s=this.createTexture(t,i)),s.filterPoolKey=o,s.setResolution(n),s},e.prototype.getFilterTexture=function(e,t){var r=this.getOptimalTexture(e.width,e.height,t||e.resolution);return r.filterFrame=e.filterFrame,r},e.prototype.returnTexture=function(e){var t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)},e.prototype.returnFilterTexture=function(e){this.returnTexture(e)},e.prototype.clear=function(e){if(e=!1!==e)for(var t in this.texturePool){var r=this.texturePool[t];if(r)for(var i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}},e.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){var r=e.SCREEN_KEY,i=this.texturePool[r];if(this.enableFullScreen=t.width>0&&t.height>0,i)for(var n=0;n<i.length;n++)i[n].destroy(!0);this.texturePool[r]=[],this._pixelsWidth=t.width,this._pixelsHeight=t.height}},e.SCREEN_KEY="screen",e}();exports.RenderTexturePool=F;var N=function(){function e(e,t,r,i,n,o,s){void 0===t&&(t=0),void 0===r&&(r=!1),void 0===i&&(i=5126),this.buffer=e,this.size=t,this.normalized=r,this.type=i,this.stride=n,this.start=o,this.instance=s}return e.prototype.destroy=function(){this.buffer=null},e.from=function(t,r,i,n,o){return new e(t,r,i,n,o)},e}();exports.Attribute=N;var L=0,B=function(){function e(e,t,r){void 0===t&&(t=!0),void 0===r&&(r=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=t,this.id=L++,this.disposeRunner=new i.Runner("disposeBuffer")}return e.prototype.update=function(e){this.data=e||this.data,this._updateID++},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.data=null},e.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new e(t)},e}();function U(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return"Uint16Array"}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return"Uint8Array";return null}exports.Buffer=B;var k={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};function G(e,t){for(var r=0,i=0,n={},o=0;o<e.length;o++)i+=t[o],r+=e[o].length;var s=new ArrayBuffer(4*r),a=null,u=0;for(o=0;o<e.length;o++){var h=t[o],l=e[o],d=U(l);n[d]||(n[d]=new k[d](s)),a=n[d];for(var c=0;c<l.length;c++){a[(c/h|0)*i+u+c%h]=l[c]}u+=h}return new Float32Array(s)}var V={5126:4,5123:2,5121:1},X=0,H={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},z=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t={}),this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=X++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new i.Runner("disposeGeometry"),this.refCount=0}return e.prototype.addAttribute=function(e,t,r,i,n,o,s,a){if(void 0===r&&(r=0),void 0===i&&(i=!1),void 0===a&&(a=!1),!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof B||(t instanceof Array&&(t=new Float32Array(t)),t=new B(t));var u=e.split("|");if(u.length>1){for(var h=0;h<u.length;h++)this.addAttribute(u[h],t,r,i,n);return this}var l=this.buffers.indexOf(t);return-1===l&&(this.buffers.push(t),l=this.buffers.length-1),this.attributes[e]=new N(l,r,i,n,o,s,a),this.instanced=this.instanced||a,this},e.prototype.getAttribute=function(e){return this.attributes[e]},e.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},e.prototype.addIndex=function(e){return e instanceof B||(e instanceof Array&&(e=new Uint16Array(e)),e=new B(e)),e.index=!0,this.indexBuffer=e,-1===this.buffers.indexOf(e)&&this.buffers.push(e),this},e.prototype.getIndex=function(){return this.indexBuffer},e.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var e,t=[],r=[],i=new B;for(e in this.attributes){var n=this.attributes[e],o=this.buffers[n.buffer];t.push(o.data),r.push(n.size*V[n.type]/4),n.buffer=0}for(i.data=G(t,r),e=0;e<this.buffers.length;e++)this.buffers[e]!==this.indexBuffer&&this.buffers[e].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},e.prototype.getSize=function(){for(var e in this.attributes){var t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},e.prototype.clone=function(){for(var t=new e,r=0;r<this.buffers.length;r++)t.buffers[r]=new B(this.buffers[r].data.slice(0));for(var r in this.attributes){var i=this.attributes[r];t.attributes[r]=new N(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.index=!0),t},e.merge=function(t){for(var r,i=new e,n=[],o=[],s=[],a=0;a<t.length;a++){r=t[a];for(var u=0;u<r.buffers.length;u++)o[u]=o[u]||0,o[u]+=r.buffers[u].data.length,s[u]=0}for(a=0;a<r.buffers.length;a++)n[a]=new(H[U(r.buffers[a].data)])(o[a]),i.buffers[a]=new B(n[a]);for(a=0;a<t.length;a++){r=t[a];for(u=0;u<r.buffers.length;u++)n[u].set(r.buffers[u].data,s[u]),s[u]+=r.buffers[u].data.length}if(i.attributes=r.attributes,r.indexBuffer){i.indexBuffer=i.buffers[r.buffers.indexOf(r.indexBuffer)],i.indexBuffer.index=!0;var h=0,l=0,d=0,c=0;for(a=0;a<r.buffers.length;a++)if(r.buffers[a]!==r.indexBuffer){c=a;break}for(var a in r.attributes){var f=r.attributes[a];(0|f.buffer)===c&&(l+=f.size*V[f.type]/4)}for(a=0;a<t.length;a++){var p=t[a].indexBuffer.data;for(u=0;u<p.length;u++)i.indexBuffer.data[u+d]+=h;h+=r.buffers[c].data.length/l,d+=p.length}}return i},e}();exports.Geometry=z;var j=function(e){function t(){var t=e.call(this)||this;return t.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),t}return h(t,e),t}(z);exports.Quad=j;var Y=function(e){function t(){var t=e.call(this)||this;return t.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),t.uvs=new Float32Array([0,0,1,0,1,1,0,1]),t.vertexBuffer=new B(t.vertices),t.uvBuffer=new B(t.uvs),t.addAttribute("aVertexPosition",t.vertexBuffer).addAttribute("aTextureCoord",t.uvBuffer).addIndex([0,1,2,0,2,3]),t}return h(t,e),t.prototype.map=function(e,t){var r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+t.width/e.width,this.uvs[3]=i,this.uvs[4]=r+t.width/e.width,this.uvs[5]=i+t.height/e.height,this.uvs[6]=r,this.uvs[7]=i+t.height/e.height,r=t.x,i=t.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+t.width,this.vertices[3]=i,this.vertices[4]=r+t.width,this.vertices[5]=i+t.height,this.vertices[6]=r,this.vertices[7]=i+t.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(z);exports.QuadUv=Y;var W=0,K=function(){function e(e,t){this.uniforms=e,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=W++,this.static=!!t}return e.prototype.update=function(){this.dirtyId++},e.prototype.add=function(t,r,i){this.uniforms[t]=new e(r,i)},e.from=function(t,r){return new e(t,r)},e}();exports.UniformGroup=K;var q=function(){function e(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new o.Rectangle,this.destinationFrame=new o.Rectangle,this.filters=[]}return e.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},e}();exports.FilterState=q;var Q=function(e){function i(t){var r=e.call(this,t)||this;return r.defaultFilterStack=[{}],r.texturePool=new F,r.texturePool.setScreenSize(t.view),r.statePool=[],r.quad=new j,r.quadUv=new Y,r.tempRect=new o.Rectangle,r.activeState={},r.globalUniforms=new K({outputFrame:r.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),r.forceClear=!1,r.useMaxPadding=!1,r}return h(i,e),i.prototype.push=function(e,t){for(var r=this.renderer,i=this.defaultFilterStack,n=this.statePool.pop()||new q,o=t[0].resolution,s=t[0].padding,a=t[0].autoFit,u=t[0].legacy,h=1;h<t.length;h++){var l=t[h];o=Math.min(o,l.resolution),s=this.useMaxPadding?Math.max(s,l.padding):s+l.padding,a=a&&l.autoFit,u=u||l.legacy}1===i.length&&(this.defaultFilterStack[0].renderTexture=r.renderTexture.current),i.push(n),n.resolution=o,n.legacy=u,n.target=e,n.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),n.sourceFrame.pad(s),a&&n.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),n.sourceFrame.ceil(o),n.renderTexture=this.getOptimalFilterTexture(n.sourceFrame.width,n.sourceFrame.height,o),n.filters=t,n.destinationFrame.width=n.renderTexture.width,n.destinationFrame.height=n.renderTexture.height;var d=this.tempRect;d.width=n.sourceFrame.width,d.height=n.sourceFrame.height,n.renderTexture.filterFrame=n.sourceFrame,r.renderTexture.bind(n.renderTexture,n.sourceFrame,d),r.renderTexture.clear()},i.prototype.pop=function(){var e=this.defaultFilterStack,r=e.pop(),i=r.filters;this.activeState=r;var n=this.globalUniforms.uniforms;n.outputFrame=r.sourceFrame,n.resolution=r.resolution;var o=n.inputSize,s=n.inputPixel,a=n.inputClamp;if(o[0]=r.destinationFrame.width,o[1]=r.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],s[0]=o[0]*r.resolution,s[1]=o[1]*r.resolution,s[2]=1/s[0],s[3]=1/s[1],a[0]=.5*s[2],a[1]=.5*s[3],a[2]=r.sourceFrame.width*o[2]-.5*s[2],a[3]=r.sourceFrame.height*o[3]-.5*s[3],r.legacy){var u=n.filterArea;u[0]=r.destinationFrame.width,u[1]=r.destinationFrame.height,u[2]=r.sourceFrame.x,u[3]=r.sourceFrame.y,n.filterClamp=n.inputClamp}this.globalUniforms.update();var h=e[e.length-1];if(r.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),1===i.length)i[0].apply(this,r.renderTexture,h.renderTexture,t.CLEAR_MODES.BLEND,r),this.returnFilterTexture(r.renderTexture);else{var l=r.renderTexture,d=this.getOptimalFilterTexture(l.width,l.height,r.resolution);d.filterFrame=l.filterFrame;var c=0;for(c=0;c<i.length-1;++c){i[c].apply(this,l,d,t.CLEAR_MODES.CLEAR,r);var f=l;l=d,d=f}i[c].apply(this,l,h.renderTexture,t.CLEAR_MODES.BLEND,r),this.returnFilterTexture(l),this.returnFilterTexture(d)}r.clear(),this.statePool.push(r)},i.prototype.bindAndClear=function(e,i){if(void 0===i&&(i=t.CLEAR_MODES.CLEAR),e&&e.filterFrame){var n=this.tempRect;n.width=e.filterFrame.width,n.height=e.filterFrame.height,this.renderer.renderTexture.bind(e,e.filterFrame,n)}else this.renderer.renderTexture.bind(e);"boolean"==typeof i&&(i=i?t.CLEAR_MODES.CLEAR:t.CLEAR_MODES.BLEND,(0,r.deprecation)("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(i===t.CLEAR_MODES.CLEAR||i===t.CLEAR_MODES.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},i.prototype.applyFilter=function(e,r,i,n){var o=this.renderer;this.bindAndClear(i,n),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,o.state.set(e.state),o.shader.bind(e),e.legacy?(this.quadUv.map(r._frame,r.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(t.DRAW_MODES.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(t.DRAW_MODES.TRIANGLE_STRIP))},i.prototype.calculateSpriteMatrix=function(e,t){var r=this.activeState,i=r.sourceFrame,n=r.destinationFrame,s=t._texture.orig,a=e.set(n.width,0,0,n.height,i.x,i.y),u=t.worldTransform.copyTo(o.Matrix.TEMP_MATRIX);return u.invert(),a.prepend(u),a.scale(1/s.width,1/s.height),a.translate(t.anchor.x,t.anchor.y),a},i.prototype.destroy=function(){this.texturePool.clear(!1)},i.prototype.getOptimalFilterTexture=function(e,t,r){return void 0===r&&(r=1),this.texturePool.getOptimalTexture(e,t,r)},i.prototype.getFilterTexture=function(e,t){if("number"==typeof e){var r=e;e=t,t=r}e=e||this.activeState.renderTexture;var i=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution);return i.filterFrame=e.filterFrame,i},i.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},i.prototype.emptyPool=function(){this.texturePool.clear(!0)},i.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},i}(S),Z=function(){function e(e){this.renderer=e}return e.prototype.flush=function(){},e.prototype.destroy=function(){this.renderer=null},e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.render=function(e){},e}();exports.ObjectRenderer=Z;var $=function(e){function t(t){var r=e.call(this,t)||this;return r.emptyRenderer=new Z(t),r.currentRenderer=r.emptyRenderer,r}return h(t,e),t.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(e,t){for(var r=this.renderer.texture.boundTextures,i=t-1;i>=0;--i)e[i]=r[i]||null,e[i]&&(e[i]._batchLocation=i)},t.prototype.boundArray=function(e,t,r,i){for(var n=e.elements,o=e.ids,s=e.count,a=0,u=0;u<s;u++){var h=n[u],l=h._batchLocation;if(l>=0&&l<i&&t[l]===h)o[u]=l;else for(;a<i;){var d=t[a];if(!d||d._batchEnabled!==r||d._batchLocation!==a){o[u]=a,h._batchLocation=a,t[a]=h;break}a++}}},t}(S),J=0,ee=function(r){function i(e){var t=r.call(this,e)||this;return t.webGLVersion=1,t.extensions={},t.supports={uint32Indices:!1},t.handleContextLost=t.handleContextLost.bind(t),t.handleContextRestored=t.handleContextRestored.bind(t),e.view.addEventListener("webglcontextlost",t.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",t.handleContextRestored,!1),t}return h(i,r),Object.defineProperty(i.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),i.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=J++,e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext()},i.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=J++,this.renderer.runners.contextChange.emit(e)},i.prototype.initFromOptions=function(e){var t=this.createContext(this.renderer.view,e);this.initFromContext(t)},i.prototype.createContext=function(r,i){var n;if(e.settings.PREFER_ENV>=t.ENV.WEBGL2&&(n=r.getContext("webgl2",i)),n)this.webGLVersion=2;else if(this.webGLVersion=1,!(n=r.getContext("webgl",i)||r.getContext("experimental-webgl",i)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},i.prototype.getExtensions=function(){var e=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),loseContext:e.getExtension("WEBGL_lose_context"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:e.getExtension("EXT_color_buffer_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear")})},i.prototype.handleContextLost=function(e){e.preventDefault()},i.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},i.prototype.destroy=function(){var e=this.renderer.view;e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},i.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},i.prototype.validateContext=function(e){var t=e.getContextAttributes(),r="WebGL2RenderingContext"in window&&e instanceof window.WebGL2RenderingContext;r&&(this.webGLVersion=2),t.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},i}(S),te=function(){return function(e){this.framebuffer=e,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=t.MSAA_QUALITY.NONE,this.msaaBuffer=null,this.blitFramebuffer=null}}();exports.GLFramebuffer=te;var re=new o.Rectangle,ie=function(r){function i(e){var t=r.call(this,e)||this;return t.managedFramebuffers=[],t.unknownFramebuffer=new A(10,10),t.msaaSamples=null,t}return h(i,r),i.prototype.contextChange=function(){var r=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new o.Rectangle,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var i=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;e.settings.PREFER_ENV===t.ENV.WEBGL_LEGACY&&(i=null,n=null),i?r.drawBuffers=function(e){return i.drawBuffersWEBGL(e)}:(this.hasMRT=!1,r.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=r.getInternalformatParameter(r.RENDERBUFFER,r.RGBA8,r.SAMPLES)},i.prototype.bind=function(e,t){var r=this.gl;if(e){var i=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,r.bindFramebuffer(r.FRAMEBUFFER,i.framebuffer)),i.dirtyId!==e.dirtyId&&(i.dirtyId=e.dirtyId,i.dirtyFormat!==e.dirtyFormat?(i.dirtyFormat=e.dirtyFormat,this.updateFramebuffer(e)):i.dirtySize!==e.dirtySize&&(i.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var n=0;n<e.colorTextures.length;n++){var o=e.colorTextures[n];this.renderer.texture.unbind(o.parentTextureArray||o)}e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,e.width,e.height)}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},i.prototype.setViewport=function(e,t,r,i){var n=this.viewport;n.width===r&&n.height===i&&n.x===e&&n.y===t||(n.x=e,n.y=t,n.width=r,n.height=i,this.gl.viewport(e,t,r,i))},Object.defineProperty(i.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),i.prototype.clear=function(e,r,i,n,o){void 0===o&&(o=t.BUFFER_BITS.COLOR|t.BUFFER_BITS.DEPTH);var s=this.gl;s.clearColor(e,r,i,n),s.clear(o)},i.prototype.initFramebuffer=function(e){var t=this.gl,r=new te(t.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r},i.prototype.resizeFramebuffer=function(e){var t=this.gl,r=e.glFramebuffers[this.CONTEXT_UID];r.stencil&&(t.bindRenderbuffer(t.RENDERBUFFER,r.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height));for(var i=e.colorTextures,n=0;n<i.length;n++)this.renderer.texture.bind(i[n],0);e.depthTexture&&this.renderer.texture.bind(e.depthTexture,0)},i.prototype.updateFramebuffer=function(e){var t=this.gl,r=e.glFramebuffers[this.CONTEXT_UID],i=e.colorTextures.length;t.drawBuffers||(i=Math.min(i,1)),r.multisample>1&&(r.msaaBuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,r.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,t.RGBA8,e.width,e.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,r.msaaBuffer));for(var n=[],o=0;o<i;o++)if(!(0===o&&r.multisample>1)){var s=e.colorTextures[o],a=s.parentTextureArray||s;this.renderer.texture.bind(a,0),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+o,s.target,a._glTextures[this.CONTEXT_UID].texture,0),n.push(t.COLOR_ATTACHMENT0+o)}if((n.length>1&&t.drawBuffers(n),e.depthTexture)&&this.writeDepthTexture){var u=e.depthTexture;this.renderer.texture.bind(u,0),t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,u._glTextures[this.CONTEXT_UID].texture,0)}r.stencil||!e.stencil&&!e.depth||(r.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,r.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height),e.depthTexture||t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,r.stencil))},i.prototype.detectSamples=function(e){var r=this.msaaSamples,i=t.MSAA_QUALITY.NONE;if(e<=1||null===r)return i;for(var n=0;n<r.length;n++)if(r[n]<=e){i=r[n];break}return 1===i&&(i=t.MSAA_QUALITY.NONE),i},i.prototype.blit=function(e,t,r){var i=this.current,n=this.renderer,o=this.gl,s=this.CONTEXT_UID;if(2===n.context.webGLVersion&&i){var a=i.glFramebuffers[s];if(a){if(!e){if(a.multisample<=1)return;a.blitFramebuffer||(a.blitFramebuffer=new A(i.width,i.height),a.blitFramebuffer.addColorTexture(0,i.colorTextures[0])),(e=a.blitFramebuffer).width=i.width,e.height=i.height}t||((t=re).width=i.width,t.height=i.height),r||(r=t);var u=t.width===r.width&&t.height===r.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,a.framebuffer),o.blitFramebuffer(t.x,t.y,t.width,t.height,r.x,r.y,r.width,r.height,o.COLOR_BUFFER_BIT,u?o.NEAREST:o.LINEAR)}}},i.prototype.disposeFramebuffer=function(e,t){var r=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(r){delete e.glFramebuffers[this.CONTEXT_UID];var n=this.managedFramebuffers.indexOf(e);n>=0&&this.managedFramebuffers.splice(n,1),e.disposeRunner.remove(this),t||(i.deleteFramebuffer(r.framebuffer),r.stencil&&i.deleteRenderbuffer(r.stencil))}},i.prototype.disposeAll=function(e){var t=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<t.length;r++)this.disposeFramebuffer(t[r],e)},i.prototype.forceStencil=function(){var e=this.current;if(e){var t=e.glFramebuffers[this.CONTEXT_UID];if(t&&!t.stencil){e.enableStencil();var r=e.width,i=e.height,n=this.gl,o=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,o),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,r,i),t.stencil=o,n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,o)}}},i.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new o.Rectangle},i}(S),ne=function(){return function(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}(),oe={5126:4,5123:2,5121:1},se=function(r){function i(e){var t=r.call(this,e)||this;return t._activeGeometry=null,t._activeVao=null,t.hasVao=!0,t.hasInstance=!0,t.canUseUInt32ElementIndex=!1,t.managedGeometries={},t.managedBuffers={},t}return h(i,r),i.prototype.contextChange=function(){this.disposeAll(!0);var r=this.gl=this.renderer.gl,i=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==i.webGLVersion){var n=this.renderer.context.extensions.vertexArrayObject;e.settings.PREFER_ENV===t.ENV.WEBGL_LEGACY&&(n=null),n?(r.createVertexArray=function(){return n.createVertexArrayOES()},r.bindVertexArray=function(e){return n.bindVertexArrayOES(e)},r.deleteVertexArray=function(e){return n.deleteVertexArrayOES(e)}):(this.hasVao=!1,r.createVertexArray=function(){return null},r.bindVertexArray=function(){return null},r.deleteVertexArray=function(){return null})}if(2!==i.webGLVersion){var o=r.getExtension("ANGLE_instanced_arrays");o?(r.vertexAttribDivisor=function(e,t){return o.vertexAttribDivisorANGLE(e,t)},r.drawElementsInstanced=function(e,t,r,i,n){return o.drawElementsInstancedANGLE(e,t,r,i,n)},r.drawArraysInstanced=function(e,t,r,i){return o.drawArraysInstancedANGLE(e,t,r,i)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===i.webGLVersion||!!i.extensions.uint32ElementIndex},i.prototype.bind=function(e,t){t=t||this.renderer.shader.shader;var r=this.gl,i=e.glVertexArrayObjects[this.CONTEXT_UID];i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={});var n=i[t.program.id]||this.initGeometryVao(e,t.program);this._activeGeometry=e,this._activeVao!==n&&(this._activeVao=n,this.hasVao?r.bindVertexArray(n):this.activateVao(e,t.program)),this.updateBuffers()},i.prototype.reset=function(){this.unbind()},i.prototype.updateBuffers=function(){for(var e=this._activeGeometry,t=this.gl,r=0;r<e.buffers.length;r++){var i=e.buffers[r],n=i._glBuffers[this.CONTEXT_UID];if(i._updateID!==n.updateID){n.updateID=i._updateID;var o=i.index?t.ELEMENT_ARRAY_BUFFER:t.ARRAY_BUFFER;if(t.bindBuffer(o,n.buffer),this._boundBuffer=n,n.byteLength>=i.data.byteLength)t.bufferSubData(o,0,i.data);else{var s=i.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;n.byteLength=i.data.byteLength,t.bufferData(o,i.data,s)}}}},i.prototype.checkCompatibility=function(e,t){var r=e.attributes,i=t.attributeData;for(var n in i)if(!r[n])throw new Error('shader and geometry incompatible, geometry missing the "'+n+'" attribute')},i.prototype.getSignature=function(e,t){var r=e.attributes,i=t.attributeData,n=["g",e.id];for(var o in r)i[o]&&n.push(o);return n.join("-")},i.prototype.initGeometryVao=function(e,t){this.checkCompatibility(e,t);var r=this.gl,i=this.CONTEXT_UID,n=this.getSignature(e,t),o=e.glVertexArrayObjects[this.CONTEXT_UID],s=o[n];if(s)return o[t.id]=s,s;var a=e.buffers,u=e.attributes,h={},l={};for(var d in a)h[d]=0,l[d]=0;for(var d in u)!u[d].size&&t.attributeData[d]?u[d].size=t.attributeData[d].size:u[d].size||console.warn("PIXI Geometry attribute '"+d+"' size cannot be determined (likely the bound shader does not have the attribute)"),h[u[d].buffer]+=u[d].size*oe[u[d].type];for(var d in u){var c=u[d],f=c.size;void 0===c.stride&&(h[c.buffer]===f*oe[c.type]?c.stride=0:c.stride=h[c.buffer]),void 0===c.start&&(c.start=l[c.buffer],l[c.buffer]+=f*oe[c.type])}s=r.createVertexArray(),r.bindVertexArray(s);for(var p=0;p<a.length;p++){var m=a[p];m._glBuffers[i]||(m._glBuffers[i]=new ne(r.createBuffer()),this.managedBuffers[m.id]=m,m.disposeRunner.add(this)),m._glBuffers[i].refCount++}return this.activateVao(e,t),this._activeVao=s,o[t.id]=s,o[n]=s,s},i.prototype.disposeBuffer=function(e,t){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var r=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),r&&(t||i.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}},i.prototype.disposeGeometry=function(e,t){if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var r=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,n=e.buffers;if(e.disposeRunner.remove(this),r){for(var o=0;o<n.length;o++){var s=n[o]._glBuffers[this.CONTEXT_UID];s.refCount--,0!==s.refCount||t||this.disposeBuffer(n[o],t)}if(!t)for(var a in r)if("g"===a[0]){var u=r[a];this._activeVao===u&&this.unbind(),i.deleteVertexArray(u)}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},i.prototype.disposeAll=function(e){for(var t=Object.keys(this.managedGeometries),r=0;r<t.length;r++)this.disposeGeometry(this.managedGeometries[t[r]],e);t=Object.keys(this.managedBuffers);for(r=0;r<t.length;r++)this.disposeBuffer(this.managedBuffers[t[r]],e)},i.prototype.activateVao=function(e,t){var r=this.gl,i=this.CONTEXT_UID,n=e.buffers,o=e.attributes;e.indexBuffer&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,e.indexBuffer._glBuffers[i].buffer);var s=null;for(var a in o){var u=o[a],h=n[u.buffer]._glBuffers[i];if(t.attributeData[a]){s!==h&&(r.bindBuffer(r.ARRAY_BUFFER,h.buffer),s=h);var l=t.attributeData[a].location;if(r.enableVertexAttribArray(l),r.vertexAttribPointer(l,u.size,u.type||r.FLOAT,u.normalized,u.stride,u.start),u.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(l,1)}}}},i.prototype.draw=function(e,t,r,i){var n=this.gl,o=this._activeGeometry;if(o.indexBuffer){var s=o.indexBuffer.data.BYTES_PER_ELEMENT,a=2===s?n.UNSIGNED_SHORT:n.UNSIGNED_INT;2===s||4===s&&this.canUseUInt32ElementIndex?o.instanced?n.drawElementsInstanced(e,t||o.indexBuffer.data.length,a,(r||0)*s,i||1):n.drawElements(e,t||o.indexBuffer.data.length,a,(r||0)*s):console.warn("unsupported index buffer type: uint32")}else o.instanced?n.drawArraysInstanced(e,r,t||o.getSize(),i||1):n.drawArrays(e,r,t||o.getSize());return this},i.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},i}(S),ae=function(){function e(e){void 0===e&&(e=null),this.type=t.MASK_TYPES.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return e.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=t.MASK_TYPES.NONE,this.autoDetect=!0),this._target=null},e.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},e}();function ue(e,t,r){var i=e.createShader(t);return e.shaderSource(i,r),e.compileShader(i),i}function he(e,t,r,i){var n=ue(e,e.VERTEX_SHADER,t),o=ue(e,e.FRAGMENT_SHADER,r),s=e.createProgram();if(e.attachShader(s,n),e.attachShader(s,o),i)for(var a in i)e.bindAttribLocation(s,i[a],a);return e.linkProgram(s),e.getProgramParameter(s,e.LINK_STATUS)||(e.getShaderParameter(n,e.COMPILE_STATUS)||(console.warn(t),console.error(e.getShaderInfoLog(n))),e.getShaderParameter(o,e.COMPILE_STATUS)||(console.warn(r),console.error(e.getShaderInfoLog(o))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",e.getProgramParameter(s,e.VALIDATE_STATUS)),console.error("gl.getError()",e.getError()),""!==e.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(s)),e.deleteProgram(s),s=null),e.deleteShader(n),e.deleteShader(o),s}function le(e){for(var t=new Array(e),r=0;r<t.length;r++)t[r]=!1;return t}function de(e,t){switch(e){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"bool":return!1;case"bvec2":return le(2*t);case"bvec3":return le(3*t);case"bvec4":return le(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}exports.MaskData=ae;var ce,fe={},pe=fe;function me(){if(pe===fe||pe&&pe.isContextLost()){var r=document.createElement("canvas"),i=void 0;e.settings.PREFER_ENV>=t.ENV.WEBGL2&&(i=r.getContext("webgl2",{})),i||((i=r.getContext("webgl",{})||r.getContext("experimental-webgl",{}))?i.getExtension("WEBGL_draw_buffers"):i=null),pe=i}return pe}function ve(){if(!ce){ce=t.PRECISION.MEDIUM;var e=me();if(e&&e.getShaderPrecisionFormat){var r=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);ce=r.precision?t.PRECISION.HIGH:t.PRECISION.MEDIUM}}return ce}function ge(e,r,i){if("precision"!==e.substring(0,9)){var n=r;return r===t.PRECISION.HIGH&&i!==t.PRECISION.HIGH&&(n=t.PRECISION.MEDIUM),"precision "+n+" float;\n"+e}return i!==t.PRECISION.HIGH&&"precision highp"===e.substring(0,15)?e.replace("precision highp","precision mediump"):e}var ye={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function xe(e){return ye[e]}var _e=null,Ee={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Te(e,t){if(!_e){var r=Object.keys(Ee);_e={};for(var i=0;i<r.length;++i){var n=r[i];_e[e[n]]=Ee[n]}}return _e[t]}var be=[{test:function(e){return"float"===e.type&&1===e.size},code:function(e){return'\n            if(uv["'+e+'"] !== ud["'+e+'"].value)\n            {\n                ud["'+e+'"].value = uv["'+e+'"]\n                gl.uniform1f(ud["'+e+'"].location, uv["'+e+'"])\n            }\n            '}},{test:function(e){return("sampler2D"===e.type||"samplerCube"===e.type||"sampler2DArray"===e.type)&&1===e.size&&!e.isArray},code:function(e){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+e+'"], t);\n\n            if(ud["'+e+'"].value !== t)\n            {\n                ud["'+e+'"].value = t;\n                gl.uniform1i(ud["'+e+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(e,t){return"mat3"===e.type&&1===e.size&&void 0!==t.a},code:function(e){return'\n            gl.uniformMatrix3fv(ud["'+e+'"].location, false, uv["'+e+'"].toArray(true));\n            '}},{test:function(e,t){return"vec2"===e.type&&1===e.size&&void 0!==t.x},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+e+'"].location, v.x, v.y);\n                }'}},{test:function(e){return"vec2"===e.type&&1===e.size},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+e+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(e,t){return"vec4"===e.type&&1===e.size&&void 0!==t.width},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+e+'"].location, v.x, v.y, v.width, v.height)\n                }'}},{test:function(e){return"vec4"===e.type&&1===e.size},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+e+'"].location, v[0], v[1], v[2], v[3])\n                }'}}];exports.uniformParsers=be;var Se={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},we={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function Ae(e,t){var r=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(var i in e.uniforms){var n=t[i];if(n){for(var o=e.uniforms[i],s=!1,a=0;a<be.length;a++)if(be[a].test(n,o)){r.push(be[a].code(i,o)),s=!0;break}if(!s){var u=(1===n.size?Se:we)[n.type].replace("location",'ud["'+i+'"].location');r.push('\n            cv = ud["'+i+'"].value;\n            v = uv["'+i+'"];\n            '+u+";")}}else e.uniforms[i].group&&r.push('\n                    renderer.shader.syncUniformGroup(uv["'+i+'"], syncData);\n                ')}return new Function("ud","uv","renderer","syncData",r.join("\n"))}var Ce,Re=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Ie(e){for(var t="",r=0;r<e;++r)r>0&&(t+="\nelse "),r<e-1&&(t+="if(test == "+r+".0){}");return t}function Oe(e,t){if(0===e)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=t.createShader(t.FRAGMENT_SHADER);;){var i=Re.replace(/%forloop%/gi,Ie(e));if(t.shaderSource(r,i),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS))break;e=e/2|0}return e}function Pe(){if("boolean"==typeof Ce)return Ce;try{var e=new Function("param1","param2","param3","return param1[param2] === param3;");Ce=!0===e({a:"b"},"a","b")}catch(t){Ce=!1}return Ce}var Me="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}",De="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n",Fe=0,Ne={},Le=function(){function i(r,n,o){void 0===o&&(o="pixi-shader"),this.id=Fe++,this.vertexSrc=r||i.defaultVertexSrc,this.fragmentSrc=n||i.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(o=o.replace(/\s+/g,"-"),Ne[o]?(Ne[o]++,o+="-"+Ne[o]):Ne[o]=1,this.vertexSrc="#define SHADER_NAME "+o+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+o+"\n"+this.fragmentSrc,this.vertexSrc=ge(this.vertexSrc,e.settings.PRECISION_VERTEX,t.PRECISION.HIGH),this.fragmentSrc=ge(this.fragmentSrc,e.settings.PRECISION_FRAGMENT,ve())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return i.prototype.extractData=function(e,t){var r=me();if(r){var i=he(r,e,t);this.attributeData=this.getAttributeData(i,r),this.uniformData=this.getUniformData(i,r),r.deleteProgram(i)}else this.uniformData={},this.attributeData={}},i.prototype.getAttributeData=function(e,t){for(var r={},i=[],n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),o=0;o<n;o++){var s=t.getActiveAttrib(e,o),a=Te(t,s.type),u={type:a,name:s.name,size:xe(a),location:0};r[s.name]=u,i.push(u)}i.sort(function(e,t){return e.name>t.name?1:-1});for(o=0;o<i.length;o++)i[o].location=o;return r},i.prototype.getUniformData=function(e,t){for(var r={},i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),n=0;n<i;n++){var o=t.getActiveUniform(e,n),s=o.name.replace(/\[.*?\]$/,""),a=o.name.match(/\[.*?\]$/),u=Te(t,o.type);r[s]={type:u,size:o.size,isArray:a,value:de(u,o.size)}}return r},Object.defineProperty(i,"defaultVertexSrc",{get:function(){return De},enumerable:!1,configurable:!0}),Object.defineProperty(i,"defaultFragmentSrc",{get:function(){return Me},enumerable:!1,configurable:!0}),i.from=function(e,t,n){var o=e+t,s=r.ProgramCache[o];return s||(r.ProgramCache[o]=s=new i(e,t,n)),s},i}();exports.Program=Le;var Be=function(){function e(e,t){for(var r in this.program=e,this.uniformGroup=t?t instanceof K?t:new K(t):new K({}),e.uniformData)this.uniformGroup.uniforms[r]instanceof Array&&(this.uniformGroup.uniforms[r]=new Float32Array(this.uniformGroup.uniforms[r]))}return e.prototype.checkUniformExists=function(e,t){if(t.uniforms[e])return!0;for(var r in t.uniforms){var i=t.uniforms[r];if(i.group&&this.checkUniformExists(e,i))return!0}return!1},e.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(e.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),e.from=function(t,r,i){return new e(Le.from(t,r),i)},e}();exports.Shader=Be;var Ue=0,ke=1,Ge=2,Ve=3,Xe=4,He=function(){function e(){this.data=0,this.blendMode=t.BLEND_MODES.NORMAL,this.polygonOffset=0,this.blend=!0}return Object.defineProperty(e.prototype,"blend",{get:function(){return!!(this.data&1<<Ue)},set:function(e){!!(this.data&1<<Ue)!==e&&(this.data^=1<<Ue)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return!!(this.data&1<<ke)},set:function(e){!!(this.data&1<<ke)!==e&&(this.data^=1<<ke)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"culling",{get:function(){return!!(this.data&1<<Ge)},set:function(e){!!(this.data&1<<Ge)!==e&&(this.data^=1<<Ge)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthTest",{get:function(){return!!(this.data&1<<Ve)},set:function(e){!!(this.data&1<<Ve)!==e&&(this.data^=1<<Ve)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<Xe)},set:function(e){!!(this.data&1<<Xe)!==e&&(this.data^=1<<Xe)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==t.BLEND_MODES.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),e.for2d=function(){var t=new e;return t.depthTest=!1,t.blend=!0,t},e}();exports.State=He;var ze="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",je="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n",Ye=function(t){function r(i,n,o){var s=this,a=Le.from(i||r.defaultVertexSrc,n||r.defaultFragmentSrc);return(s=t.call(this,a,o)||this).padding=0,s.resolution=e.settings.FILTER_RESOLUTION,s.enabled=!0,s.autoFit=!0,s.legacy=!!s.program.attributeData.aTextureCoord,s.state=new He,s}return h(r,t),r.prototype.apply=function(e,t,r,i,n){e.applyFilter(this,t,r,i)},Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(r,"defaultVertexSrc",{get:function(){return ze},enumerable:!1,configurable:!0}),Object.defineProperty(r,"defaultFragmentSrc",{get:function(){return je},enumerable:!1,configurable:!0}),r}(Be);exports.Filter=Ye;var We="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",Ke="varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",qe=new o.Matrix,Qe=function(){function e(e,t){this._texture=e,this.mapCoord=new o.Matrix,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===t?.5:t,this.isSimple=!1}return Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),e.prototype.multiplyUvs=function(e,t){void 0===t&&(t=e);for(var r=this.mapCoord,i=0;i<e.length;i+=2){var n=e[i],o=e[i+1];t[i]=n*r.a+o*r.c+r.tx,t[i+1]=n*r.b+o*r.d+r.ty}return t},e.prototype.update=function(e){var t=this._texture;if(!t||!t.valid)return!1;if(!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;var r=t._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var i=t.orig,n=t.trim;n&&(qe.set(i.width/n.width,0,0,i.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(qe));var o=t.baseTexture,s=this.uClampFrame,a=this.clampMargin/o.resolution,u=this.clampOffset;return s[0]=(t._frame.x+a+u)/o.width,s[1]=(t._frame.y+a+u)/o.height,s[2]=(t._frame.x+t._frame.width-a+u)/o.width,s[3]=(t._frame.y+t._frame.height-a+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,this.isSimple=t._frame.width===o.width&&t._frame.height===o.height&&0===t.rotate,!0},e}();exports.TextureMatrix=Qe;var Ze=function(e){function t(t){var r=this,i=new o.Matrix;return r=e.call(this,We,Ke)||this,t.renderable=!1,r.maskSprite=t,r.maskMatrix=i,r}return h(t,e),t.prototype.apply=function(e,t,r,i){var n=this.maskSprite,o=n._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Qe(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,n).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,t,r,i))},t}(Ye);exports.SpriteMaskFilter=Ze;var $e=function(e){function r(t){var r=e.call(this,t)||this;return r.enableScissor=!1,r.alphaMaskPool=[],r.maskDataPool=[],r.maskStack=[],r.alphaMaskIndex=0,r}return h(r,e),r.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},r.prototype.push=function(e,r){var i=r;if(!i.isMaskData){var n=this.maskDataPool.pop()||new ae;n.pooled=!0,n.maskObject=r,i=n}switch(i.autoDetect&&this.detect(i),i.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),i._target=e,i.type){case t.MASK_TYPES.SCISSOR:this.maskStack.push(i),this.renderer.scissor.push(i);break;case t.MASK_TYPES.STENCIL:this.maskStack.push(i),this.renderer.stencil.push(i);break;case t.MASK_TYPES.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i),this.maskStack.push(i)}},r.prototype.pop=function(e){var r=this.maskStack.pop();if(r&&r._target===e){switch(r.type){case t.MASK_TYPES.SCISSOR:this.renderer.scissor.pop();break;case t.MASK_TYPES.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case t.MASK_TYPES.SPRITE:this.popSpriteMask()}r.reset(),r.pooled&&this.maskDataPool.push(r)}},r.prototype.detect=function(e){var r=e.maskObject;if(r.isSprite)e.type=t.MASK_TYPES.SPRITE;else if(e.type=t.MASK_TYPES.STENCIL,this.enableScissor&&r.isFastRect&&r.isFastRect()){var i=r.worldTransform,n=Math.atan2(i.b,i.a),o=Math.atan2(i.d,i.c);n=Math.round(n*(180/Math.PI)*100),o=((o=Math.round(o*(180/Math.PI)*100)-n)%18e3+18e3)%18e3,0===(n=(n%9e3+9e3)%9e3)&&9e3===o&&(e.type=t.MASK_TYPES.SCISSOR)}},r.prototype.pushSpriteMask=function(e){var t=e.maskObject,r=e._target,i=this.alphaMaskPool[this.alphaMaskIndex];i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new Ze(t)]),i[0].resolution=this.renderer.resolution,i[0].maskSprite=t;var n=r.filterArea;r.filterArea=t.getBounds(!0),this.renderer.filter.push(r,i),r.filterArea=n,this.alphaMaskIndex++},r.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},r}(S),Je=function(e){function t(t){var r=e.call(this,t)||this;return r.maskStack=[],r.glConst=0,r}return h(t,e),t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(e){var t=this.renderer.gl,r=this.getStackLength();this.maskStack=e;var i=this.getStackLength();i!==r&&(0===i?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.maskStack=null},t}(S),et=function(e){function t(t){var r=e.call(this,t)||this;return r.glConst=WebGLRenderingContext.SCISSOR_TEST,r}return h(t,e),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},t.prototype.push=function(e){var t=e.maskObject;t.renderable=!0;var r=e._scissorRect,i=t.getBounds(!0),n=this.renderer.gl;t.renderable=!1,r?i.fit(r):n.enable(n.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=i,this._useCurrent()},t.prototype.pop=function(){var e=this.renderer.gl;this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},t.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect,t=this.renderer.renderTexture.current,r=this.renderer.projection,i=r.transform,n=r.sourceFrame,o=r.destinationFrame,s=t?t.resolution:this.renderer.resolution,a=(e.x-n.x)*s+o.x,u=(e.y-n.y)*s+o.y,h=e.width*s,l=e.height*s;i&&(a+=i.tx*s,u+=i.ty*s),t||(u=this.renderer.height-l-u),this.renderer.gl.scissor(a,u,h,l)},t}(Je),tt=function(e){function t(t){var r=e.call(this,t)||this;return r.glConst=WebGLRenderingContext.STENCIL_TEST,r}return h(t,e),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},t.prototype.push=function(e){var t=e.maskObject,r=this.renderer.gl,i=e._stencilCounter;0===i&&(this.renderer.framebuffer.forceStencil(),r.enable(r.STENCIL_TEST)),e._stencilCounter++,r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.EQUAL,i,this._getBitwiseMask()),r.stencilOp(r.KEEP,r.KEEP,r.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent()},t.prototype.pop=function(e){var t=this.renderer.gl;0===this.getStackLength()?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},t.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},t}(Je),rt=function(e){function t(t){var r=e.call(this,t)||this;return r.destinationFrame=null,r.sourceFrame=null,r.defaultFrame=null,r.projectionMatrix=new o.Matrix,r.transform=null,r}return h(t,e),t.prototype.update=function(e,t,r,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);var n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(e,t,r,i){var n=this.projectionMatrix,o=i?-1:1;n.identity(),n.a=1/t.width*2,n.d=o*(1/t.height*2),n.tx=-1-t.x*n.a,n.ty=-o-t.y*n.d},t.prototype.setTransform=function(e){},t}(S),it=new o.Rectangle,nt=new o.Rectangle,ot=new o.Rectangle,st=function(e){function t(t){var r=e.call(this,t)||this;return r.clearColor=t._backgroundColorRgba,r.defaultMaskStack=[],r.current=null,r.sourceFrame=new o.Rectangle,r.destinationFrame=new o.Rectangle,r}return h(t,e),t.prototype.bind=function(e,t,r){void 0===e&&(e=null);var i,n,o,s=this.renderer;this.current=e,e?(o=(i=e.baseTexture).resolution,t||(it.width=e.frame.width,it.height=e.frame.height,t=it),r||(nt.x=e.frame.x,nt.y=e.frame.y,nt.width=t.width,nt.height=t.height,r=nt),n=i.framebuffer):(o=s.resolution,t||(it.width=s.screen.width,it.height=s.screen.height,t=it),r||((r=it).width=t.width,r.height=t.height)),ot.x=r.x*o,ot.y=r.y*o,ot.width=r.width*o,ot.height=r.height*o,this.renderer.framebuffer.bind(n,ot),this.renderer.projection.update(r,t,o,!n),e?this.renderer.mask.setMaskStack(i.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(r)},t.prototype.clear=function(e,t){e=this.current?e||this.current.baseTexture.clearColor:e||this.clearColor,this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],t)},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t}(S),at=function(){return function(){}}();exports.IGLUniformData=at;var ut=function(){function e(e,t){this.program=e,this.uniformData=t,this.uniformGroups={}}return e.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},e}();exports.GLProgram=ut;var ht=0,lt={textureCount:0},dt=function(e){function t(t){var r=e.call(this,t)||this;return r.destroyed=!1,r.systemCheck(),r.gl=null,r.shader=null,r.program=null,r.cache={},r.id=ht++,r}return h(t,e),t.prototype.systemCheck=function(){if(!Pe())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(e){this.gl=e,this.reset()},t.prototype.bind=function(e,t){e.uniforms.globals=this.renderer.globalUniforms;var r=e.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),t||(lt.textureCount=0,this.syncUniformGroup(e.uniformGroup,lt)),i},t.prototype.setUniforms=function(e){var t=this.shader.program,r=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(r.uniformData,e,this.renderer)},t.prototype.syncUniformGroup=function(e,t){var r=this.getglProgram();e.static&&e.dirtyId===r.uniformGroups[e.id]||(r.uniformGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,t))},t.prototype.syncUniforms=function(e,t,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,r)},t.prototype.createSyncGroups=function(e){var t=this.getSignature(e,this.shader.program.uniformData);return this.cache[t]||(this.cache[t]=Ae(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]},t.prototype.getSignature=function(e,t){var r=e.uniforms,i=[];for(var n in r)i.push(n),t[n]&&i.push(t[n].type);return i.join("-")},t.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateShader=function(e){var t=this.gl,r=e.program,i={};for(var n in r.attributeData)i[n]=r.attributeData[n].location;var o=he(t,r.vertexSrc,r.fragmentSrc,i),s={};for(var n in r.uniformData){var a=r.uniformData[n];s[n]={location:t.getUniformLocation(o,n),value:de(a.type,a.size)}}var u=new ut(o,s);return r.glPrograms[this.renderer.CONTEXT_UID]=u,u},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.destroy=function(){this.destroyed=!0},t}(S);function ct(e,r){return void 0===r&&(r=[]),r[t.BLEND_MODES.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.ADD]=[e.ONE,e.ONE],r[t.BLEND_MODES.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.NONE]=[0,0],r[t.BLEND_MODES.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],r[t.BLEND_MODES.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.SRC_IN]=[e.DST_ALPHA,e.ZERO],r[t.BLEND_MODES.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],r[t.BLEND_MODES.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],r[t.BLEND_MODES.DST_IN]=[e.ZERO,e.SRC_ALPHA],r[t.BLEND_MODES.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],r[t.BLEND_MODES.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],r}var ft=0,pt=1,mt=2,vt=3,gt=4,yt=function(e){function r(r){var i=e.call(this,r)||this;return i.gl=null,i.stateId=0,i.polygonOffset=0,i.blendMode=t.BLEND_MODES.NONE,i._blendEq=!1,i.map=[],i.map[ft]=i.setBlend,i.map[pt]=i.setOffset,i.map[mt]=i.setCullFace,i.map[vt]=i.setDepthTest,i.map[gt]=i.setFrontFace,i.checks=[],i.defaultState=new He,i.defaultState.blend=!0,i}return h(r,e),r.prototype.contextChange=function(e){this.gl=e,this.blendModes=ct(e),this.set(this.defaultState),this.reset()},r.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var t=this.stateId^e.data,r=0;t;)1&t&&this.map[r].call(this,!!(e.data&1<<r)),t>>=1,r++;this.stateId=e.data}for(r=0;r<this.checks.length;r++)this.checks[r](this,e)},r.prototype.forceState=function(e){e=e||this.defaultState;for(var t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data},r.prototype.setBlend=function(e){this.updateCheck(r.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},r.prototype.setOffset=function(e){this.updateCheck(r.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},r.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},r.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},r.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},r.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var t=this.blendModes[e],r=this.gl;2===t.length?r.blendFunc(t[0],t[1]):r.blendFuncSeparate(t[0],t[1],t[2],t[3]),6===t.length?(this._blendEq=!0,r.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}},r.prototype.setPolygonOffset=function(e,t){this.gl.polygonOffset(e,t)},r.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},r.prototype.updateCheck=function(e,t){var r=this.checks.indexOf(e);t&&-1===r?this.checks.push(e):t||-1===r||this.checks.splice(r,1)},r.checkBlendMode=function(e,t){e.setBlendMode(t.blendMode)},r.checkPolygonOffset=function(e,t){e.setPolygonOffset(1,t.polygonOffset)},r}(S),xt=function(r){function i(t){var i=r.call(this,t)||this;return i.count=0,i.checkCount=0,i.maxIdle=e.settings.GC_MAX_IDLE,i.checkCountMax=e.settings.GC_MAX_CHECK_COUNT,i.mode=e.settings.GC_MODE,i}return h(i,r),i.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==t.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},i.prototype.run=function(){for(var e=this.renderer.texture,t=e.managedTextures,r=!1,i=0;i<t.length;i++){var n=t[i];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(e.destroyTexture(n,!0),t[i]=null,r=!0)}if(r){var o=0;for(i=0;i<t.length;i++)null!==t[i]&&(t[o++]=t[i]);t.length=o}},i.prototype.unload=function(e){var t,r=this.renderer.texture;(null===(t=e._texture)||void 0===t?void 0:t.framebuffer)&&r.destroyTexture(e._texture);for(var i=e.children.length-1;i>=0;i--)this.unload(e.children[i])},i}(S),_t=function(){return function(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121}}();exports.GLTexture=_t;var Et=function(e){function i(t){var r=e.call(this,t)||this;return r.boundTextures=[],r.currentLocation=-1,r.managedTextures=[],r._unknownBoundTextures=!1,r.unknownTexture=new f,r}return h(i,e),i.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(var r=0;r<t;r++)this.boundTextures[r]=null;this.emptyTextures={};var i=new _t(e.createTexture());e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=i,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new _t(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(r=0;r<6;r++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(r=0;r<this.boundTextures.length;r++)this.bind(null,r)},i.prototype.bind=function(e,t){void 0===t&&(t=0);var r=this.gl;if(e){if((e=e.castToBaseTexture()).parentTextureArray)return;if(e.valid){e.touched=this.renderer.textureGC.count;var i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId&&(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),this.updateTexture(e)),this.boundTextures[t]=e}}else this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[t]=null},i.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},i.prototype.unbind=function(e){var t=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var i=0;i<r.length;i++)r[i]===this.unknownTexture&&this.bind(null,i)}for(i=0;i<r.length;i++)r[i]===e&&(this.currentLocation!==i&&(t.activeTexture(t.TEXTURE0+i),this.currentLocation=i),t.bindTexture(e.target,this.emptyTextures[e.target].texture),r[i]=null)},i.prototype.initTexture=function(e){var t=new _t(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t},i.prototype.initTextureType=function(e,r){if(r.internalFormat=e.format,r.type=e.type,2===this.webGLVersion){var i=this.renderer.gl;e.type===i.FLOAT&&e.format===i.RGBA&&(r.internalFormat=i.RGBA32F),e.type===t.TYPES.HALF_FLOAT&&(r.type=i.HALF_FLOAT),r.type===i.HALF_FLOAT&&e.format===i.RGBA&&(r.internalFormat=i.RGBA16F)}},i.prototype.updateTexture=function(e){var t=e._glTextures[this.CONTEXT_UID];if(t){var r=this.renderer;if(this.initTextureType(e,t),e.resource&&e.resource.upload(r,e,t));else{var i=e.realWidth,n=e.realHeight,o=r.gl;(t.width!==i||t.height!==n||t.dirtyId<0)&&(t.width=i,t.height=n,o.texImage2D(e.target,0,t.internalFormat,i,n,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}},i.prototype.destroyTexture=function(e,t){var i=this.gl;if((e=e.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(e),i.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){var n=this.managedTextures.indexOf(e);-1!==n&&(0,r.removeItems)(this.managedTextures,n,1)}},i.prototype.updateTextureStyle=function(e){var r=e._glTextures[this.CONTEXT_UID];r&&(e.mipmap!==t.MIPMAP_MODES.POW2&&2===this.webGLVersion||e.isPowerOfTwo?r.mipmap=e.mipmap>=1:r.mipmap=!1,2===this.webGLVersion||e.isPowerOfTwo?r.wrapMode=e.wrapMode:r.wrapMode=t.WRAP_MODES.CLAMP,e.resource&&e.resource.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)},i.prototype.setStyle=function(e,r){var i=this.gl;if(r.mipmap&&i.generateMipmap(e.target),i.texParameteri(e.target,i.TEXTURE_WRAP_S,r.wrapMode),i.texParameteri(e.target,i.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===t.SCALE_MODES.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);var n=this.renderer.context.extensions.anisotropicFiltering;if(n&&e.anisotropicLevel>0&&e.scaleMode===t.SCALE_MODES.LINEAR){var o=Math.min(e.anisotropicLevel,i.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(e.target,n.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===t.SCALE_MODES.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(e.target,i.TEXTURE_MAG_FILTER,e.scaleMode===t.SCALE_MODES.LINEAR?i.LINEAR:i.NEAREST)},i}(S),Tt={FilterSystem:Q,BatchSystem:$,ContextSystem:ee,FramebufferSystem:ie,GeometrySystem:se,MaskSystem:$e,ScissorSystem:et,StencilSystem:tt,ProjectionSystem:rt,RenderTextureSystem:st,ShaderSystem:dt,StateSystem:yt,TextureGCSystem:xt,TextureSystem:Et};exports.systems=Tt;var bt=new o.Matrix,St=function(i){function n(n,s){void 0===n&&(n=t.RENDERER_TYPE.UNKNOWN);var a=i.call(this)||this;return(s=Object.assign({},e.settings.RENDER_OPTIONS,s)).roundPixels&&(e.settings.ROUND_PIXELS=s.roundPixels,(0,r.deprecation)("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),a.options=s,a.type=n,a.screen=new o.Rectangle(0,0,s.width,s.height),a.view=s.view||document.createElement("canvas"),a.resolution=s.resolution||e.settings.RESOLUTION,a.transparent=s.transparent,a.autoDensity=s.autoDensity||s.autoResize||!1,a.preserveDrawingBuffer=s.preserveDrawingBuffer,a.clearBeforeRender=s.clearBeforeRender,a._backgroundColor=0,a._backgroundColorRgba=[0,0,0,0],a._backgroundColorString="#000000",a.backgroundColor=s.backgroundColor||a._backgroundColor,a._lastObjectRendered=null,a.plugins={},a}return h(n,i),n.prototype.initPlugins=function(e){for(var t in e)this.plugins[t]=new e[t](this)},Object.defineProperty(n.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),n.prototype.resize=function(e,t){this.screen.width=e,this.screen.height=t,this.view.width=e*this.resolution,this.view.height=t*this.resolution,this.autoDensity&&(this.view.style.width=e+"px",this.view.style.height=t+"px"),this.emit("resize",e,t)},n.prototype.generateTexture=function(e,t,r,i){0===(i=i||e.getLocalBounds(null,!0)).width&&(i.width=1),0===i.height&&(i.height=1);var n=D.create({width:0|i.width,height:0|i.height,scaleMode:t,resolution:r});return bt.tx=-i.x,bt.ty=-i.y,this.render(e,n,!1,bt,!!e.parent),n},n.prototype.destroy=function(e){for(var r in this.plugins)this.plugins[r].destroy(),this.plugins[r]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);this.plugins=null,this.type=t.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this._tempDisplayObjectParent=null,this.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(n.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=(0,r.hex2string)(e),(0,r.hex2rgb)(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),n}(r.EventEmitter);exports.AbstractRenderer=St;var wt=function(e){function n(s){var a=e.call(this,t.RENDERER_TYPE.WEBGL,s)||this;return s=a.options,a.gl=null,a.CONTEXT_UID=0,a.runners={destroy:new i.Runner("destroy"),contextChange:new i.Runner("contextChange"),reset:new i.Runner("reset"),update:new i.Runner("update"),postrender:new i.Runner("postrender"),prerender:new i.Runner("prerender"),resize:new i.Runner("resize")},a.globalUniforms=new K({projectionMatrix:new o.Matrix},!0),a.addSystem($e,"mask").addSystem(ee,"context").addSystem(yt,"state").addSystem(dt,"shader").addSystem(Et,"texture").addSystem(se,"geometry").addSystem(ie,"framebuffer").addSystem(et,"scissor").addSystem(tt,"stencil").addSystem(rt,"projection").addSystem(xt,"textureGC").addSystem(Q,"filter").addSystem(st,"renderTexture").addSystem($,"batch"),a.initPlugins(n.__plugins),s.context?a.context.initFromContext(s.context):a.context.initFromOptions({alpha:!!a.transparent,antialias:s.antialias,premultipliedAlpha:a.transparent&&"notMultiplied"!==a.transparent,stencil:!0,preserveDrawingBuffer:s.preserveDrawingBuffer,powerPreference:a.options.powerPreference}),a.renderingToScreen=!0,(0,r.sayHello)(2===a.context.webGLVersion?"WebGL 2":"WebGL 1"),a.resize(a.options.width,a.options.height),a}return h(n,e),n.create=function(e){if((0,r.isWebGLSupported)())return new n(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},n.prototype.addSystem=function(e,t){t||(t=e.name);var r=new e(this);if(this[t])throw new Error('Whoops! The name "'+t+'" is already in use');for(var i in this[t]=r,this.runners)this.runners[i].add(r);return this},n.prototype.render=function(e,t,r,i,n){if(this.renderingToScreen=!t,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=i,!this.context.isLost){if(t||(this._lastObjectRendered=e),!n){var o=e.enableTempParent();e.updateTransform(),e.disableTempParent(o)}this.renderTexture.bind(t),this.batch.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),t&&t.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},n.prototype.resize=function(t,r){e.prototype.resize.call(this,t,r),this.runners.resize.emit(t,r)},n.prototype.reset=function(){return this.runners.reset.emit(),this},n.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},n.prototype.destroy=function(t){for(var r in this.runners.destroy.emit(),this.runners)this.runners[r].destroy();e.prototype.destroy.call(this,t),this.gl=null},n.registerPlugin=function(e,t){n.__plugins=n.__plugins||{},n.__plugins[e]=t},n}(St);function At(e){return wt.create(e)}exports.Renderer=wt;var Ct="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}";exports.defaultVertex=Ct;var Rt="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n";exports.defaultFilterVertex=Rt;var It=function(){return function(){this.texArray=null,this.blend=0,this.type=t.DRAW_MODES.TRIANGLES,this.start=0,this.size=0,this.data=null}}();exports.BatchDrawCall=It;var Ot=function(){function e(){this.elements=[],this.ids=[],this.count=0}return e.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},e}();exports.BatchTextureArray=Ot;var Pt=function(){function e(e){this.rawBinaryData=new ArrayBuffer(e),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(e.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),e.prototype.view=function(e){return this[e+"View"]},e.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},e.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}},e}();exports.ViewableBuffer=Pt;var Mt=function(i){function n(t){var r=i.call(this,t)||this;return r.shaderGenerator=null,r.geometryClass=null,r.vertexSize=null,r.state=He.for2d(),r.size=4*e.settings.SPRITE_BATCH_SIZE,r._vertexCount=0,r._indexCount=0,r._bufferedElements=[],r._bufferedTextures=[],r._bufferSize=0,r._shader=null,r._packedGeometries=[],r._packedGeometryPoolSize=2,r._flushId=0,r._aBuffers={},r._iBuffers={},r.MAX_TEXTURES=1,r.renderer.on("prerender",r.onPrerender,r),t.runners.contextChange.add(r),r._dcIndex=0,r._aIndex=0,r._iIndex=0,r._attributeBuffer=null,r._indexBuffer=null,r._tempBoundTextures=[],r}return h(n,i),n.prototype.contextChange=function(){var r=this.renderer.gl;e.settings.PREFER_ENV===t.ENV.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),e.settings.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=Oe(this.MAX_TEXTURES,r)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var i=0;i<this._packedGeometryPoolSize;i++)this._packedGeometries[i]=new this.geometryClass;this.initFlushBuffers()},n.prototype.initFlushBuffers=function(){for(var e=n._drawCallPool,t=n._textureArrayPool,r=this.size/4,i=Math.floor(r/this.MAX_TEXTURES)+1;e.length<r;)e.push(new It);for(;t.length<i;)t.push(new Ot);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},n.prototype.onPrerender=function(){this._flushId=0},n.prototype.render=function(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},n.prototype.buildTexturesAndDrawCalls=function(){var e=this._bufferedTextures,t=this.MAX_TEXTURES,r=n._textureArrayPool,i=this.renderer.batch,o=this._tempBoundTextures,s=this.renderer.textureGC.count,a=++f._globalBatch,u=0,h=r[0],l=0;i.copyBoundTextures(o,t);for(var d=0;d<this._bufferSize;++d){var c=e[d];e[d]=null,c._batchEnabled!==a&&(h.count>=t&&(i.boundArray(h,o,a,t),this.buildDrawCalls(h,l,d),l=d,h=r[++u],++a),c._batchEnabled=a,c.touched=s,h.elements[h.count++]=c)}h.count>0&&(i.boundArray(h,o,a,t),this.buildDrawCalls(h,l,this._bufferSize),++u,++a);for(d=0;d<o.length;d++)o[d]=null;f._globalBatch=a},n.prototype.buildDrawCalls=function(e,t,i){var o=this._bufferedElements,s=this._attributeBuffer,a=this._indexBuffer,u=this.vertexSize,h=n._drawCallPool,l=this._dcIndex,d=this._aIndex,c=this._iIndex,f=h[l];f.start=this._iIndex,f.texArray=e;for(var p=t;p<i;++p){var m=o[p],v=m._texture.baseTexture,g=r.premultiplyBlendMode[v.alphaMode?1:0][m.blendMode];o[p]=null,t<p&&f.blend!==g&&(f.size=c-f.start,t=p,(f=h[++l]).texArray=e,f.start=c),this.packInterleavedGeometry(m,s,a,d,c),d+=m.vertexData.length/2*u,c+=m.indices.length,f.blend=g}t<i&&(f.size=c-f.start,++l),this._dcIndex=l,this._aIndex=d,this._iIndex=c},n.prototype.bindAndClearTexArray=function(e){for(var t=this.renderer.texture,r=0;r<e.count;r++)t.bind(e.elements[r],e.ids[r]),e.elements[r]=null;e.count=0},n.prototype.updateGeometry=function(){var t=this._packedGeometries,r=this._attributeBuffer,i=this._indexBuffer;e.settings.CAN_UPLOAD_SAME_BUFFER?(t[this._flushId]._buffer.update(r.rawBinaryData),t[this._flushId]._indexBuffer.update(i),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(r.rawBinaryData),t[this._flushId]._indexBuffer.update(i),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},n.prototype.drawBatches=function(){for(var e=this._dcIndex,t=this.renderer,r=t.gl,i=t.state,o=n._drawCallPool,s=null,a=0;a<e;a++){var u=o[a],h=u.texArray,l=u.type,d=u.size,c=u.start,f=u.blend;s!==h&&(s=h,this.bindAndClearTexArray(h)),this.state.blendMode=f,i.set(this.state),r.drawElements(l,d,r.UNSIGNED_SHORT,2*c)}},n.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},n.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),e.settings.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},n.prototype.stop=function(){this.flush()},n.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),i.prototype.destroy.call(this)},n.prototype.getAttributeBuffer=function(e){var t=(0,r.nextPow2)(Math.ceil(e/8)),i=(0,r.log2)(t),n=8*t;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._aBuffers[n];return o||(this._aBuffers[n]=o=new Pt(n*this.vertexSize*4)),o},n.prototype.getIndexBuffer=function(e){var t=(0,r.nextPow2)(Math.ceil(e/12)),i=(0,r.log2)(t),n=12*t;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._iBuffers[i];return o||(this._iBuffers[i]=o=new Uint16Array(n)),o},n.prototype.packInterleavedGeometry=function(e,t,i,n,o){for(var s=t.uint32View,a=t.float32View,u=n/this.vertexSize,h=e.uvs,l=e.indices,d=e.vertexData,c=e._texture.baseTexture._batchLocation,f=Math.min(e.worldAlpha,1),p=f<1&&e._texture.baseTexture.alphaMode?(0,r.premultiplyTint)(e._tintRGB,f):e._tintRGB+(255*f<<24),m=0;m<d.length;m+=2)a[n++]=d[m],a[n++]=d[m+1],a[n++]=h[m],a[n++]=h[m+1],s[n++]=p,a[n++]=c;for(m=0;m<l.length;m++)i[o++]=u+l[m]},n._drawCallPool=[],n._textureArrayPool=[],n}(Z);exports.AbstractBatchRenderer=Mt;var Dt=function(){function e(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},t.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(t.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return e.prototype.generateShader=function(e){if(!this.programCache[e]){for(var t=new Int32Array(e),r=0;r<e;r++)t[r]=r;this.defaultGroupCache[e]=K.from({uSamplers:t},!0);var i=this.fragTemplate;i=(i=i.replace(/%count%/gi,""+e)).replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Le(this.vertexSrc,i)}var n={tint:new Float32Array([1,1,1,1]),translationMatrix:new o.Matrix,default:this.defaultGroupCache[e]};return new Be(this.programCache[e],n)},e.prototype.generateSampleSrc=function(e){var t="";t+="\n",t+="\n";for(var r=0;r<e;r++)r>0&&(t+="\nelse "),r<e-1&&(t+="if(vTextureId < "+r+".5)"),t+="\n{",t+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",t+="\n}";return t+="\n",t+="\n"},e}();exports.BatchShaderGenerator=Dt;var Ft=function(e){function r(r){void 0===r&&(r=!1);var i=e.call(this)||this;return i._buffer=new B(null,r,!1),i._indexBuffer=new B(null,r,!0),i.addAttribute("aVertexPosition",i._buffer,2,!1,t.TYPES.FLOAT).addAttribute("aTextureCoord",i._buffer,2,!1,t.TYPES.FLOAT).addAttribute("aColor",i._buffer,4,!0,t.TYPES.UNSIGNED_BYTE).addAttribute("aTextureId",i._buffer,1,!0,t.TYPES.FLOAT).addIndex(i._indexBuffer),i}return h(r,e),r}(z);exports.BatchGeometry=Ft;var Nt="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",Lt="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",Bt=function(){function e(){}return e.create=function(e){var t=Object.assign({vertex:Nt,fragment:Lt,geometryClass:Ft,vertexSize:6},e),r=t.vertex,i=t.fragment,n=t.vertexSize,o=t.geometryClass;return function(e){function t(t){var s=e.call(this,t)||this;return s.shaderGenerator=new Dt(r,i),s.geometryClass=o,s.vertexSize=n,s}return h(t,e),t}(Mt)},Object.defineProperty(e,"defaultVertexSrc",{get:function(){return Nt},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentTemplate",{get:function(){return Lt},enumerable:!1,configurable:!0}),e}();exports.BatchPluginFactory=Bt;var Ut=Bt.create();exports.BatchRenderer=Ut;
},{"@pixi/settings":"Xe2x","@pixi/constants":"djkr","@pixi/utils":"X4iF","@pixi/runner":"KLq2","@pixi/ticker":"AWzT","@pixi/math":"w9h1"}],"ExZK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Application=void 0;var e=require("@pixi/display"),i=require("@pixi/core"),r=function(){function r(n){var t=this;n=Object.assign({forceCanvas:!1},n),this.renderer=(0,i.autoDetectRenderer)(n),this.stage=new e.Container,r._plugins.forEach(function(e){e.init.call(t,n)})}return r.registerPlugin=function(e){r._plugins.push(e)},r.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(r.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),r.prototype.destroy=function(e,i){var n=this,t=r._plugins.slice(0);t.reverse(),t.forEach(function(e){e.destroy.call(n)}),this.stage.destroy(i),this.stage=null,this.renderer.destroy(e),this.renderer=null},r}();exports.Application=r,r._plugins=[];var n=function(){function e(){}return e.init=function(e){var i=this;Object.defineProperty(this,"resizeTo",{set:function(e){window.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(window.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){i._resizeTo&&(i.cancelResize(),i._resizeId=requestAnimationFrame(function(){return i.resize()}))},this.cancelResize=function(){i._resizeId&&(cancelAnimationFrame(i._resizeId),i._resizeId=null)},this.resize=function(){if(i._resizeTo){var e,r;if(i.cancelResize(),i._resizeTo===window)e=window.innerWidth,r=window.innerHeight;else{var n=i._resizeTo;e=n.clientWidth,r=n.clientHeight}i.renderer.resize(e,r)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},e.destroy=function(){this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},e}();r.registerPlugin(n);
},{"@pixi/display":"qvzw","@pixi/core":"lj2a"}],"ZH8o":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Extract=void 0;var e=require("@pixi/utils"),r=require("@pixi/math"),t=require("@pixi/core"),n=new r.Rectangle,a=4,i=function(){function r(e){this.renderer=e,e.extract=this}return r.prototype.image=function(e,r,t){var n=new Image;return n.src=this.base64(e,r,t),n},r.prototype.base64=function(e,r,t){return this.canvas(e).toDataURL(r,t)},r.prototype.canvas=function(i){var o,s,d,h=this.renderer,u=!1,x=!1;i&&(i instanceof t.RenderTexture?d=i:(d=this.renderer.generateTexture(i),x=!0)),d?(o=d.baseTexture.resolution,s=d.frame,u=!1,h.renderTexture.bind(d)):(o=this.renderer.resolution,u=!0,(s=n).width=this.renderer.width,s.height=this.renderer.height,h.renderTexture.bind(null));var c=Math.floor(s.width*o+1e-4),l=Math.floor(s.height*o+1e-4),g=new e.CanvasRenderTarget(c,l,1),v=new Uint8Array(a*c*l),p=h.gl;p.readPixels(s.x*o,s.y*o,c,l,p.RGBA,p.UNSIGNED_BYTE,v);var f=g.context.getImageData(0,0,c,l);if(r.arrayPostDivide(v,f.data),g.context.putImageData(f,0,0),u){var y=new e.CanvasRenderTarget(g.width,g.height,1);y.context.scale(1,-1),y.context.drawImage(g.canvas,0,-l),g.destroy(),g=y}return x&&d.destroy(!0),g.canvas},r.prototype.pixels=function(e){var i,o,s,d=this.renderer,h=!1;e&&(e instanceof t.RenderTexture?s=e:(s=this.renderer.generateTexture(e),h=!0)),s?(i=s.baseTexture.resolution,o=s.frame,d.renderTexture.bind(s)):(i=d.resolution,(o=n).width=d.width,o.height=d.height,d.renderTexture.bind(null));var u=o.width*i,x=o.height*i,c=new Uint8Array(a*u*x),l=d.gl;return l.readPixels(o.x*i,o.y*i,u,x,l.RGBA,l.UNSIGNED_BYTE,c),h&&s.destroy(!0),r.arrayPostDivide(c,c),c},r.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},r.arrayPostDivide=function(e,r){for(var t=0;t<e.length;t+=4){var n=r[t+3]=e[t+3];0!==n?(r[t]=Math.round(Math.min(255*e[t]/n,255)),r[t+1]=Math.round(Math.min(255*e[t+1]/n,255)),r[t+2]=Math.round(Math.min(255*e[t+2]/n,255))):(r[t]=e[t],r[t+1]=e[t+1],r[t+2]=e[t+2])}},r}();exports.Extract=i;
},{"@pixi/utils":"X4iF","@pixi/math":"w9h1","@pixi/core":"lj2a"}],"YnZR":[function(require,module,exports) {
"use strict";function e(e,r){if(e){r=r||{};for(var o={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},t=o.parser[r.strictMode?"strict":"loose"].exec(e),s={},a=14;a--;)s[o.key[a]]=t[a]||"";return s[o.q.name]={},s[o.key[12]].replace(o.q.parser,function(e,r,t){r&&(s[o.q.name][r]=t)}),s}}module.exports=e;
},{}],"LmWK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function n(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();function t(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}var e=function(){function e(n,i,r){void 0===i&&(i=!1),t(this,e),this._fn=n,this._once=i,this._thisArg=r,this._next=this._prev=this._owner=null}return n(e,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),e}();function i(n,t){return n._head?(n._tail._next=t,t._prev=n._tail,n._tail=t):(n._head=t,n._tail=t),t._owner=n,t}var r=function(){function r(){t(this,r),this._head=this._tail=void 0}return n(r,[{key:"handlers",value:function(){var n=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],t=this._head;if(n)return!!t;for(var e=[];t;)e.push(t),t=t._next;return e}},{key:"has",value:function(n){if(!(n instanceof e))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return n._owner===this}},{key:"dispatch",value:function(){var n=this._head;if(!n)return!1;for(;n;)n._once&&this.detach(n),n._fn.apply(n._thisArg,arguments),n=n._next;return!0}},{key:"add",value:function(n){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof n)throw new Error("MiniSignal#add(): First arg must be a Function.");return i(this,new e(n,!1,t))}},{key:"once",value:function(n){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof n)throw new Error("MiniSignal#once(): First arg must be a Function.");return i(this,new e(n,!0,t))}},{key:"detach",value:function(n){if(!(n instanceof e))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return n._owner!==this?this:(n._prev&&(n._prev._next=n._next),n._next&&(n._next._prev=n._prev),n===this._head?(this._head=n._next,null===n._next&&(this._tail=null)):n===this._tail&&(this._tail=n._prev,this._tail._next=null),n._owner=null,this)}},{key:"detachAll",value:function(){var n=this._head;if(!n)return this;for(this._head=this._tail=null;n;)n._owner=null,n=n._next;return this}}]),r}();r.MiniSignalBinding=e,exports.default=r,module.exports=exports.default;
},{}],"zWx3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.encodeBinary=b,exports.middleware=exports.async=exports.Resource=exports.Loader=void 0;var t=r(require("parse-uri")),e=r(require("mini-signals"));function r(t){return t&&t.__esModule?t:{default:t}}function i(){}function s(t,e,r,i){var s=0,n=t.length;!function o(a){a||s===n?r&&r(a):i?setTimeout(function(){e(t[s++],o)},1):e(t[s++],o)}()}function n(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function o(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var r=0,s={_tasks:[],concurrency:e,saturated:i,unsaturated:i,buffer:e/4,empty:i,drain:i,error:i,started:!1,paused:!1,push:function(t,e){o(t,!1,e)},kill:function(){r=0,s.drain=i,s.started=!1,s._tasks=[]},unshift:function(t,e){o(t,!0,e)},process:function(){for(;!s.paused&&r<s.concurrency&&s._tasks.length;){var e=s._tasks.shift();0===s._tasks.length&&s.empty(),(r+=1)===s.concurrency&&s.saturated(),t(e.data,n(a(e)))}},length:function(){return s._tasks.length},running:function(){return r},idle:function(){return s._tasks.length+r===0},pause:function(){!0!==s.paused&&(s.paused=!0)},resume:function(){if(!1!==s.paused){s.paused=!1;for(var t=1;t<=s.concurrency;t++)s.process()}}};function o(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(s.started=!0,null==t&&s.idle())setTimeout(function(){return s.drain()},1);else{var n={data:t,callback:"function"==typeof r?r:i};e?s._tasks.unshift(n):s._tasks.push(n),setTimeout(function(){return s.process()},1)}}function a(t){return function(){r-=1,t.callback.apply(t,arguments),null!=arguments[0]&&s.error(arguments[0],t.data),r<=s.concurrency-s.buffer&&s.unsaturated(),s.idle()&&s.drain(),s.process()}}return s}var a={eachSeries:s,queue:o};exports.async=a;var h={};function u(t,e){var r=this;h[t.url]?(t.data=h[t.url],t.complete()):t.onComplete.once(function(){return h[r.url]=r.data}),e()}function d(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e,r){return e&&d(t.prototype,e),r&&d(t,r),t}var c=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),_=null,E=0,f=200,p=204,T=1223,O=2;function g(){}var m=function(){function r(t,i,s){if("string"!=typeof t||"string"!=typeof i)throw new Error("Both name and url are required for constructing a resource.");s=s||{},this._flags=0,this._setFlag(r.STATUS_FLAGS.DATA_URL,0===i.indexOf("data:")),this.name=t,this.url=i,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===s.crossOrigin?"anonymous":s.crossOrigin,this.timeout=s.timeout||0,this.loadType=s.loadType||this._determineLoadType(),this.xhrType=s.xhrType,this.metadata=s.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=r.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=g,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new e.default,this.onProgress=new e.default,this.onComplete=new e.default,this.onAfterMiddleware=new e.default}r.setExtensionLoadType=function(t,e){P(r._loadTypeMap,t,e)},r.setExtensionXhrType=function(t,e){P(r._xhrTypeMap,t,e)};var i=r.prototype;return i.complete=function(){this._clearEvents(),this._finish()},i.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=r.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},i.load=function(t){var e=this;if(!this.isLoading)if(this.isComplete)t&&setTimeout(function(){return t(e)},1);else switch(t&&this.onComplete.once(t),this._setFlag(r.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case r.LOAD_TYPE.IMAGE:this.type=r.TYPE.IMAGE,this._loadElement("image");break;case r.LOAD_TYPE.AUDIO:this.type=r.TYPE.AUDIO,this._loadSourceElement("audio");break;case r.LOAD_TYPE.VIDEO:this.type=r.TYPE.VIDEO,this._loadSourceElement("video");break;case r.LOAD_TYPE.XHR:default:c&&this.crossOrigin?this._loadXdr():this._loadXhr()}},i._hasFlag=function(t){return 0!=(this._flags&t)},i._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},i._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},i._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(r.STATUS_FLAGS.COMPLETE,!0),this._setFlag(r.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},i._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},i._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else{var i=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(i)?i[0]:i))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},i._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),t.timeout=this.timeout,this.xhrType===r.XHR_RESPONSE_TYPE.JSON||this.xhrType===r.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=r.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},i._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},i._createSource=function(t,e,r){r||(r=t+"/"+this._getExtension(e));var i=document.createElement("source");return i.src=e,i.type=r,i},i._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},i._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},i._onTimeout=function(){this.abort("Load timed out.")},i._xhrOnError=function(){var t=this.xhr;this.abort(S(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},i._xhrOnTimeout=function(){var t=this.xhr;this.abort(S(t)+" Request timed out.")},i._xhrOnAbort=function(){var t=this.xhr;this.abort(S(t)+" Request was aborted by the user.")},i._xhrOnLoad=function(){var t=this.xhr,e="",i=void 0===t.status?f:t.status;if(""!==t.responseType&&"text"!==t.responseType&&void 0!==t.responseType||(e=t.responseText),i===E&&(e.length>0||t.responseType===r.XHR_RESPONSE_TYPE.BUFFER)?i=f:i===T&&(i=p),(i/100|0)===O){if(this.xhrType===r.XHR_RESPONSE_TYPE.TEXT)this.data=e,this.type=r.TYPE.TEXT;else if(this.xhrType===r.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(e),this.type=r.TYPE.JSON}catch(o){return void this.abort("Error trying to parse loaded json: "+o)}else if(this.xhrType===r.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var s=new DOMParser;this.data=s.parseFromString(e,"text/xml")}else{var n=document.createElement("div");n.innerHTML=e,this.data=n}this.type=r.TYPE.XML}catch(o){return void this.abort("Error trying to parse loaded xml: "+o)}else this.data=t.response||e;this.complete()}else this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL)},i._determineCrossOrigin=function(e,r){if(0===e.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";r=r||window.location,_||(_=document.createElement("a")),_.href=e;var i=!(e=(0,t.default)(_.href,{strictMode:!0})).port&&""===r.port||e.port===r.port,s=e.protocol?e.protocol+":":"";return e.host===r.hostname&&i&&s===r.protocol?"":"anonymous"},i._determineXhrType=function(){return r._xhrTypeMap[this.extension]||r.XHR_RESPONSE_TYPE.TEXT},i._determineLoadType=function(){return r._loadTypeMap[this.extension]||r.LOAD_TYPE.XHR},i._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var i=t.indexOf("?"),s=t.indexOf("#"),n=Math.min(i>-1?i:t.length,s>-1?s:t.length);e=(t=t.substring(0,n)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},i._getMimeFromXhrType=function(t){switch(t){case r.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case r.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case r.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case r.XHR_RESPONSE_TYPE.JSON:return"application/json";case r.XHR_RESPONSE_TYPE.DEFAULT:case r.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},l(r,[{key:"isDataUrl",get:function(){return this._hasFlag(r.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(r.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(r.STATUS_FLAGS.LOADING)}}]),r}();function P(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function S(t){return t.toString().replace("object ","")}exports.Resource=m,m.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},m.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},m.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},m.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},m._loadTypeMap={gif:m.LOAD_TYPE.IMAGE,png:m.LOAD_TYPE.IMAGE,bmp:m.LOAD_TYPE.IMAGE,jpg:m.LOAD_TYPE.IMAGE,jpeg:m.LOAD_TYPE.IMAGE,tif:m.LOAD_TYPE.IMAGE,tiff:m.LOAD_TYPE.IMAGE,webp:m.LOAD_TYPE.IMAGE,tga:m.LOAD_TYPE.IMAGE,svg:m.LOAD_TYPE.IMAGE,"svg+xml":m.LOAD_TYPE.IMAGE,mp3:m.LOAD_TYPE.AUDIO,ogg:m.LOAD_TYPE.AUDIO,wav:m.LOAD_TYPE.AUDIO,mp4:m.LOAD_TYPE.VIDEO,webm:m.LOAD_TYPE.VIDEO},m._xhrTypeMap={xhtml:m.XHR_RESPONSE_TYPE.DOCUMENT,html:m.XHR_RESPONSE_TYPE.DOCUMENT,htm:m.XHR_RESPONSE_TYPE.DOCUMENT,xml:m.XHR_RESPONSE_TYPE.DOCUMENT,tmx:m.XHR_RESPONSE_TYPE.DOCUMENT,svg:m.XHR_RESPONSE_TYPE.DOCUMENT,tsx:m.XHR_RESPONSE_TYPE.DOCUMENT,gif:m.XHR_RESPONSE_TYPE.BLOB,png:m.XHR_RESPONSE_TYPE.BLOB,bmp:m.XHR_RESPONSE_TYPE.BLOB,jpg:m.XHR_RESPONSE_TYPE.BLOB,jpeg:m.XHR_RESPONSE_TYPE.BLOB,tif:m.XHR_RESPONSE_TYPE.BLOB,tiff:m.XHR_RESPONSE_TYPE.BLOB,webp:m.XHR_RESPONSE_TYPE.BLOB,tga:m.XHR_RESPONSE_TYPE.BLOB,json:m.XHR_RESPONSE_TYPE.JSON,text:m.XHR_RESPONSE_TYPE.TEXT,txt:m.XHR_RESPONSE_TYPE.TEXT,ttf:m.XHR_RESPONSE_TYPE.BUFFER,otf:m.XHR_RESPONSE_TYPE.BUFFER},m.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function b(t){for(var e="",r=0;r<t.length;){for(var i=[0,0,0],s=[0,0,0,0],n=0;n<i.length;++n)r<t.length?i[n]=255&t.charCodeAt(r++):i[n]=0;switch(s[0]=i[0]>>2,s[1]=(3&i[0])<<4|i[1]>>4,s[2]=(15&i[1])<<2|i[2]>>6,s[3]=63&i[2],r-(t.length-1)){case 2:s[3]=64,s[2]=64;break;case 1:s[3]=64}for(var o=0;o<s.length;++o)e+=A.charAt(s[o])}return e}var y=window.URL||window.webkitURL;function L(t,e){if(t.data){if(t.xhr&&t.xhrType===m.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=y.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=r,t.type=m.TYPE.IMAGE,void(t.data.onload=function(){y.revokeObjectURL(r),t.data.onload=null,e()})}}else{var i=t.xhr.getResponseHeader("content-type");if(i&&0===i.indexOf("image"))return t.data=new Image,t.data.src="data:"+i+";base64,"+b(t.xhr.responseText),t.type=m.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}var v={caching:u,parsing:L};exports.middleware=v;var R=100,x=/(#[\w-]+)?$/,w=function(){function r(t,i){var s=this;void 0===t&&(t=""),void 0===i&&(i=10),this.baseUrl=t,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return s._loadResource(t,e)},this._queue=o(this._boundLoadResource,i),this._queue.pause(),this.resources={},this.onProgress=new e.default,this.onError=new e.default,this.onLoad=new e.default,this.onStart=new e.default,this.onComplete=new e.default;for(var n=0;n<r._defaultBeforeMiddleware.length;++n)this.pre(r._defaultBeforeMiddleware[n]);for(var a=0;a<r._defaultAfterMiddleware.length;++a)this.use(r._defaultAfterMiddleware[a])}var i=r.prototype;return i.add=function(t,e,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;++s)this.add(t[s]);return this}if("object"==typeof t&&(i=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(i=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(i=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new m(t,e,r),"function"==typeof i&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var n=r.parentResource,o=[],a=0;a<n.children.length;++a)n.children[a].isComplete||o.push(n.children[a]);var h=n.progressChunk*(o.length+1)/(o.length+2);n.children.push(this.resources[t]),n.progressChunk=h;for(var u=0;u<o.length;++u)o[u].progressChunk=h;this.resources[t].progressChunk=h}return this._queue.push(this.resources[t]),this},i.pre=function(t){return this._beforeMiddleware.push(t),this},i.use=function(t){return this._afterMiddleware.push(t),this},i.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},i.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=this._queue._tasks.length,r=R/e,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=r;this._onStart(),this._queue.resume()}return this},i._prepareUrl=function(e){var r,i=(0,t.default)(e,{strictMode:!0});if(r=i.protocol||!i.path||0===e.indexOf("//")?e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==e.charAt(0)?this.baseUrl+"/"+e:this.baseUrl+e,this.defaultQueryString){var s=x.exec(r)[0];-1!==(r=r.substr(0,r.length-s.length)).indexOf("?")?r+="&"+this.defaultQueryString:r+="?"+this.defaultQueryString,r+=s}return r},i._loadResource=function(t,e){var r=this;t._dequeue=e,s(this._beforeMiddleware,function(e,i){e.call(r,t,function(){i(t.isComplete?{}:null)})},function(){t.isComplete?r._onLoad(t):(t._onLoadBinding=t.onComplete.once(r._onLoad,r),t.load())},!0)},i._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},i._onComplete=function(){this.progress=R,this.loading=!1,this.onComplete.dispatch(this,this.resources)},i._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),s(this._afterMiddleware,function(r,i){r.call(e,t,i)},function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(R,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()},!0)},l(r,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),r}();exports.Loader=w,w._defaultBeforeMiddleware=[],w._defaultAfterMiddleware=[],w.pre=function(t){return w._defaultBeforeMiddleware.push(t),w},w.use=function(t){return w._defaultAfterMiddleware.push(t),w};
},{"parse-uri":"YnZR","mini-signals":"LmWK"}],"bw5V":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TextureLoader=exports.LoaderResource=exports.Loader=exports.AppLoaderPlugin=void 0;var e=require("resource-loader"),r=require("@pixi/core"),t=e.Resource;exports.LoaderResource=t;var o=function(e,r){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(e,r)};function n(e,r){function t(){this.constructor=e}o(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}var u=function(){function t(){}return t.use=function(t,o){t.data&&t.type===e.Resource.TYPE.IMAGE&&(t.texture=r.Texture.fromLoader(t.data,t.url,t.name)),o()},t}();exports.TextureLoader=u;var s=function(e){function r(t,o){for(var n=e.call(this,t,o)||this,u=0;u<r._plugins.length;++u){var s=r._plugins[u],i=s.pre,a=s.use;i&&n.pre(i),a&&n.use(a)}return n._protected=!1,n}return n(r,e),r.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(r,"shared",{get:function(){var e=r._shared;return e||((e=new r)._protected=!0,r._shared=e),e},enumerable:!1,configurable:!0}),r.registerPlugin=function(e){return r._plugins.push(e),e.add&&e.add(),r},r._plugins=[],r}(e.Loader);exports.Loader=s,s.registerPlugin({use:e.middleware.parsing}),s.registerPlugin(u);var i=function(){function e(){}return e.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?s.shared:new s},e.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},e}();exports.AppLoaderPlugin=i;
},{"resource-loader":"zWx3","@pixi/core":"lj2a"}],"in9j":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ParticleRenderer=exports.ParticleContainer=void 0;var t=require("@pixi/constants"),e=require("@pixi/display"),i=require("@pixi/utils"),r=require("@pixi/core"),o=require("@pixi/math"),a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function n(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var s=function(e){function r(i,r,o,a){void 0===i&&(i=1500),void 0===o&&(o=16384),void 0===a&&(a=!1);var n=e.call(this)||this;return o>16384&&(o=16384),n._properties=[!1,!0,!1,!1,!1],n._maxSize=i,n._batchSize=o,n._buffers=null,n._bufferUpdateIDs=[],n._updateID=0,n.interactiveChildren=!1,n.blendMode=t.BLEND_MODES.NORMAL,n.autoResize=a,n.roundPixels=!0,n.baseTexture=null,n.setProperties(r),n._tint=0,n.tintRgb=new Float32Array(4),n.tint=16777215,n}return n(r,e),r.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},r.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,(0,i.hex2rgb)(t,this.tintRgb)},enumerable:!1,configurable:!0}),r.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},r.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},r.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},r.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},r}(e.Container);exports.ParticleContainer=s;var u=function(){function e(e,i,o){this.geometry=new r.Geometry,this.indexBuffer=null,this.size=o,this.dynamicProperties=[],this.staticProperties=[];for(var a=0;a<e.length;++a){var n=e[a];n={attributeName:n.attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||t.TYPES.FLOAT,offset:n.offset},i[a]?this.dynamicProperties.push(n):this.staticProperties.push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return e.prototype.initBuffers=function(){var e=this.geometry,o=0;this.indexBuffer=new r.Buffer((0,i.createIndicesForQuads)(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var a=0;a<this.dynamicProperties.length;++a){(p=this.dynamicProperties[a]).offset=o,o+=p.size,this.dynamicStride+=p.size}var n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new r.Buffer(this.dynamicData,!1,!1);var s=0;this.staticStride=0;for(a=0;a<this.staticProperties.length;++a){(p=this.staticProperties[a]).offset=s,s+=p.size,this.staticStride+=p.size}var u=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(u),this.staticDataUint32=new Uint32Array(u),this.staticBuffer=new r.Buffer(this.staticData,!0,!1);for(a=0;a<this.dynamicProperties.length;++a){var p=this.dynamicProperties[a];e.addAttribute(p.attributeName,this.dynamicBuffer,0,p.type===t.TYPES.UNSIGNED_BYTE,p.type,4*this.dynamicStride,4*p.offset)}for(a=0;a<this.staticProperties.length;++a){p=this.staticProperties[a];e.addAttribute(p.attributeName,this.staticBuffer,0,p.type===t.TYPES.UNSIGNED_BYTE,p.type,4*this.staticStride,4*p.offset)}},e.prototype.uploadDynamic=function(e,i,r){for(var o=0;o<this.dynamicProperties.length;o++){var a=this.dynamicProperties[o];a.uploadFunction(e,i,r,a.type===t.TYPES.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset)}this.dynamicBuffer._updateID++},e.prototype.uploadStatic=function(e,i,r){for(var o=0;o<this.staticProperties.length;o++){var a=this.staticProperties[o];a.uploadFunction(e,i,r,a.type===t.TYPES.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,a.offset)}this.staticBuffer._updateID++},e.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},e}(),p="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",h="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n",d=function(e){function a(i){var a=e.call(this,i)||this;return a.shader=null,a.properties=null,a.tempMatrix=new o.Matrix,a.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:a.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:a.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:a.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:a.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:t.TYPES.UNSIGNED_BYTE,uploadFunction:a.uploadTint,offset:0}],a.shader=r.Shader.from(h,p,{}),a.state=r.State.for2d(),a}return n(a,e),a.prototype.render=function(t){var e=t.children,r=t._maxSize,o=t._batchSize,a=this.renderer,n=e.length;if(0!==n){n>r&&!t.autoResize&&(n=r);var s=t._buffers;s||(s=t._buffers=this.generateBuffers(t));var u=e[0]._texture.baseTexture;this.state.blendMode=(0,i.correctBlendMode)(t.blendMode,u.alphaMode),a.state.set(this.state);var p=a.gl,h=t.worldTransform.copyTo(this.tempMatrix);h.prepend(a.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=h.toArray(!0),this.shader.uniforms.uColor=(0,i.premultiplyRgba)(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,u.alphaMode),this.shader.uniforms.uSampler=u,this.renderer.shader.bind(this.shader);for(var d=!1,f=0,l=0;f<n;f+=o,l+=1){var c=n-f;c>o&&(c=o),l>=s.length&&s.push(this._generateOneMoreBuffer(t));var y=s[l];y.uploadDynamic(e,f,c);var v=t._bufferUpdateIDs[l]||0;(d=d||y._updateID<v)&&(y._updateID=t._updateID,y.uploadStatic(e,f,c)),a.geometry.bind(y.geometry),p.drawElements(p.TRIANGLES,6*c,p.UNSIGNED_SHORT,0)}}},a.prototype.generateBuffers=function(t){for(var e=[],i=t._maxSize,r=t._batchSize,o=t._properties,a=0;a<i;a+=r)e.push(new u(this.properties,o,r));return e},a.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,i=t._properties;return new u(this.properties,i,e)},a.prototype.uploadVertices=function(t,e,i,r,o,a){for(var n=0,s=0,u=0,p=0,h=0;h<i;++h){var d=t[e+h],f=d._texture,l=d.scale.x,c=d.scale.y,y=f.trim,v=f.orig;y?(n=(s=y.x-d.anchor.x*v.width)+y.width,u=(p=y.y-d.anchor.y*v.height)+y.height):(n=v.width*(1-d.anchor.x),s=v.width*-d.anchor.x,u=v.height*(1-d.anchor.y),p=v.height*-d.anchor.y),r[a]=s*l,r[a+1]=p*c,r[a+o]=n*l,r[a+o+1]=p*c,r[a+2*o]=n*l,r[a+2*o+1]=u*c,r[a+3*o]=s*l,r[a+3*o+1]=u*c,a+=4*o}},a.prototype.uploadPosition=function(t,e,i,r,o,a){for(var n=0;n<i;n++){var s=t[e+n].position;r[a]=s.x,r[a+1]=s.y,r[a+o]=s.x,r[a+o+1]=s.y,r[a+2*o]=s.x,r[a+2*o+1]=s.y,r[a+3*o]=s.x,r[a+3*o+1]=s.y,a+=4*o}},a.prototype.uploadRotation=function(t,e,i,r,o,a){for(var n=0;n<i;n++){var s=t[e+n].rotation;r[a]=s,r[a+o]=s,r[a+2*o]=s,r[a+3*o]=s,a+=4*o}},a.prototype.uploadUvs=function(t,e,i,r,o,a){for(var n=0;n<i;++n){var s=t[e+n]._texture._uvs;s?(r[a]=s.x0,r[a+1]=s.y0,r[a+o]=s.x1,r[a+o+1]=s.y1,r[a+2*o]=s.x2,r[a+2*o+1]=s.y2,r[a+3*o]=s.x3,r[a+3*o+1]=s.y3,a+=4*o):(r[a]=0,r[a+1]=0,r[a+o]=0,r[a+o+1]=0,r[a+2*o]=0,r[a+2*o+1]=0,r[a+3*o]=0,r[a+3*o+1]=0,a+=4*o)}},a.prototype.uploadTint=function(t,e,r,o,a,n){for(var s=0;s<r;++s){var u=t[e+s],p=u._texture.baseTexture.alphaMode>0,h=u.alpha,d=h<1&&p?(0,i.premultiplyTint)(u._tintRGB,h):u._tintRGB+(255*h<<24);o[n]=d,o[n+a]=d,o[n+2*a]=d,o[n+3*a]=d,n+=4*a}},a.prototype.destroy=function(){e.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},a}(r.ObjectRenderer);exports.ParticleRenderer=d;
},{"@pixi/constants":"djkr","@pixi/display":"qvzw","@pixi/utils":"X4iF","@pixi/core":"lj2a","@pixi/math":"w9h1"}],"I0PC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.graphicsUtils=exports.LineStyle=exports.LINE_JOIN=exports.LINE_CAP=exports.GraphicsGeometry=exports.GraphicsData=exports.Graphics=exports.GRAPHICS_CURVES=exports.FillStyle=void 0;var t,e,i=require("@pixi/core"),r=require("@pixi/math"),s=require("@pixi/utils"),n=require("@pixi/constants"),a=require("@pixi/display");exports.LINE_JOIN=t,function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"}(t||(exports.LINE_JOIN=t={})),exports.LINE_CAP=e,function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"}(e||(exports.LINE_CAP=e={}));var h={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive||!t||isNaN(t))return e;var i=Math.ceil(t/this.maxLength);return i<this.minSegments?i=this.minSegments:i>this.maxSegments&&(i=this.maxSegments),i}};exports.GRAPHICS_CURVES=h;var o=function(){function t(){this.color=16777215,this.alpha=1,this.texture=i.Texture.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=i.Texture.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}();exports.FillStyle=o;var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function u(t,e){function i(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var p={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var i=t.points,r=t.holes,n=e.points,a=e.indices;if(i.length>=6){for(var h=[],o=0;o<r.length;o++){var l=r[o];h.push(i.length/2),i=i.concat(l.points)}var u=(0,s.earcut)(i,h,2);if(!u)return;var p=n.length/2;for(o=0;o<u.length;o+=3)a.push(u[o]+p),a.push(u[o+1]+p),a.push(u[o+2]+p);for(o=0;o<i.length;o++)n.push(i[o])}}},c={build:function(t){var e,i,s=t.shape,n=t.points,a=s.x,h=s.y;if(n.length=0,t.type===r.SHAPES.CIRC)e=s.radius,i=s.radius;else{var o=t.shape;e=o.width,i=o.height}if(0!==e&&0!==i){var l=Math.floor(30*Math.sqrt(s.radius))||Math.floor(15*Math.sqrt(e+i));l/=2.3;for(var u=2*Math.PI/l,p=0;p<l-.5;p++)n.push(a+Math.sin(-u*p)*e,h+Math.cos(-u*p)*i);n.push(n[0],n[1])}},triangulate:function(t,e){var i=t.points,r=e.points,s=e.indices,n=r.length/2,a=n,h=t.shape,o=t.matrix,l=h.x,u=h.y;r.push(t.matrix?o.a*l+o.c*u+o.tx:l,t.matrix?o.b*l+o.d*u+o.ty:u);for(var p=0;p<i.length;p+=2)r.push(i[p],i[p+1]),s.push(n++,a,n)}},d={build:function(t){var e=t.shape,i=e.x,r=e.y,s=e.width,n=e.height,a=t.points;a.length=0,a.push(i,r,i+s,r,i+s,r+n,i,r+n)},triangulate:function(t,e){var i=t.points,r=e.points,s=r.length/2;r.push(i[0],i[1],i[2],i[3],i[6],i[7],i[4],i[5]),e.indices.push(s,s+1,s+2,s+1,s+2,s+3)}};function f(t,e,i){return t+(e-t)*i}function y(t,e,i,r,s,n,a){void 0===a&&(a=[]);for(var h=a,o=0,l=0,u=0,p=0,c=0,d=0,y=0,v=0;y<=20;++y)o=f(t,i,v=y/20),l=f(e,r,v),u=f(i,s,v),p=f(r,n,v),c=f(o,u,v),d=f(l,p,v),h.push(c,d);return h}var v={build:function(t){var e=t.shape,i=t.points,r=e.x,s=e.y,n=e.width,a=e.height,h=Math.max(0,Math.min(e.radius,Math.min(n,a)/2));i.length=0,h?(y(r,s+h,r,s,r+h,s,i),y(r+n-h,s,r+n,s,r+n,s+h,i),y(r+n,s+a-h,r+n,s+a,r+n-h,s+a,i),y(r+h,s+a,r,s+a,r,s+a-h,i)):i.push(r,s,r+n,s,r+n,s+a,r,s+a)},triangulate:function(t,e){for(var i=t.points,r=e.points,n=e.indices,a=r.length/2,h=(0,s.earcut)(i,null,2),o=0,l=h.length;o<l;o+=3)n.push(h[o]+a),n.push(h[o+1]+a),n.push(h[o+2]+a);for(o=0,l=i.length;o<l;o++)r.push(i[o],i[++o])}};function g(t,e,i,r,s,n,a,h){var o,l;a?(o=r,l=-i):(o=-r,l=i);var u=t-i*s+o,p=e-r*s+l,c=t+i*n+o,d=e+r*n+l;return h.push(u,p),h.push(c,d),2}function b(t,e,i,r,s,n,a,h){var o=i-t,l=r-e,u=Math.atan2(o,l),p=Math.atan2(s-t,n-e);h&&u<p?u+=2*Math.PI:!h&&u>p&&(p+=2*Math.PI);var c=u,d=p-u,f=Math.abs(d),y=Math.sqrt(o*o+l*l),v=1+(15*f*Math.sqrt(y)/Math.PI>>0),g=d/v;if(c+=g,h){a.push(t,e),a.push(i,r);for(var b=1,x=c;b<v;b++,x+=g)a.push(t,e),a.push(t+Math.sin(x)*y,e+Math.cos(x)*y);a.push(t,e),a.push(s,n)}else{a.push(i,r),a.push(t,e);for(b=1,x=c;b<v;b++,x+=g)a.push(t+Math.sin(x)*y,e+Math.cos(x)*y),a.push(t,e);a.push(s,n),a.push(t,e)}return 2*v}function x(i,s){var n=i.shape,a=i.points||n.points.slice(),o=s.closePointEps;if(0!==a.length){var l=i.lineStyle,u=new r.Point(a[0],a[1]),p=new r.Point(a[a.length-2],a[a.length-1]),c=n.type!==r.SHAPES.POLY||n.closeStroke,d=Math.abs(u.x-p.x)<o&&Math.abs(u.y-p.y)<o;if(c){a=a.slice(),d&&(a.pop(),a.pop(),p.set(a[a.length-2],a[a.length-1]));var f=.5*(u.x+p.x),y=.5*(p.y+u.y);a.unshift(f,y),a.push(f,y)}var v=s.points,x=a.length/2,m=a.length,_=v.length/2,S=l.width/2,P=S*S,w=l.miterLimit*l.miterLimit,M=a[0],T=a[1],D=a[2],E=a[3],A=0,I=0,C=-(T-E),R=M-D,B=0,L=0,O=Math.sqrt(C*C+R*R);C/=O,R/=O,C*=S,R*=S;var U=l.alignment,N=2*(1-U),H=2*U;c||(l.cap===e.ROUND?m+=b(M-C*(N-H)*.5,T-R*(N-H)*.5,M-C*N,T-R*N,M+C*H,T+R*H,v,!0)+2:l.cap===e.SQUARE&&(m+=g(M,T,C,R,N,H,!0,v))),v.push(M-C*N,T-R*N),v.push(M+C*H,T+R*H);for(var j=1;j<x-1;++j){M=a[2*(j-1)],T=a[2*(j-1)+1],D=a[2*j],E=a[2*j+1],A=a[2*(j+1)],I=a[2*(j+1)+1],C=-(T-E),R=M-D,C/=O=Math.sqrt(C*C+R*R),R/=O,C*=S,R*=S,B=-(E-I),L=D-A,B/=O=Math.sqrt(B*B+L*L),L/=O,B*=S,L*=S;var F=D-M,q=T-E,G=D-A,z=I-E,k=q*G-z*F,W=k<0;if(Math.abs(k)<.1)v.push(D-C*N,E-R*N),v.push(D+C*H,E+R*H);else{var V=(-C+M)*(-R+E)-(-C+D)*(-R+T),Y=(-B+A)*(-L+E)-(-B+D)*(-L+I),Q=(F*Y-G*V)/k,X=(z*V-q*Y)/k,J=(Q-D)*(Q-D)+(X-E)*(X-E),Z=D+(Q-D)*N,K=E+(X-E)*N,$=D-(Q-D)*H,tt=E-(X-E)*H,et=W?N:H;J<=Math.min(F*F+q*q,G*G+z*z)+et*et*P?l.join===t.BEVEL||J/P>w?(W?(v.push(Z,K),v.push(D+C*H,E+R*H),v.push(Z,K),v.push(D+B*H,E+L*H)):(v.push(D-C*N,E-R*N),v.push($,tt),v.push(D-B*N,E-L*N),v.push($,tt)),m+=2):l.join===t.ROUND?W?(v.push(Z,K),v.push(D+C*H,E+R*H),m+=b(D,E,D+C*H,E+R*H,D+B*H,E+L*H,v,!0)+4,v.push(Z,K),v.push(D+B*H,E+L*H)):(v.push(D-C*N,E-R*N),v.push($,tt),m+=b(D,E,D-C*N,E-R*N,D-B*N,E-L*N,v,!1)+4,v.push(D-B*N,E-L*N),v.push($,tt)):(v.push(Z,K),v.push($,tt)):(v.push(D-C*N,E-R*N),v.push(D+C*H,E+R*H),l.join===t.BEVEL||J/P>w||(l.join===t.ROUND?m+=W?b(D,E,D+C*H,E+R*H,D+B*H,E+L*H,v,!0)+2:b(D,E,D-C*N,E-R*N,D-B*N,E-L*N,v,!1)+2:(W?(v.push($,tt),v.push($,tt)):(v.push(Z,K),v.push(Z,K)),m+=2)),v.push(D-B*N,E-L*N),v.push(D+B*H,E+L*H),m+=2)}}M=a[2*(x-2)],T=a[2*(x-2)+1],D=a[2*(x-1)],C=-(T-(E=a[2*(x-1)+1])),R=M-D,C/=O=Math.sqrt(C*C+R*R),R/=O,C*=S,R*=S,v.push(D-C*N,E-R*N),v.push(D+C*H,E+R*H),c||(l.cap===e.ROUND?m+=b(D-C*(N-H)*.5,E-R*(N-H)*.5,D-C*N,E-R*N,D+C*H,E+R*H,v,!1)+2:l.cap===e.SQUARE&&(m+=g(D,E,C,R,N,H,!1,v)));var it=s.indices,rt=h.epsilon*h.epsilon;for(j=_;j<m+_-2;++j)M=v[2*j],T=v[2*j+1],D=v[2*(j+1)],E=v[2*(j+1)+1],A=v[2*(j+2)],I=v[2*(j+2)+1],Math.abs(M*(E-I)+D*(I-T)+A*(T-E))<rt||it.push(j,j+1,j+2)}}function m(t,e){var i=0,s=t.shape,n=t.points||s.points,a=s.type!==r.SHAPES.POLY||s.closeStroke;if(0!==n.length){var h=e.points,o=e.indices,l=n.length/2,u=h.length/2,p=u;for(h.push(n[0],n[1]),i=1;i<l;i++)h.push(n[2*i],n[2*i+1]),o.push(p,p+1),p++;a&&o.push(p,u)}}function _(t,e){t.lineStyle.native?m(t,e):x(t,e)}var S,P=function(t){function e(e,i,s,n,a,h){void 0===h&&(h=0);a=a||n/2;for(var o=-1*Math.PI/2+h,l=2*s,u=r.PI_2/l,p=[],c=0;c<l;c++){var d=c%2?a:n,f=c*u+o;p.push(e+d*Math.cos(f),i+d*Math.sin(f))}return t.call(this,p)||this}return u(e,t),e}(r.Polygon),w=function(){function t(){}return t.curveTo=function(t,e,i,r,s,n){var a=n[n.length-2],h=n[n.length-1]-e,o=a-t,l=r-e,u=i-t,p=Math.abs(h*u-o*l);if(p<1e-8||0===s)return n[n.length-2]===t&&n[n.length-1]===e||n.push(t,e),null;var c=h*h+o*o,d=l*l+u*u,f=h*l+o*u,y=s*Math.sqrt(c)/p,v=s*Math.sqrt(d)/p,g=y*f/c,b=v*f/d,x=y*u+v*o,m=y*l+v*h,_=o*(v+g),S=h*(v+g),P=u*(y+b),w=l*(y+b);return{cx:x+t,cy:m+e,radius:s,startAngle:Math.atan2(S-m,_-x),endAngle:Math.atan2(w-m,P-x),anticlockwise:o*l>u*h}},t.arc=function(t,e,i,s,n,a,o,l,u){for(var p=o-a,c=h._segmentsCount(Math.abs(p)*n,40*Math.ceil(Math.abs(p)/r.PI_2)),d=p/(2*c),f=2*d,y=Math.cos(d),v=Math.sin(d),g=c-1,b=g%1/g,x=0;x<=g;++x){var m=d+a+f*(x+b*x),_=Math.cos(m),S=-Math.sin(m);u.push((y*_+v*S)*n+i,(y*-S+v*_)*n+s)}},t}(),M=function(){function t(){}return t.curveLength=function(t,e,i,r,s,n,a,h){for(var o=0,l=0,u=0,p=0,c=0,d=0,f=0,y=0,v=0,g=0,b=0,x=t,m=e,_=1;_<=10;++_)g=x-(y=(f=(d=(c=1-(l=_/10))*c)*c)*t+3*d*l*i+3*c*(u=l*l)*s+(p=u*l)*a),b=m-(v=f*e+3*d*l*r+3*c*u*n+p*h),x=y,m=v,o+=Math.sqrt(g*g+b*b);return o},t.curveTo=function(e,i,r,s,n,a,o){var l=o[o.length-2],u=o[o.length-1];o.length-=2;var p=h._segmentsCount(t.curveLength(l,u,e,i,r,s,n,a)),c=0,d=0,f=0,y=0,v=0;o.push(l,u);for(var g=1,b=0;g<=p;++g)f=(d=(c=1-(b=g/p))*c)*c,v=(y=b*b)*b,o.push(f*l+3*d*b*e+3*c*y*r+v*n,f*u+3*d*b*i+3*c*y*s+v*a)},t}(),T=function(){function t(){}return t.curveLength=function(t,e,i,r,s,n){var a=t-2*i+s,h=e-2*r+n,o=2*i-2*t,l=2*r-2*e,u=4*(a*a+h*h),p=4*(a*o+h*l),c=o*o+l*l,d=2*Math.sqrt(u+p+c),f=Math.sqrt(u),y=2*u*f,v=2*Math.sqrt(c),g=p/f;return(y*d+f*p*(d-v)+(4*c*u-p*p)*Math.log((2*f+g+d)/(g+v)))/(4*y)},t.curveTo=function(e,i,r,s,n){for(var a=n[n.length-2],o=n[n.length-1],l=h._segmentsCount(t.curveLength(a,o,e,i,r,s)),u=0,p=0,c=1;c<=l;++c){var d=c/l;u=a+(e-a)*d,p=o+(i-o)*d,n.push(u+(e+(r-e)*d-u)*d,p+(i+(s-i)*d-p)*d)}},t}(),D=function(){function t(){this.reset()}return t.prototype.begin=function(t,e,i){this.reset(),this.style=t,this.start=e,this.attribStart=i},t.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),E=((S={})[r.SHAPES.POLY]=p,S[r.SHAPES.CIRC]=c,S[r.SHAPES.ELIP]=c,S[r.SHAPES.RECT]=d,S[r.SHAPES.RREC]=v,S),A=[],I=[],C={buildPoly:p,buildCircle:c,buildRectangle:d,buildRoundedRectangle:v,FILL_COMMANDS:E,BATCH_POOL:A,DRAW_CALL_POOL:I,buildLine:_,Star:P,ArcUtils:w,BezierUtils:M,QuadraticUtils:T,BatchPart:D};exports.graphicsUtils=C;var R=function(){function t(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null),this.shape=t,this.lineStyle=i,this.fillStyle=e,this.matrix=r,this.type=t.type,this.points=[],this.holes=[]}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}();exports.GraphicsData=R;var B=new r.Point,L=new a.Bounds,O=function(t){function e(){var e=t.call(this)||this;return e.uvsFloat32=null,e.indicesUint16=null,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.dirty=0,e.batchDirty=-1,e.cacheDirty=-1,e.clearDirty=0,e.drawCalls=[],e.batches=[],e.shapeIndex=0,e._bounds=new a.Bounds,e.boundsDirty=-1,e.boundsPadding=0,e.batchable=!1,e.indicesUint16=null,e.uvsFloat32=null,e.closePointEps=1e-4,e}return u(e,t),Object.defineProperty(e.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),I.push(this.drawCalls[t]);this.drawCalls.length=0;for(t=0;t<this.batches.length;t++){var e=this.batches[t];e.reset(),A.push(e)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null);var s=new R(t,e,i,r);return this.graphicsData.push(s),this.dirty++,this},e.prototype.drawHole=function(t,e){if(void 0===e&&(e=null),!this.graphicsData.length)return null;var i=new R(t,null,null,e),r=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=r.lineStyle,r.holes.push(i),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var e=this.graphicsData,i=0;i<e.length;++i){var r=e[i];if(r.fillStyle.visible&&(r.shape&&(r.matrix?r.matrix.applyInverse(t,B):B.copyFrom(t),r.shape.contains(B.x,B.y)))){var s=!1;if(r.holes)for(var n=0;n<r.holes.length;n++){if(r.holes[n].shape.contains(B.x,B.y)){s=!0;break}}if(!s)return!0}}return!1},e.prototype.updateBatches=function(t){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,i=this.graphicsData,r=null,s=null;this.batches.length>0&&(s=(r=this.batches[this.batches.length-1]).style);for(var a=this.shapeIndex;a<i.length;a++){this.shapeIndex++;var h=i[a],o=h.fillStyle,l=h.lineStyle;E[h.type].build(h),h.matrix&&this.transformPoints(h.points,h.matrix);for(var u=0;u<2;u++){var p=0===u?o:l;if(p.visible){var c=p.texture.baseTexture,d=this.indices.length,f=this.points.length/2;c.wrapMode=n.WRAP_MODES.REPEAT,0===u?this.processFill(h):this.processLine(h);var y=this.points.length/2-f;0!==y&&(r&&!this._compareStyles(s,p)&&(r.end(d,f),r=null),r||((r=A.pop()||new D).begin(p,d,f),this.batches.push(r),s=p),this.addUvs(this.points,e,p.texture,f,y,p.matrix))}}}var v=this.indices.length,g=this.points.length/2;if(r&&r.end(v,g),0!==this.batches.length){if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var b=g>65535&&t;this.indicesUint16=b?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0},e.prototype._compareStyles=function(t,e){return!(!t||!e)&&(t.texture.baseTexture===e.texture.baseTexture&&(t.color+t.alpha===e.color+e.alpha&&!!t.native==!!e.native))},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var i=this.graphicsData[t],r=i.fillStyle,s=i.lineStyle;if(r&&!r.texture.baseTexture.valid)return!1;if(s&&!s.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,i=t.length;e<i;e++)for(var r=t[e],s=0;s<r.size;s++){var n=r.start+s;this.indicesUint16[n]=this.indicesUint16[n]-r.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var t=this.batches,i=0;i<t.length;i++)if(t[i].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE},e.prototype.buildDrawCalls=function(){for(var t=++i.BaseTexture._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),I.push(this.drawCalls[e]);this.drawCalls.length=0;var r=this.colors,s=this.textureIds,a=I.pop();a||((a=new i.BatchDrawCall).texArray=new i.BatchTextureArray),a.texArray.count=0,a.start=0,a.size=0,a.type=n.DRAW_MODES.TRIANGLES;var h=0,o=null,l=0,u=!1,p=n.DRAW_MODES.TRIANGLES,c=0;this.drawCalls.push(a);for(e=0;e<this.batches.length;e++){var d=this.batches[e],f=d.style,y=f.texture.baseTexture;u!==!!f.native&&(p=(u=!!f.native)?n.DRAW_MODES.LINES:n.DRAW_MODES.TRIANGLES,o=null,h=8,t++),o!==y&&(o=y,y._batchEnabled!==t&&(8===h&&(t++,h=0,a.size>0&&((a=I.pop())||((a=new i.BatchDrawCall).texArray=new i.BatchTextureArray),this.drawCalls.push(a)),a.start=c,a.size=0,a.texArray.count=0,a.type=p),y.touched=1,y._batchEnabled=t,y._batchLocation=h,y.wrapMode=10497,a.texArray.elements[a.texArray.count++]=y,h++)),a.size+=d.size,c+=d.size,l=y._batchLocation,this.addColors(r,f.color,f.alpha,d.attribSize),this.addTextureIds(s,l,d.attribSize)}i.BaseTexture._globalBatch=t,this.packAttributes()},e.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,i=this.colors,r=this.textureIds,s=new ArrayBuffer(3*t.length*4),n=new Float32Array(s),a=new Uint32Array(s),h=0,o=0;o<t.length/2;o++)n[h++]=t[2*o],n[h++]=t[2*o+1],n[h++]=e[2*o],n[h++]=e[2*o+1],a[h++]=i[o],n[h++]=r[o];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(t){t.holes.length?(this.processHoles(t.holes),p.triangulate(t,this)):E[t.type].triangulate(t,this)},e.prototype.processLine=function(t){_(t,this);for(var e=0;e<t.holes.length;e++)_(t.holes[e],this)},e.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var i=t[e];E[i.type].build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},e.prototype.calculateBounds=function(){var t=this._bounds,e=L,i=r.Matrix.IDENTITY;this._bounds.clear(),e.clear();for(var s=0;s<this.graphicsData.length;s++){var n=this.graphicsData[s],a=n.shape,h=n.type,o=n.lineStyle,l=n.matrix||r.Matrix.IDENTITY,u=0;if(o&&o.visible){var p=o.alignment;u=o.width,h===r.SHAPES.POLY?u*=.5+Math.abs(.5-p):u*=Math.max(0,p)}if(i!==l&&(e.isEmpty()||(t.addBoundsMatrix(e,i),e.clear()),i=l),h===r.SHAPES.RECT||h===r.SHAPES.RREC){var c=a;e.addFramePad(c.x,c.y,c.x+c.width,c.y+c.height,u,u)}else if(h===r.SHAPES.CIRC){var d=a;e.addFramePad(d.x,d.y,d.x,d.y,d.radius+u,d.radius+u)}else if(h===r.SHAPES.ELIP){var f=a;e.addFramePad(f.x,f.y,f.x,f.y,f.width+u,f.height+u)}else{var y=a;t.addVerticesMatrix(i,y.points,0,y.points.length,u,u)}}e.isEmpty()||t.addBoundsMatrix(e,i),t.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(t,e){for(var i=0;i<t.length/2;i++){var r=t[2*i],s=t[2*i+1];t[2*i]=e.a*r+e.c*s+e.tx,t[2*i+1]=e.b*r+e.d*s+e.ty}},e.prototype.addColors=function(t,e,i,r){for(var n=(e>>16)+(65280&e)+((255&e)<<16),a=(0,s.premultiplyTint)(n,i);r-- >0;)t.push(a)},e.prototype.addTextureIds=function(t,e,i){for(;i-- >0;)t.push(e)},e.prototype.addUvs=function(t,e,i,r,s,n){void 0===n&&(n=null);for(var a=0,h=e.length,o=i.frame;a<s;){var l=t[2*(r+a)],u=t[2*(r+a)+1];if(n){var p=n.a*l+n.c*u+n.tx;u=n.b*l+n.d*u+n.ty,l=p}a++,e.push(l/o.width,u/o.height)}var c=i.baseTexture;(o.width<c.width||o.height<c.height)&&this.adjustUvs(e,i,h,s)},e.prototype.adjustUvs=function(t,e,i,r){for(var s=e.baseTexture,n=i+2*r,a=e.frame,h=a.width/s.width,o=a.height/s.height,l=a.x/a.width,u=a.y/a.height,p=Math.floor(t[i]+1e-6),c=Math.floor(t[i+1]+1e-6),d=i+2;d<n;d+=2)p=Math.min(p,Math.floor(t[d]+1e-6)),c=Math.min(c,Math.floor(t[d+1]+1e-6));l-=p,u-=c;for(d=i;d<n;d+=2)t[d]=(t[d]+l)*h,t[d+1]=(t[d+1]+u)*o},e.BATCHABLE_SIZE=100,e}(i.BatchGeometry);exports.GraphicsGeometry=O;var U=function(i){function r(){var r=null!==i&&i.apply(this,arguments)||this;return r.width=0,r.alignment=.5,r.native=!1,r.cap=e.BUTT,r.join=t.MITER,r.miterLimit=10,r}return u(r,i),r.prototype.clone=function(){var t=new r;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},r.prototype.reset=function(){i.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},r}(o);exports.LineStyle=U;var N=new Float32Array(3),H={},j=function(a){function h(t){void 0===t&&(t=null);var e=a.call(this)||this;return e._geometry=t||new O,e._geometry.refCount++,e.shader=null,e.state=i.State.for2d(),e._fillStyle=new o,e._lineStyle=new U,e._matrix=null,e._holeMode=!1,e.currentPath=null,e.batches=[],e.batchTint=-1,e.batchDirty=-1,e.vertexData=null,e.pluginName="batch",e._transformID=-1,e.tint=16777215,e.blendMode=n.BLEND_MODES.NORMAL,e}return u(h,a),Object.defineProperty(h.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),h.prototype.clone=function(){return this.finishPoly(),new h(this._geometry)},Object.defineProperty(h.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),h.prototype.lineStyle=function(t){if(void 0===t&&(t=null),"number"==typeof t){var e=arguments;t={width:e[0]||0,color:e[1]||0,alpha:void 0!==e[2]?e[2]:1,alignment:void 0!==e[3]?e[3]:.5,native:!!e[4]}}return this.lineTextureStyle(t)},h.prototype.lineTextureStyle=function(r){if("number"==typeof r){(0,s.deprecation)("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var n=arguments,a=n[0],h=n[1],o=n[2],l=n[3],u=n[4],p=n[5],c=n[6];r={width:a,texture:h,color:o,alpha:l,matrix:u,alignment:p,native:c},Object.keys(r).forEach(function(t){return void 0===r[t]&&delete r[t]})}r=Object.assign({width:0,texture:i.Texture.WHITE,color:r&&r.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:e.BUTT,join:t.MITER,miterLimit:10},r),this.currentPath&&this.startPoly();var d=r.width>0&&r.alpha>0;return d?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._lineStyle,{visible:d},r)):this._lineStyle.reset(),this},h.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new r.Polygon,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new r.Polygon,this.currentPath.closeStroke=!1},h.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},h.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},h.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,r=i[i.length-2],s=i[i.length-1];return r===t&&s===e||i.push(t,e),this},h.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},h.prototype.quadraticCurveTo=function(t,e,i,r){this._initCurve();var s=this.currentPath.points;return 0===s.length&&this.moveTo(0,0),T.curveTo(t,e,i,r,s),this},h.prototype.bezierCurveTo=function(t,e,i,r,s,n){return this._initCurve(),M.curveTo(t,e,i,r,s,n,this.currentPath.points),this},h.prototype.arcTo=function(t,e,i,r,s){this._initCurve(t,e);var n=this.currentPath.points,a=w.curveTo(t,e,i,r,s,n);if(a){var h=a.cx,o=a.cy,l=a.radius,u=a.startAngle,p=a.endAngle,c=a.anticlockwise;this.arc(h,o,l,u,p,c)}return this},h.prototype.arc=function(t,e,i,s,n,a){if(void 0===a&&(a=!1),s===n)return this;if(!a&&n<=s?n+=r.PI_2:a&&s<=n&&(s+=r.PI_2),0===n-s)return this;var h=t+Math.cos(s)*i,o=e+Math.sin(s)*i,l=this._geometry.closePointEps,u=this.currentPath?this.currentPath.points:null;if(u){var p=Math.abs(u[u.length-2]-h),c=Math.abs(u[u.length-1]-o);p<l&&c<l||u.push(h,o)}else this.moveTo(h,o),u=this.currentPath.points;return w.arc(h,o,t,e,i,s,n,a,u),this},h.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill({texture:i.Texture.WHITE,color:t,alpha:e})},h.prototype.beginTextureFill=function(t){if(t instanceof i.Texture){(0,s.deprecation)("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var e=arguments,r=e[0],n=e[1],a=e[2],h=e[3];t={texture:r,color:n,alpha:a,matrix:h},Object.keys(t).forEach(function(e){return void 0===t[e]&&delete t[e]})}t=Object.assign({texture:i.Texture.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var o=t.alpha>0;return o?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:o},t)):this._fillStyle.reset(),this},h.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},h.prototype.drawRect=function(t,e,i,s){return this.drawShape(new r.Rectangle(t,e,i,s))},h.prototype.drawRoundedRect=function(t,e,i,s,n){return this.drawShape(new r.RoundedRectangle(t,e,i,s,n))},h.prototype.drawCircle=function(t,e,i){return this.drawShape(new r.Circle(t,e,i))},h.prototype.drawEllipse=function(t,e,i,s){return this.drawShape(new r.Ellipse(t,e,i,s))},h.prototype.drawPolygon=function(){for(var t,e=arguments,i=[],s=0;s<arguments.length;s++)i[s]=e[s];var n=!0,a=i[0];a.points?(n=a.closeStroke,t=a.points):t=Array.isArray(i[0])?i[0]:i;var h=new r.Polygon(t);return h.closeStroke=n,this.drawShape(h),this},h.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},h.prototype.drawStar=function(t,e,i,r,s,n){return void 0===n&&(n=0),this.drawPolygon(new P(t,e,i,r,s,n))},h.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},h.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return 1===t.length&&t[0].shape.type===r.SHAPES.RECT&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)},h.prototype._render=function(t){this.finishPoly();var e=this._geometry,i=t.context.supports.uint32Indices;e.updateBatches(i),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},h.prototype._populateBatches=function(){var t=this._geometry,e=this.blendMode,i=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(t.points);for(var r=0;r<i;r++){var n=t.batches[r],a=n.style.color,h=new Float32Array(this.vertexData.buffer,4*n.attribStart*2,2*n.attribSize),o=new Float32Array(t.uvsFloat32.buffer,4*n.attribStart*2,2*n.attribSize),l={vertexData:h,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*n.start,n.size),uvs:o,_batchRGB:(0,s.hex2rgb)(a),_tintRGB:a,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[r]=l}},h.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,i=this.batches.length;e<i;e++){var r=this.batches[e];r.worldAlpha=this.worldAlpha*r.alpha,t.plugins[this.pluginName].render(r)}}},h.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),i=this._geometry,r=this.tint,s=this.worldAlpha,n=e.uniforms,a=i.drawCalls;n.translationMatrix=this.transform.worldTransform,n.tint[0]=(r>>16&255)/255*s,n.tint[1]=(r>>8&255)/255*s,n.tint[2]=(255&r)/255*s,n.tint[3]=s,t.shader.bind(e),t.geometry.bind(i,e),t.state.set(this.state);for(var h=0,o=a.length;h<o;h++)this._renderDrawCallDirect(t,i.drawCalls[h])},h.prototype._renderDrawCallDirect=function(t,e){for(var i=e.texArray,r=e.type,s=e.size,n=e.start,a=i.count,h=0;h<a;h++)t.texture.bind(i.elements[h],h);t.geometry.draw(r,s,n)},h.prototype._resolveDirectShader=function(t){var e=this.shader,s=this.pluginName;if(!e){if(!H[s]){for(var n=t.plugins.batch.MAX_TEXTURES,a=new Int32Array(n),h=0;h<n;h++)a[h]=h;var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new r.Matrix,default:i.UniformGroup.from({uSamplers:a},!0)},l=t.plugins[s]._shader.program;H[s]=new i.Shader(l,o)}e=H[s]}return e},h.prototype._calculateBounds=function(){this.finishPoly();var t=this._geometry;if(t.graphicsData.length){var e=t.bounds,i=e.minX,r=e.minY,s=e.maxX,n=e.maxY;this._bounds.addFrame(this.transform,i,r,s,n)}},h.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,h._TEMP_POINT),this._geometry.containsPoint(h._TEMP_POINT)},h.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=(0,s.hex2rgb)(this.tint,N),e=0;e<this.batches.length;e++){var i=this.batches[e],r=i._batchRGB,n=(t[0]*r[0]*255<<16)+(t[1]*r[1]*255<<8)+(0|t[2]*r[2]*255);i._tintRGB=(n>>16)+(65280&n)+((255&n)<<16)}}},h.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var e=this.transform.worldTransform,i=e.a,r=e.b,s=e.c,n=e.d,a=e.tx,h=e.ty,o=this._geometry.points,l=this.vertexData,u=0,p=0;p<o.length;p+=2){var c=o[p],d=o[p+1];l[u++]=i*c+s*d+a,l[u++]=n*d+r*c+h}}},h.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0),this},h.prototype.setMatrix=function(t){return this._matrix=t,this},h.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},h.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},h.prototype.destroy=function(t){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,a.prototype.destroy.call(this,t)},h._TEMP_POINT=new r.Point,h}(a.Container);exports.Graphics=j;
},{"@pixi/core":"lj2a","@pixi/math":"w9h1","@pixi/utils":"X4iF","@pixi/constants":"djkr","@pixi/display":"qvzw"}],"XG9w":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Sprite=void 0;var t=require("@pixi/constants"),e=require("@pixi/core"),i=require("@pixi/display"),r=require("@pixi/math"),s=require("@pixi/settings"),n=require("@pixi/utils"),o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function h(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var u=new r.Point,a=new Uint16Array([0,1,2,0,2,3]),_=function(i){function o(n){var o=i.call(this)||this;return o._anchor=new r.ObservablePoint(o._onAnchorUpdate,o,n?n.defaultAnchor.x:0,n?n.defaultAnchor.y:0),o._texture=null,o._width=0,o._height=0,o._tint=null,o._tintRGB=null,o.tint=16777215,o.blendMode=t.BLEND_MODES.NORMAL,o._cachedTint=16777215,o.uvs=null,o.texture=n||e.Texture.EMPTY,o.vertexData=new Float32Array(8),o.vertexTrimmedData=null,o._transformID=-1,o._textureID=-1,o._transformTrimmedID=-1,o._textureTrimmedID=-1,o.indices=a,o.pluginName="batch",o.isSprite=!0,o._roundPixels=s.settings.ROUND_PIXELS,o}return h(o,i),o.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=(0,n.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,n.sign)(this.scale.y)*this._height/this._texture.orig.height)},o.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},o.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,i=e.a,r=e.b,n=e.c,o=e.d,h=e.tx,u=e.ty,a=this.vertexData,_=t.trim,c=t.orig,d=this._anchor,l=0,x=0,p=0,f=0;if(_?(l=(x=_.x-d._x*c.width)+_.width,p=(f=_.y-d._y*c.height)+_.height):(l=(x=-d._x*c.width)+c.width,p=(f=-d._y*c.height)+c.height),a[0]=i*x+n*f+h,a[1]=o*f+r*x+u,a[2]=i*l+n*f+h,a[3]=o*f+r*l+u,a[4]=i*l+n*p+h,a[5]=o*p+r*l+u,a[6]=i*x+n*p+h,a[7]=o*p+r*x+u,this._roundPixels)for(var m=s.settings.RESOLUTION,g=0;g<a.length;++g)a[g]=Math.round((a[g]*m|0)/m)}},o.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,i=t.orig,r=this._anchor,s=this.transform.worldTransform,n=s.a,o=s.b,h=s.c,u=s.d,a=s.tx,_=s.ty,c=-r._x*i.width,d=c+i.width,l=-r._y*i.height,x=l+i.height;e[0]=n*c+h*l+a,e[1]=u*l+o*c+_,e[2]=n*d+h*l+a,e[3]=u*l+o*d+_,e[4]=n*d+h*x+a,e[5]=u*x+o*d+_,e[6]=n*c+h*x+a,e[7]=u*x+o*c+_},o.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},o.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},o.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new r.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):i.prototype.getLocalBounds.call(this,t)},o.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,u);var e=this._texture.orig.width,i=this._texture.orig.height,r=-e*this.anchor.x,s=0;return u.x>=r&&u.x<r+e&&(s=-i*this.anchor.y,u.y>=s&&u.y<s+i)},o.prototype.destroy=function(t){if(i.prototype.destroy.call(this,t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof t?t:t&&t.texture){var e="boolean"==typeof t?t:t&&t.baseTexture;this._texture.destroy(!!e)}this._texture=null},o.from=function(t,i){return new o(t instanceof e.Texture?t:e.Texture.from(t,i))},Object.defineProperty(o.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=(0,n.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=(0,n.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||e.Texture.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),o}(i.Container);exports.Sprite=_;
},{"@pixi/constants":"djkr","@pixi/core":"lj2a","@pixi/display":"qvzw","@pixi/math":"w9h1","@pixi/settings":"Xe2x","@pixi/utils":"X4iF"}],"aZY8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TextStyle=exports.TextMetrics=exports.Text=exports.TEXT_GRADIENT=void 0;var t,e=require("@pixi/sprite"),i=require("@pixi/core"),r=require("@pixi/settings"),n=require("@pixi/math"),o=require("@pixi/utils"),s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function a(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}exports.TEXT_GRADIENT=t,function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(t||(exports.TEXT_GRADIENT=t={}));var h={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:t.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},l=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],c=function(){function t(t){this.styleID=0,this.reset(),d(this,t,t)}return t.prototype.clone=function(){var e={};return d(e,this,h),new t(e)},t.prototype.reset=function(){d(this,h,h)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var e=f(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(t){var e=f(t);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){p(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e=f(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var i=e.length-1;i>=0;i--){var r=e[i].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&l.indexOf(r)<0&&(r='"'+r+'"'),e[i]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},t}();function u(t){return"number"==typeof t?(0,o.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function f(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=u(t[e]);return t}return u(t)}function p(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0}function d(t,e,i){for(var r in i)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}exports.TextStyle=c;var g=function(){function t(t,e,i,r,n,o,s,a,h){this.text=t,this.style=e,this.width=i,this.height=r,this.lines=n,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=h}return t.measureText=function(e,i,r,n){void 0===n&&(n=t._canvas),r=null==r?i.wordWrap:r;var o=i.toFontString(),s=t.measureFont(o);0===s.fontSize&&(s.fontSize=i.fontSize,s.ascent=i.fontSize);var a=n.getContext("2d");a.font=o;for(var h=(r?t.wordWrap(e,i,n):e).split(/(?:\r\n|\r|\n)/),l=new Array(h.length),c=0,u=0;u<h.length;u++){var f=a.measureText(h[u]).width+(h[u].length-1)*i.letterSpacing;l[u]=f,c=Math.max(c,f)}var p=c+i.strokeThickness;i.dropShadow&&(p+=i.dropShadowDistance);var d=i.lineHeight||s.fontSize+i.strokeThickness,g=Math.max(d,s.fontSize+i.strokeThickness)+(h.length-1)*(d+i.leading);return i.dropShadow&&(g+=i.dropShadowDistance),new t(e,i,p,g,h,l,d+i.leading,c,s)},t.wordWrap=function(e,i,r){void 0===r&&(r=t._canvas);for(var n=r.getContext("2d"),o=0,s="",a="",h=Object.create(null),l=i.letterSpacing,c=i.whiteSpace,u=t.collapseSpaces(c),f=t.collapseNewlines(c),p=!u,d=i.wordWrapWidth+l,g=t.tokenize(e),y=0;y<g.length;y++){var _=g[y];if(t.isNewline(_)){if(!f){a+=t.addLine(s),p=!u,s="",o=0;continue}_=" "}if(u){var b=t.isBreakingSpace(_),S=t.isBreakingSpace(s[s.length-1]);if(b&&S)continue}var m=t.getFromCache(_,l,h,n);if(m>d)if(""!==s&&(a+=t.addLine(s),s="",o=0),t.canBreakWords(_,i.breakWords))for(var w=t.wordWrapSplit(_),x=0;x<w.length;x++){for(var v=w[x],T=1;w[x+T];){var k=w[x+T],I=v[v.length-1];if(t.canBreakChars(I,k,_,x,i.breakWords))break;v+=k,T++}x+=v.length-1;var O=t.getFromCache(v,l,h,n);O+o>d&&(a+=t.addLine(s),p=!1,s="",o=0),s+=v,o+=O}else{s.length>0&&(a+=t.addLine(s),s="",o=0);var A=y===g.length-1;a+=t.addLine(_,!A),p=!1,s="",o=0}else m+o>d&&(p=!1,a+=t.addLine(s),s="",o=0),(s.length>0||!t.isBreakingSpace(_)||p)&&(s+=_,o+=m)}return a+=t.addLine(s,!1)},t.addLine=function(e,i){return void 0===i&&(i=!0),e=t.trimRight(e),e=i?e+"\n":e},t.getFromCache=function(t,e,i,r){var n=i[t];if("number"!=typeof n){var o=t.length*e;n=r.measureText(t).width+o,i[t]=n}return n},t.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},t.collapseNewlines=function(t){return"normal"===t},t.trimRight=function(e){if("string"!=typeof e)return"";for(var i=e.length-1;i>=0;i--){var r=e[i];if(!t.isBreakingSpace(r))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return"string"==typeof e&&t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e){return"string"==typeof e&&t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var i=[],r="";if("string"!=typeof e)return i;for(var n=0;n<e.length;n++){var o=e[n];t.isBreakingSpace(o)||t.isNewline(o)?(""!==r&&(i.push(r),r=""),i.push(o)):r+=o}return""!==r&&i.push(r),i},t.canBreakWords=function(t,e){return e},t.canBreakChars=function(t,e,i,r,n){return!0},t.wordWrapSplit=function(t){return t.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var i={ascent:0,descent:0,fontSize:0},r=t._canvas,n=t._context;n.font=e;var o=t.METRICS_STRING+t.BASELINE_SYMBOL,s=Math.ceil(n.measureText(o).width),a=Math.ceil(n.measureText(t.BASELINE_SYMBOL).width),h=2*a;a=a*t.BASELINE_MULTIPLIER|0,r.width=s,r.height=h,n.fillStyle="#f00",n.fillRect(0,0,s,h),n.font=e,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(o,0,a);var l=n.getImageData(0,0,s,h).data,c=l.length,u=4*s,f=0,p=0,d=!1;for(f=0;f<a;++f){for(var g=0;g<u;g+=4)if(255!==l[p+g]){d=!0;break}if(d)break;p+=u}for(i.ascent=a-f,p=c-u,d=!1,f=h;f>a;--f){for(g=0;g<u;g+=4)if(255!==l[p+g]){d=!0;break}if(d)break;p-=u}return i.descent=f-a,i.fontSize=i.ascent+i.descent,t._fonts[e]=i,i},t.clearMetrics=function(e){void 0===e&&(e=""),e?delete t._fonts[e]:t._fonts={}},t}();exports.TextMetrics=g;var y=function(){try{var t=new OffscreenCanvas(0,0),e=t.getContext("2d");return e&&e.measureText?t:document.createElement("canvas")}catch(i){return document.createElement("canvas")}}();y.width=y.height=10,g._canvas=y,g._context=y.getContext("2d"),g._fonts={},g.METRICS_STRING="|ÉqÅ",g.BASELINE_SYMBOL="M",g.BASELINE_MULTIPLIER=1.4,g._newlines=[10,13],g._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var _={texture:!0,children:!1,baseTexture:!0},b=function(e){function s(t,o,s){var a=this,h=!1;s||(s=document.createElement("canvas"),h=!0),s.width=3,s.height=3;var l=i.Texture.from(s);return l.orig=new n.Rectangle,l.trim=new n.Rectangle,(a=e.call(this,l)||this)._ownCanvas=h,a.canvas=s,a.context=a.canvas.getContext("2d"),a._resolution=r.settings.RESOLUTION,a._autoResolution=!0,a._text=null,a._style=null,a._styleListener=null,a._font="",a.text=t,a.style=o,a.localStyleID=-1,a}return a(s,e),s.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var i,r,n=this.context,s=g.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=s.width,h=s.height,l=s.lines,c=s.lineHeight,u=s.lineWidths,f=s.maxLineWidth,p=s.fontProperties;this.canvas.width=Math.ceil((Math.max(1,a)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,h)+2*e.padding)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;for(var d=e.dropShadow?2:1,y=0;y<d;++y){var _=e.dropShadow&&0===y,b=_?Math.ceil(Math.max(1,h)+2*e.padding):0,S=b*this._resolution;if(_){n.fillStyle="black",n.strokeStyle="black";var m=e.dropShadowColor,w=(0,o.hex2rgb)("number"==typeof m?m:(0,o.string2hex)(m));n.shadowColor="rgba("+255*w[0]+","+255*w[1]+","+255*w[2]+","+e.dropShadowAlpha+")",n.shadowBlur=e.dropShadowBlur,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*e.dropShadowDistance+S}else n.fillStyle=this._generateFillStyle(e,l,s),n.strokeStyle=e.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;for(var x=0;x<l.length;x++)i=e.strokeThickness/2,r=e.strokeThickness/2+x*c+p.ascent,"right"===e.align?i+=f-u[x]:"center"===e.align&&(i+=(f-u[x])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(l[x],i+e.padding,r+e.padding-b,!0),e.fill&&this.drawLetterSpacing(l[x],i+e.padding,r+e.padding-b)}this.updateTexture()}},s.prototype.drawLetterSpacing=function(t,e,i,r){void 0===r&&(r=!1);var n=this._style.letterSpacing;if(0!==n)for(var o=e,s=Array.from?Array.from(t):t.split(""),a=this.context.measureText(t).width,h=0,l=0;l<s.length;++l){var c=s[l];r?this.context.strokeText(c,o,i):this.context.fillText(c,o,i),o+=a-(h=this.context.measureText(t.substring(l+1)).width)+n,a=h}else r?this.context.strokeText(t,e,i):this.context.fillText(t,e,i)},s.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=(0,o.trimCanvas)(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var i=this._texture,r=this._style,n=r.trim?0:r.padding,s=i.baseTexture;i.trim.width=i._frame.width=Math.ceil(t.width/this._resolution),i.trim.height=i._frame.height=Math.ceil(t.height/this._resolution),i.trim.x=-n,i.trim.y=-n,i.orig.width=i._frame.width-2*n,i.orig.height=i._frame.height-2*n,this._onTextureUpdate(),s.setRealSize(t.width,t.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},s.prototype._render=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),e.prototype._render.call(this,t)},s.prototype.getLocalBounds=function(t){return this.updateText(!0),e.prototype.getLocalBounds.call(this,t)},s.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},s.prototype._generateFillStyle=function(e,i,r){var n,o=e.fill;if(!Array.isArray(o))return o;if(1===o.length)return o[0];var s=e.dropShadow?e.dropShadowDistance:0,a=e.padding||0,h=Math.ceil(this.canvas.width/this._resolution)-s-2*a,l=Math.ceil(this.canvas.height/this._resolution)-s-2*a,c=o.slice(),u=e.fillGradientStops.slice();if(!u.length)for(var f=c.length+1,p=1;p<f;++p)u.push(p/f);if(c.unshift(o[0]),u.unshift(0),c.push(o[o.length-1]),u.push(1),e.fillGradientType===t.LINEAR_VERTICAL){n=this.context.createLinearGradient(h/2,a,h/2,l+a);var d=0,g=(r.fontProperties.fontSize+e.strokeThickness)/l;for(p=0;p<i.length;p++)for(var y=r.lineHeight*p,_=0;_<c.length;_++){var b=y/l+("number"==typeof u[_]?u[_]:_/c.length)*g,S=Math.max(d,b);S=Math.min(S,1),n.addColorStop(S,c[_]),d=S}}else{n=this.context.createLinearGradient(a,l/2,h+a,l/2);var m=c.length+1,w=1;for(p=0;p<c.length;p++){var x=void 0;x="number"==typeof u[p]?u[p]:w/m,n.addColorStop(x,c[p]),w++}}return n},s.prototype.destroy=function(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},_,t),e.prototype.destroy.call(this,t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(s.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,o.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,o.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"style",{get:function(){return this._style},set:function(t){t=t||{},this._style=t instanceof c?t:new c(t),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),s}(e.Sprite);exports.Text=b;
},{"@pixi/sprite":"XG9w","@pixi/core":"lj2a","@pixi/settings":"Xe2x","@pixi/math":"w9h1","@pixi/utils":"X4iF"}],"cawE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TimeLimiter=exports.Prepare=exports.CountLimiter=exports.BasePrepare=void 0;var e=require("@pixi/settings"),t=require("@pixi/core"),i=require("@pixi/graphics"),r=require("@pixi/ticker"),o=require("@pixi/display"),s=require("@pixi/text");e.settings.UPLOADS_PER_FRAME=4;var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};function u(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var a=function(){function e(e){this.maxItemsPerFrame=e,this.itemsLeft=0}return e.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},e.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},e}();function h(e,i){var r=!1;if(e&&e._textures&&e._textures.length)for(var o=0;o<e._textures.length;o++)if(e._textures[o]instanceof t.Texture){var s=e._textures[o].baseTexture;-1===i.indexOf(s)&&(i.push(s),r=!0)}return r}function p(e,i){if(e.baseTexture instanceof t.BaseTexture){var r=e.baseTexture;return-1===i.indexOf(r)&&i.push(r),!0}return!1}function c(e,i){if(e._texture&&e._texture instanceof t.Texture){var r=e._texture.baseTexture;return-1===i.indexOf(r)&&i.push(r),!0}return!1}function l(e,t){return t instanceof s.Text&&(t.updateText(!0),!0)}function f(e,t){if(t instanceof s.TextStyle){var i=t.toFontString();return s.TextMetrics.measureFont(i),!0}return!1}function d(e,t){if(e instanceof s.Text){-1===t.indexOf(e.style)&&t.push(e.style),-1===t.indexOf(e)&&t.push(e);var i=e._texture.baseTexture;return-1===t.indexOf(i)&&t.push(i),!0}return!1}function x(e,t){return e instanceof s.TextStyle&&(-1===t.indexOf(e)&&t.push(e),!0)}exports.CountLimiter=a;var k=function(){function t(t){var i=this;this.limiter=new a(e.settings.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){i.queue&&i.prepareItems()},this.registerFindHook(d),this.registerFindHook(x),this.registerFindHook(h),this.registerFindHook(p),this.registerFindHook(c),this.registerUploadHook(l),this.registerUploadHook(f)}return t.prototype.upload=function(e,t){"function"==typeof e&&(t=e,e=null),e&&this.add(e),this.queue.length?(t&&this.completes.push(t),this.ticking||(this.ticking=!0,r.Ticker.system.addOnce(this.tick,this,r.UPDATE_PRIORITY.UTILITY))):t&&t()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],t=!1;if(e&&!e._destroyed)for(var i=0,o=this.uploadHooks.length;i<o;i++)if(this.uploadHooks[i](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}t||this.queue.shift()}if(this.queue.length)r.Ticker.system.addOnce(this.tick,this,r.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var s=this.completes.slice(0);this.completes.length=0;for(i=0,o=s.length;i<o;i++)s[i]()}},t.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},t.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},t.prototype.add=function(e){for(var t=0,i=this.addHooks.length;t<i&&!this.addHooks[t](e,this.queue);t++);if(e instanceof o.Container)for(t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this},t.prototype.destroy=function(){this.ticking&&r.Ticker.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function m(e,i){return i instanceof t.BaseTexture&&(i._glTextures[e.CONTEXT_UID]||e.texture.bind(i),!0)}function g(e,t){if(!(t instanceof i.Graphics))return!1;var r=t.geometry;t.finishPoly(),r.updateBatches();for(var o=r.batches,s=0;s<o.length;s++){var n=o[s].style.texture;n&&m(e,n.baseTexture)}return r.batchable||e.geometry.bind(r,t._resolveDirectShader(e)),!0}function T(e,t){return e instanceof i.Graphics&&(t.push(e),!0)}exports.BasePrepare=k;var y=function(e){function t(t){var i=e.call(this,t)||this;return i.uploadHookHelper=i.renderer,i.registerFindHook(T),i.registerUploadHook(m),i.registerUploadHook(g),i}return u(t,e),t}(k);exports.Prepare=y;var H=function(){function e(e){this.maxMilliseconds=e,this.frameStart=0}return e.prototype.beginFrame=function(){this.frameStart=Date.now()},e.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},e}();exports.TimeLimiter=H;
},{"@pixi/settings":"Xe2x","@pixi/core":"lj2a","@pixi/graphics":"I0PC","@pixi/ticker":"AWzT","@pixi/display":"qvzw","@pixi/text":"aZY8"}],"O2FJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SpritesheetLoader=exports.Spritesheet=void 0;var t=require("@pixi/math"),e=require("@pixi/core"),s=require("@pixi/utils"),r=require("@pixi/loaders"),i=function(){function r(t,s,r){void 0===r&&(r=null),this._texture=t instanceof e.Texture?t:null,this.baseTexture=t instanceof e.BaseTexture?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=s;var i=this.baseTexture.resource;this.resolution=this._updateResolution(r||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return r.prototype._updateResolution=function(t){void 0===t&&(t=null);var e=this.data.meta.scale,r=(0,s.getResolutionOfUrl)(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&this.baseTexture.setResolution(r),r},r.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=r.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},r.prototype._processFrames=function(s){for(var i=s,o=r.BATCH_SIZE;i-s<o&&i<this._frameKeys.length;){var a=this._frameKeys[i],n=this._frames[a],h=n.frame;if(h){var u=null,l=null,c=!1!==n.trimmed&&n.sourceSize?n.sourceSize:n.frame,f=new t.Rectangle(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);u=n.rotated?new t.Rectangle(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.h)/this.resolution,Math.floor(h.w)/this.resolution):new t.Rectangle(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution),!1!==n.trimmed&&n.spriteSourceSize&&(l=new t.Rectangle(Math.floor(n.spriteSourceSize.x)/this.resolution,Math.floor(n.spriteSourceSize.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution)),this.textures[a]=new e.Texture(this.baseTexture,u,f,l,n.rotated?2:0,n.anchor),e.Texture.addToCache(this.textures[a],a)}i++}},r.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var s=0;s<t[e].length;s++){var r=t[e][s];this.animations[e].push(this.textures[r])}}},r.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},r.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*r.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*r.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},r.prototype.destroy=function(t){var e;for(var s in void 0===t&&(t=!1),this.textures)this.textures[s].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},r.BATCH_SIZE=1e3,r}();exports.Spritesheet=i;var o=function(){function t(){}return t.use=function(e,s){var o=e.name+"_image";if(e.data&&e.type===r.LoaderResource.TYPE.JSON&&e.data.frames&&!this.resources[o]){var a={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},n=t.getResourcePath(e,this.baseUrl);this.add(o,n,a,function(t){if(t.error)s(t.error);else{var r=new i(t.texture,e.data,e.url);r.parse(function(){e.spritesheet=r,e.textures=r.textures,s()})}})}else s()},t.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:s.url.resolve(t.url.replace(e,""),t.data.meta.image)},t}();exports.SpritesheetLoader=o;
},{"@pixi/math":"w9h1","@pixi/core":"lj2a","@pixi/utils":"X4iF","@pixi/loaders":"bw5V"}],"hxhD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TilingSpriteRenderer=exports.TilingSprite=void 0;var t=require("@pixi/core"),e=require("@pixi/math"),r=require("@pixi/sprite"),i=require("@pixi/utils"),o=require("@pixi/constants"),n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function a(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var s=new e.Point,u=function(r){function o(i,o,n){void 0===o&&(o=100),void 0===n&&(n=100);var a=r.call(this,i)||this;return a.tileTransform=new e.Transform,a._width=o,a._height=n,a.uvMatrix=a.texture.uvMatrix||new t.TextureMatrix(i),a.pluginName="tilingSprite",a.uvRespectAnchor=!1,a}return a(o,r),Object.defineProperty(o.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)},enumerable:!1,configurable:!0}),o.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},o.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},o.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,i)},o.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new e.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):r.prototype.getLocalBounds.call(this,t)},o.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,s);var e=this._width,r=this._height,i=-e*this.anchor._x;if(s.x>=i&&s.x<i+e){var o=-r*this.anchor._y;if(s.y>=o&&s.y<o+r)return!0}return!1},o.prototype.destroy=function(t){r.prototype.destroy.call(this,t),this.tileTransform=null,this.uvMatrix=null},o.from=function(e,r){return"number"==typeof r&&((0,i.deprecation)("5.3.0","TilingSprite.from use options instead of width and height args"),r={width:r,height:arguments[2]}),new o(t.Texture.from(e,r),r.width,r.height)},Object.defineProperty(o.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0}),o}(r.Sprite);exports.TilingSprite=u;var h="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",c="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",l="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",p=new e.Matrix,d=function(e){function r(r){var i=e.call(this,r)||this,o={globals:i.renderer.globalUniforms};return i.shader=t.Shader.from(h,c,o),i.simpleShader=t.Shader.from(h,l,o),i.quad=new t.QuadUv,i.state=t.State.for2d(),i}return a(r,e),r.prototype.render=function(t){var e=this.renderer,r=this.quad,n=r.vertices;n[0]=n[6]=t._width*-t.anchor.x,n[1]=n[3]=t._height*-t.anchor.y,n[2]=n[4]=t._width*(1-t.anchor.x),n[5]=n[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((n=r.uvs)[0]=n[6]=-t.anchor.x,n[1]=n[3]=-t.anchor.y,n[2]=n[4]=1-t.anchor.x,n[5]=n[7]=1-t.anchor.y),r.invalidate();var a=t._texture,s=a.baseTexture,u=t.tileTransform.localTransform,h=t.uvMatrix,c=s.isPowerOfTwo&&a.frame.width===s.width&&a.frame.height===s.height;c&&(s._glTextures[e.CONTEXT_UID]?c=s.wrapMode!==o.WRAP_MODES.CLAMP:s.wrapMode===o.WRAP_MODES.CLAMP&&(s.wrapMode=o.WRAP_MODES.REPEAT));var l=c?this.simpleShader:this.shader,d=a.width,m=a.height,f=t._width,_=t._height;p.set(u.a*d/f,u.b*d/_,u.c*m/f,u.d*m/_,u.tx/f,u.ty/_),p.invert(),c?p.prepend(h.mapCoord):(l.uniforms.uMapCoord=h.mapCoord.toArray(!0),l.uniforms.uClampFrame=h.uClampFrame,l.uniforms.uClampOffset=h.uClampOffset),l.uniforms.uTransform=p.toArray(!0),l.uniforms.uColor=(0,i.premultiplyTintToRgba)(t.tint,t.worldAlpha,l.uniforms.uColor,s.alphaMode),l.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),l.uniforms.uSampler=a,e.shader.bind(l),e.geometry.bind(r),this.state.blendMode=(0,i.correctBlendMode)(t.blendMode,s.alphaMode),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},r}(t.ObjectRenderer);exports.TilingSpriteRenderer=d;
},{"@pixi/core":"lj2a","@pixi/math":"w9h1","@pixi/sprite":"XG9w","@pixi/utils":"X4iF","@pixi/constants":"djkr"}],"KkZL":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MeshMaterial=exports.MeshGeometry=exports.MeshBatchUvs=exports.Mesh=void 0;var t=require("@pixi/core"),e=require("@pixi/math"),r=require("@pixi/constants"),i=require("@pixi/display"),n=require("@pixi/settings"),a=require("@pixi/utils"),o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function s(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var u=function(){function t(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},t}();exports.MeshBatchUvs=u;var h=new e.Point,l=new e.Polygon,d=function(e){function i(i,a,o,s){void 0===s&&(s=r.DRAW_MODES.TRIANGLES);var u=e.call(this)||this;return u.geometry=i,i.refCount++,u.shader=a,u.state=o||t.State.for2d(),u.drawMode=s,u.start=0,u.size=0,u.uvs=null,u.indices=null,u.vertexData=new Float32Array(1),u.vertexDirty=0,u._transformID=-1,u._roundPixels=n.settings.ROUND_PIXELS,u.batchUvs=null,u}return s(i,e),Object.defineProperty(i.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"material",{get:function(){return this.shader},set:function(t){this.shader=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tint",{get:function(){return this.shader.tint},set:function(t){this.shader.tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture=t},enumerable:!1,configurable:!0}),i.prototype._render=function(t){var e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===r.DRAW_MODES.TRIANGLES&&e.length<2*i.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},i.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.program.uniformData.translationMatrix&&(e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},i.prototype._renderToBatch=function(t){var e=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]),t.plugins[r].render(this)},i.prototype.calculateVertices=function(){var t=this.geometry,e=t.buffers[0].data;if(t.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var r=this.transform.worldTransform,i=r.a,a=r.b,o=r.c,s=r.d,u=r.tx,h=r.ty,l=this.vertexData,d=0;d<l.length/2;d++){var f=e[2*d],p=e[2*d+1];l[2*d]=i*f+o*p+u,l[2*d+1]=a*f+s*p+h}if(this._roundPixels){var c=n.settings.RESOLUTION;for(d=0;d<l.length;++d)l[d]=Math.round((l[d]*c|0)/c)}this.vertexDirty=t.vertexDirtyId}},i.prototype.calculateUvs=function(){var t=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new u(t,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},i.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},i.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,h);for(var e=this.geometry.getBuffer("aVertexPosition").data,r=l.points,i=this.geometry.getIndex().data,n=i.length,a=4===this.drawMode?3:1,o=0;o+2<n;o+=a){var s=2*i[o],u=2*i[o+1],d=2*i[o+2];if(r[0]=e[s],r[1]=e[s+1],r[2]=e[u],r[3]=e[u+1],r[4]=e[d],r[5]=e[d+1],l.contains(h.x,h.y))return!0}return!1},i.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},i.BATCHABLE_SIZE=100,i}(i.Container);exports.Mesh=d;var f="varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n",p="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n",c=function(r){function i(i,n){var a=this,o={uSampler:i,alpha:1,uTextureMatrix:e.Matrix.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n)).uniforms&&Object.assign(o,n.uniforms),(a=r.call(this,n.program||t.Program.from(p,f),o)||this)._colorDirty=!1,a.uvMatrix=new t.TextureMatrix(i),a.batchable=void 0===n.program,a.pluginName=n.pluginName,a.tint=n.tint,a.alpha=n.alpha,a}return s(i,r),Object.defineProperty(i.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"alpha",{get:function(){return this._alpha},set:function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),i.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture;(0,a.premultiplyTintToRgba)(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},i}(t.Shader);exports.MeshMaterial=c;var x=function(e){function i(i,n,a){var o=e.call(this)||this,s=new t.Buffer(i),u=new t.Buffer(n,!0),h=new t.Buffer(a,!0,!0);return o.addAttribute("aVertexPosition",s,2,!1,r.TYPES.FLOAT).addAttribute("aTextureCoord",u,2,!1,r.TYPES.FLOAT).addIndex(h),o._updateId=-1,o}return s(i,e),Object.defineProperty(i.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),i}(t.Geometry);exports.MeshGeometry=x;
},{"@pixi/core":"lj2a","@pixi/math":"w9h1","@pixi/constants":"djkr","@pixi/display":"qvzw","@pixi/settings":"Xe2x","@pixi/utils":"X4iF"}],"wAzD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BitmapText=exports.BitmapFontLoader=exports.BitmapFontData=exports.BitmapFont=void 0;var e=require("@pixi/math"),t=require("@pixi/settings"),r=require("@pixi/mesh"),i=require("@pixi/utils"),n=require("@pixi/core"),a=require("@pixi/text"),o=require("@pixi/display"),s=require("@pixi/loaders"),h=function(e,t){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function l(e,t){function r(){this.constructor=e}h(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var f=function(){return function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]}}();exports.BitmapFontData=f;var u=function(){function e(){}return e.test=function(e){return"string"==typeof e&&0===e.indexOf("info face=")},e.parse=function(e){var t=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var i in t){var n=t[i].match(/^[a-z]+/gm)[0],a=t[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),o={};for(var s in a){var h=a[s].split("="),l=h[0],u=h[1].replace(/"/gm,""),c=parseFloat(u),p=isNaN(c)?u:c;o[l]=p}r[n].push(o)}var g=new f;return r.info.forEach(function(e){return g.info.push({face:e.face,size:parseInt(e.size,10)})}),r.common.forEach(function(e){return g.common.push({lineHeight:parseInt(e.lineHeight,10)})}),r.page.forEach(function(e){return g.page.push({id:parseInt(e.id,10),file:e.file})}),r.char.forEach(function(e){return g.char.push({id:parseInt(e.id,10),page:parseInt(e.page,10),x:parseInt(e.x,10),y:parseInt(e.y,10),width:parseInt(e.width,10),height:parseInt(e.height,10),xoffset:parseInt(e.xoffset,10),yoffset:parseInt(e.yoffset,10),xadvance:parseInt(e.xadvance,10)})}),r.kerning.forEach(function(e){return g.kerning.push({first:parseInt(e.first,10),second:parseInt(e.second,10),amount:parseInt(e.amount,10)})}),g},e}(),c=function(){function e(){}return e.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&null!==e.getElementsByTagName("info")[0].getAttribute("face")},e.parse=function(e){for(var t=new f,r=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),n=e.getElementsByTagName("page"),a=e.getElementsByTagName("char"),o=e.getElementsByTagName("kerning"),s=0;s<r.length;s++)t.info.push({face:r[s].getAttribute("face"),size:parseInt(r[s].getAttribute("size"),10)});for(s=0;s<i.length;s++)t.common.push({lineHeight:parseInt(i[s].getAttribute("lineHeight"),10)});for(s=0;s<n.length;s++)t.page.push({id:parseInt(n[s].getAttribute("id"),10)||0,file:n[s].getAttribute("file")});for(s=0;s<a.length;s++){var h=a[s];t.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(s=0;s<o.length;s++)t.kerning.push({first:parseInt(o[s].getAttribute("first"),10),second:parseInt(o[s].getAttribute("second"),10),amount:parseInt(o[s].getAttribute("amount"),10)});return t},e}(),p=function(){function e(){}return e.test=function(e){if("string"==typeof e&&e.indexOf("<font>")>-1){var t=(new self.DOMParser).parseFromString(e,"text/xml");return c.test(t)}return!1},e.parse=function(e){var t=(new window.DOMParser).parseFromString(e,"text/xml");return c.parse(t)},e}(),g=[u,c,p];function d(e){for(var t=0;t<g.length;t++)if(g[t].test(e))return g[t];return null}function x(e,t,r,i,n,o){var s,h=r.fill;if(!Array.isArray(h))return h;if(1===h.length)return h[0];var l=r.dropShadow?r.dropShadowDistance:0,f=r.padding||0,u=Math.ceil(e.width/i)-l-2*f,c=Math.ceil(e.height/i)-l-2*f,p=h.slice(),g=r.fillGradientStops.slice();if(!g.length)for(var d=p.length+1,x=1;x<d;++x)g.push(x/d);if(p.unshift(h[0]),g.unshift(0),p.push(h[h.length-1]),g.push(1),r.fillGradientType===a.TEXT_GRADIENT.LINEAR_VERTICAL){s=t.createLinearGradient(u/2,f,u/2,c+f);var m=0,v=(o.fontProperties.fontSize+r.strokeThickness)/c;for(x=0;x<n.length;x++)for(var y=o.lineHeight*x,b=0;b<p.length;b++){var _=y/c+("number"==typeof g[b]?g[b]:b/p.length)*v,w=Math.max(m,_);w=Math.min(w,1),s.addColorStop(w,p[b]),m=w}}else{s=t.createLinearGradient(f,c/2,u+f,c/2);var T=p.length+1,S=1;for(x=0;x<p.length;x++){var A=void 0;A="number"==typeof g[x]?g[x]:S/T,s.addColorStop(A,p[x]),S++}}return s}function m(e,t,r,n,a,o,s){var h=r.text,l=r.fontProperties;t.translate(n,a),t.scale(o,o);var f=s.strokeThickness/2,u=-s.strokeThickness/2;t.font=s.toFontString(),t.lineWidth=s.strokeThickness,t.textBaseline=s.textBaseline,t.lineJoin=s.lineJoin,t.miterLimit=s.miterLimit,t.fillStyle=x(e,t,s,o,[h],r),t.strokeStyle=s.stroke,t.font=s.toFontString(),t.lineWidth=s.strokeThickness,t.textBaseline=s.textBaseline,t.lineJoin=s.lineJoin,t.miterLimit=s.miterLimit,t.fillStyle=x(e,t,s,o,[h],r),t.strokeStyle=s.stroke;var c=s.dropShadowColor,p=(0,i.hex2rgb)("number"==typeof c?c:(0,i.string2hex)(c));s.dropShadow?(t.shadowColor="rgba("+255*p[0]+","+255*p[1]+","+255*p[2]+","+s.dropShadowAlpha+")",t.shadowBlur=s.dropShadowBlur,t.shadowOffsetX=Math.cos(s.dropShadowAngle)*s.dropShadowDistance,t.shadowOffsetY=Math.sin(s.dropShadowAngle)*s.dropShadowDistance):(t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0),s.stroke&&s.strokeThickness&&t.strokeText(h,f,u+r.lineHeight-l.descent),s.fill&&t.fillText(h,f,u+r.lineHeight-l.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function v(e){"string"==typeof e&&(e=[e]);for(var t=[],r=0,i=e.length;r<i;r++){var n=e[r];if(Array.isArray(n)){if(2!==n.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+n.length+".");var a=n[0].charCodeAt(0),o=n[1].charCodeAt(0);if(o<a)throw new Error("[BitmapFont]: Invalid character range.");for(var s=a,h=o;s<=h;s++)t.push(String.fromCharCode(s))}else t.push.apply(t,n.split(""))}if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}var y=function(){function t(t,r){var a=t.info[0],o=t.common[0],s=t.page[0],h=(0,i.getResolutionOfUrl)(s.file),l={};this.font=a.face,this.size=a.size,this.lineHeight=o.lineHeight/h,this.chars={},this.pageTextures=l;for(var f=0;f<t.page.length;f++){var u=t.page[f],c=u.id,p=u.file;l[c]=r instanceof Array?r[f]:r[p]}for(f=0;f<t.char.length;f++){var g=t.char[f],d=(c=g.id,g.page),x=t.char[f],m=x.x,v=x.y,y=x.width,b=x.height,_=x.xoffset,w=x.yoffset,T=x.xadvance;m/=h,v/=h,y/=h,b/=h,_/=h,w/=h,T/=h;var S=new e.Rectangle(m+l[d].frame.x/h,v+l[d].frame.y/h,y,b);this.chars[c]={xOffset:_,yOffset:w,xAdvance:T,kerning:{},texture:new n.Texture(l[d].baseTexture,S),page:d}}for(f=0;f<t.kerning.length;f++){var A=t.kerning[f],I=A.first,P=A.second,O=A.amount;I/=h,P/=h,O/=h,this.chars[P]&&(this.chars[P].kerning[I]=O)}}return t.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},t.install=function(e,r){var i;if(e instanceof f)i=e;else{var a=d(e);if(!a)throw new Error("Unrecognized data format for font.");i=a.parse(e)}r instanceof n.Texture&&(r=[r]);var o=new t(i,r);return t.available[o.font]=o,o},t.uninstall=function(e){var r=t.available[e];if(!r)throw new Error("No font found named '"+e+"'");r.destroy(),delete t.available[e]},t.from=function(e,r,i){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var o=Object.assign({},t.defaultOptions,i),s=o.chars,h=o.padding,l=o.resolution,u=o.textureWidth,c=o.textureHeight,p=v(s),g=r instanceof a.TextStyle?r:new a.TextStyle(r),d=u,x=new f;x.info[0]={face:g.fontFamily,size:g.fontSize},x.common[0]={lineHeight:g.fontSize};for(var y,b,_,w=0,T=0,S=0,A=[],I=0;I<p.length;I++){y||((y=document.createElement("canvas")).width=u,y.height=c,b=y.getContext("2d"),_=new n.BaseTexture(y,{resolution:l}),A.push(new n.Texture(_)),x.page.push({id:A.length-1,file:""}));var P=a.TextMetrics.measureText(p[I],g,!1,y),O=P.width,B=Math.ceil(P.height),E=Math.ceil(("italic"===g.fontStyle?2:1)*O);if(T>=c-B*l){if(0===T)throw new Error("[BitmapFont] textureHeight "+c+"px is too small for "+g.fontSize+"px fonts");--I,y=null,b=null,_=null,T=0,w=0,S=0}else if(S=Math.max(B+P.fontProperties.descent,S),E*l+w>=d)--I,T+=S*l,T=Math.ceil(T),w=0,S=0;else{m(y,b,P,w,T,l,g);var M=P.text.charCodeAt(0);x.char.push({id:M,page:A.length-1,x:w/l,y:T/l,width:E,height:B,xoffset:0,yoffset:0,xadvance:Math.ceil(O-(g.dropShadow?g.dropShadowDistance:0)-(g.stroke?g.strokeThickness:0))}),w+=(E+2*h)*l,w=Math.ceil(w)}}var k=new t(x,A);return void 0!==t.available[e]&&t.uninstall(e),t.available[e]=k,k},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}();exports.BitmapFont=y;var b=[],_=[],w=function(a){function o(r,n){void 0===n&&(n={});var s=a.call(this)||this;s._tint=16777215,n.font&&((0,i.deprecation)("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),s._upgradeStyle(n));var h=Object.assign({},o.styleDefaults,n),l=h.align,f=h.tint,u=h.maxWidth,c=h.letterSpacing,p=h.fontName,g=h.fontSize;if(!y.available[p])throw new Error('Missing BitmapFont "'+p+'"');return s._activePagesMeshData=[],s._textWidth=0,s._textHeight=0,s._align=l,s._tint=f,s._fontName=p,s._fontSize=g||y.available[p].size,s._text=r,s._maxWidth=u,s._maxLineHeight=0,s._letterSpacing=c,s._anchor=new e.ObservablePoint(function(){s.dirty=!0},s,0,0),s._roundPixels=t.settings.ROUND_PIXELS,s.dirty=!0,s._textureCache={},s}return l(o,a),o.prototype.updateText=function(){for(var t,a=y.available[this._fontName],o=this._fontSize/a.size,s=new e.Point,h=[],l=[],f=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",u=f.length,c=this._maxWidth*a.size/this._fontSize,p=null,g=0,d=0,x=0,m=-1,v=0,w=0,T=0,S=0;S<u;S++){var A=f.charCodeAt(S),I=f.charAt(S);if(/(?:\s)/.test(I)&&(m=S,v=g),"\r"!==I&&"\n"!==I){var P=a.chars[A];if(P){p&&P.kerning[p]&&(s.x+=P.kerning[p]);var O=_.pop()||{texture:n.Texture.EMPTY,line:0,charCode:0,position:new e.Point};O.texture=P.texture,O.line=x,O.charCode=A,O.position.x=s.x+P.xOffset+this._letterSpacing/2,O.position.y=s.y+P.yOffset,h.push(O),s.x+=P.xAdvance+this._letterSpacing,g=s.x,T=Math.max(T,P.yOffset+P.texture.height),p=A,-1!==m&&c>0&&s.x>c&&(++w,(0,i.removeItems)(h,1+m-w,1+S-m),S=m,m=-1,l.push(v),d=Math.max(d,v),x++,s.x=0,s.y+=a.lineHeight,p=null)}}else l.push(g),d=Math.max(d,g),++x,++w,s.x=0,s.y+=a.lineHeight,p=null}var B=f.charAt(f.length-1);"\r"!==B&&"\n"!==B&&(/(?:\s)/.test(B)&&(g=v),l.push(g),d=Math.max(d,g));var E=[];for(S=0;S<=x;S++){var M=0;"right"===this._align?M=d-l[S]:"center"===this._align&&(M=(d-l[S])/2),E.push(M)}var k=h.length,z={},C=[],F=this._activePagesMeshData;for(S=0;S<F.length;S++)b.push(F[S]);for(S=0;S<k;S++){var H=(q=h[S].texture).baseTexture.uid;if(!z[H]){if(!(K=b.pop())){var L=new r.MeshGeometry,N=new r.MeshMaterial(n.Texture.EMPTY);K={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new r.Mesh(L,N),vertices:null,uvs:null,indices:null}}K.index=0,K.indexCount=0,K.vertexCount=0,K.uvsCount=0,K.total=0;var j=this._textureCache;j[H]=j[H]||new n.Texture(q.baseTexture),K.mesh.texture=j[H],K.mesh.tint=this._tint,C.push(K),z[H]=K}z[H].total++}for(S=0;S<F.length;S++)-1===C.indexOf(F[S])&&this.removeChild(F[S].mesh);for(S=0;S<C.length;S++)C[S].mesh.parent!==this&&this.addChild(C[S].mesh);for(var S in this._activePagesMeshData=C,z){var D=(K=z[S]).total;if(!((null===(t=K.indices)||void 0===t?void 0:t.length)>6*D)||K.vertices.length<2*r.Mesh.BATCHABLE_SIZE)K.vertices=new Float32Array(8*D),K.uvs=new Float32Array(8*D),K.indices=new Uint16Array(6*D);else for(var W=K.total,U=K.vertices,R=4*W*2;R<U.length;R++)U[R]=0;K.mesh.size=6*D}for(S=0;S<k;S++){var X=(I=h[S]).position.x+E[I.line];this._roundPixels&&(X=Math.round(X));var q,G=X*o,Y=I.position.y*o,J=z[(q=I.texture).baseTexture.uid],Z=q.frame,$=q._uvs,V=J.index++;J.indices[6*V+0]=0+4*V,J.indices[6*V+1]=1+4*V,J.indices[6*V+2]=2+4*V,J.indices[6*V+3]=0+4*V,J.indices[6*V+4]=2+4*V,J.indices[6*V+5]=3+4*V,J.vertices[8*V+0]=G,J.vertices[8*V+1]=Y,J.vertices[8*V+2]=G+Z.width*o,J.vertices[8*V+3]=Y,J.vertices[8*V+4]=G+Z.width*o,J.vertices[8*V+5]=Y+Z.height*o,J.vertices[8*V+6]=G,J.vertices[8*V+7]=Y+Z.height*o,J.uvs[8*V+0]=$.x0,J.uvs[8*V+1]=$.y0,J.uvs[8*V+2]=$.x1,J.uvs[8*V+3]=$.y1,J.uvs[8*V+4]=$.x2,J.uvs[8*V+5]=$.y2,J.uvs[8*V+6]=$.x3,J.uvs[8*V+7]=$.y3}for(var S in this._textWidth=d*o,this._textHeight=(s.y+a.lineHeight)*o,z){var K=z[S];if(0!==this.anchor.x||0!==this.anchor.y)for(var Q=0,ee=this._textWidth*this.anchor.x,te=this._textHeight*this.anchor.y,re=0;re<K.total;re++)K.vertices[Q++]-=ee,K.vertices[Q++]-=te,K.vertices[Q++]-=ee,K.vertices[Q++]-=te,K.vertices[Q++]-=ee,K.vertices[Q++]-=te,K.vertices[Q++]-=ee,K.vertices[Q++]-=te;this._maxLineHeight=T*o;var ie=K.mesh.geometry.getBuffer("aVertexPosition"),ne=K.mesh.geometry.getBuffer("aTextureCoord"),ae=K.mesh.geometry.getIndex();ie.data=K.vertices,ne.data=K.uvs,ae.data=K.indices,ie.update(),ne.update(),ae.update()}for(S=0;S<h.length;S++)_.push(h[S])},o.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},o.prototype.getLocalBounds=function(){return this.validate(),a.prototype.getLocalBounds.call(this)},o.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(o.prototype,"tint",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"fontName",{get:function(){return this._fontName},set:function(e){if(!y.available[e])throw new Error('Missing BitmapFont "'+e+'"');this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"anchor",{get:function(){return this._anchor},set:function(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),o.prototype._upgradeStyle=function(e){if("string"==typeof e.font){var t=e.font.split(" ");e.fontName=1===t.length?t[0]:t.slice(1).join(" "),t.length>=2&&(e.fontSize=parseInt(t[0],10))}else e.fontName=e.font.name,e.fontSize="number"==typeof e.font.size?e.font.size:parseInt(e.font.size,10)},o.prototype.destroy=function(e){var t=this._textureCache;for(var r in t){t[r].destroy(),delete t[r]}this._textureCache=null,a.prototype.destroy.call(this,e)},o.registerFont=function(e,t){return(0,i.deprecation)("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),y.install(e,t)},Object.defineProperty(o,"fonts",{get:function(){return(0,i.deprecation)("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),y.available},enumerable:!1,configurable:!0}),o.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},o}(o.Container);exports.BitmapText=w;var T=function(){function e(){}return e.add=function(){s.LoaderResource.setExtensionXhrType("fnt",s.LoaderResource.XHR_RESPONSE_TYPE.TEXT)},e.use=function(t,r){var i=d(t.data);if(i)for(var n=e.getBaseUrl(this,t),a=i.parse(t.data),o={},h=function(e){o[e.metadata.pageFile]=e.texture,Object.keys(o).length===a.page.length&&(t.bitmapFont=y.install(a,o),r())},l=0;l<a.page.length;++l){var f=a.page[l].file,u=n+f,c=!1;for(var p in this.resources){var g=this.resources[p];if(g.url===u){g.metadata.pageFile=f,g.texture?h(g):g.onAfterMiddleware.add(h),c=!0;break}}if(!c){var x={crossOrigin:t.crossOrigin,loadType:s.LoaderResource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:f},t.metadata.imageMetadata),parentResource:t};this.add(u,x,h)}}else r()},e.getBaseUrl=function(t,r){var i=r.isDataUrl?"":e.dirname(r.url);return r.isDataUrl&&("."===i&&(i=""),t.baseUrl&&i&&"/"===t.baseUrl.charAt(t.baseUrl.length-1)&&(i+="/")),(i=i.replace(t.baseUrl,""))&&"/"!==i.charAt(i.length-1)&&(i+="/"),i},e.dirname=function(e){var t=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return t===e?".":""===t?"/":t},e}();exports.BitmapFontLoader=T;
},{"@pixi/math":"w9h1","@pixi/settings":"Xe2x","@pixi/mesh":"KkZL","@pixi/utils":"X4iF","@pixi/core":"lj2a","@pixi/text":"aZY8","@pixi/display":"qvzw","@pixi/loaders":"bw5V"}],"RZoz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AlphaFilter=void 0;var r=require("@pixi/core"),t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])})(r,e)};function e(r,e){function o(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}var o="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",n=function(t){function n(e){void 0===e&&(e=1);var n=t.call(this,r.defaultVertex,o,{uAlpha:1})||this;return n.alpha=e,n}return e(n,t),Object.defineProperty(n.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),n}(r.Filter);exports.AlphaFilter=n;
},{"@pixi/core":"lj2a"}],"WUS5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BlurFilterPass=exports.BlurFilter=void 0;var t=require("@pixi/core"),e=require("@pixi/settings"),r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function i(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var n="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }";function o(t,e){var r,i=Math.ceil(t/2),o=n,E="";r=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var u=0;u<t;u++){var l=r.replace("%index%",u.toString());E+=l=l.replace("%sampleIndex%",u-(i-1)+".0"),E+="\n"}return o=(o=o.replace("%blur%",E)).replace("%size%",t.toString())}var E,u,l,_,s,T,a,N,O,A,R,P,L,p,I,h,c,S={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},d=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");function f(t){for(var e,r=S[t],i=r.length,n=d,o="",E=0;E<t;E++){var u="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",E.toString());e=E,E>=i&&(e=t-E-1),o+=u=u.replace("%value%",r[e].toString()),o+="\n"}return n=(n=n.replace("%blur%",o)).replace("%size%",t.toString())}!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(E||(E={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(u||(u={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(l||(l={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(_||(_={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(s||(s={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(T||(T={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(a||(a={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(N||(N={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(O||(O={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(A||(A={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON"}(R||(R={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(P||(P={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(L||(L={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(p||(p={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(I||(I={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(h||(h={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(c||(c={}));var U=function(t){function r(r,i,n,E,u){void 0===i&&(i=8),void 0===n&&(n=4),void 0===E&&(E=e.settings.FILTER_RESOLUTION),void 0===u&&(u=5);var l=this,_=o(u,r),s=f(u);return(l=t.call(this,_,s)||this).horizontal=r,l.resolution=E,l._quality=0,l.quality=n,l.blur=i,l}return i(r,t),r.prototype.apply=function(t,e,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/e.width):this.uniforms.strength=1/r.height*(r.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,i);else{var n=t.getFilterTexture(),o=t.renderer,E=e,u=n;this.state.blend=!1,t.applyFilter(this,E,u,L.CLEAR);for(var l=1;l<this.passes-1;l++){t.bindAndClear(E,L.BLIT),this.uniforms.uSampler=u;var _=u;u=E,E=_,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,u,r,i),t.returnFilterTexture(n)}},Object.defineProperty(r.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=1+2*Math.abs(t),this.strength=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!1,configurable:!0}),r}(t.Filter);exports.BlurFilterPass=U;var b=function(t){function r(r,i,n,o){void 0===r&&(r=8),void 0===i&&(i=4),void 0===n&&(n=e.settings.FILTER_RESOLUTION),void 0===o&&(o=5);var E=t.call(this)||this;return E.blurXFilter=new U(!0,r,i,n,o),E.blurYFilter=new U(!1,r,i,n,o),E.resolution=n,E.quality=i,E.blur=r,E.repeatEdgePixels=!1,E}return i(r,t),r.prototype.apply=function(t,e,r,i){var n=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(n&&o){var E=t.getFilterTexture();this.blurXFilter.apply(t,e,E,L.CLEAR),this.blurYFilter.apply(t,E,r,i),t.returnFilterTexture(E)}else o?this.blurYFilter.apply(t,e,r,i):this.blurXFilter.apply(t,e,r,i)},r.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(r.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(t){this._repeatEdgePixels=t,this.updatePadding()},enumerable:!1,configurable:!0}),r}(t.Filter);exports.BlurFilter=b;
},{"@pixi/core":"lj2a","@pixi/settings":"Xe2x"}],"ts1g":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ColorMatrixFilter=void 0;var t=require("@pixi/core"),r=function(t,o){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])})(t,o)};function o(t,o){function n(){this.constructor=t}r(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}var n="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",e=function(r){function e(){var o=this,e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(o=r.call(this,t.defaultFilterVertex,n,e)||this).alpha=1,o}return o(e,r),e.prototype._loadMatrix=function(t,r){void 0===r&&(r=!1);var o=t;r&&(this._multiply(o,this.uniforms.m,t),o=this._colorMatrix(o)),this.uniforms.m=o},e.prototype._multiply=function(t,r,o){return t[0]=r[0]*o[0]+r[1]*o[5]+r[2]*o[10]+r[3]*o[15],t[1]=r[0]*o[1]+r[1]*o[6]+r[2]*o[11]+r[3]*o[16],t[2]=r[0]*o[2]+r[1]*o[7]+r[2]*o[12]+r[3]*o[17],t[3]=r[0]*o[3]+r[1]*o[8]+r[2]*o[13]+r[3]*o[18],t[4]=r[0]*o[4]+r[1]*o[9]+r[2]*o[14]+r[3]*o[19]+r[4],t[5]=r[5]*o[0]+r[6]*o[5]+r[7]*o[10]+r[8]*o[15],t[6]=r[5]*o[1]+r[6]*o[6]+r[7]*o[11]+r[8]*o[16],t[7]=r[5]*o[2]+r[6]*o[7]+r[7]*o[12]+r[8]*o[17],t[8]=r[5]*o[3]+r[6]*o[8]+r[7]*o[13]+r[8]*o[18],t[9]=r[5]*o[4]+r[6]*o[9]+r[7]*o[14]+r[8]*o[19]+r[9],t[10]=r[10]*o[0]+r[11]*o[5]+r[12]*o[10]+r[13]*o[15],t[11]=r[10]*o[1]+r[11]*o[6]+r[12]*o[11]+r[13]*o[16],t[12]=r[10]*o[2]+r[11]*o[7]+r[12]*o[12]+r[13]*o[17],t[13]=r[10]*o[3]+r[11]*o[8]+r[12]*o[13]+r[13]*o[18],t[14]=r[10]*o[4]+r[11]*o[9]+r[12]*o[14]+r[13]*o[19]+r[14],t[15]=r[15]*o[0]+r[16]*o[5]+r[17]*o[10]+r[18]*o[15],t[16]=r[15]*o[1]+r[16]*o[6]+r[17]*o[11]+r[18]*o[16],t[17]=r[15]*o[2]+r[16]*o[7]+r[17]*o[12]+r[18]*o[17],t[18]=r[15]*o[3]+r[16]*o[8]+r[17]*o[13]+r[18]*o[18],t[19]=r[15]*o[4]+r[16]*o[9]+r[17]*o[14]+r[18]*o[19]+r[19],t},e.prototype._colorMatrix=function(t){var r=new Float32Array(t);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r},e.prototype.brightness=function(t,r){var o=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(o,r)},e.prototype.greyscale=function(t,r){var o=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(o,r)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,r){t=(t||0)/180*Math.PI;var o=Math.cos(t),n=Math.sin(t),e=1/3,i=(0,Math.sqrt)(e),a=[o+(1-o)*e,e*(1-o)-i*n,e*(1-o)+i*n,0,0,e*(1-o)+i*n,o+e*(1-o),e*(1-o)-i*n,0,0,e*(1-o)-i*n,e*(1-o)+i*n,o+e*(1-o),0,0,0,0,0,1,0];this._loadMatrix(a,r)},e.prototype.contrast=function(t,r){var o=(t||0)+1,n=-.5*(o-1),e=[o,0,0,0,n,0,o,0,0,n,0,0,o,0,n,0,0,0,1,0];this._loadMatrix(e,r)},e.prototype.saturate=function(t,r){void 0===t&&(t=0);var o=2*t/3+1,n=-.5*(o-1),e=[o,n,n,0,0,n,o,n,0,0,n,n,o,0,0,0,0,0,1,0];this._loadMatrix(e,r)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,r,o,n,e){var i=((o=o||16770432)>>16&255)/255,a=(o>>8&255)/255,u=(255&o)/255,l=((n=n||3375104)>>16&255)/255,p=(n>>8&255)/255,s=(255&n)/255,c=[.3,.59,.11,0,0,i,a,u,t=t||.2,0,l,p,s,r=r||.15,0,i-l,a-p,u-s,0,0];this._loadMatrix(c,e)},e.prototype.night=function(t,r){var o=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(o,r)},e.prototype.predator=function(t,r){var o=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(o,r)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(t.Filter);exports.ColorMatrixFilter=e,e.prototype.grayscale=e.prototype.greyscale;
},{"@pixi/core":"lj2a"}],"XNHP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DisplacementFilter=void 0;var t=require("@pixi/core"),r=require("@pixi/math"),e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(t,r)};function i(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}var n="varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",o="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n",a=function(t){function e(e,i){var a=this,u=new r.Matrix;return e.renderable=!1,(a=t.call(this,o,n,{mapSampler:e._texture,filterMatrix:u,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,a.maskMatrix=u,null==i&&(i=20),a.scale=new r.Point(i,i),a}return i(e,t),e.prototype.apply=function(t,r,e,i){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var n=this.maskSprite.worldTransform,o=Math.sqrt(n.a*n.a+n.b*n.b),a=Math.sqrt(n.c*n.c+n.d*n.d);0!==o&&0!==a&&(this.uniforms.rotation[0]=n.a/o,this.uniforms.rotation[1]=n.b/o,this.uniforms.rotation[2]=n.c/a,this.uniforms.rotation[3]=n.d/a),t.applyFilter(this,r,e,i)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!1,configurable:!0}),e}(t.Filter);exports.DisplacementFilter=a;
},{"@pixi/core":"lj2a","@pixi/math":"w9h1"}],"d2iI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FXAAFilter=void 0;var n=require("@pixi/core"),e=function(n,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r])})(n,r)};function r(n,r){function o(){this.constructor=n}e(n,r),n.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}var o="\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",t='varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n',i=function(n){function e(){return n.call(this,o,t)||this}return r(e,n),e}(n.Filter);exports.FXAAFilter=i;
},{"@pixi/core":"lj2a"}],"Y0eQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NoiseFilter=void 0;var e=require("@pixi/core"),o=function(e,r){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var r in o)o.hasOwnProperty(r)&&(e[r]=o[r])})(e,r)};function r(e,r){function n(){this.constructor=e}o(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}var n="precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",t=function(o){function t(r,t){void 0===r&&(r=.5),void 0===t&&(t=Math.random());var i=o.call(this,e.defaultFilterVertex,n,{uNoise:0,uSeed:0})||this;return i.noise=r,i.seed=t,i}return r(t,o),Object.defineProperty(t.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e},enumerable:!1,configurable:!0}),t}(e.Filter);exports.NoiseFilter=t;
},{"@pixi/core":"lj2a"}],"vc4X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CacheData=void 0;var t=require("@pixi/core"),a=require("@pixi/sprite"),e=require("@pixi/display"),i=require("@pixi/math"),r=require("@pixi/utils"),s=require("@pixi/settings"),n=new i.Matrix;e.DisplayObject.prototype._cacheAsBitmap=!1,e.DisplayObject.prototype._cacheData=null;var h=function(){return function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}();exports.CacheData=h,Object.defineProperties(e.DisplayObject.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var a;this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new h),(a=this._cacheData).originalRender=this.render,a.originalRenderCanvas=this.renderCanvas,a.originalUpdateTransform=this.updateTransform,a.originalCalculateBounds=this.calculateBounds,a.originalGetLocalBounds=this.getLocalBounds,a.originalDestroy=this.destroy,a.originalContainsPoint=this.containsPoint,a.originalMask=this._mask,a.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((a=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=a.originalRender,this.renderCanvas=a.originalRenderCanvas,this.calculateBounds=a.originalCalculateBounds,this.getLocalBounds=a.originalGetLocalBounds,this.destroy=a.originalDestroy,this.updateTransform=a.originalUpdateTransform,this.containsPoint=a.originalContainsPoint,this._mask=a.originalMask,this.filterArea=a.originalFilterArea))}}}),e.DisplayObject.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},e.DisplayObject.prototype._initCachedDisplayObject=function(e){if(!this._cacheData||!this._cacheData.sprite){var i=this.alpha;this.alpha=1,e.batch.flush();var h=this.getLocalBounds(null,!0).clone();if(this.filters){var o=this.filters[0].padding;h.pad(o)}h.ceil(s.settings.RESOLUTION);var c=e.renderTexture.current,l=e.renderTexture.sourceFrame.clone(),d=e.projection.transform,p=t.RenderTexture.create({width:h.width,height:h.height}),u="cacheAsBitmap_"+(0,r.uid)();this._cacheData.textureCacheId=u,t.BaseTexture.addToCache(p.baseTexture,u),t.Texture.addToCache(p,u);var _=this.transform.localTransform.copyTo(n).invert().translate(-h.x,-h.y);this.render=this._cacheData.originalRender,e.render(this,p,!0,_,!1),e.projection.transform=d,e.renderTexture.bind(c,l),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var D=new a.Sprite(p);D.transform.worldTransform=this.transform.worldTransform,D.anchor.x=-h.x/h.width,D.anchor.y=-h.y/h.height,D.alpha=i,D._bounds=this._bounds,this._cacheData.sprite=D,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=D.containsPoint.bind(D)}},e.DisplayObject.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},e.DisplayObject.prototype._initCachedDisplayObjectCanvas=function(e){if(!this._cacheData||!this._cacheData.sprite){var i=this.getLocalBounds(null,!0),h=this.alpha;this.alpha=1;var o=e.context,c=e._projTransform;i.ceil(s.settings.RESOLUTION);var l=t.RenderTexture.create({width:i.width,height:i.height}),d="cacheAsBitmap_"+(0,r.uid)();this._cacheData.textureCacheId=d,t.BaseTexture.addToCache(l.baseTexture,d),t.Texture.addToCache(l,d);var p=n;this.transform.localTransform.copyTo(p),p.invert(),p.tx-=i.x,p.ty-=i.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,l,!0,p,!1),e.context=o,e._projTransform=c,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var u=new a.Sprite(l);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-i.x/i.width,u.anchor.y=-i.y/i.height,u.alpha=h,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)}},e.DisplayObject.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},e.DisplayObject.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},e.DisplayObject.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,t.BaseTexture.removeFromCache(this._cacheData.textureCacheId),t.Texture.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},e.DisplayObject.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};
},{"@pixi/core":"lj2a","@pixi/sprite":"XG9w","@pixi/display":"qvzw","@pixi/math":"w9h1","@pixi/utils":"X4iF","@pixi/settings":"Xe2x"}],"k2x1":[function(require,module,exports) {
"use strict";var i=require("@pixi/display");i.DisplayObject.prototype.name=null,i.Container.prototype.getChildByName=function(i,e){for(var r=0,t=this.children.length;r<t;r++)if(this.children[r].name===i)return this.children[r];if(e)for(r=0,t=this.children.length;r<t;r++){if(this.children[r].getChildByName){var n=this.children[r].getChildByName(i,!0);if(n)return n}}return null};
},{"@pixi/display":"qvzw"}],"hqMH":[function(require,module,exports) {
"use strict";var i=require("@pixi/display"),t=require("@pixi/math");i.DisplayObject.prototype.getGlobalPosition=function(i,o){return void 0===i&&(i=new t.Point),void 0===o&&(o=!1),this.parent?this.parent.toGlobal(this.position,i,o):(i.x=this.position.x,i.y=this.position.y),i};
},{"@pixi/display":"qvzw","@pixi/math":"w9h1"}],"vnLX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SimpleRope=exports.SimplePlane=exports.SimpleMesh=exports.RopeGeometry=exports.PlaneGeometry=exports.NineSlicePlane=void 0;var t=require("@pixi/mesh"),e=require("@pixi/constants"),i=require("@pixi/core"),r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function h(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var o=function(t){function e(e,i,r,h){void 0===e&&(e=100),void 0===i&&(i=100),void 0===r&&(r=10),void 0===h&&(h=10);var o=t.call(this)||this;return o.segWidth=r,o.segHeight=h,o.width=e,o.height=i,o.build(),o}return h(e,t),e.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],i=[],r=[],h=this.segWidth-1,o=this.segHeight-1,s=this.width/h,n=this.height/o,a=0;a<t;a++){var u=a%this.segWidth,d=a/this.segWidth|0;e.push(u*s,d*n),i.push(u/h,d/o)}var p=h*o;for(a=0;a<p;a++){var f=a%h,g=a/h|0,c=g*this.segWidth+f,l=g*this.segWidth+f+1,_=(g+1)*this.segWidth+f,y=(g+1)*this.segWidth+f+1;r.push(c,l,_,l,y,_)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(r),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(t.MeshGeometry);exports.PlaneGeometry=o;var s=function(t){function e(e,i,r){void 0===e&&(e=200),void 0===r&&(r=0);var h=t.call(this,new Float32Array(4*i.length),new Float32Array(4*i.length),new Uint16Array(6*(i.length-1)))||this;return h.points=i,h._width=e,h.textureScale=r,h.build(),h}return h(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),r=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),i.data=new Float32Array(4*t.length),r.data=new Uint16Array(6*(t.length-1)));var h=i.data,o=r.data;h[0]=0,h[1]=0,h[2]=0,h[3]=1;for(var s=0,n=t[0],a=this._width*this.textureScale,u=t.length,d=0;d<u;d++){var p=4*d;if(this.textureScale>0){var f=n.x-t[d].x,g=n.y-t[d].y,c=Math.sqrt(f*f+g*g);n=t[d],s+=c/a}else s=d/(u-1);h[p]=s,h[p+1]=0,h[p+2]=s,h[p+3]=1}var l=0;for(d=0;d<u-1;d++){p=2*d;o[l++]=p,o[l++]=p+1,o[l++]=p+2,o[l++]=p+2,o[l++]=p+1,o[l++]=p+3}i.update(),r.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e,i=t[0],r=0,h=0,o=this.buffers[0].data,s=t.length,n=0;n<s;n++){var a=t[n],u=4*n;h=-((e=n<t.length-1?t[n+1]:a).x-i.x),r=e.y-i.y;var d=Math.sqrt(r*r+h*h),p=this.textureScale>0?this.textureScale*this._width/2:this._width/2;r/=d,h/=d,r*=p,h*=p,o[u]=a.x+r,o[u+1]=a.y+h,o[u+2]=a.x-r,o[u+3]=a.y-h,i=a}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(t.MeshGeometry);exports.RopeGeometry=s;var n=function(i){function r(r,h,o){void 0===o&&(o=0);var n=this,a=new s(r.height,h,o),u=new t.MeshMaterial(r);return o>0&&(r.baseTexture.wrapMode=e.WRAP_MODES.REPEAT),(n=i.call(this,a,u)||this).autoUpdate=!0,n}return h(r,i),r.prototype._render=function(t){var e=this.geometry;(this.autoUpdate||e._width!==this.shader.texture.height)&&(e._width=this.shader.texture.height,e.update()),i.prototype._render.call(this,t)},r}(t.Mesh);exports.SimpleRope=n;var a=function(e){function r(r,h,s){var n=this,a=new o(r.width,r.height,h,s),u=new t.MeshMaterial(i.Texture.WHITE);return(n=e.call(this,a,u)||this).texture=r,n}return h(r,e),r.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var t=this.geometry;t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build()},Object.defineProperty(r.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),r.prototype._render=function(t){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),e.prototype._render.call(this,t)},r.prototype.destroy=function(t){this.shader.texture.off("update",this.textureUpdated,this),e.prototype.destroy.call(this,t)},r}(t.Mesh);exports.SimplePlane=a;var u=function(e){function r(r,h,o,s,n){void 0===r&&(r=i.Texture.EMPTY);var a=this,u=new t.MeshGeometry(h,o,s);u.getBuffer("aVertexPosition").static=!1;var d=new t.MeshMaterial(r);return(a=e.call(this,u,d,null,n)||this).autoUpdate=!0,a}return h(r,e),Object.defineProperty(r.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),r.prototype._render=function(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),e.prototype._render.call(this,t)},r}(t.Mesh);exports.SimpleMesh=u;var d=10,p=function(t){function e(e,r,h,o,s){void 0===r&&(r=d),void 0===h&&(h=d),void 0===o&&(o=d),void 0===s&&(s=d);var n=t.call(this,i.Texture.WHITE,4,4)||this;return n._origWidth=e.orig.width,n._origHeight=e.orig.height,n._width=n._origWidth,n._height=n._origHeight,n._leftWidth=r,n._rightWidth=o,n._topHeight=h,n._bottomHeight=s,n.texture=e,n}return h(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth,e=this._width>t?1:this._width/t,i=this._topHeight+this._bottomHeight,r=this._height>i?1:this._height/i;return Math.min(e,r)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var i=1/this._origWidth,r=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=i*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-i*this._rightWidth,e[9]=e[11]=e[13]=e[15]=r*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-r*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e}(a);exports.NineSlicePlane=p;
},{"@pixi/mesh":"KkZL","@pixi/constants":"djkr","@pixi/core":"lj2a"}],"fDWR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AnimatedSprite=void 0;var t=require("@pixi/core"),e=require("@pixi/sprite"),r=require("@pixi/ticker"),i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function o(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var n=function(e){function i(r,i){void 0===i&&(i=!0);var o=e.call(this,r[0]instanceof t.Texture?r[0]:r[0].texture)||this;return o._textures=null,o._durations=null,o._autoUpdate=i,o._isConnectedToTicker=!1,o.animationSpeed=1,o.loop=!0,o.updateAnchor=!1,o.onComplete=null,o.onFrameChange=null,o.onLoop=null,o._currentTime=0,o._playing=!1,o._previousFrame=null,o.textures=r,o}return o(i,e),i.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(r.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1))},i.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(r.Ticker.shared.add(this.update,this,r.UPDATE_PRIORITY.HIGH),this._isConnectedToTicker=!0))},i.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},i.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},i.prototype.update=function(t){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var i=this._currentTime%1*this._durations[this.currentFrame];for(i+=e/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];var o=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*o,this._currentTime+=o;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r?this.onLoop():this.animationSpeed<0&&this.currentFrame>r&&this.onLoop()),this.updateTexture())},i.prototype.updateTexture=function(){var t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},i.prototype.destroy=function(t){this.stop(),e.prototype.destroy.call(this,t),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},i.fromFrames=function(e){for(var r=[],o=0;o<e.length;++o)r.push(t.Texture.from(e[o]));return new i(r)},i.fromImages=function(e){for(var r=[],o=0;o<e.length;++o)r.push(t.Texture.from(e[o]));return new i(r)},Object.defineProperty(i.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"textures",{get:function(){return this._textures},set:function(e){if(e[0]instanceof t.Texture)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"currentFrame",{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(r.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(r.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),i}(e.Sprite);exports.AnimatedSprite=n;
},{"@pixi/core":"lj2a","@pixi/sprite":"XG9w","@pixi/ticker":"AWzT"}],"aQiP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={VERSION:!0,filters:!0,useDeprecated:!0,utils:!0};exports.useDeprecated=A,exports.utils=exports.filters=exports.VERSION=void 0,require("@pixi/polyfill");var r=E(require("@pixi/utils"));exports.utils=r;var t=require("@pixi/accessibility");Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===t[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return t[r]}}))});var n=require("@pixi/interaction");Object.keys(n).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===n[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return n[r]}}))});var o=require("@pixi/app");Object.keys(o).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===o[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return o[r]}}))});var i=require("@pixi/core");Object.keys(i).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===i[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return i[r]}}))});var a=require("@pixi/extract");Object.keys(a).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===a[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return a[r]}}))});var s=require("@pixi/loaders");Object.keys(s).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===s[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return s[r]}}))});var c=require("@pixi/particles");Object.keys(c).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===c[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return c[r]}}))});var p=require("@pixi/prepare");Object.keys(p).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===p[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return p[r]}}))});var u=require("@pixi/spritesheet");Object.keys(u).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===u[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return u[r]}}))});var d=require("@pixi/sprite-tiling");Object.keys(d).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===d[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return d[r]}}))});var l=require("@pixi/text-bitmap");Object.keys(l).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===l[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return l[r]}}))});var f=require("@pixi/ticker");Object.keys(f).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===f[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return f[r]}}))});var I=require("@pixi/filter-alpha"),P=require("@pixi/filter-blur"),h=require("@pixi/filter-color-matrix"),m=require("@pixi/filter-displacement"),y=require("@pixi/filter-fxaa"),g=require("@pixi/filter-noise");require("@pixi/mixin-cache-as-bitmap"),require("@pixi/mixin-get-child-by-name"),require("@pixi/mixin-get-global-position");var x=require("@pixi/constants");Object.keys(x).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===x[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return x[r]}}))});var b=require("@pixi/display");Object.keys(b).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===b[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return b[r]}}))});var v=require("@pixi/graphics");Object.keys(v).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===v[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return v[r]}}))});var X=require("@pixi/math");Object.keys(X).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===X[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return X[r]}}))});var O=require("@pixi/mesh");Object.keys(O).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===O[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return O[r]}}))});var S=require("@pixi/mesh-extras");Object.keys(S).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===S[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return S[r]}}))});var j=require("@pixi/runner");Object.keys(j).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===j[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return j[r]}}))});var M=require("@pixi/sprite");Object.keys(M).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===M[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return M[r]}}))});var T=require("@pixi/sprite-animated");Object.keys(T).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===T[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return T[r]}}))});var R=require("@pixi/text");Object.keys(R).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===R[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return R[r]}}))});var _=require("@pixi/settings");function F(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return F=function(){return e},e}function E(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=F();if(r&&r.has(e))return r.get(e);var t={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(t,o,i):t[o]=e[o]}return t.default=e,r&&r.set(e,t),t}Object.keys(_).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===_[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return _[r]}}))});var B=function(e,r){return(B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(e,r)};function L(e,r){function t(){this.constructor=e}B(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}var w="5.0.0";function A(){var e=this;Object.defineProperties(e,{SVG_SIZE:{get:function(){return(0,r.deprecation)(w,"PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE"),e.SVGResource.SVG_SIZE}},TransformStatic:{get:function(){return(0,r.deprecation)(w,"PIXI.TransformStatic class has been removed, use PIXI.Transform"),e.Transform}},TransformBase:{get:function(){return(0,r.deprecation)(w,"PIXI.TransformBase class has been removed, use PIXI.Transform"),e.Transform}},TRANSFORM_MODE:{get:function(){return(0,r.deprecation)(w,"PIXI.TRANSFORM_MODE property has been removed"),{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){return(0,r.deprecation)(w,"PIXI.WebGLRenderer class has moved to PIXI.Renderer"),e.Renderer}},CanvasRenderTarget:{get:function(){return(0,r.deprecation)(w,"PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget"),e.utils.CanvasRenderTarget}},loader:{get:function(){return(0,r.deprecation)(w,"PIXI.loader instance has moved to PIXI.Loader.shared"),e.Loader.shared}},FilterManager:{get:function(){return(0,r.deprecation)(w,"PIXI.FilterManager class has moved to PIXI.systems.FilterSystem"),e.systems.FilterSystem}},CanvasTinter:{get:function(){return(0,r.deprecation)("5.2.0","PIXI.CanvasTinter namespace has moved to PIXI.canvasUtils"),e.canvasUtils}},GroupD8:{get:function(){return(0,r.deprecation)("5.2.0","PIXI.GroupD8 namespace has moved to PIXI.groupD8"),e.groupD8}}}),e.accessibility={},Object.defineProperties(e.accessibility,{AccessibilityManager:{get:function(){return(0,r.deprecation)("5.3.0","PIXI.accessibility.AccessibilityManager moved to PIXI.AccessibilityManager"),e.AccessibilityManager}}}),e.interaction={},Object.defineProperties(e.interaction,{InteractionManager:{get:function(){return(0,r.deprecation)("5.3.0","PIXI.interaction.InteractionManager moved to PIXI.InteractionManager"),e.InteractionManager}},InteractionData:{get:function(){return(0,r.deprecation)("5.3.0","PIXI.interaction.InteractionData moved to PIXI.InteractionData"),e.InteractionData}},InteractionEvent:{get:function(){return(0,r.deprecation)("5.3.0","PIXI.interaction.InteractionEvent moved to PIXI.InteractionEvent"),e.InteractionEvent}}}),e.prepare={},Object.defineProperties(e.prepare,{BasePrepare:{get:function(){return(0,r.deprecation)("5.2.1","PIXI.prepare.BasePrepare moved to PIXI.BasePrepare"),e.BasePrepare}},Prepare:{get:function(){return(0,r.deprecation)("5.2.1","PIXI.prepare.Prepare moved to PIXI.Prepare"),e.Prepare}},CanvasPrepare:{get:function(){return(0,r.deprecation)("5.2.1","PIXI.prepare.CanvasPrepare moved to PIXI.CanvasPrepare"),e.CanvasPrepare}}}),e.extract={},Object.defineProperties(e.extract,{Extract:{get:function(){return(0,r.deprecation)("5.2.1","PIXI.extract.Extract moved to PIXI.Extract"),e.Extract}},CanvasExtract:{get:function(){return(0,r.deprecation)("5.2.1","PIXI.extract.CanvasExtract moved to PIXI.CanvasExtract"),e.CanvasExtract}}}),e.extras={},Object.defineProperties(e.extras,{TilingSprite:{get:function(){return(0,r.deprecation)(w,"PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite"),e.TilingSprite}},TilingSpriteRenderer:{get:function(){return(0,r.deprecation)(w,"PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer"),e.TilingSpriteRenderer}},AnimatedSprite:{get:function(){return(0,r.deprecation)(w,"PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite"),e.AnimatedSprite}},BitmapText:{get:function(){return(0,r.deprecation)(w,"PIXI.extras.BitmapText class has moved to PIXI.BitmapText"),e.BitmapText}}}),e.TilingSprite.fromFrame=function(t,n,o){return(0,r.deprecation)("5.3.0","TilingSprite.fromFrame is deprecated, use TilingSprite.from"),e.TilingSprite.from(t,{width:n,height:o})},e.TilingSprite.fromImage=function(t,n,o,i){return void 0===i&&(i={}),(0,r.deprecation)("5.3.0","TilingSprite.fromImage is deprecated, use TilingSprite.from"),i&&"object"!=typeof i&&(i={scaleMode:arguments[4],resourceOptions:{crossorigin:arguments[3]}}),i.width=n,i.height=o,e.TilingSprite.from(t,i)},Object.defineProperties(e.utils,{getSvgSize:{get:function(){return(0,r.deprecation)(w,"PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize"),e.resources.SVGResource.getSize}}}),e.mesh={},Object.defineProperties(e.mesh,{Mesh:{get:function(){return(0,r.deprecation)(w,"PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh"),e.SimpleMesh}},NineSlicePlane:{get:function(){return(0,r.deprecation)(w,"PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane"),e.NineSlicePlane}},Plane:{get:function(){return(0,r.deprecation)(w,"PIXI.mesh.Plane class has moved to PIXI.SimplePlane"),e.SimplePlane}},Rope:{get:function(){return(0,r.deprecation)(w,"PIXI.mesh.Rope class has moved to PIXI.SimpleRope"),e.SimpleRope}},RawMesh:{get:function(){return(0,r.deprecation)(w,"PIXI.mesh.RawMesh class has moved to PIXI.Mesh"),e.Mesh}},CanvasMeshRenderer:{get:function(){return(0,r.deprecation)(w,"PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer"),e.CanvasMeshRenderer}},MeshRenderer:{get:function(){return(0,r.deprecation)(w,"PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer"),e.MeshRenderer}}}),e.particles={},Object.defineProperties(e.particles,{ParticleContainer:{get:function(){return(0,r.deprecation)(w,"PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer"),e.ParticleContainer}},ParticleRenderer:{get:function(){return(0,r.deprecation)(w,"PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer"),e.ParticleRenderer}}}),e.ticker={},Object.defineProperties(e.ticker,{Ticker:{get:function(){return(0,r.deprecation)(w,"PIXI.ticker.Ticker class has moved to PIXI.Ticker"),e.Ticker}},shared:{get:function(){return(0,r.deprecation)(w,"PIXI.ticker.shared instance has moved to PIXI.Ticker.shared"),e.Ticker.shared}}}),e.loaders={},Object.defineProperties(e.loaders,{Loader:{get:function(){return(0,r.deprecation)(w,"PIXI.loaders.Loader class has moved to PIXI.Loader"),e.Loader}},Resource:{get:function(){return(0,r.deprecation)(w,"PIXI.loaders.Resource class has moved to PIXI.LoaderResource"),e.LoaderResource}},bitmapFontParser:{get:function(){return(0,r.deprecation)(w,"PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use"),e.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){(0,r.deprecation)(w,"PIXI.loaders.parseBitmapFontData function has removed")}},spritesheetParser:{get:function(){return(0,r.deprecation)(w,"PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use"),e.SpritesheetLoader.use}},getResourcePath:{get:function(){return(0,r.deprecation)(w,"PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath"),e.SpritesheetLoader.getResourcePath}}}),e.Loader.addPixiMiddleware=function(t){return(0,r.deprecation)(w,"PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin"),e.loaders.Loader.registerPlugin({use:t()})};var t=function(e){return"on"+e.charAt(0).toUpperCase()+e.slice(1)};Object.assign(e.Loader.prototype,{on:function(e){var n=t(e);(0,r.deprecation)(w,"PIXI.Loader#on is completely deprecated, use PIXI.Loader#"+n+".add")},once:function(e){var n=t(e);(0,r.deprecation)(w,"PIXI.Loader#once is completely deprecated, use PIXI.Loader#"+n+".once")},off:function(e){var n=t(e);(0,r.deprecation)(w,"PIXI.Loader#off is completely deprecated, use PIXI.Loader#"+n+".detach")}}),Object.defineProperty(e.extract,"WebGLExtract",{get:function(){return(0,r.deprecation)(w,"PIXI.extract.WebGLExtract method has moved to PIXI.Extract"),e.Extract}}),Object.defineProperty(e.prepare,"WebGLPrepare",{get:function(){return(0,r.deprecation)(w,"PIXI.prepare.WebGLPrepare class has moved to PIXI.Prepare"),e.Prepare}}),e.Container.prototype._renderWebGL=function(e){(0,r.deprecation)(w,"PIXI.Container._renderWebGL method has moved to PIXI.Container._render"),this._render(e)},e.Container.prototype.renderWebGL=function(e){(0,r.deprecation)(w,"PIXI.Container.renderWebGL method has moved to PIXI.Container.render"),this.render(e)},e.DisplayObject.prototype.renderWebGL=function(e){(0,r.deprecation)(w,"PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render"),this.render(e)},e.Container.prototype.renderAdvancedWebGL=function(e){(0,r.deprecation)(w,"PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced"),this.renderAdvanced(e)},Object.defineProperties(e.settings,{TRANSFORM_MODE:{get:function(){return(0,r.deprecation)(w,"PIXI.settings.TRANSFORM_MODE property has been removed"),0},set:function(){(0,r.deprecation)(w,"PIXI.settings.TRANSFORM_MODE property has been removed")}}});var n=e.BaseTexture;n.prototype.loadSource=function(t){(0,r.deprecation)(w,"PIXI.BaseTexture.loadSource method has been deprecated");var n=e.resources.autoDetectResource(t);n.internal=!0,this.setResource(n),this.update()};var o=!1;Object.defineProperties(n.prototype,{hasLoaded:{get:function(){return(0,r.deprecation)(w,"PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid"),this.valid}},imageUrl:{get:function(){var e;return(0,r.deprecation)(w,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),null===(e=this.resource)||void 0===e?void 0:e.url},set:function(e){(0,r.deprecation)(w,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&(this.resource.url=e)}},source:{get:function(){return(0,r.deprecation)(w,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source`"),this.resource.source},set:function(e){(0,r.deprecation)(w,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture."),this.resource&&(this.resource.source=e)}},premultiplyAlpha:{get:function(){return(0,r.deprecation)("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(e){(0,r.deprecation)("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(e)}},_id:{get:function(){return o||((0,r.deprecation)("5.2.0","PIXI.BaseTexture._id batch local field has been changed to `_batchLocation`"),o=!0),this._batchLocation},set:function(e){this._batchLocation=e}}}),n.fromImage=function(e,t,o,i){(0,r.deprecation)(w,"PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from");var a={scale:i,crossorigin:t};return n.from(e,{scaleMode:o,resourceOptions:a})},n.fromCanvas=function(e,t){return(0,r.deprecation)(w,"PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from"),n.from(e,{scaleMode:t})},n.fromSVG=function(e,t,o,i){(0,r.deprecation)(w,"PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from");var a={scale:i,crossorigin:t};return n.from(e,{scaleMode:o,resourceOptions:a})},Object.defineProperties(e.resources.ImageResource.prototype,{premultiplyAlpha:{get:function(){return(0,r.deprecation)("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(e){(0,r.deprecation)("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(e)}}}),e.Point.prototype.copy=function(e){return(0,r.deprecation)(w,"PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom"),this.copyFrom(e)},e.ObservablePoint.prototype.copy=function(e){return(0,r.deprecation)(w,"PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom"),this.copyFrom(e)},e.Rectangle.prototype.copy=function(e){return(0,r.deprecation)(w,"PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom"),this.copyFrom(e)},e.Matrix.prototype.copy=function(e){return(0,r.deprecation)(w,"PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo"),this.copyTo(e)},e.systems.StateSystem.prototype.setState=function(e){return(0,r.deprecation)("v5.1.0","StateSystem.setState has been renamed to StateSystem.set"),this.set(e)},Object.assign(e.systems.FilterSystem.prototype,{getRenderTarget:function(e,t){return(0,r.deprecation)(w,"PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture"),this.getFilterTexture(null,t)},returnRenderTarget:function(e){(0,r.deprecation)(w,"PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture"),this.returnFilterTexture(e)},calculateScreenSpaceMatrix:function(e){(0,r.deprecation)(w,"PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");var t=e.identity(),n=this.activeState,o=n.sourceFrame,i=n.destinationFrame;return t.translate(o.x/i.width,o.y/i.height),t.scale(i.width,i.height),t},calculateNormalizedScreenSpaceMatrix:function(e){(0,r.deprecation)(w,"PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");var t=this.activeState,n=t.sourceFrame,o=t.destinationFrame,i=e.identity();i.translate(n.x/o.width,n.y/o.height);var a=o.width/n.width,s=o.height/n.height;return i.scale(a,s),i}}),Object.defineProperties(e.RenderTexture.prototype,{sourceFrame:{get:function(){return(0,r.deprecation)(w,"PIXI.RenderTexture.sourceFrame property has been removed"),this.filterFrame}},size:{get:function(){return(0,r.deprecation)(w,"PIXI.RenderTexture.size property has been removed"),this._frame}}});var i=function(e){function t(t,n,o,i){return(0,r.deprecation)(w,"PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass"),e.call(this,!0,t,n,o,i)||this}return L(t,e),t}(e.filters.BlurFilterPass),a=function(e){function t(t,n,o,i){return(0,r.deprecation)(w,"PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass"),e.call(this,!1,t,n,o,i)||this}return L(t,e),t}(e.filters.BlurFilterPass);Object.assign(e.filters,{BlurXFilter:i,BlurYFilter:a});var s=e.Sprite,c=e.Texture,p=e.Graphics;function u(e,t,n,o){return(0,r.deprecation)(w,"PIXI.Sprite."+e+" method is deprecated, use PIXI.Sprite.from"),s.from(t,{resourceOptions:{scale:o,crossorigin:n}})}function d(e,t,n,o){return(0,r.deprecation)(w,"PIXI.Texture."+e+" method is deprecated, use PIXI.Texture.from"),c.from(t,{resourceOptions:{scale:o,crossorigin:n}})}p.prototype.generateCanvasTexture||(p.prototype.generateCanvasTexture=function(){(0,r.deprecation)(w,'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')}),Object.defineProperty(p.prototype,"graphicsData",{get:function(){return(0,r.deprecation)(w,"PIXI.Graphics.graphicsData property is deprecated, use PIXI.Graphics.geometry.graphicsData"),this.geometry.graphicsData}}),s.fromImage=u.bind(null,"fromImage"),s.fromSVG=u.bind(null,"fromSVG"),s.fromCanvas=u.bind(null,"fromCanvas"),s.fromVideo=u.bind(null,"fromVideo"),s.fromFrame=u.bind(null,"fromFrame"),c.fromImage=d.bind(null,"fromImage"),c.fromSVG=d.bind(null,"fromSVG"),c.fromCanvas=d.bind(null,"fromCanvas"),c.fromVideo=d.bind(null,"fromVideo"),c.fromFrame=d.bind(null,"fromFrame"),Object.defineProperty(e.AbstractRenderer.prototype,"autoResize",{get:function(){return(0,r.deprecation)(w,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity},set:function(e){(0,r.deprecation)(w,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity=e}}),Object.defineProperty(e.Renderer.prototype,"textureManager",{get:function(){return(0,r.deprecation)(w,"PIXI.Renderer.textureManager property is deprecated, use PIXI.Renderer.texture"),this.texture}}),e.utils.mixins={mixin:function(){(0,r.deprecation)(w,"PIXI.utils.mixins.mixin function is no longer available")},delayMixin:function(){(0,r.deprecation)(w,"PIXI.utils.mixins.delayMixin function is no longer available")},performMixins:function(){(0,r.deprecation)(w,"PIXI.utils.mixins.performMixins function is no longer available")}},Object.defineProperty(e.BitmapText.prototype,"font",{get:function(){return(0,r.deprecation)("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),{name:this._fontName,size:this._fontSize,tint:this._tint,align:this._align}},set:function(t){if((0,r.deprecation)("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),t){var n={font:t};this._upgradeStyle(n),n.fontSize=n.fontSize||e.BitmapFont.available[n.fontName].size,this._fontName=n.fontName,this._fontSize=n.fontSize,this.dirty=!0}}})}i.Renderer.registerPlugin("accessibility",t.AccessibilityManager),i.Renderer.registerPlugin("extract",a.Extract),i.Renderer.registerPlugin("interaction",n.InteractionManager),i.Renderer.registerPlugin("particle",c.ParticleRenderer),i.Renderer.registerPlugin("prepare",p.Prepare),i.Renderer.registerPlugin("batch",i.BatchRenderer),i.Renderer.registerPlugin("tilingSprite",d.TilingSpriteRenderer),s.Loader.registerPlugin(l.BitmapFontLoader),s.Loader.registerPlugin(u.SpritesheetLoader),o.Application.registerPlugin(f.TickerPlugin),o.Application.registerPlugin(s.AppLoaderPlugin);var C="5.3.6";exports.VERSION=C;var D={AlphaFilter:I.AlphaFilter,BlurFilter:P.BlurFilter,BlurFilterPass:P.BlurFilterPass,ColorMatrixFilter:h.ColorMatrixFilter,DisplacementFilter:m.DisplacementFilter,FXAAFilter:y.FXAAFilter,NoiseFilter:g.NoiseFilter};exports.filters=D;
},{"@pixi/polyfill":"jbXN","@pixi/utils":"X4iF","@pixi/accessibility":"JMFw","@pixi/interaction":"hG98","@pixi/app":"ExZK","@pixi/core":"lj2a","@pixi/extract":"ZH8o","@pixi/loaders":"bw5V","@pixi/particles":"in9j","@pixi/prepare":"cawE","@pixi/spritesheet":"O2FJ","@pixi/sprite-tiling":"hxhD","@pixi/text-bitmap":"wAzD","@pixi/ticker":"AWzT","@pixi/filter-alpha":"RZoz","@pixi/filter-blur":"WUS5","@pixi/filter-color-matrix":"ts1g","@pixi/filter-displacement":"XNHP","@pixi/filter-fxaa":"d2iI","@pixi/filter-noise":"Y0eQ","@pixi/mixin-cache-as-bitmap":"vc4X","@pixi/mixin-get-child-by-name":"k2x1","@pixi/mixin-get-global-position":"hqMH","@pixi/constants":"djkr","@pixi/display":"qvzw","@pixi/graphics":"I0PC","@pixi/math":"w9h1","@pixi/mesh":"KkZL","@pixi/mesh-extras":"vnLX","@pixi/runner":"KLq2","@pixi/sprite":"XG9w","@pixi/sprite-animated":"fDWR","@pixi/text":"aZY8","@pixi/settings":"Xe2x"}],"TSDb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("@pixi/loaders"),e=require("@pixi/ticker"),n=require("@pixi/utils"),o=require("@pixi/core"),i=function(){function t(t,e){this._output=e,this._input=t}return Object.defineProperty(t.prototype,"destination",{get:function(){return this._input},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filters",{get:function(){return this._filters},set:function(t){var e=this;if(this._filters&&(this._filters.forEach(function(t){t&&t.disconnect()}),this._filters=null,this._input.connect(this._output)),t&&t.length){this._filters=t.slice(0),this._input.disconnect();var n=null;t.forEach(function(t){null===n?e._input.connect(t.destination):n.connect(t.destination),n=t}),n.connect(this._output)}},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.filters=null,this._input=null,this._output=null},t}(),r=function(){function t(t,e){this.init(t,e)}return t.prototype.init=function(t,e){this.destination=t,this.source=e||t},t.prototype.connect=function(t){this.source.connect(t)},t.prototype.disconnect=function(){this.source.disconnect()},t.prototype.destroy=function(){this.disconnect(),this.destination=null,this.source=null},t}(),s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function u(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var a,c=function(){return(c=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function p(){return a}var h,l,f,d,_=function(){function t(){}return t.setParamValue=function(t,e){if(t.setValueAtTime){var n=p().context;t.setValueAtTime(e,n.audioContext.currentTime)}else t.value=e;return e},t}(),y=0,m=function(t){function n(e){var n=t.call(this)||this;return n.id=y++,n._media=null,n._paused=!1,n._muted=!1,n._elapsed=0,n.init(e),n}return u(n,t),n.prototype.set=function(t,e){if(void 0===this[t])throw new Error("Property with name "+t+" does not exist.");return this[t]=e,this},n.prototype.stop=function(){this._source&&(this._internalStop(),this.emit("stop"))},Object.defineProperty(n.prototype,"speed",{get:function(){return this._speed},set:function(t){this._speed=t,this.refresh(),this._update(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"volume",{get:function(){return this._volume},set:function(t){this._volume=t,this.refresh()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"muted",{get:function(){return this._muted},set:function(t){this._muted=t,this.refresh()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this.refresh()},enumerable:!0,configurable:!0}),n.prototype.refresh=function(){if(this._source){var t=this._media.context,e=this._media.parent;this._source.loop=this._loop||e.loop;var n=t.volume*(t.muted?0:1),o=e.volume*(e.muted?0:1),i=this._volume*(this._muted?0:1);_.setParamValue(this._gain.gain,i*o*n),_.setParamValue(this._source.playbackRate,this._speed*e.speed*t.speed)}},n.prototype.refreshPaused=function(){var t=this._media.context,e=this._media.parent,n=this._paused||e.paused||t.paused;n!==this._pausedReal&&(this._pausedReal=n,n?(this._internalStop(),this.emit("paused")):(this.emit("resumed"),this.play({start:this._elapsed%this._duration,end:this._end,speed:this._speed,loop:this._loop,volume:this._volume})),this.emit("pause",n))},n.prototype.play=function(t){var e=t.start,n=t.end,o=t.speed,i=t.loop,r=t.volume,s=t.muted;this._paused=!1;var u=this._media.nodes.cloneBufferSource(),a=u.source,c=u.gain;this._source=a,this._gain=c,this._speed=o,this._volume=r,this._loop=!!i,this._muted=s,this.refresh();var p=this._source.buffer.duration;this._duration=p,this._end=n,this._lastUpdate=this._now(),this._elapsed=e,this._source.onended=this._onComplete.bind(this),this._loop?(this._source.loopEnd=n,this._source.loopStart=e,this._source.start(0,e)):n?this._source.start(0,e,n-e):this._source.start(0,e),this.emit("start"),this._update(!0),this._enabled=!0},n.prototype._toSec=function(t){return t>10&&(t/=1e3),t||0},Object.defineProperty(n.prototype,"_enabled",{set:function(t){e.Ticker.shared.remove(this._updateListener,this),t&&e.Ticker.shared.add(this._updateListener,this)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"progress",{get:function(){return this._progress},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"paused",{get:function(){return this._paused},set:function(t){this._paused=t,this.refreshPaused()},enumerable:!0,configurable:!0}),n.prototype.destroy=function(){this.removeAllListeners(),this._internalStop(),this._gain&&(this._gain.disconnect(),this._gain=null),this._media&&(this._media.context.events.off("refresh",this.refresh,this),this._media.context.events.off("refreshPaused",this.refreshPaused,this),this._media=null),this._end=null,this._speed=1,this._volume=1,this._loop=!1,this._elapsed=0,this._duration=0,this._paused=!1,this._muted=!1,this._pausedReal=!1},n.prototype.toString=function(){return"[WebAudioInstance id="+this.id+"]"},n.prototype._now=function(){return this._media.context.audioContext.currentTime},n.prototype._updateListener=function(){this._update()},n.prototype._update=function(t){if(void 0===t&&(t=!1),this._source){var e=this._now(),n=e-this._lastUpdate;if(n>0||t){var o=this._source.playbackRate.value;this._elapsed+=n*o,this._lastUpdate=e;var i=this._duration,r=void 0;if(this._source.loopStart){var s=this._source.loopEnd-this._source.loopStart;r=(this._source.loopStart+this._elapsed%s)/i}else r=this._elapsed%i/i;this._progress=r,this.emit("progress",this._progress,i)}}},n.prototype.init=function(t){this._media=t,t.context.events.on("refresh",this.refresh,this),t.context.events.on("refreshPaused",this.refreshPaused,this)},n.prototype._internalStop=function(){this._source&&(this._enabled=!1,this._source.onended=null,this._source.stop(0),this._source.disconnect(),this._source=null)},n.prototype._onComplete=function(){this._source&&(this._enabled=!1,this._source.onended=null,this._source.disconnect()),this._source=null,this._progress=1,this.emit("progress",1,this._duration),this.emit("end",this)},n}(n.EventEmitter),g=function(t){function e(e){var n=this,o=e.audioContext,i=o.createBufferSource(),r=o.createGain(),s=o.createAnalyser();return i.connect(s),s.connect(r),r.connect(e.destination),(n=t.call(this,s,r)||this).context=e,n.bufferSource=i,n.gain=r,n.analyser=s,n}return u(e,t),Object.defineProperty(e.prototype,"script",{get:function(){return this._script||(this._script=this.context.audioContext.createScriptProcessor(e.BUFFER_SIZE),this._script.connect(this.context.destination)),this._script},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.bufferSource.disconnect(),this._script&&this._script.disconnect(),this.gain.disconnect(),this.analyser.disconnect(),this.bufferSource=null,this._script=null,this.gain=null,this.analyser=null,this.context=null},e.prototype.cloneBufferSource=function(){var t=this.bufferSource,e=this.context.audioContext.createBufferSource();e.buffer=t.buffer,_.setParamValue(e.playbackRate,t.playbackRate.value),e.loop=t.loop;var n=this.context.audioContext.createGain();return e.connect(n),n.connect(this.destination),{source:e,gain:n}},Object.defineProperty(e.prototype,"bufferSize",{get:function(){return this.script.bufferSize},enumerable:!0,configurable:!0}),e.BUFFER_SIZE=0,e}(i),b=function(){function t(){}return t.prototype.init=function(t){this.parent=t,this._nodes=new g(this.context),this._source=this._nodes.bufferSource,this.source=t.options.source},t.prototype.destroy=function(){this.parent=null,this._nodes.destroy(),this._nodes=null,this._source=null,this.source=null},t.prototype.create=function(){return new m(this)},Object.defineProperty(t.prototype,"context",{get:function(){return this.parent.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPlayable",{get:function(){return!!this._source&&!!this._source.buffer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filters",{get:function(){return this._nodes.filters},set:function(t){this._nodes.filters=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this._source.buffer.duration},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"buffer",{get:function(){return this._source.buffer},set:function(t){this._source.buffer=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nodes",{get:function(){return this._nodes},enumerable:!0,configurable:!0}),t.prototype.load=function(t){this.source?this._decode(this.source,t):this.parent.url?this._loadUrl(t):t&&t(new Error("sound.url or sound.source must be set"))},t.prototype._loadUrl=function(t){var e=this,n=new XMLHttpRequest,o=this.parent.url;n.open("GET",o,!0),n.responseType="arraybuffer",n.onload=function(){e.source=n.response,e._decode(n.response,t)},n.send()},t.prototype._decode=function(t,e){var n=this;this.parent.context.decode(t,function(t,o){if(t)e&&e(t);else{n.parent.isLoaded=!0,n.buffer=o;var i=n.parent.autoPlayStart();e&&e(null,n.parent,i)}})},t}(),v=function(t){function e(){var o=this,i=window,r=new e.AudioContext,s=r.createDynamicsCompressor(),u=r.createAnalyser();return u.connect(s),s.connect(r.destination),(o=t.call(this,u,s)||this)._ctx=r,o._offlineCtx=new e.OfflineAudioContext(1,2,i.OfflineAudioContext?r.sampleRate:44100),o._unlocked=!1,o.compressor=s,o.analyser=u,o.events=new n.EventEmitter,o.volume=1,o.speed=1,o.muted=!1,o.paused=!1,"running"!==r.state&&(o._unlock(),o._unlock=o._unlock.bind(o),document.addEventListener("mousedown",o._unlock,!0),document.addEventListener("touchstart",o._unlock,!0),document.addEventListener("touchend",o._unlock,!0)),o}return u(e,t),e.prototype._unlock=function(){this._unlocked||(this.playEmptySound(),"running"===this._ctx.state&&(document.removeEventListener("mousedown",this._unlock,!0),document.removeEventListener("touchend",this._unlock,!0),document.removeEventListener("touchstart",this._unlock,!0),this._unlocked=!0))},e.prototype.playEmptySound=function(){var t=this._ctx.createBufferSource();t.buffer=this._ctx.createBuffer(1,1,22050),t.connect(this._ctx.destination),t.start(0,0,0),"suspended"===t.context.state&&t.context.resume()},Object.defineProperty(e,"AudioContext",{get:function(){var t=window;return t.AudioContext||t.webkitAudioContext||null},enumerable:!0,configurable:!0}),Object.defineProperty(e,"OfflineAudioContext",{get:function(){var t=window;return t.OfflineAudioContext||t.webkitOfflineAudioContext||null},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this);var e=this._ctx;void 0!==e.close&&e.close(),this.events.removeAllListeners(),this.analyser.disconnect(),this.compressor.disconnect(),this.analyser=null,this.compressor=null,this.events=null,this._offlineCtx=null,this._ctx=null},Object.defineProperty(e.prototype,"audioContext",{get:function(){return this._ctx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offlineContext",{get:function(){return this._offlineCtx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paused",{get:function(){return this._paused},set:function(t){t&&"running"===this._ctx.state?this._ctx.suspend():t||"suspended"!==this._ctx.state||this._ctx.resume(),this._paused=t},enumerable:!0,configurable:!0}),e.prototype.refresh=function(){this.events.emit("refresh")},e.prototype.refreshPaused=function(){this.events.emit("refreshPaused")},e.prototype.toggleMute=function(){return this.muted=!this.muted,this.refresh(),this.muted},e.prototype.togglePause=function(){return this.paused=!this.paused,this.refreshPaused(),this._paused},e.prototype.decode=function(t,e){this._offlineCtx.decodeAudioData(t,function(t){e(null,t)},function(t){e(new Error(t.message||"Unable to decode file"))})},e}(i),P={WebAudioMedia:b,WebAudioInstance:m,WebAudioNodes:g,WebAudioContext:v,WebAudioUtils:_},x={Filter:r,EqualizerFilter:function(t){function e(n,o,i,r,s,u,a,c,h,l){void 0===n&&(n=0),void 0===o&&(o=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===s&&(s=0),void 0===u&&(u=0),void 0===a&&(a=0),void 0===c&&(c=0),void 0===h&&(h=0),void 0===l&&(l=0);var f=this;if(!p().useLegacy){var d=[{f:e.F32,type:"lowshelf",gain:n},{f:e.F64,type:"peaking",gain:o},{f:e.F125,type:"peaking",gain:i},{f:e.F250,type:"peaking",gain:r},{f:e.F500,type:"peaking",gain:s},{f:e.F1K,type:"peaking",gain:u},{f:e.F2K,type:"peaking",gain:a},{f:e.F4K,type:"peaking",gain:c},{f:e.F8K,type:"peaking",gain:h},{f:e.F16K,type:"highshelf",gain:l}].map(function(t){var e=p().context.audioContext.createBiquadFilter();return e.type=t.type,_.setParamValue(e.Q,1),e.frequency.value=t.f,_.setParamValue(e.gain,t.gain),e});(f=t.call(this,d[0],d[d.length-1])||this).bands=d,f.bandsMap={};for(var y=0;y<f.bands.length;y++){var m=f.bands[y];y>0&&f.bands[y-1].connect(m),f.bandsMap[m.frequency.value]=m}return f}f=t.call(this,null)||this}return u(e,t),e.prototype.setGain=function(t,e){if(void 0===e&&(e=0),!this.bandsMap[t])throw new Error("No band found for frequency "+t);_.setParamValue(this.bandsMap[t].gain,e)},e.prototype.getGain=function(t){if(!this.bandsMap[t])throw new Error("No band found for frequency "+t);return this.bandsMap[t].gain.value},Object.defineProperty(e.prototype,"f32",{get:function(){return this.getGain(e.F32)},set:function(t){this.setGain(e.F32,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"f64",{get:function(){return this.getGain(e.F64)},set:function(t){this.setGain(e.F64,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"f125",{get:function(){return this.getGain(e.F125)},set:function(t){this.setGain(e.F125,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"f250",{get:function(){return this.getGain(e.F250)},set:function(t){this.setGain(e.F250,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"f500",{get:function(){return this.getGain(e.F500)},set:function(t){this.setGain(e.F500,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"f1k",{get:function(){return this.getGain(e.F1K)},set:function(t){this.setGain(e.F1K,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"f2k",{get:function(){return this.getGain(e.F2K)},set:function(t){this.setGain(e.F2K,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"f4k",{get:function(){return this.getGain(e.F4K)},set:function(t){this.setGain(e.F4K,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"f8k",{get:function(){return this.getGain(e.F8K)},set:function(t){this.setGain(e.F8K,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"f16k",{get:function(){return this.getGain(e.F16K)},set:function(t){this.setGain(e.F16K,t)},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this.bands.forEach(function(t){_.setParamValue(t.gain,0)})},e.prototype.destroy=function(){this.bands.forEach(function(t){t.disconnect()}),this.bands=null,this.bandsMap=null},e.F32=32,e.F64=64,e.F125=125,e.F250=250,e.F500=500,e.F1K=1e3,e.F2K=2e3,e.F4K=4e3,e.F8K=8e3,e.F16K=16e3,e}(r),DistortionFilter:function(t){function e(e){void 0===e&&(e=0);var n=this;if(!p().useLegacy){var o=p().context.audioContext.createWaveShaper();return(n=t.call(this,o)||this)._distortion=o,n.amount=e,n}n=t.call(this,null)||this}return u(e,t),Object.defineProperty(e.prototype,"amount",{get:function(){return this._amount},set:function(t){t*=1e3,this._amount=t;for(var e,n=new Float32Array(44100),o=Math.PI/180,i=0;i<44100;++i)e=2*i/44100-1,n[i]=(3+t)*e*20*o/(Math.PI+t*Math.abs(e));this._distortion.curve=n,this._distortion.oversample="4x"},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._distortion=null,t.prototype.destroy.call(this)},e}(r),StereoFilter:function(t){function e(e){void 0===e&&(e=0);var n=this;if(!p().useLegacy){var o,i,r,s=p().context.audioContext;return s.createStereoPanner?r=o=s.createStereoPanner():((i=s.createPanner()).panningModel="equalpower",r=i),(n=t.call(this,r)||this)._stereo=o,n._panner=i,n.pan=e,n}n=t.call(this,null)||this}return u(e,t),Object.defineProperty(e.prototype,"pan",{get:function(){return this._pan},set:function(t){this._pan=t,this._stereo?_.setParamValue(this._stereo.pan,t):this._panner.setPosition(t,0,1-Math.abs(t))},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._stereo=null,this._panner=null},e}(r),ReverbFilter:function(t){function e(e,n,o){void 0===e&&(e=3),void 0===n&&(n=2),void 0===o&&(o=!1);var i=this;if(!p().useLegacy)return(i=t.call(this,null)||this)._seconds=i._clamp(e,1,50),i._decay=i._clamp(n,0,100),i._reverse=o,i._rebuild(),i;i=t.call(this,null)||this}return u(e,t),e.prototype._clamp=function(t,e,n){return Math.min(n,Math.max(e,t))},Object.defineProperty(e.prototype,"seconds",{get:function(){return this._seconds},set:function(t){this._seconds=this._clamp(t,1,50),this._rebuild()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"decay",{get:function(){return this._decay},set:function(t){this._decay=this._clamp(t,0,100),this._rebuild()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reverse",{get:function(){return this._reverse},set:function(t){this._reverse=t,this._rebuild()},enumerable:!0,configurable:!0}),e.prototype._rebuild=function(){for(var t,e=p().context.audioContext,n=e.sampleRate,o=n*this._seconds,i=e.createBuffer(2,o,n),r=i.getChannelData(0),s=i.getChannelData(1),u=0;u<o;u++)t=this._reverse?o-u:u,r[u]=(2*Math.random()-1)*Math.pow(1-t/o,this._decay),s[u]=(2*Math.random()-1)*Math.pow(1-t/o,this._decay);var a=p().context.audioContext.createConvolver();a.buffer=i,this.init(a)},e}(r),MonoFilter:function(t){function e(){var e=this;if(!p().useLegacy){var n=p().context.audioContext,o=n.createChannelSplitter(),i=n.createChannelMerger();return i.connect(o),(e=t.call(this,i,o)||this)._merger=i,e}e=t.call(this,null)||this}return u(e,t),e.prototype.destroy=function(){this._merger.disconnect(),this._merger=null,t.prototype.destroy.call(this)},e}(r),TelephoneFilter:function(t){function e(){if(!p().useLegacy){var e=p().context.audioContext,n=e.createBiquadFilter(),o=e.createBiquadFilter(),i=e.createBiquadFilter(),r=e.createBiquadFilter();return n.type="lowpass",_.setParamValue(n.frequency,2e3),o.type="lowpass",_.setParamValue(o.frequency,2e3),i.type="highpass",_.setParamValue(i.frequency,500),r.type="highpass",_.setParamValue(r.frequency,500),n.connect(o),o.connect(i),i.connect(r),t.call(this,n,r)||this}t.call(this,null)}return u(e,t),e}(r)},O=0,j=function(t){function n(e){var n=t.call(this)||this;return n.id=O++,n.init(e),n}return u(n,t),n.prototype.set=function(t,e){if(void 0===this[t])throw new Error("Property with name "+t+" does not exist.");return this[t]=e,this},Object.defineProperty(n.prototype,"progress",{get:function(){return this._source.currentTime/this._duration},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"paused",{get:function(){return this._paused},set:function(t){this._paused=t,this.refreshPaused()},enumerable:!0,configurable:!0}),n.prototype._onPlay=function(){this._playing=!0},n.prototype._onPause=function(){this._playing=!1},n.prototype.init=function(t){this._playing=!1,this._duration=t.source.duration;var e=this._source=t.source.cloneNode(!1);e.src=t.parent.url,e.onplay=this._onPlay.bind(this),e.onpause=this._onPause.bind(this),t.context.on("refresh",this.refresh,this),t.context.on("refreshPaused",this.refreshPaused,this),this._media=t},n.prototype._internalStop=function(){this._source&&this._playing&&(this._source.onended=null,this._source.pause())},n.prototype.stop=function(){this._internalStop(),this._source&&this.emit("stop")},Object.defineProperty(n.prototype,"speed",{get:function(){return this._speed},set:function(t){this._speed=t,this.refresh()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"volume",{get:function(){return this._volume},set:function(t){this._volume=t,this.refresh()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this.refresh()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"muted",{get:function(){return this._muted},set:function(t){this._muted=t,this.refresh()},enumerable:!0,configurable:!0}),n.prototype.refresh=function(){var t=this._media.context,e=this._media.parent;this._source.loop=this._loop||e.loop;var n=t.volume*(t.muted?0:1),o=e.volume*(e.muted?0:1),i=this._volume*(this._muted?0:1);this._source.volume=i*n*o,this._source.playbackRate=this._speed*t.speed*e.speed},n.prototype.refreshPaused=function(){var t=this._media.context,e=this._media.parent,n=this._paused||e.paused||t.paused;n!==this._pausedReal&&(this._pausedReal=n,n?(this._internalStop(),this.emit("paused")):(this.emit("resumed"),this.play({start:this._source.currentTime,end:this._end,volume:this._volume,speed:this._speed,loop:this._loop})),this.emit("pause",n))},n.prototype.play=function(t){var o=this,i=t.start,r=t.end,s=t.speed,u=t.loop,a=t.volume,c=t.muted;this._speed=s,this._volume=a,this._loop=!!u,this._muted=c,this.refresh(),this.loop&&null!==r&&(this.loop=!1),this._start=i,this._end=r||this._duration,this._start=Math.max(0,this._start-n.PADDING),this._end=Math.min(this._end+n.PADDING,this._duration),this._source.onloadedmetadata=function(){o._source&&(o._source.currentTime=i,o._source.onloadedmetadata=null,o.emit("progress",i,o._duration),e.Ticker.shared.add(o._onUpdate,o))},this._source.onended=this._onComplete.bind(this),this._source.play(),this.emit("start")},n.prototype._onUpdate=function(){this.emit("progress",this.progress,this._duration),this._source.currentTime>=this._end&&!this._source.loop&&this._onComplete()},n.prototype._onComplete=function(){e.Ticker.shared.remove(this._onUpdate,this),this._internalStop(),this.emit("progress",1,this._duration),this.emit("end",this)},n.prototype.destroy=function(){e.Ticker.shared.remove(this._onUpdate,this),this.removeAllListeners();var t=this._source;t&&(t.onended=null,t.onplay=null,t.onpause=null,this._internalStop()),this._source=null,this._speed=1,this._volume=1,this._loop=!1,this._end=null,this._start=0,this._duration=0,this._playing=!1,this._pausedReal=!1,this._paused=!1,this._muted=!1,this._media&&(this._media.context.off("refresh",this.refresh,this),this._media.context.off("refreshPaused",this.refreshPaused,this),this._media=null)},n.prototype.toString=function(){return"[HTMLAudioInstance id="+this.id+"]"},n.PADDING=.1,n}(n.EventEmitter),E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.init=function(t){this.parent=t,this._source=t.options.source||new Audio,t.url&&(this._source.src=t.url)},e.prototype.create=function(){return new j(this)},Object.defineProperty(e.prototype,"isPlayable",{get:function(){return!!this._source&&4===this._source.readyState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._source.duration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this.parent.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filters",{get:function(){return null},set:function(t){},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.removeAllListeners(),this.parent=null,this._source&&(this._source.src="",this._source.load(),this._source=null)},Object.defineProperty(e.prototype,"source",{get:function(){return this._source},enumerable:!0,configurable:!0}),e.prototype.load=function(t){var e=this._source,n=this.parent;if(4!==e.readyState){if(!n.url)return t(new Error("sound.url or sound.source must be set"));e.src=n.url;var o=function(){e.removeEventListener("canplaythrough",i),e.removeEventListener("load",i),e.removeEventListener("abort",r),e.removeEventListener("error",s)},i=function(){o(),n.isLoaded=!0;var e=n.autoPlayStart();t&&t(null,n,e)},r=function(){o(),t&&t(new Error("Sound loading has been aborted"))},s=function(){o();var n="Failed to load audio element (code: "+e.error.code+")";t&&t(new Error(n))};e.addEventListener("canplaythrough",i,!1),e.addEventListener("load",i,!1),e.addEventListener("abort",r,!1),e.addEventListener("error",s,!1),e.load()}else{n.isLoaded=!0;var u=n.autoPlayStart();t&&setTimeout(function(){t(null,n,u)},0)}},e}(n.EventEmitter),w=function(t){function e(){var e=t.call(this)||this;return e.speed=1,e.volume=1,e.muted=!1,e.paused=!1,e}return u(e,t),e.prototype.refresh=function(){this.emit("refresh")},e.prototype.refreshPaused=function(){this.emit("refreshPaused")},Object.defineProperty(e.prototype,"filters",{get:function(){return null},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"audioContext",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.toggleMute=function(){return this.muted=!this.muted,this.refresh(),this.muted},e.prototype.togglePause=function(){return this.paused=!this.paused,this.refreshPaused(),this.paused},e.prototype.destroy=function(){this.removeAllListeners()},e}(n.EventEmitter),A={HTMLAudioMedia:E,HTMLAudioInstance:j,HTMLAudioContext:w},L=["mp3","ogg","oga","opus","mpeg","wav","m4a","aiff","wma","mid"],F=(h={m4a:"mp4",oga:"ogg"},l=document.createElement("audio"),f={},d=/^no$/,L.forEach(function(t){var e=h[t]||t,n=l.canPlayType("audio/"+t).replace(d,""),o=l.canPlayType("audio/"+e).replace(d,"");f[t]=!!n||!!o}),Object.freeze(f)),C=/\.(\{([^\}]+)\})(\?.*)?$/;function S(t){var e=C,n="string"==typeof t?t:t.url;if(e.test(n)){for(var o=e.exec(n),i=o[2].split(","),r=i[i.length-1],s=0,u=i.length;s<u;s++){var a=i[s];if(F[a]){r=a;break}}var c=n.replace(o[1],r);return"string"!=typeof t&&(t.extension=r,t.url=c),c}return n}var k=function(){function e(){}return e.add=function(){e.legacy=p().useLegacy},Object.defineProperty(e,"legacy",{set:function(e){var n=L;e?n.forEach(function(e){t.LoaderResource.setExtensionXhrType(e,t.LoaderResource.XHR_RESPONSE_TYPE.DEFAULT),t.LoaderResource.setExtensionLoadType(e,t.LoaderResource.LOAD_TYPE.AUDIO)}):n.forEach(function(e){t.LoaderResource.setExtensionXhrType(e,t.LoaderResource.XHR_RESPONSE_TYPE.BUFFER),t.LoaderResource.setExtensionLoadType(e,t.LoaderResource.LOAD_TYPE.XHR)})},enumerable:!0,configurable:!0}),e.pre=function(t,e){S(t),e()},e.use=function(t,e){t.data&&L.indexOf(t.extension)>-1?t.sound=p().add(t.name,{loaded:e,preload:!0,url:t.url,source:t.data}):e()},e}(),M=function(){function t(t,e){this.parent=t,Object.assign(this,e),this.duration=this.end-this.start}return t.prototype.play=function(t){return this.parent.play({complete:t,speed:this.speed||this.parent.speed,end:this.end,start:this.start,loop:this.loop})},t.prototype.destroy=function(){this.parent=null},t}(),T=function(){function t(t,e){this.media=t,this.options=e,this._instances=[],this._sprites={},this.media.init(this);var n=e.complete;this._autoPlayOptions=n?{complete:n}:null,this.isLoaded=!1,this.isPlaying=!1,this.autoPlay=e.autoPlay,this.singleInstance=e.singleInstance,this.preload=e.preload||this.autoPlay,this.url=e.url,this.speed=e.speed,this.volume=e.volume,this.loop=e.loop,e.sprites&&this.addSprites(e.sprites),this.preload&&this._preload(e.loaded)}return t.from=function(e){var n={};return"string"==typeof e?n.url=e:e instanceof ArrayBuffer||e instanceof HTMLAudioElement?n.source=e:n=e,(n=c({autoPlay:!1,singleInstance:!1,url:null,source:null,preload:!1,volume:1,speed:1,complete:null,loaded:null,loop:!1},n)).url&&(n.url=S(n.url)),Object.freeze(n),new t(p().useLegacy?new E:new b,n)},Object.defineProperty(t.prototype,"context",{get:function(){return p().context},enumerable:!0,configurable:!0}),t.prototype.pause=function(){return this.isPlaying=!1,this.paused=!0,this},t.prototype.resume=function(){return this.isPlaying=this._instances.length>0,this.paused=!1,this},Object.defineProperty(t.prototype,"paused",{get:function(){return this._paused},set:function(t){this._paused=t,this.refreshPaused()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"speed",{get:function(){return this._speed},set:function(t){this._speed=t,this.refresh()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filters",{get:function(){return this.media.filters},set:function(t){this.media.filters=t},enumerable:!0,configurable:!0}),t.prototype.addSprites=function(t,e){if("object"==typeof t){var n={};for(var o in t)n[o]=this.addSprites(o,t[o]);return n}if("string"==typeof t){var i=new M(this,e);return this._sprites[t]=i,i}},t.prototype.destroy=function(){this._removeInstances(),this.removeSprites(),this.media.destroy(),this.media=null,this._sprites=null,this._instances=null},t.prototype.removeSprites=function(t){if(t){var e=this._sprites[t];void 0!==e&&(e.destroy(),delete this._sprites[t])}else for(var n in this._sprites)this.removeSprites(n);return this},Object.defineProperty(t.prototype,"isPlayable",{get:function(){return this.isLoaded&&this.media&&this.media.isPlayable},enumerable:!0,configurable:!0}),t.prototype.stop=function(){if(!this.isPlayable)return this.autoPlay=!1,this._autoPlayOptions=null,this;this.isPlaying=!1;for(var t=this._instances.length-1;t>=0;t--)this._instances[t].stop();return this},t.prototype.play=function(t,e){var n,o=this;if("string"==typeof t?n={sprite:r=t,loop:this.loop,complete:e}:"function"==typeof t?(n={}).complete=t:n=t,(n=c({complete:null,loaded:null,sprite:null,end:null,start:0,volume:1,speed:1,muted:!1,loop:!1},n||{})).sprite){var i=n.sprite,r=this._sprites[i];n.start=r.start,n.end=r.end,n.speed=r.speed||1,n.loop=r.loop||n.loop,delete n.sprite}if(n.offset&&(n.start=n.offset),!this.isLoaded)return new Promise(function(t,e){o.autoPlay=!0,o._autoPlayOptions=n,o._preload(function(o,i,r){o?e(o):(n.loaded&&n.loaded(o,i,r),t(r))})});this.singleInstance&&this._removeInstances();var s=this._createInstance();return this._instances.push(s),this.isPlaying=!0,s.once("end",function(){n.complete&&n.complete(o),o._onComplete(s)}),s.once("stop",function(){o._onComplete(s)}),s.play(n),s},t.prototype.refresh=function(){for(var t=this._instances.length,e=0;e<t;e++)this._instances[e].refresh()},t.prototype.refreshPaused=function(){for(var t=this._instances.length,e=0;e<t;e++)this._instances[e].refreshPaused()},Object.defineProperty(t.prototype,"volume",{get:function(){return this._volume},set:function(t){this._volume=t,this.refresh()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"muted",{get:function(){return this._muted},set:function(t){this._muted=t,this.refresh()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this.refresh()},enumerable:!0,configurable:!0}),t.prototype._preload=function(t){this.media.load(t)},Object.defineProperty(t.prototype,"instances",{get:function(){return this._instances},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sprites",{get:function(){return this._sprites},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this.media.duration},enumerable:!0,configurable:!0}),t.prototype.autoPlayStart=function(){var t;return this.autoPlay&&(t=this.play(this._autoPlayOptions)),t},t.prototype._removeInstances=function(){for(var t=this._instances.length-1;t>=0;t--)this._poolInstance(this._instances[t]);this._instances.length=0},t.prototype._onComplete=function(t){if(this._instances){var e=this._instances.indexOf(t);e>-1&&this._instances.splice(e,1),this.isPlaying=this._instances.length>0}this._poolInstance(t)},t.prototype._createInstance=function(){if(t._pool.length>0){var e=t._pool.pop();return e.init(this.media),e}return this.media.create()},t.prototype._poolInstance=function(e){e.destroy(),t._pool.indexOf(e)<0&&t._pool.push(e)},t._pool=[],t}(),R=function(){function t(){this.init()}return t.prototype.init=function(){return this.supported&&(this._webAudioContext=new v),this._htmlAudioContext=new w,this._sounds={},this.useLegacy=!this.supported,this},Object.defineProperty(t.prototype,"context",{get:function(){return this._context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filtersAll",{get:function(){return this.useLegacy?[]:this._context.filters},set:function(t){this.useLegacy||(this._context.filters=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"supported",{get:function(){return null!==v.AudioContext},enumerable:!0,configurable:!0}),t.prototype.add=function(t,e){if("object"==typeof t){var n={};for(var o in t){var i=this._getOptions(t[o],e);n[o]=this.add(o,i)}return n}if("string"==typeof t){if(e instanceof T)return this._sounds[t]=e,e;i=this._getOptions(e);var r=T.from(i);return this._sounds[t]=r,r}},t.prototype._getOptions=function(t,e){var n;return n="string"==typeof t?{url:t}:t instanceof ArrayBuffer||t instanceof HTMLAudioElement?{source:t}:t,c({},n,e||{})},Object.defineProperty(t.prototype,"useLegacy",{get:function(){return this._useLegacy},set:function(t){k.legacy=t,this._useLegacy=t,this._context=!t&&this.supported?this._webAudioContext:this._htmlAudioContext},enumerable:!0,configurable:!0}),t.prototype.remove=function(t){return this.exists(t,!0),this._sounds[t].destroy(),delete this._sounds[t],this},Object.defineProperty(t.prototype,"volumeAll",{get:function(){return this._context.volume},set:function(t){this._context.volume=t,this._context.refresh()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"speedAll",{get:function(){return this._context.speed},set:function(t){this._context.speed=t,this._context.refresh()},enumerable:!0,configurable:!0}),t.prototype.togglePauseAll=function(){return this._context.togglePause()},t.prototype.pauseAll=function(){return this._context.paused=!0,this._context.refreshPaused(),this},t.prototype.resumeAll=function(){return this._context.paused=!1,this._context.refreshPaused(),this},t.prototype.toggleMuteAll=function(){return this._context.toggleMute()},t.prototype.muteAll=function(){return this._context.muted=!0,this._context.refresh(),this},t.prototype.unmuteAll=function(){return this._context.muted=!1,this._context.refresh(),this},t.prototype.removeAll=function(){for(var t in this._sounds)this._sounds[t].destroy(),delete this._sounds[t];return this},t.prototype.stopAll=function(){for(var t in this._sounds)this._sounds[t].stop();return this},t.prototype.exists=function(t,e){return void 0===e&&(e=!1),!!this._sounds[t]},t.prototype.find=function(t){return this.exists(t,!0),this._sounds[t]},t.prototype.play=function(t,e){return this.find(t).play(e)},t.prototype.stop=function(t){return this.find(t).stop()},t.prototype.pause=function(t){return this.find(t).pause()},t.prototype.resume=function(t){return this.find(t).resume()},t.prototype.volume=function(t,e){var n=this.find(t);return void 0!==e&&(n.volume=e),n.volume},t.prototype.speed=function(t,e){var n=this.find(t);return void 0!==e&&(n.speed=e),n.speed},t.prototype.duration=function(t){return this.find(t).duration},t.prototype.close=function(){return this.removeAll(),this._sounds=null,this._webAudioContext&&(this._webAudioContext.destroy(),this._webAudioContext=null),this._htmlAudioContext&&(this._htmlAudioContext.destroy(),this._htmlAudioContext=null),this._context=null,this},t}(),G=0,I={get PLAY_ID(){return G},playOnce:function(t,e){var n="alias"+G++;return p().add(n,{url:t,preload:!0,autoPlay:!0,loaded:function(t){t&&(p().remove(n),e&&e(t))},complete:function(){p().remove(n),e&&e(null)}}),n},render:function(t,e){var n=document.createElement("canvas");e=c({width:512,height:128,fill:"black"},e||{}),n.width=e.width,n.height=e.height;var i=o.BaseTexture.from(n);if(!(t.media instanceof b))return i;var r=t.media,s=n.getContext("2d");s.fillStyle=e.fill;for(var u=r.buffer.getChannelData(0),a=Math.ceil(u.length/e.width),p=e.height/2,h=0;h<e.width;h++){for(var l=1,f=-1,d=0;d<a;d++){var _=u[h*a+d];_<l&&(l=_),_>f&&(f=_)}s.fillRect(h,(1+l)*p,1,Math.max(1,(f-l)*p))}return i},resolveUrl:S,sineTone:function(t,e){void 0===t&&(t=200),void 0===e&&(e=1);var n=T.from({singleInstance:!0});if(!(n.media instanceof b))return n;for(var o=n.media,i=n.context.audioContext.createBuffer(1,48e3*e,48e3),r=i.getChannelData(0),s=0;s<r.length;s++){var u=t*(s/i.sampleRate)*Math.PI;r[s]=2*Math.sin(u)}return o.buffer=i,n.isLoaded=!0,n},extensions:L,supported:F},q=function(t){return a=t,t}(new R);t.Loader.registerPlugin(k),Object.defineProperties(q,{Filterable:{get:function(){return i}},filters:{get:function(){return x}},htmlaudio:{get:function(){return A}},Sound:{get:function(){return T}},SoundLibrary:{get:function(){return R}},SoundSprite:{get:function(){return M}},utils:{get:function(){return I}},webaudio:{get:function(){return P}},sound:{get:function(){return q}}});var K=q;exports.default=K;
},{"@pixi/loaders":"bw5V","@pixi/ticker":"AWzT","@pixi/utils":"X4iF","@pixi/core":"lj2a"}],"iSPV":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/robot.321fff0a.dat";
},{}],"yUQf":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/replay.07f907c0.dat";
},{}],"vaeP":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/spaceship.19a24c35.dat";
},{}],"QYpa":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/race.ee7dc69f.dat";
},{}],"rqRq":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/roll_01.e1c505d5.mp3";
},{}],"O9JV":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/click_02.d2a55495.mp3";
},{}],"VCeQ":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/create_shape_1.e57977f9.mp3";
},{}],"Wf21":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/create_shape_2.3737c1e1.mp3";
},{}],"WSCq":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/create_shape_3.c0d1b8db.mp3";
},{}],"M7TH":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/create_shape_4.e5a014d7.mp3";
},{}],"zEY1":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/create_shape_5.17190c99.mp3";
},{}],"tSms":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/create_joint_1.3c62b6c6.mp3";
},{}],"H71I":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/create_joint_2.e7dd119e.mp3";
},{}],"qwxQ":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/create_joint_3.6deccb64.mp3";
},{}],"J5PP":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/create_joint_4.918ac01f.mp3";
},{}],"Q08G":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/create_joint_5.2b2f3569.mp3";
},{}],"NmTX":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/Incredibots_Intro.ed3057eb.mp3";
},{}],"zMH3":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/Incredibots_Win_r1.91aacfa2.mp3";
},{}],"E8ny":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/Incredibots_Lose_r2.98ee4e18.mp3";
},{}],"uEc4":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/incredibots2_logo.026e4393.png";
},{}],"UMr5":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/levelselect_box_1_L.2fd34588.png";
},{}],"Jmk5":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/levelselect_box_1_M.34c35c13.png";
},{}],"Djum":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/levelselect_box_1_R.7f8f8f81.png";
},{}],"QWkq":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/levelselect_box_2_L.4c7b040a.png";
},{}],"t9tb":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/levelselect_box_2_M.caa08214.png";
},{}],"svMc":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/levelselect_box_2_R.500f9c17.png";
},{}],"fXCq":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/levelselect_box_other_L.0938ff48.png";
},{}],"Y7JB":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/levelselect_box_other_M.7f7e269d.png";
},{}],"TdcD":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/levelselect_box_other_R.b4b32bf9.png";
},{}],"yFWD":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/levelselect_checkbox_levels_A.5debe601.png";
},{}],"wo7d":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/levelselect_checkbox_levels_B.d82ddb9b.png";
},{}],"fzWI":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/levelselect_starthere_text.04302561.png";
},{}],"yYfL":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/levelselect_starthere_arrow.f2f90529.png";
},{}],"rsnw":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/button_red_base.1b0f4e2a.png";
},{}],"WVuP":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/button_red_roll.82fbcd72.png";
},{}],"mI81":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/button_red_click.57dcc910.png";
},{}],"LGo7":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/button_purple_base.780693b3.png";
},{}],"RNS1":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/button_purple_roll.b1994ded.png";
},{}],"ilyK":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/button_purple_click.e9e1a783.png";
},{}],"kVPt":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/button_blue_base.efdfc3ec.png";
},{}],"K5Fc":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/button_blue_roll.5e9a0688.png";
},{}],"qlgj":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/button_blue_click.26094f5e.png";
},{}],"zyjf":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/button_pink_base.45b09cf7.png";
},{}],"Nnn9":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/button_pink_roll.c1a1e763.png";
},{}],"TsMk":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/button_pink_click.1d73cae2.png";
},{}],"mwft":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/button_orange_base.2e52929e.png";
},{}],"fNOv":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/button_orange_roll.4ca91ed8.png";
},{}],"zqGB":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/button_orange_click.a3e986df.png";
},{}],"nO6G":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/button_play_base.0c382f8f.png";
},{}],"r4gB":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/button_play_roll.b144f681.png";
},{}],"uOr3":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/button_play_click.ca9f95c8.png";
},{}],"KRnj":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/button_X_base.3381527d.png";
},{}],"BL8h":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/button_X_roll.f26c2e88.png";
},{}],"h8xC":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/button_X_click.5314adad.png";
},{}],"vN4E":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/box120_top.dabf20a1.png";
},{}],"FX6V":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/box120_bot.56e4b8c5.png";
},{}],"k1tC":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/box120_mid.307da1da.png";
},{}],"vFfY":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/box154_top.578d11e2.png";
},{}],"pa4Q":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/box154_bot.3d084567.png";
},{}],"ZtjE":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/box154_mid.a9cb5714.png";
},{}],"lzTO":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/box200_top.cd46bdca.png";
},{}],"pPny":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/box200_bot.8104d0ef.png";
},{}],"DQS9":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/box200_mid.9f594aff.png";
},{}],"zwVP":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/box248_top.7d801a9c.png";
},{}],"RHhy":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/box248_bot.18b75c19.png";
},{}],"b2Di":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/box248_mid.daf42d3e.png";
},{}],"Ks0W":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/box547_top.12e6e2f4.png";
},{}],"JOfO":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/box547_bot.dcbdd066.png";
},{}],"p6ow":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/box547_mid.1dae50ef.png";
},{}],"lSjS":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/topbox_left.38b3db40.png";
},{}],"ukAH":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/topbox_right.ad72dfa4.png";
},{}],"xHXu":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/topbox_mid.f3bd5b5d.png";
},{}],"qW8q":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/chall_ed_restrictions_box_L.970db22c.png";
},{}],"n3xr":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/chall_ed_restrictions_box_R.5e4ea036.png";
},{}],"uPol":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/chall_ed_restrictions_box_M.0472df86.png";
},{}],"A2Dt":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/chall_ed_winloss_box_L.4feb2875.png";
},{}],"zHew":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/chall_ed_winloss_box_R.0a972d9d.png";
},{}],"ogoW":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/chall_ed_winloss_box_M.e23edca3.png";
},{}],"DCQ6":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/chall_ed_winloss_box_linebox.9991871b.png";
},{}],"GDIT":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/chall_ed_winloss_box_linehoriz.89605882.png";
},{}],"tnmv":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/menubar.6fa296ad.png";
},{}],"vzeR":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/menubar_roll.91e3d254.png";
},{}],"jIsX":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/menubox_chkboxA_base.cd2e7555.png";
},{}],"RRhG":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/menubox_chkboxA_roll.8b0c56c5.png";
},{}],"wqeP":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/menubox_chkboxA_click.95b2fa10.png";
},{}],"KjNk":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/menubox_chkboxB_base.797d45ff.png";
},{}],"lr79":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/menubox_chkboxB_roll.4fc49309.png";
},{}],"o0Yf":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/menubox_chkboxB_click.80c010d5.png";
},{}],"nhL3":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/chkboxA_base.ab9869ba.png";
},{}],"Ey7I":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/chkboxA_roll.165b6df1.png";
},{}],"N858":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/chkboxA_click.ec6bcfdf.png";
},{}],"Updy":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/chkboxA_disabled.ea3a81b3.png";
},{}],"Sxow":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/chkboxB_base.0dfab42e.png";
},{}],"hN4L":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/chkboxB_roll.26f3a620.png";
},{}],"wAkz":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/chkboxB_click.130f4be0.png";
},{}],"YkmS":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/chkboxB_disabled.45a0b7a5.png";
},{}],"lGNz":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/txtbox_base.276b4595.png";
},{}],"lgTu":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/txtbox_roll.bbe82f39.png";
},{}],"YMeh":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/txtbox_base_disabled.f947bc2b.png";
},{}],"VUDQ":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/button_purplearrow_base.d5346590.png";
},{}],"dPoJ":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/button_purplearrow_roll.8399e467.png";
},{}],"G2Xu":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/button_purplearrow_click.c3649cff.png";
},{}],"lC8l":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/listboxentry_base.ab9a6c1c.png";
},{}],"n8ze":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/listboxentry_roll.4efdac31.png";
},{}],"VnZQ":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/listboxentry_active.a6037f80.png";
},{}],"VVPG":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/listboxentry_wide_base.355ad809.png";
},{}],"V6uI":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/listboxentry_wide_roll.f0708777.png";
},{}],"U4Tn":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/listboxentry_wide_active.6f4434bd.png";
},{}],"J4J5":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/slider_groove.827ee54e.png";
},{}],"TTxi":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/slider_groove_disabled.defcaafe.png";
},{}],"s0Op":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/slider_arrow.81cc725d.png";
},{}],"Fj7H":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/cloud_0.f7bbf4b5.png";
},{}],"axjt":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/cloud_1.dda861ef.png";
},{}],"Th7t":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/cloud_2.412e541c.png";
},{}],"NBsq":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/cloud_3.63ec4901.png";
},{}],"EBzn":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/cloud_4.735af85b.png";
},{}],"Arc5":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/cloud_5.872f80da.png";
},{}],"XO9z":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/cloud_6.b31cac3e.png";
},{}],"zYG3":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/cloud_7.85276b82.png";
},{}],"bF0b":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/cloud_8.bdd05d82.png";
},{}],"atRL":[function(require,module,exports) {
module.exports="/Incredibots-2-HTML5-Open-Source/cloud_9.432ec0bc.png";
},{}],"VWUR":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Resource=exports.MouseCursor=void 0;const r=require("pixi.js"),u=e(require("pixi-sound")),o=e(require("../../../resource/robot.dat")),t=e(require("../../../resource/replay.dat")),l=e(require("../../../resource/spaceship.dat")),c=e(require("../../../resource/race.dat")),i=e(require("../../../resource/roll_01.mp3")),n=e(require("../../../resource/click_02.mp3")),s=e(require("../../../resource/create_shape_1.mp3")),d=e(require("../../../resource/create_shape_2.mp3")),a=e(require("../../../resource/create_shape_3.mp3")),_=e(require("../../../resource/create_shape_4.mp3")),p=e(require("../../../resource/create_shape_5.mp3")),f=e(require("../../../resource/create_joint_1.mp3")),b=e(require("../../../resource/create_joint_2.mp3")),q=e(require("../../../resource/create_joint_3.mp3")),g=e(require("../../../resource/create_joint_4.mp3")),x=e(require("../../../resource/create_joint_5.mp3")),h=e(require("../../../resource/Incredibots_Intro.mp3")),G=e(require("../../../resource/Incredibots_Win_r1.mp3")),B=e(require("../../../resource/Incredibots_Lose_r2.mp3")),k=e(require("../../../resource/incredibots2_logo.png")),m=e(require("../../../resource/levelselect_box_1_L.png")),C=e(require("../../../resource/levelselect_box_1_M.png")),v=e(require("../../../resource/levelselect_box_1_R.png")),w=e(require("../../../resource/levelselect_box_2_L.png")),S=e(require("../../../resource/levelselect_box_2_M.png")),L=e(require("../../../resource/levelselect_box_2_R.png")),R=e(require("../../../resource/levelselect_box_other_L.png")),W=e(require("../../../resource/levelselect_box_other_M.png")),M=e(require("../../../resource/levelselect_box_other_R.png")),A=e(require("../../../resource/levelselect_checkbox_levels_A.png")),y=e(require("../../../resource/levelselect_checkbox_levels_B.png")),P=e(require("../../../resource/levelselect_starthere_text.png")),T=e(require("../../../resource/levelselect_starthere_arrow.png")),I=e(require("../../../resource/button_red_base.png")),j=e(require("../../../resource/button_red_roll.png")),O=e(require("../../../resource/button_red_click.png")),X=e(require("../../../resource/button_purple_base.png")),D=e(require("../../../resource/button_purple_roll.png")),J=e(require("../../../resource/button_purple_click.png")),H=e(require("../../../resource/button_blue_base.png")),z=e(require("../../../resource/button_blue_roll.png")),U=e(require("../../../resource/button_blue_click.png")),E=e(require("../../../resource/button_pink_base.png")),F=e(require("../../../resource/button_pink_roll.png")),K=e(require("../../../resource/button_pink_click.png")),N=e(require("../../../resource/button_orange_base.png")),Q=e(require("../../../resource/button_orange_roll.png")),V=e(require("../../../resource/button_orange_click.png")),Y=e(require("../../../resource/button_play_base.png")),Z=e(require("../../../resource/button_play_roll.png")),$=e(require("../../../resource/button_play_click.png")),ee=e(require("../../../resource/button_X_base.png")),re=e(require("../../../resource/button_X_roll.png")),ue=e(require("../../../resource/button_X_click.png")),oe=e(require("../../../resource/box120_top.png")),te=e(require("../../../resource/box120_bot.png")),le=e(require("../../../resource/box120_mid.png")),ce=e(require("../../../resource/box154_top.png")),ie=e(require("../../../resource/box154_bot.png")),ne=e(require("../../../resource/box154_mid.png")),se=e(require("../../../resource/box200_top.png")),de=e(require("../../../resource/box200_bot.png")),ae=e(require("../../../resource/box200_mid.png")),_e=e(require("../../../resource/box248_top.png")),pe=e(require("../../../resource/box248_bot.png")),fe=e(require("../../../resource/box248_mid.png")),be=e(require("../../../resource/box547_top.png")),qe=e(require("../../../resource/box547_bot.png")),ge=e(require("../../../resource/box547_mid.png")),xe=e(require("../../../resource/topbox_left.png")),he=e(require("../../../resource/topbox_right.png")),Ge=e(require("../../../resource/topbox_mid.png")),Be=e(require("../../../resource/chall_ed_restrictions_box_L.png")),ke=e(require("../../../resource/chall_ed_restrictions_box_R.png")),me=e(require("../../../resource/chall_ed_restrictions_box_M.png")),Ce=e(require("../../../resource/chall_ed_winloss_box_L.png")),ve=e(require("../../../resource/chall_ed_winloss_box_R.png")),we=e(require("../../../resource/chall_ed_winloss_box_M.png")),Se=e(require("../../../resource/chall_ed_winloss_box_linebox.png")),Le=e(require("../../../resource/chall_ed_winloss_box_linehoriz.png")),Re=e(require("../../../resource/menubar.png")),We=e(require("../../../resource/menubar_roll.png")),Me=e(require("../../../resource/menubox_chkboxA_base.png")),Ae=e(require("../../../resource/menubox_chkboxA_roll.png")),ye=e(require("../../../resource/menubox_chkboxA_click.png")),Pe=e(require("../../../resource/menubox_chkboxB_base.png")),Te=e(require("../../../resource/menubox_chkboxB_roll.png")),Ie=e(require("../../../resource/menubox_chkboxB_click.png")),je=e(require("../../../resource/chkboxA_base.png")),Oe=e(require("../../../resource/chkboxA_roll.png")),Xe=e(require("../../../resource/chkboxA_click.png")),De=e(require("../../../resource/chkboxA_disabled.png")),Je=e(require("../../../resource/chkboxB_base.png")),He=e(require("../../../resource/chkboxB_roll.png")),ze=e(require("../../../resource/chkboxB_click.png")),Ue=e(require("../../../resource/chkboxB_disabled.png")),Ee=e(require("../../../resource/txtbox_base.png")),Fe=e(require("../../../resource/txtbox_roll.png")),Ke=e(require("../../../resource/txtbox_base_disabled.png")),Ne=e(require("../../../resource/button_purplearrow_base.png")),Qe=e(require("../../../resource/button_purplearrow_roll.png")),Ve=e(require("../../../resource/button_purplearrow_click.png")),Ye=e(require("../../../resource/listboxentry_base.png")),Ze=e(require("../../../resource/listboxentry_roll.png")),$e=e(require("../../../resource/listboxentry_active.png")),er=e(require("../../../resource/listboxentry_wide_base.png")),rr=e(require("../../../resource/listboxentry_wide_roll.png")),ur=e(require("../../../resource/listboxentry_wide_active.png")),or=e(require("../../../resource/slider_groove.png")),tr=e(require("../../../resource/slider_groove_disabled.png")),lr=e(require("../../../resource/slider_arrow.png")),cr=e(require("../../../resource/cloud_0.png")),ir=e(require("../../../resource/cloud_1.png")),nr=e(require("../../../resource/cloud_2.png")),sr=e(require("../../../resource/cloud_3.png")),dr=e(require("../../../resource/cloud_4.png")),ar=e(require("../../../resource/cloud_5.png")),_r=e(require("../../../resource/cloud_6.png")),pr=e(require("../../../resource/cloud_7.png")),fr=e(require("../../../resource/cloud_8.png")),br=e(require("../../../resource/cloud_9.png"));class qr{constructor(){this.defaultIcon="url('resource/mouse_pointer.png'),auto",this.hoverIcon="url('resource/mopuse_hourglass.png'),auto"}apply(e){e.renderer.plugins.interaction.cursorStyles.default=this.defaultIcon,e.renderer.plugins.interaction.cursorStyles.hover=this.hoverIcon}}exports.MouseCursor=qr;class gr{static async load(){const e=[];for(const r in gr.paths)e.push(fetch(gr.paths[r]).then(e=>e.blob()).then(e=>gr[r]=e));for(const u in gr.textures)e.push(r.Texture.fromURL(gr.textures[u]).then(e=>gr[u]=e));await Promise.all(e)}}exports.Resource=gr,gr.paths={cReplay:t.default,cRobot:o.default,cSpaceship:l.default,cRace:c.default},gr.textures={cMainMenuLogo:k.default,cLevelSelectBox1L:m.default,cLevelSelectBox1M:C.default,cLevelSelectBox1R:v.default,cLevelSelectBox2L:w.default,cLevelSelectBox2M:S.default,cLevelSelectBox2R:L.default,cLevelSelectOtherBoxL:R.default,cLevelSelectOtherBoxM:W.default,cLevelSelectOtherBoxR:M.default,cLevelSelectLevelCheckBoxA:A.default,cLevelSelectLevelCheckBoxB:y.default,cLevelSelectStartHereText:P.default,cLevelSelectStartHereArrow:T.default,cGuiButtonRedBase:I.default,cGuiButtonRedRoll:j.default,cGuiButtonRedClick:O.default,cGuiButtonPurpleBase:X.default,cGuiButtonPurpleRoll:D.default,cGuiButtonPurpleClick:J.default,cGuiButtonBlueBase:H.default,cGuiButtonBlueRoll:z.default,cGuiButtonBlueClick:U.default,cGuiButtonPinkBase:E.default,cGuiButtonPinkRoll:F.default,cGuiButtonPinkClick:K.default,cGuiButtonOrangeBase:N.default,cGuiButtonOrangeRoll:Q.default,cGuiButtonOrangeClick:V.default,cGuiButtonPlayBase:Y.default,cGuiButtonPlayRoll:Z.default,cGuiButtonPlayClick:$.default,cGuiButtonXBase:ee.default,cGuiButtonXRoll:re.default,cGuiButtonXClick:ue.default,cGuiWindowTop120:oe.default,cGuiWindowBottom120:te.default,cGuiWindowMid120:le.default,cGuiWindowTop154:ce.default,cGuiWindowBottom154:ie.default,cGuiWindowMid154:ne.default,cGuiWindowTop200:se.default,cGuiWindowBottom200:de.default,cGuiWindowMid200:ae.default,cGuiWindowTop248:_e.default,cGuiWindowBottom248:pe.default,cGuiWindowMid248:fe.default,cGuiWindowTop547:be.default,cGuiWindowBottom547:qe.default,cGuiWindowMid547:ge.default,cGuiWindowLeft800:xe.default,cGuiWindowRight800:he.default,cGuiWindowMid800:Ge.default,cGuiWindowLeft600:Be.default,cGuiWindowRight600:ke.default,cGuiWindowMid600:me.default,cGuiWindowLeft700:Ce.default,cGuiWindowRight700:ve.default,cGuiWindowMid700:we.default,cGuiWindowLinebox:Se.default,cGuiWindowLine:Le.default,cGuiMenuBar:Re.default,cGuiMenuBarRoll:We.default,cGuiMenuCheckBoxABase:Me.default,cGuiMenuCheckBoxARoll:Ae.default,cGuiMenuCheckBoxAClick:ye.default,cGuiMenuCheckBoxBBase:Pe.default,cGuiMenuCheckBoxBRoll:Te.default,cGuiMenuCheckBoxBClick:Ie.default,cGuiCheckboxABase:je.default,cGuiCheckboxARoll:Oe.default,cGuiCheckboxAClick:Xe.default,cGuiCheckboxADisabled:De.default,cGuiCheckboxBBase:Je.default,cGuiCheckboxBRoll:He.default,cGuiCheckboxBClick:ze.default,cGuiCheckboxBDisabled:Ue.default,cGuiTextAreaBase:Ee.default,cGuiTextAreaRoll:Fe.default,cGuiTextAreaDisabled:Ke.default,cGuiComboboxBase:Ne.default,cGuiComboboxRoll:Qe.default,cGuiComboboxClick:Ve.default,cGuiListboxBase:Ye.default,cGuiListboxRoll:Ze.default,cGuiListboxClick:$e.default,cGuiListboxWideBase:er.default,cGuiListboxWideRoll:rr.default,cGuiListboxWideClick:ur.default,cGuiSliderGroove:or.default,cGuiSliderGrooveDisabled:tr.default,cGuiSliderThumb:lr.default,cCloud0:cr.default,cCloud1:ir.default,cCloud2:nr.default,cCloud3:sr.default,cCloud4:dr.default,cCloud5:ar.default,cCloud6:_r.default,cCloud7:pr.default,cCloud8:fr.default,cCloud9:br.default},gr.cRoll=u.default.Sound.from(i.default),gr.cClick=u.default.Sound.from(n.default),gr.cShape1=u.default.Sound.from(s.default),gr.cShape2=u.default.Sound.from(d.default),gr.cShape3=u.default.Sound.from(a.default),gr.cShape4=u.default.Sound.from(_.default),gr.cShape5=u.default.Sound.from(p.default),gr.cJoint1=u.default.Sound.from(f.default),gr.cJoint2=u.default.Sound.from(b.default),gr.cJoint3=u.default.Sound.from(q.default),gr.cJoint4=u.default.Sound.from(g.default),gr.cJoint5=u.default.Sound.from(x.default),gr.cIntro=u.default.Sound.from(h.default),gr.cWin=u.default.Sound.from(G.default),gr.cLose=u.default.Sound.from(B.default);
},{"pixi.js":"aQiP","pixi-sound":"TSDb","../../../resource/robot.dat":"iSPV","../../../resource/replay.dat":"yUQf","../../../resource/spaceship.dat":"vaeP","../../../resource/race.dat":"QYpa","../../../resource/roll_01.mp3":"rqRq","../../../resource/click_02.mp3":"O9JV","../../../resource/create_shape_1.mp3":"VCeQ","../../../resource/create_shape_2.mp3":"Wf21","../../../resource/create_shape_3.mp3":"WSCq","../../../resource/create_shape_4.mp3":"M7TH","../../../resource/create_shape_5.mp3":"zEY1","../../../resource/create_joint_1.mp3":"tSms","../../../resource/create_joint_2.mp3":"H71I","../../../resource/create_joint_3.mp3":"qwxQ","../../../resource/create_joint_4.mp3":"J5PP","../../../resource/create_joint_5.mp3":"Q08G","../../../resource/Incredibots_Intro.mp3":"NmTX","../../../resource/Incredibots_Win_r1.mp3":"zMH3","../../../resource/Incredibots_Lose_r2.mp3":"E8ny","../../../resource/incredibots2_logo.png":"uEc4","../../../resource/levelselect_box_1_L.png":"UMr5","../../../resource/levelselect_box_1_M.png":"Jmk5","../../../resource/levelselect_box_1_R.png":"Djum","../../../resource/levelselect_box_2_L.png":"QWkq","../../../resource/levelselect_box_2_M.png":"t9tb","../../../resource/levelselect_box_2_R.png":"svMc","../../../resource/levelselect_box_other_L.png":"fXCq","../../../resource/levelselect_box_other_M.png":"Y7JB","../../../resource/levelselect_box_other_R.png":"TdcD","../../../resource/levelselect_checkbox_levels_A.png":"yFWD","../../../resource/levelselect_checkbox_levels_B.png":"wo7d","../../../resource/levelselect_starthere_text.png":"fzWI","../../../resource/levelselect_starthere_arrow.png":"yYfL","../../../resource/button_red_base.png":"rsnw","../../../resource/button_red_roll.png":"WVuP","../../../resource/button_red_click.png":"mI81","../../../resource/button_purple_base.png":"LGo7","../../../resource/button_purple_roll.png":"RNS1","../../../resource/button_purple_click.png":"ilyK","../../../resource/button_blue_base.png":"kVPt","../../../resource/button_blue_roll.png":"K5Fc","../../../resource/button_blue_click.png":"qlgj","../../../resource/button_pink_base.png":"zyjf","../../../resource/button_pink_roll.png":"Nnn9","../../../resource/button_pink_click.png":"TsMk","../../../resource/button_orange_base.png":"mwft","../../../resource/button_orange_roll.png":"fNOv","../../../resource/button_orange_click.png":"zqGB","../../../resource/button_play_base.png":"nO6G","../../../resource/button_play_roll.png":"r4gB","../../../resource/button_play_click.png":"uOr3","../../../resource/button_X_base.png":"KRnj","../../../resource/button_X_roll.png":"BL8h","../../../resource/button_X_click.png":"h8xC","../../../resource/box120_top.png":"vN4E","../../../resource/box120_bot.png":"FX6V","../../../resource/box120_mid.png":"k1tC","../../../resource/box154_top.png":"vFfY","../../../resource/box154_bot.png":"pa4Q","../../../resource/box154_mid.png":"ZtjE","../../../resource/box200_top.png":"lzTO","../../../resource/box200_bot.png":"pPny","../../../resource/box200_mid.png":"DQS9","../../../resource/box248_top.png":"zwVP","../../../resource/box248_bot.png":"RHhy","../../../resource/box248_mid.png":"b2Di","../../../resource/box547_top.png":"Ks0W","../../../resource/box547_bot.png":"JOfO","../../../resource/box547_mid.png":"p6ow","../../../resource/topbox_left.png":"lSjS","../../../resource/topbox_right.png":"ukAH","../../../resource/topbox_mid.png":"xHXu","../../../resource/chall_ed_restrictions_box_L.png":"qW8q","../../../resource/chall_ed_restrictions_box_R.png":"n3xr","../../../resource/chall_ed_restrictions_box_M.png":"uPol","../../../resource/chall_ed_winloss_box_L.png":"A2Dt","../../../resource/chall_ed_winloss_box_R.png":"zHew","../../../resource/chall_ed_winloss_box_M.png":"ogoW","../../../resource/chall_ed_winloss_box_linebox.png":"DCQ6","../../../resource/chall_ed_winloss_box_linehoriz.png":"GDIT","../../../resource/menubar.png":"tnmv","../../../resource/menubar_roll.png":"vzeR","../../../resource/menubox_chkboxA_base.png":"jIsX","../../../resource/menubox_chkboxA_roll.png":"RRhG","../../../resource/menubox_chkboxA_click.png":"wqeP","../../../resource/menubox_chkboxB_base.png":"KjNk","../../../resource/menubox_chkboxB_roll.png":"lr79","../../../resource/menubox_chkboxB_click.png":"o0Yf","../../../resource/chkboxA_base.png":"nhL3","../../../resource/chkboxA_roll.png":"Ey7I","../../../resource/chkboxA_click.png":"N858","../../../resource/chkboxA_disabled.png":"Updy","../../../resource/chkboxB_base.png":"Sxow","../../../resource/chkboxB_roll.png":"hN4L","../../../resource/chkboxB_click.png":"wAkz","../../../resource/chkboxB_disabled.png":"YkmS","../../../resource/txtbox_base.png":"lGNz","../../../resource/txtbox_roll.png":"lgTu","../../../resource/txtbox_base_disabled.png":"YMeh","../../../resource/button_purplearrow_base.png":"VUDQ","../../../resource/button_purplearrow_roll.png":"dPoJ","../../../resource/button_purplearrow_click.png":"G2Xu","../../../resource/listboxentry_base.png":"lC8l","../../../resource/listboxentry_roll.png":"n8ze","../../../resource/listboxentry_active.png":"VnZQ","../../../resource/listboxentry_wide_base.png":"VVPG","../../../resource/listboxentry_wide_roll.png":"V6uI","../../../resource/listboxentry_wide_active.png":"U4Tn","../../../resource/slider_groove.png":"J4J5","../../../resource/slider_groove_disabled.png":"TTxi","../../../resource/slider_arrow.png":"s0Op","../../../resource/cloud_0.png":"Fj7H","../../../resource/cloud_1.png":"axjt","../../../resource/cloud_2.png":"Th7t","../../../resource/cloud_3.png":"NBsq","../../../resource/cloud_4.png":"EBzn","../../../resource/cloud_5.png":"Arc5","../../../resource/cloud_6.png":"XO9z","../../../resource/cloud_7.png":"zYG3","../../../resource/cloud_8.png":"bF0b","../../../resource/cloud_9.png":"atRL"}],"K8aL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ControllerGameGlobals=void 0;const e=require("../Graphics/Resource");class a{}exports.ControllerGameGlobals=a,a.INIT_PHYS_SCALE=30,a.MIN_ZOOM_VAL=12,a.MAX_ZOOM_VAL=75,a.ZOOM_FOCUS_X=400,a.ZOOM_FOCUS_Y=310,a.REPLAY_SYNC_FRAMES=3,a.ADMIN_USERS=["Oliver","Ryan Clark","aaaaajon","andreas002","BillyJimBob","EMDF","fighterlegend","Sruixan","Illume","Cheeseyx","Leafsnail","bigjohnpalmer","jayther","Spedione","Thax","b0tman","zom","KyuubisSlave","Redstater","rutgersemp","Euphrates","lakeeriesuperstar","SilverGun","mattbob","bowman9898","willempiee","dark dan21","pandm"],a.playingReplay=!1,a.viewingUnsavedReplay=!1,a.replayDirectlyLinked=!1,a.collisionGroup=1,a.wasMouseDown=!1,a.minDensity=1,a.maxDensity=30,a.maxRJStrength=30,a.maxRJSpeed=30,a.maxSJStrength=30,a.maxSJSpeed=30,a.maxThrusterStrength=30,a.initX=Number.MAX_VALUE,a.initY=Number.MAX_VALUE,a.initZoom=Number.MAX_VALUE,a.defaultR=253,a.defaultG=66,a.defaultB=42,a.defaultO=255,a.clickedBox=!1,a.adStarted=!1,a.snapToCenter=!0,a.showJoints=!0,a.showOutlines=!0,a.showGraphics=!0,a.showColours=!0,a.centerOnSelected=!1,a.failedChallenge=!1,a.justLoadedRobotWithChallenge=!1,a.cannonballs=[],a.showTutorial=!0,a.ratedCurRobot=!1,a.ratedCurReplay=!1,a.ratedCurChallenge=!1,a.loadAndInsert=!1,a.potentialRobotID="",a.potentialRobotEditable=!1,a.potentialRobotPublic=!1,a.potentialRobotFeatured=!1,a.potentialChallengeID="",a.potentialChallengeEditable=!1,a.potentialChallengePublic=!1,a.potentialChallengeFeatured=!1,a.potentialReplayID="",a.potentialReplayPublic=!1,a.potentialReplayFeatured=!1,a.curRobotID="",a.curRobotEditable=!0,a.curRobotPublic=!1,a.curRobotFeatured=!1,a.curChallengeID="",a.curChallengePublic=!1,a.curChallengeFeatured=!1,a.curReplayID="",a.curReplayPublic=!1,a.curReplayFeatured=!1,a.userName="_Public",a.password="",a.sessionID="",a.clipboardParts=[],a.replayParts=[],a.loadedParts=[],a.shapeSound1=e.Resource.cShape1,a.shapeSound2=e.Resource.cShape2,a.shapeSound3=e.Resource.cShape3,a.shapeSound4=e.Resource.cShape4,a.shapeSound5=e.Resource.cShape5,a.jointSound1=e.Resource.cJoint1,a.jointSound2=e.Resource.cJoint2,a.jointSound3=e.Resource.cJoint3,a.jointSound4=e.Resource.cJoint4,a.jointSound5=e.Resource.cJoint5,a.winSound=e.Resource.cWin,a.loseSound=e.Resource.cLose,a.introVolume=.5,a.NEW_CIRCLE=0,a.NEW_RECT=1,a.NEW_TRIANGLE=2,a.NEW_FIXED_JOINT=3,a.NEW_REVOLUTE_JOINT=4,a.NEW_PRISMATIC_JOINT=5,a.ROTATE=6,a.PASTE=7,a.BOX_SELECTING=8,a.FINALIZING_JOINT=9,a.NEW_TEXT=10,a.RESIZING_TEXT=11,a.RESIZING_SHAPES=12,a.NEW_THRUSTERS=13,a.DRAWING_BOX=14,a.DRAWING_HORIZONTAL_LINE=15,a.DRAWING_VERTICAL_LINE=16,a.SELECTING_SHAPE=17,a.DRAWING_BUILD_BOX=18,a.NEW_CANNON=19;
},{"../Graphics/Resource":"VWUR"}],"nssz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2_maxPolygonVertices=exports.b2_lengthUnitsPerMeter=void 0,exports.b2_lengthUnitsPerMeter=1,exports.b2_maxPolygonVertices=8;
},{}],"xZSi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2MakeArray=exports.b2MakeBooleanArray=exports.b2MakeNumberArray=exports.b2_version=exports.b2_angularSleepTolerance=exports.b2_linearSleepTolerance=exports.b2_timeToSleep=exports.b2_toiBaumgarte=exports.b2_baumgarte=exports.b2_maxRotationSquared=exports.b2_maxRotation=exports.b2_maxTranslationSquared=exports.b2_maxTranslation=exports.b2_maxAngularCorrection=exports.b2_maxLinearCorrection=exports.b2_maxTOIContacts=exports.b2_maxSubSteps=exports.b2_polygonRadius=exports.b2_angularSlop=exports.b2_linearSlop=exports.b2_aabbMultiplier=exports.b2_aabbExtension=exports.b2_maxManifoldPoints=exports.b2_epsilon_sq=exports.b2_epsilon=exports.b2_maxFloat=exports.b2Verify=exports.b2Assert=void 0;const e=require("./b2_settings");function r(e,r){if(!e)throw new Error(r)}function t(e){if(null===e)throw new Error;return e}function o(e,r=0){const t=new Array(e);for(let o=0;o<e;o++)t[o]=r;return t}function a(e,r=!1){const t=new Array(e);for(let o=0;o<e;o++)t[o]=r;return t}function s(e,r){const t=new Array(e);for(let o=0;o<e;o++)t[o]=new r;return t}exports.b2Assert=r,exports.b2Verify=t,exports.b2_maxFloat=1e37,exports.b2_epsilon=1e-5,exports.b2_epsilon_sq=exports.b2_epsilon*exports.b2_epsilon,exports.b2_maxManifoldPoints=2,exports.b2_aabbExtension=.1*e.b2_lengthUnitsPerMeter,exports.b2_aabbMultiplier=4,exports.b2_linearSlop=.005*e.b2_lengthUnitsPerMeter,exports.b2_angularSlop=2/180*Math.PI,exports.b2_polygonRadius=2*exports.b2_linearSlop,exports.b2_maxSubSteps=8,exports.b2_maxTOIContacts=32,exports.b2_maxLinearCorrection=.2*e.b2_lengthUnitsPerMeter,exports.b2_maxAngularCorrection=8/180*Math.PI,exports.b2_maxTranslation=2*e.b2_lengthUnitsPerMeter,exports.b2_maxTranslationSquared=exports.b2_maxTranslation*exports.b2_maxTranslation,exports.b2_maxRotation=.5*Math.PI,exports.b2_maxRotationSquared=exports.b2_maxRotation*exports.b2_maxRotation,exports.b2_baumgarte=.2,exports.b2_toiBaumgarte=.75,exports.b2_timeToSleep=.5,exports.b2_linearSleepTolerance=.01*e.b2_lengthUnitsPerMeter,exports.b2_angularSleepTolerance=2/180*Math.PI,exports.b2_version={major:2,minor:4,patch:0},exports.b2MakeNumberArray=o,exports.b2MakeBooleanArray=a,exports.b2MakeArray=s;
},{"./b2_settings":"nssz"}],"YmMi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2Sweep=exports.b2Transform=exports.b2Rot=exports.b2Mat33=exports.b2Mat22=exports.b2Vec3=exports.b2Vec2=exports.b2RandomInt=exports.b2RandomFloat=exports.b2Random=exports.b2IsPowerOfTwo=exports.b2NextPowerOfTwo=exports.b2RadToDeg=exports.b2DegToRad=exports.b2Clamp=exports.b2_two_pi=exports.b2_180_over_pi=exports.b2_pi_over_180=void 0;const t=require("./b2_common");function e(t,e,s){return t<e?e:t>s?s:t}function s(t){return t*exports.b2_pi_over_180}function i(t){return t*exports.b2_180_over_pi}function r(t){return t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,(t|=t>>16)+1}function h(t){return t>0&&0==(t&t-1)}function y(){return 2*Math.random()-1}function x(t,e){return(e-t)*Math.random()+t}function n(t,e){return Math.round((e-t)*Math.random()+t)}exports.b2_pi_over_180=Math.PI/180,exports.b2_180_over_pi=180/Math.PI,exports.b2_two_pi=2*Math.PI,exports.b2Clamp=e,exports.b2DegToRad=s,exports.b2RadToDeg=i,exports.b2NextPowerOfTwo=r,exports.b2IsPowerOfTwo=h,exports.b2Random=y,exports.b2RandomFloat=x,exports.b2RandomInt=n;class o{constructor(t=0,e=0){this.x=t,this.y=e}Clone(){return new o(this.x,this.y)}SetZero(){return this.x=0,this.y=0,this}Set(t,e){return this.x=t,this.y=e,this}Copy(t){return this.x=t.x,this.y=t.y,this}Add(t){return this.x+=t.x,this.y+=t.y,this}AddXY(t,e){return this.x+=t,this.y+=e,this}Subtract(t){return this.x-=t.x,this.y-=t.y,this}SubtractXY(t,e){return this.x-=t,this.y-=e,this}Scale(t){return this.x*=t,this.y*=t,this}AddScaled(t,e){return this.x+=t*e.x,this.y+=t*e.y,this}SubtractScaled(t,e){return this.x-=t*e.x,this.y-=t*e.y,this}Dot(t){return this.x*t.x+this.y*t.y}Cross(t){return this.x*t.y-this.y*t.x}Length(){const{x:t,y:e}=this;return Math.sqrt(t*t+e*e)}LengthSquared(){const{x:t,y:e}=this;return t*t+e*e}Normalize(){const e=this.Length();if(e<t.b2_epsilon)return 0;const s=1/e;return this.x*=s,this.y*=s,e}Rotate(t){const e=Math.cos(t),s=Math.sin(t),{x:i}=this;return this.x=e*i-s*this.y,this.y=s*i+e*this.y,this}RotateCosSin(t,e){const{x:s}=this;return this.x=t*s-e*this.y,this.y=e*s+t*this.y,this}IsValid(){return Number.isFinite(this.x)&&Number.isFinite(this.y)}Abs(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this}GetAbs(t){return t.x=Math.abs(this.x),t.y=Math.abs(this.y),t}Negate(){return this.x=-this.x,this.y=-this.y,this}Skew(){const{x:t}=this;return this.x=-this.y,this.y=t,this}static Min(t,e,s){return s.x=Math.min(t.x,e.x),s.y=Math.min(t.y,e.y),s}static Max(t,e,s){return s.x=Math.max(t.x,e.x),s.y=Math.max(t.y,e.y),s}static Clamp(t,s,i,r){return r.x=e(t.x,s.x,i.x),r.y=e(t.y,s.y,i.y),r}static Rotate(t,e,s){const i=t.x,r=t.y,h=Math.cos(e),y=Math.sin(e);return s.x=h*i-y*r,s.y=y*i+h*r,s}static Dot(t,e){return t.x*e.x+t.y*e.y}static Cross(t,e){return t.x*e.y-t.y*e.x}static CrossVec2Scalar(t,e,s){const i=t.x;return s.x=e*t.y,s.y=-e*i,s}static CrossVec2One(t,e){const s=t.x;return e.x=t.y,e.y=-s,e}static CrossScalarVec2(t,e,s){const i=e.x;return s.x=-t*e.y,s.y=t*i,s}static CrossOneVec2(t,e){const s=t.x;return e.x=-t.y,e.y=s,e}static Add(t,e,s){return s.x=t.x+e.x,s.y=t.y+e.y,s}static Subtract(t,e,s){return s.x=t.x-e.x,s.y=t.y-e.y,s}static Scale(t,e,s){return s.x=e.x*t,s.y=e.y*t,s}static AddScaled(t,e,s,i){return i.x=t.x+e*s.x,i.y=t.y+e*s.y,i}static SubtractScaled(t,e,s,i){return i.x=t.x-e*s.x,i.y=t.y-e*s.y,i}static AddCrossScalarVec2(t,e,s,i){const r=s.x;return i.x=t.x-e*s.y,i.y=t.y+e*r,i}static Mid(t,e,s){return s.x=.5*(t.x+e.x),s.y=.5*(t.y+e.y),s}static Extents(t,e,s){return s.x=.5*(e.x-t.x),s.y=.5*(e.y-t.y),s}static Equals(t,e){return t.x===e.x&&t.y===e.y}static Distance(t,e){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}static DistanceSquared(t,e){return(t.x-e.x)**2+(t.y-e.y)**2}static Negate(t,e){return e.x=-t.x,e.y=-t.y,e}static Normalize(e,s){const i=e.x**2+e.y**2;if(i>=t.b2_epsilon_sq){const t=1/Math.sqrt(i);s.x=t*e.x,s.y=t*e.y}else s.x=0,s.y=0;return s}static Skew(t,e){const{x:s}=t;return e.x=-t.y,e.y=s,e}}exports.b2Vec2=o,o.ZERO=new o,o.UNITX=new o(1,0),o.UNITY=new o(0,1),o.s_t0=new o,o.s_t1=new o,o.s_t2=new o,o.s_t3=new o;class c{constructor(t=0,e=0,s=0){this.x=t,this.y=e,this.z=s}Clone(){return new c(this.x,this.y,this.z)}SetZero(){return this.x=0,this.y=0,this.z=0,this}Set(t,e,s){return this.x=t,this.y=e,this.z=s,this}Copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}Negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}Add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}AddXYZ(t,e,s){return this.x+=t,this.y+=e,this.z+=s,this}Subtract(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}SubtractXYZ(t,e,s){return this.x-=t,this.y-=e,this.z-=s,this}Scale(t){return this.x*=t,this.y*=t,this.z*=t,this}static Dot(t,e){return t.x*e.x+t.y*e.y+t.z*e.z}static Cross(t,e,s){const i=t.x,r=t.y,h=t.z,y=e.x,x=e.y,n=e.z;return s.x=r*n-h*x,s.y=h*y-i*n,s.z=i*x-r*y,s}}exports.b2Vec3=c,c.ZERO=new c(0,0,0),c.s_t0=new c;class a{constructor(){this.ex=new o(1,0),this.ey=new o(0,1)}Clone(){return(new a).Copy(this)}static FromColumns(t,e){return(new a).SetColumns(t,e)}static FromScalars(t,e,s,i){return(new a).SetScalars(t,e,s,i)}static FromAngle(t){return(new a).SetAngle(t)}SetScalars(t,e,s,i){return this.ex.Set(t,s),this.ey.Set(e,i),this}SetColumns(t,e){return this.ex.Copy(t),this.ey.Copy(e),this}SetAngle(t){const e=Math.cos(t),s=Math.sin(t);return this.ex.Set(e,s),this.ey.Set(-s,e),this}Copy(t){return this.ex.Copy(t.ex),this.ey.Copy(t.ey),this}SetIdentity(){return this.ex.Set(1,0),this.ey.Set(0,1),this}SetZero(){return this.ex.SetZero(),this.ey.SetZero(),this}GetAngle(){return Math.atan2(this.ex.y,this.ex.x)}Solve(t,e,s){const i=this.ex.x,r=this.ey.x,h=this.ex.y,y=this.ey.y;let x=i*y-r*h;return 0!==x&&(x=1/x),s.x=x*(y*t-r*e),s.y=x*(i*e-h*t),s}Abs(){return this.ex.Abs(),this.ey.Abs(),this}Inverse(){return this.GetInverse(this),this}Add(t){return this.ex.Add(t.ex),this.ey.Add(t.ey),this}Subtract(t){return this.ex.Subtract(t.ex),this.ey.Subtract(t.ey),this}GetInverse(t){const e=this.ex.x,s=this.ey.x,i=this.ex.y,r=this.ey.y;let h=e*r-s*i;return 0!==h&&(h=1/h),t.ex.x=h*r,t.ey.x=-h*s,t.ex.y=-h*i,t.ey.y=h*e,t}GetAbs(t){return t.ex.x=Math.abs(this.ex.x),t.ex.y=Math.abs(this.ex.y),t.ey.x=Math.abs(this.ey.x),t.ey.y=Math.abs(this.ey.y),t}static MultiplyVec2(t,e,s){const i=e.x,r=e.y;return s.x=t.ex.x*i+t.ey.x*r,s.y=t.ex.y*i+t.ey.y*r,s}static TransposeMultiplyVec2(t,e,s){const i=e.x,r=e.y;return s.x=t.ex.x*i+t.ex.y*r,s.y=t.ey.x*i+t.ey.y*r,s}static Add(t,e,s){return s.ex.x=t.ex.x+e.ex.x,s.ex.y=t.ex.y+e.ex.y,s.ey.x=t.ey.x+e.ey.x,s.ey.y=t.ey.y+e.ey.y,s}static Multiply(t,e,s){const i=t.ex.x,r=t.ex.y,h=t.ey.x,y=t.ey.y,x=e.ex.x,n=e.ex.y,o=e.ey.x,c=e.ey.y;return s.ex.x=i*x+h*n,s.ex.y=r*x+y*n,s.ey.x=i*o+h*c,s.ey.y=r*o+y*c,s}static TransposeMultiply(t,e,s){const i=t.ex.x,r=t.ex.y,h=t.ey.x,y=t.ey.y,x=e.ex.x,n=e.ex.y,o=e.ey.x,c=e.ey.y;return s.ex.x=i*x+r*n,s.ex.y=h*x+y*n,s.ey.x=i*o+r*c,s.ey.y=h*o+y*c,s}}exports.b2Mat22=a,a.IDENTITY=new a;class u{constructor(){this.ex=new c(1,0,0),this.ey=new c(0,1,0),this.ez=new c(0,0,1)}Clone(){return(new u).Copy(this)}SetColumns(t,e,s){return this.ex.Copy(t),this.ey.Copy(e),this.ez.Copy(s),this}Copy(t){return this.ex.Copy(t.ex),this.ey.Copy(t.ey),this.ez.Copy(t.ez),this}SetIdentity(){return this.ex.Set(1,0,0),this.ey.Set(0,1,0),this.ez.Set(0,0,1),this}SetZero(){return this.ex.SetZero(),this.ey.SetZero(),this.ez.SetZero(),this}Add(t){return this.ex.Add(t.ex),this.ey.Add(t.ey),this.ez.Add(t.ez),this}Solve33(t,e,s,i){const r=this.ex.x,h=this.ex.y,y=this.ex.z,x=this.ey.x,n=this.ey.y,o=this.ey.z,c=this.ez.x,a=this.ez.y,u=this.ez.z;let p=r*(n*u-o*a)+h*(o*c-x*u)+y*(x*a-n*c);return 0!==p&&(p=1/p),i.x=p*(t*(n*u-o*a)+e*(o*c-x*u)+s*(x*a-n*c)),i.y=p*(r*(e*u-s*a)+h*(s*c-t*u)+y*(t*a-e*c)),i.z=p*(r*(n*s-o*e)+h*(o*t-x*s)+y*(x*e-n*t)),i}Solve22(t,e,s){const i=this.ex.x,r=this.ey.x,h=this.ex.y,y=this.ey.y;let x=i*y-r*h;return 0!==x&&(x=1/x),s.x=x*(y*t-r*e),s.y=x*(i*e-h*t),s}GetInverse22(t){const e=this.ex.x,s=this.ey.x,i=this.ex.y,r=this.ey.y;let h=e*r-s*i;0!==h&&(h=1/h),t.ex.x=h*r,t.ey.x=-h*s,t.ex.z=0,t.ex.y=-h*i,t.ey.y=h*e,t.ey.z=0,t.ez.x=0,t.ez.y=0,t.ez.z=0}GetSymInverse33(t){let e=c.Dot(this.ex,c.Cross(this.ey,this.ez,c.s_t0));0!==e&&(e=1/e);const s=this.ex.x,i=this.ey.x,r=this.ez.x,h=this.ey.y,y=this.ez.y,x=this.ez.z;t.ex.x=e*(h*x-y*y),t.ex.y=e*(r*y-i*x),t.ex.z=e*(i*y-r*h),t.ey.x=t.ex.y,t.ey.y=e*(s*x-r*r),t.ey.z=e*(r*i-s*y),t.ez.x=t.ex.z,t.ez.y=t.ey.z,t.ez.z=e*(s*h-i*i)}static MultiplyVec3(t,e,s){const{x:i,y:r,z:h}=e;return s.x=t.ex.x*i+t.ey.x*r+t.ez.x*h,s.y=t.ex.y*i+t.ey.y*r+t.ez.y*h,s.z=t.ex.z*i+t.ey.z*r+t.ez.z*h,s}static MultiplyVec2(t,e,s){const{x:i,y:r}=e;return s.x=t.ex.x*i+t.ey.x*r,s.y=t.ex.y*i+t.ey.y*r,s}}exports.b2Mat33=u,u.IDENTITY=new u;class p{constructor(t=0){this.s=0,this.c=1,t&&(this.s=Math.sin(t),this.c=Math.cos(t))}Clone(){return(new p).Copy(this)}Copy(t){return this.s=t.s,this.c=t.c,this}Set(t){return this.s=Math.sin(t),this.c=Math.cos(t),this}SetIdentity(){return this.s=0,this.c=1,this}GetAngle(){return Math.atan2(this.s,this.c)}GetXAxis(t){return t.x=this.c,t.y=this.s,t}GetYAxis(t){return t.x=-this.s,t.y=this.c,t}static Multiply(t,e,s){const i=t.s*e.c+t.c*e.s,r=t.c*e.c-t.s*e.s;return s.s=i,s.c=r,s}static TransposeMultiply(t,e,s){const i=t.c*e.s-t.s*e.c,r=t.c*e.c+t.s*e.s;return s.s=i,s.c=r,s}static MultiplyVec2(t,e,s){const i=e.x,r=e.y;return s.x=t.c*i-t.s*r,s.y=t.s*i+t.c*r,s}static TransposeMultiplyVec2(t,e,s){const i=e.x,r=e.y;return s.x=t.c*i+t.s*r,s.y=-t.s*i+t.c*r,s}}exports.b2Rot=p,p.IDENTITY=new p;class l{constructor(){this.p=new o,this.q=new p}Clone(){return(new l).Copy(this)}Copy(t){return this.p.Copy(t.p),this.q.Copy(t.q),this}SetIdentity(){return this.p.SetZero(),this.q.SetIdentity(),this}SetPositionRotation(t,e){return this.p.Copy(t),this.q.Copy(e),this}SetPositionAngle(t,e){return this.p.Copy(t),this.q.Set(e),this}SetPosition(t){return this.p.Copy(t),this}SetPositionXY(t,e){return this.p.Set(t,e),this}SetRotation(t){return this.q.Copy(t),this}SetRotationAngle(t){return this.q.Set(t),this}GetPosition(){return this.p}GetRotation(){return this.q}GetAngle(){return this.q.GetAngle()}static MultiplyVec2(t,e,s){const i=e.x,r=e.y;return s.x=t.q.c*i-t.q.s*r+t.p.x,s.y=t.q.s*i+t.q.c*r+t.p.y,s}static TransposeMultiplyVec2(t,e,s){const i=e.x-t.p.x,r=e.y-t.p.y;return s.x=t.q.c*i+t.q.s*r,s.y=-t.q.s*i+t.q.c*r,s}static Multiply(t,e,s){return p.Multiply(t.q,e.q,s.q),p.MultiplyVec2(t.q,e.p,s.p).Add(t.p),s}static TransposeMultiply(t,e,s){return p.TransposeMultiply(t.q,e.q,s.q),p.TransposeMultiplyVec2(t.q,o.Subtract(e.p,t.p,s.p),s.p),s}}exports.b2Transform=l,l.IDENTITY=new l;class S{constructor(){this.localCenter=new o,this.c0=new o,this.c=new o,this.a0=0,this.a=0,this.alpha0=0}Clone(){return(new S).Copy(this)}Copy(t){return this.localCenter.Copy(t.localCenter),this.c0.Copy(t.c0),this.c.Copy(t.c),this.a0=t.a0,this.a=t.a,this.alpha0=t.alpha0,this}GetTransform(t,e){const s=1-e;t.p.x=s*this.c0.x+e*this.c.x,t.p.y=s*this.c0.y+e*this.c.y;const i=s*this.a0+e*this.a;return t.q.Set(i),t.p.Subtract(p.MultiplyVec2(t.q,this.localCenter,o.s_t0)),t}Advance(t){const e=(t-this.alpha0)/(1-this.alpha0);this.c0.x+=e*(this.c.x-this.c0.x),this.c0.y+=e*(this.c.y-this.c0.y),this.a0+=e*(this.a-this.a0),this.alpha0=t}Normalize(){const t=exports.b2_two_pi*Math.floor(this.a0/exports.b2_two_pi);this.a0-=t,this.a-=t}}exports.b2Sweep=S;
},{"./b2_common":"xZSi"}],"J87F":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.debugColors=exports.b2Color=void 0;class t{constructor(t=.5,i=.5,s=.5,r=1){this.r=t,this.g=i,this.b=s,this.a=r}Clone(){return new t(this.r,this.g,this.b,this.a)}Copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this}IsEqual(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}IsZero(){return 0===this.r&&0===this.g&&0===this.b&&0===this.a}SetByteRGB(t,i,s){return this.r=t/255,this.g=i/255,this.b=s/255,this}SetByteRGBA(t,i,s,r){return this.r=t/255,this.g=i/255,this.b=s/255,this.a=r/255,this}SetRGB(t,i,s){return this.r=t,this.g=i,this.b=s,this}SetRGBA(t,i,s,r){return this.r=t,this.g=i,this.b=s,this.a=r,this}Add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this.a+=t.a,this}Subtract(t){return this.r-=t.r,this.g-=t.g,this.b-=t.b,this.a-=t.a,this}Scale(t){return this.r*=t,this.g*=t,this.b*=t,this.a*=t,this}Mix(i,s){t.MixColors(this,i,s)}static Add(t,i,s){return s.r=t.r+i.r,s.g=t.g+i.g,s.b=t.b+i.b,s.a=t.a+i.a,s}static Subtract(t,i,s){return s.r=t.r-i.r,s.g=t.g-i.g,s.b=t.b-i.b,s.a=t.a-i.a,s}static Scale(t,i,s){return s.r=t.r*i,s.g=t.g*i,s.b=t.b*i,s.a=t.a*i,s}static MixColors(t,i,s){const r=s*(i.r-t.r),e=s*(i.g-t.g),n=s*(i.b-t.b),h=s*(i.a-t.a);t.r+=r,t.g+=e,t.b+=n,t.a+=h,i.r-=r,i.g-=e,i.b-=n,i.a-=h}}exports.b2Color=t,t.ZERO=new t(0,0,0,0),t.RED=new t(1,0,0),t.GREEN=new t(0,1,0),t.BLUE=new t(0,0,1),t.WHITE=new t(1,1,1),t.BLACK=new t(0,0,0),exports.debugColors={badBody:new t(1,0,0),disabledBody:new t(.5,.5,.3),staticBody:new t(.5,.9,.5),kinematicBody:new t(.5,.5,.9),sleepingBody:new t(.6,.6,.6),body:new t(.9,.7,.7),pair:new t(.3,.9,.9),aabb:new t(.9,.3,.9),joint1:new t(.7,.7,.7),joint2:new t(.3,.9,.3),joint3:new t(.9,.3,.3),joint4:new t(.3,.3,.9),joint5:new t(.4,.4,.4),joint6:new t(.5,.8,.8),joint7:new t(0,1,0),joint8:new t(.8,.8,.8),rope:new t(.4,.5,.7),ropePointG:new t(.1,.8,.1),ropePointD:new t(.7,.2,.4)};
},{}],"QXiX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2Shape=exports.b2ShapeType=exports.b2MassData=void 0;const e=require("../common/b2_math");class t{constructor(){this.mass=0,this.center=new e.b2Vec2,this.I=0}}var s;exports.b2MassData=t,function(e){e[e.e_unknown=-1]="e_unknown",e[e.e_circle=0]="e_circle",e[e.e_edge=1]="e_edge",e[e.e_polygon=2]="e_polygon",e[e.e_chain=3]="e_chain",e[e.e_typeCount=4]="e_typeCount"}(s=exports.b2ShapeType||(exports.b2ShapeType={}));class r{constructor(e,t){this.m_radius=0,this.m_type=e,this.m_radius=t}Copy(e){return this.m_radius=e.m_radius,this}GetType(){return this.m_type}}exports.b2Shape=r;
},{"../common/b2_math":"YmMi"}],"XVAh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2ShapeCast=exports.b2Distance=exports.b2Gjk=exports.b2ShapeCastOutput=exports.b2ShapeCastInput=exports.b2DistanceOutput=exports.b2DistanceInput=exports.b2SimplexCache=exports.b2DistanceProxy=void 0;const t=require("../common/b2_common"),e=require("../common/b2_math");class s{constructor(){this.m_buffer=t.b2MakeArray(2,e.b2Vec2),this.m_vertices=this.m_buffer,this.m_count=0,this.m_radius=0}Copy(t){return t.m_vertices===t.m_buffer?(this.m_vertices=this.m_buffer,this.m_buffer[0].Copy(t.m_buffer[0]),this.m_buffer[1].Copy(t.m_buffer[1])):this.m_vertices=t.m_vertices,this.m_count=t.m_count,this.m_radius=t.m_radius,this}Reset(){return this.m_vertices=this.m_buffer,this.m_count=0,this.m_radius=0,this}SetShape(t,e){t.SetupDistanceProxy(this,e)}SetVerticesRadius(t,e,s){this.m_vertices=t,this.m_count=e,this.m_radius=s}GetSupport(t){let s=0,i=e.b2Vec2.Dot(this.m_vertices[0],t);for(let r=1;r<this.m_count;++r){const o=e.b2Vec2.Dot(this.m_vertices[r],t);o>i&&(s=r,i=o)}return s}GetSupportVertex(t){let s=0,i=e.b2Vec2.Dot(this.m_vertices[0],t);for(let r=1;r<this.m_count;++r){const o=e.b2Vec2.Dot(this.m_vertices[r],t);o>i&&(s=r,i=o)}return this.m_vertices[s]}GetVertexCount(){return this.m_count}GetVertex(t){return this.m_vertices[t]}}exports.b2DistanceProxy=s;class i{constructor(){this.metric=0,this.count=0,this.indexA=[0,0,0],this.indexB=[0,0,0]}Reset(){return this.metric=0,this.count=0,this}}exports.b2SimplexCache=i;class r{constructor(){this.proxyA=new s,this.proxyB=new s,this.transformA=new e.b2Transform,this.transformB=new e.b2Transform,this.useRadii=!1}Reset(){return this.proxyA.Reset(),this.proxyB.Reset(),this.transformA.SetIdentity(),this.transformB.SetIdentity(),this.useRadii=!1,this}}exports.b2DistanceInput=r;class o{constructor(){this.pointA=new e.b2Vec2,this.pointB=new e.b2Vec2,this.distance=0,this.iterations=0}Reset(){return this.pointA.SetZero(),this.pointB.SetZero(),this.distance=0,this.iterations=0,this}}exports.b2DistanceOutput=o;class c{constructor(){this.proxyA=new s,this.proxyB=new s,this.transformA=new e.b2Transform,this.transformB=new e.b2Transform,this.translationB=new e.b2Vec2}}exports.b2ShapeCastInput=c;class n{constructor(){this.point=new e.b2Vec2,this.normal=new e.b2Vec2,this.lambda=0,this.iterations=0}}exports.b2ShapeCastOutput=n,exports.b2Gjk={calls:0,iters:0,maxIters:0,reset(){this.calls=0,this.iters=0,this.maxIters=0}};class a{constructor(){this.wA=new e.b2Vec2,this.wB=new e.b2Vec2,this.w=new e.b2Vec2,this.a=0,this.indexA=0,this.indexB=0}Copy(t){return this.wA.Copy(t.wA),this.wB.Copy(t.wB),this.w.Copy(t.w),this.a=t.a,this.indexA=t.indexA,this.indexB=t.indexB,this}}class h{constructor(){this.m_v1=new a,this.m_v2=new a,this.m_v3=new a,this.m_count=0,this.m_vertices=[this.m_v1,this.m_v2,this.m_v3]}ReadCache(s,i,r,o,c){this.m_count=s.count;const n=this.m_vertices;for(let t=0;t<this.m_count;++t){const a=n[t];a.indexA=s.indexA[t],a.indexB=s.indexB[t];const h=i.GetVertex(a.indexA),m=o.GetVertex(a.indexB);e.b2Transform.MultiplyVec2(r,h,a.wA),e.b2Transform.MultiplyVec2(c,m,a.wB),e.b2Vec2.Subtract(a.wB,a.wA,a.w),a.a=0}if(this.m_count>1){const e=s.metric,i=this.GetMetric();(i<.5*e||2*e<i||i<t.b2_epsilon)&&(this.m_count=0)}if(0===this.m_count){const t=n[0];t.indexA=0,t.indexB=0;const s=i.GetVertex(0),a=o.GetVertex(0);e.b2Transform.MultiplyVec2(r,s,t.wA),e.b2Transform.MultiplyVec2(c,a,t.wB),e.b2Vec2.Subtract(t.wB,t.wA,t.w),t.a=1,this.m_count=1}}WriteCache(t){t.metric=this.GetMetric(),t.count=this.m_count;const e=this.m_vertices;for(let s=0;s<this.m_count;++s)t.indexA[s]=e[s].indexA,t.indexB[s]=e[s].indexB}GetSearchDirection(t){switch(this.m_count){case 1:return e.b2Vec2.Negate(this.m_v1.w,t);case 2:{const s=e.b2Vec2.Subtract(this.m_v2.w,this.m_v1.w,t);return e.b2Vec2.Cross(s,e.b2Vec2.Negate(this.m_v1.w,e.b2Vec2.s_t0))>0?e.b2Vec2.CrossOneVec2(s,t):e.b2Vec2.CrossVec2One(s,t)}default:return t.SetZero()}}GetClosestPoint(t){switch(this.m_count){case 0:return t.SetZero();case 1:return t.Copy(this.m_v1.w);case 2:return t.Set(this.m_v1.a*this.m_v1.w.x+this.m_v2.a*this.m_v2.w.x,this.m_v1.a*this.m_v1.w.y+this.m_v2.a*this.m_v2.w.y);case 3:default:return t.SetZero()}}GetWitnessPoints(t,e){switch(this.m_count){case 0:break;case 1:t.Copy(this.m_v1.wA),e.Copy(this.m_v1.wB);break;case 2:t.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x,t.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y,e.x=this.m_v1.a*this.m_v1.wB.x+this.m_v2.a*this.m_v2.wB.x,e.y=this.m_v1.a*this.m_v1.wB.y+this.m_v2.a*this.m_v2.wB.y;break;case 3:e.x=t.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x+this.m_v3.a*this.m_v3.wA.x,e.y=t.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y+this.m_v3.a*this.m_v3.wA.y}}GetMetric(){switch(this.m_count){case 0:case 1:return 0;case 2:return e.b2Vec2.Distance(this.m_v1.w,this.m_v2.w);case 3:return e.b2Vec2.Cross(e.b2Vec2.Subtract(this.m_v2.w,this.m_v1.w,e.b2Vec2.s_t0),e.b2Vec2.Subtract(this.m_v3.w,this.m_v1.w,e.b2Vec2.s_t1));default:return 0}}Solve2(){const t=this.m_v1.w,s=this.m_v2.w,i=e.b2Vec2.Subtract(s,t,h.s_e12),r=-e.b2Vec2.Dot(t,i);if(r<=0)return this.m_v1.a=1,void(this.m_count=1);const o=e.b2Vec2.Dot(s,i);if(o<=0)return this.m_v2.a=1,this.m_count=1,void this.m_v1.Copy(this.m_v2);const c=1/(o+r);this.m_v1.a=o*c,this.m_v2.a=r*c,this.m_count=2}Solve3(){const t=this.m_v1.w,s=this.m_v2.w,i=this.m_v3.w,r=e.b2Vec2.Subtract(s,t,h.s_e12),o=e.b2Vec2.Dot(t,r),c=e.b2Vec2.Dot(s,r),n=-o,a=e.b2Vec2.Subtract(i,t,h.s_e13),m=e.b2Vec2.Dot(t,a),_=e.b2Vec2.Dot(i,a),u=-m,b=e.b2Vec2.Subtract(i,s,h.s_e23),p=e.b2Vec2.Dot(s,b),v=e.b2Vec2.Dot(i,b),V=-p,w=e.b2Vec2.Cross(r,a),x=w*e.b2Vec2.Cross(s,i),l=w*e.b2Vec2.Cross(i,t),d=w*e.b2Vec2.Cross(t,s);if(n<=0&&u<=0)return this.m_v1.a=1,void(this.m_count=1);if(c>0&&n>0&&d<=0){const t=1/(c+n);return this.m_v1.a=c*t,this.m_v2.a=n*t,void(this.m_count=2)}if(_>0&&u>0&&l<=0){const t=1/(_+u);return this.m_v1.a=_*t,this.m_v3.a=u*t,this.m_count=2,void this.m_v2.Copy(this.m_v3)}if(c<=0&&V<=0)return this.m_v2.a=1,this.m_count=1,void this.m_v1.Copy(this.m_v2);if(_<=0&&v<=0)return this.m_v3.a=1,this.m_count=1,void this.m_v1.Copy(this.m_v3);if(v>0&&V>0&&x<=0){const t=1/(v+V);return this.m_v2.a=v*t,this.m_v3.a=V*t,this.m_count=2,void this.m_v1.Copy(this.m_v3)}const f=1/(x+l+d);this.m_v1.a=x*f,this.m_v2.a=l*f,this.m_v3.a=d*f,this.m_count=3}}h.s_e12=new e.b2Vec2,h.s_e13=new e.b2Vec2,h.s_e23=new e.b2Vec2;const m=new h,_=[0,0,0],u=[0,0,0],b=new e.b2Vec2,p=new e.b2Vec2,v=new e.b2Vec2,V=new e.b2Vec2,w=new e.b2Vec2;function x(s,i,r){++exports.b2Gjk.calls;const{proxyA:o,proxyB:c,transformA:n,transformB:a}=r,h=m;h.ReadCache(i,o,n,c,a);const x=h.m_vertices,l=_,d=u;let f=0,y=0;for(;y<20;){f=h.m_count;for(let t=0;t<f;++t)l[t]=x[t].indexA,d[t]=x[t].indexB;switch(h.m_count){case 1:break;case 2:h.Solve2();break;case 3:h.Solve3()}if(3===h.m_count)break;const s=h.GetSearchDirection(p);if(s.LengthSquared()<t.b2_epsilon_sq)break;const i=x[h.m_count];i.indexA=o.GetSupport(e.b2Rot.TransposeMultiplyVec2(n.q,e.b2Vec2.Negate(s,e.b2Vec2.s_t0),V)),e.b2Transform.MultiplyVec2(n,o.GetVertex(i.indexA),i.wA),i.indexB=c.GetSupport(e.b2Rot.TransposeMultiplyVec2(a.q,s,w)),e.b2Transform.MultiplyVec2(a,c.GetVertex(i.indexB),i.wB),e.b2Vec2.Subtract(i.wB,i.wA,i.w),++y,++exports.b2Gjk.iters;let r=!1;for(let t=0;t<f;++t)if(i.indexA===l[t]&&i.indexB===d[t]){r=!0;break}if(r)break;++h.m_count}if(exports.b2Gjk.maxIters=Math.max(exports.b2Gjk.maxIters,y),h.GetWitnessPoints(s.pointA,s.pointB),s.distance=e.b2Vec2.Distance(s.pointA,s.pointB),s.iterations=y,h.WriteCache(i),r.useRadii){const i=o.m_radius,r=c.m_radius;if(s.distance>i+r&&s.distance>t.b2_epsilon){s.distance-=i+r;const t=e.b2Vec2.Subtract(s.pointB,s.pointA,v);t.Normalize(),s.pointA.AddScaled(i,t),s.pointB.SubtractScaled(r,t)}else{const t=e.b2Vec2.Mid(s.pointA,s.pointB,b);s.pointA.Copy(t),s.pointB.Copy(t),s.distance=0}}}exports.b2Distance=x;const l=new e.b2Vec2,d=new h,f=new e.b2Vec2,y=new e.b2Vec2,S=new e.b2Vec2,A=new e.b2Vec2,B=new e.b2Vec2,C=new e.b2Vec2;function G(s,i){s.iterations=0,s.lambda=1,s.normal.SetZero(),s.point.SetZero();const{proxyA:r,proxyB:o}=i,c=Math.max(r.m_radius,t.b2_polygonRadius),n=c+Math.max(o.m_radius,t.b2_polygonRadius),a=i.transformA,h=i.transformB,m=i.translationB,_=l.SetZero();let u=0;const b=d;b.m_count=0;const p=b.m_vertices;let v=r.GetSupport(e.b2Rot.TransposeMultiplyVec2(a.q,e.b2Vec2.Negate(m,e.b2Vec2.s_t1),e.b2Vec2.s_t0)),V=e.b2Transform.MultiplyVec2(a,r.GetVertex(v),f),w=o.GetSupport(e.b2Rot.TransposeMultiplyVec2(h.q,m,e.b2Vec2.s_t0)),x=e.b2Transform.MultiplyVec2(h,o.GetVertex(w),y);const G=e.b2Vec2.Subtract(V,x,S),D=Math.max(t.b2_polygonRadius,n-t.b2_polygonRadius),M=.5*t.b2_linearSlop;let R=0;for(;R<20&&G.Length()-D>M;){s.iterations+=1,v=r.GetSupport(e.b2Rot.TransposeMultiplyVec2(a.q,e.b2Vec2.Negate(G,e.b2Vec2.s_t1),e.b2Vec2.s_t0)),V=e.b2Transform.MultiplyVec2(a,r.GetVertex(v),f),w=o.GetSupport(e.b2Rot.TransposeMultiplyVec2(h.q,G,e.b2Vec2.s_t0)),x=e.b2Transform.MultiplyVec2(h,o.GetVertex(w),y);const t=e.b2Vec2.Subtract(V,x,A);G.Normalize();const i=e.b2Vec2.Dot(G,t),c=e.b2Vec2.Dot(G,m);if(i-D>u*c){if(c<=0)return!1;if((u=(i-D)/c)>1)return!1;e.b2Vec2.Negate(G,_),b.m_count=0}const n=p[b.m_count];switch(n.indexA=w,e.b2Vec2.AddScaled(x,u,m,n.wA),n.indexB=v,n.wB.Copy(V),e.b2Vec2.Subtract(n.wB,n.wA,n.w),n.a=1,b.m_count+=1,b.m_count){case 1:break;case 2:b.Solve2();break;case 3:b.Solve3()}if(3===b.m_count)return!1;b.GetClosestPoint(G),++R}if(0===R)return!1;const T=B,k=C;return b.GetWitnessPoints(T,k),G.LengthSquared()>0&&(e.b2Vec2.Negate(G,_),_.Normalize()),e.b2Vec2.AddScaled(T,c,_,s.point),s.normal.Copy(_),s.lambda=u,s.iterations=R,!0}exports.b2ShapeCast=G;
},{"../common/b2_common":"xZSi","../common/b2_math":"YmMi"}],"DOG3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2TestOverlap=exports.b2ClipSegmentToLine=exports.b2AABB=exports.b2RayCastOutput=exports.b2RayCastInput=exports.b2ClipVertex=exports.b2GetPointStates=exports.b2PointState=exports.b2WorldManifold=exports.b2Manifold=exports.b2ManifoldType=exports.b2ManifoldPoint=exports.b2ContactID=exports.b2ContactFeature=exports.b2ContactFeatureType=void 0;const t=require("../common/b2_common"),e=require("../common/b2_math"),i=require("./b2_distance");var o,n,s;!function(t){t[t.e_vertex=0]="e_vertex",t[t.e_face=1]="e_face"}(o=exports.b2ContactFeatureType||(exports.b2ContactFeatureType={}));class r{constructor(){this.m_key=0,this.m_key_invalid=!1,this.m_indexA=0,this.m_indexB=0,this.m_typeA=o.e_vertex,this.m_typeB=o.e_vertex}get key(){return this.m_key_invalid&&(this.m_key_invalid=!1,this.m_key=this.m_indexA|this.m_indexB<<8|this.m_typeA<<16|this.m_typeB<<24),this.m_key}set key(t){this.m_key=t,this.m_key_invalid=!1,this.m_indexA=255&this.m_key,this.m_indexB=this.m_key>>8&255,this.m_typeA=this.m_key>>16&255,this.m_typeB=this.m_key>>24&255}get indexA(){return this.m_indexA}set indexA(t){this.m_indexA=t,this.m_key_invalid=!0}get indexB(){return this.m_indexB}set indexB(t){this.m_indexB=t,this.m_key_invalid=!0}get typeA(){return this.m_typeA}set typeA(t){this.m_typeA=t,this.m_key_invalid=!0}get typeB(){return this.m_typeB}set typeB(t){this.m_typeB=t,this.m_key_invalid=!0}}exports.b2ContactFeature=r;class a{constructor(){this.cf=new r}Copy(t){return this.key=t.key,this}Clone(){return(new a).Copy(this)}get key(){return this.cf.key}set key(t){this.cf.key=t}}exports.b2ContactID=a;class p{constructor(){this.localPoint=new e.b2Vec2,this.normalImpulse=0,this.tangentImpulse=0,this.id=new a}Reset(){this.localPoint.SetZero(),this.normalImpulse=0,this.tangentImpulse=0,this.id.key=0}Copy(t){return this.localPoint.Copy(t.localPoint),this.normalImpulse=t.normalImpulse,this.tangentImpulse=t.tangentImpulse,this.id.Copy(t.id),this}}exports.b2ManifoldPoint=p,function(t){t[t.e_circles=0]="e_circles",t[t.e_faceA=1]="e_faceA",t[t.e_faceB=2]="e_faceB"}(n=exports.b2ManifoldType||(exports.b2ManifoldType={}));class l{constructor(){this.points=t.b2MakeArray(t.b2_maxManifoldPoints,p),this.localNormal=new e.b2Vec2,this.localPoint=new e.b2Vec2,this.type=n.e_circles,this.pointCount=0}Reset(){for(let e=0;e<t.b2_maxManifoldPoints;++e)this.points[e].Reset();this.localNormal.SetZero(),this.localPoint.SetZero(),this.type=n.e_circles,this.pointCount=0}Copy(e){this.pointCount=e.pointCount;for(let i=0;i<t.b2_maxManifoldPoints;++i)this.points[i].Copy(e.points[i]);return this.localNormal.Copy(e.localNormal),this.localPoint.Copy(e.localPoint),this.type=e.type,this}Clone(){return(new l).Copy(this)}}exports.b2Manifold=l;class u{constructor(){this.normal=new e.b2Vec2,this.points=t.b2MakeArray(t.b2_maxManifoldPoints,e.b2Vec2),this.separations=t.b2MakeNumberArray(t.b2_maxManifoldPoints)}Initialize(i,o,s,r,a){if(0!==i.pointCount)switch(i.type){case n.e_circles:{this.normal.Set(1,0);const n=e.b2Transform.MultiplyVec2(o,i.localPoint,u.Initialize_s_pointA),p=e.b2Transform.MultiplyVec2(r,i.points[0].localPoint,u.Initialize_s_pointB);e.b2Vec2.DistanceSquared(n,p)>t.b2_epsilon_sq&&e.b2Vec2.Subtract(p,n,this.normal).Normalize();const l=e.b2Vec2.AddScaled(n,s,this.normal,u.Initialize_s_cA),c=e.b2Vec2.SubtractScaled(p,a,this.normal,u.Initialize_s_cB);e.b2Vec2.Mid(l,c,this.points[0]),this.separations[0]=e.b2Vec2.Dot(e.b2Vec2.Subtract(c,l,e.b2Vec2.s_t0),this.normal);break}case n.e_faceA:{e.b2Rot.MultiplyVec2(o.q,i.localNormal,this.normal);const t=e.b2Transform.MultiplyVec2(o,i.localPoint,u.Initialize_s_planePoint);for(let o=0;o<i.pointCount;++o){const n=e.b2Transform.MultiplyVec2(r,i.points[o].localPoint,u.Initialize_s_clipPoint),p=s-e.b2Vec2.Dot(e.b2Vec2.Subtract(n,t,e.b2Vec2.s_t0),this.normal),l=e.b2Vec2.AddScaled(n,p,this.normal,u.Initialize_s_cA),c=e.b2Vec2.SubtractScaled(n,a,this.normal,u.Initialize_s_cB);e.b2Vec2.Mid(l,c,this.points[o]),this.separations[o]=e.b2Vec2.Dot(e.b2Vec2.Subtract(c,l,e.b2Vec2.s_t0),this.normal)}break}case n.e_faceB:{e.b2Rot.MultiplyVec2(r.q,i.localNormal,this.normal);const t=e.b2Transform.MultiplyVec2(r,i.localPoint,u.Initialize_s_planePoint);for(let n=0;n<i.pointCount;++n){const r=e.b2Transform.MultiplyVec2(o,i.points[n].localPoint,u.Initialize_s_clipPoint),p=a-e.b2Vec2.Dot(e.b2Vec2.Subtract(r,t,e.b2Vec2.s_t0),this.normal),l=e.b2Vec2.AddScaled(r,p,this.normal,u.Initialize_s_cB),c=e.b2Vec2.SubtractScaled(r,s,this.normal,u.Initialize_s_cA);e.b2Vec2.Mid(c,l,this.points[n]),this.separations[n]=e.b2Vec2.Dot(e.b2Vec2.Subtract(c,l,e.b2Vec2.s_t0),this.normal)}this.normal.Negate();break}}}}function c(e,i,o,n){let r;for(r=0;r<o.pointCount;++r){const{key:t}=o.points[r].id;e[r]=s.b2_removeState;for(let i=0;i<n.pointCount;++i)if(n.points[i].id.key===t){e[r]=s.b2_persistState;break}}for(;r<t.b2_maxManifoldPoints;++r)e[r]=s.b2_nullState;for(r=0;r<n.pointCount;++r){const{key:t}=n.points[r].id;i[r]=s.b2_addState;for(let e=0;e<o.pointCount;++e)if(o.points[e].id.key===t){i[r]=s.b2_persistState;break}}for(;r<t.b2_maxManifoldPoints;++r)i[r]=s.b2_nullState}exports.b2WorldManifold=u,u.Initialize_s_pointA=new e.b2Vec2,u.Initialize_s_pointB=new e.b2Vec2,u.Initialize_s_cA=new e.b2Vec2,u.Initialize_s_cB=new e.b2Vec2,u.Initialize_s_planePoint=new e.b2Vec2,u.Initialize_s_clipPoint=new e.b2Vec2,function(t){t[t.b2_nullState=0]="b2_nullState",t[t.b2_addState=1]="b2_addState",t[t.b2_persistState=2]="b2_persistState",t[t.b2_removeState=3]="b2_removeState"}(s=exports.b2PointState||(exports.b2PointState={})),exports.b2GetPointStates=c;class h{constructor(){this.v=new e.b2Vec2,this.id=new a}Copy(t){return this.v.Copy(t.v),this.id.Copy(t.id),this}}exports.b2ClipVertex=h;class d{constructor(){this.p1=new e.b2Vec2,this.p2=new e.b2Vec2,this.maxFraction=1}Copy(t){return this.p1.Copy(t.p1),this.p2.Copy(t.p2),this.maxFraction=t.maxFraction,this}}exports.b2RayCastInput=d;class b{constructor(){this.normal=new e.b2Vec2,this.fraction=0}Copy(t){return this.normal.Copy(t.normal),this.fraction=t.fraction,this}}exports.b2RayCastOutput=b;class y{constructor(){this.lowerBound=new e.b2Vec2,this.upperBound=new e.b2Vec2}Copy(t){return this.lowerBound.Copy(t.lowerBound),this.upperBound.Copy(t.upperBound),this}IsValid(){return this.lowerBound.IsValid()&&this.upperBound.IsValid()&&this.upperBound.x>=this.lowerBound.x&&this.upperBound.y>=this.lowerBound.y}GetCenter(t){return e.b2Vec2.Mid(this.lowerBound,this.upperBound,t)}GetExtents(t){return e.b2Vec2.Extents(this.lowerBound,this.upperBound,t)}GetPerimeter(){return 2*(this.upperBound.x-this.lowerBound.x+(this.upperBound.y-this.lowerBound.y))}Combine1(t){return this.lowerBound.x=Math.min(this.lowerBound.x,t.lowerBound.x),this.lowerBound.y=Math.min(this.lowerBound.y,t.lowerBound.y),this.upperBound.x=Math.max(this.upperBound.x,t.upperBound.x),this.upperBound.y=Math.max(this.upperBound.y,t.upperBound.y),this}Combine2(t,e){return this.lowerBound.x=Math.min(t.lowerBound.x,e.lowerBound.x),this.lowerBound.y=Math.min(t.lowerBound.y,e.lowerBound.y),this.upperBound.x=Math.max(t.upperBound.x,e.upperBound.x),this.upperBound.y=Math.max(t.upperBound.y,e.upperBound.y),this}static Combine(t,e,i){return i.Combine2(t,e),i}Contains(t){return this.lowerBound.x<=t.lowerBound.x&&this.lowerBound.y<=t.lowerBound.y&&t.upperBound.x<=this.upperBound.x&&t.upperBound.y<=this.upperBound.y}RayCast(e,i){let o=-t.b2_maxFloat,n=t.b2_maxFloat;const s=i.p1.x,r=i.p1.y,a=i.p2.x-i.p1.x,p=i.p2.y-i.p1.y,l=Math.abs(a),u=Math.abs(p),{normal:c}=e;if(l<t.b2_epsilon){if(s<this.lowerBound.x||this.upperBound.x<s)return!1}else{const t=1/a;let e=(this.lowerBound.x-s)*t,i=(this.upperBound.x-s)*t,r=-1;if(e>i){const t=e;e=i,i=t,r=1}if(e>o&&(c.x=r,c.y=0,o=e),o>(n=Math.min(n,i)))return!1}if(u<t.b2_epsilon){if(r<this.lowerBound.y||this.upperBound.y<r)return!1}else{const t=1/p;let e=(this.lowerBound.y-r)*t,i=(this.upperBound.y-r)*t,s=-1;if(e>i){const t=e;e=i,i=t,s=1}if(e>o&&(c.x=0,c.y=s,o=e),o>(n=Math.min(n,i)))return!1}return!(o<0||i.maxFraction<o)&&(e.fraction=o,!0)}TestContain(t){return!(t.x<this.lowerBound.x||this.upperBound.x<t.x)&&!(t.y<this.lowerBound.y||this.upperBound.y<t.y)}TestOverlap(t){return!(this.upperBound.x<t.lowerBound.x)&&(!(this.upperBound.y<t.lowerBound.y)&&(!(t.upperBound.x<this.lowerBound.x)&&!(t.upperBound.y<this.lowerBound.y)))}}function _(t,[i,n],s,r,a){let p=0;const l=e.b2Vec2.Dot(s,i.v)-r,u=e.b2Vec2.Dot(s,n.v)-r;if(l<=0&&t[p++].Copy(i),u<=0&&t[p++].Copy(n),l*u<0){const e=l/(l-u),{v:s,id:r}=t[p];s.x=i.v.x+e*(n.v.x-i.v.x),s.y=i.v.y+e*(n.v.y-i.v.y),r.cf.indexA=a,r.cf.indexB=i.id.cf.indexB,r.cf.typeA=o.e_vertex,r.cf.typeB=o.e_face,++p}return p}exports.b2AABB=y,exports.b2ClipSegmentToLine=_;const m=new i.b2DistanceInput,x=new i.b2SimplexCache,B=new i.b2DistanceOutput;function f(e,o,n,s,r,a){const p=m.Reset();p.proxyA.SetShape(e,o),p.proxyB.SetShape(n,s),p.transformA.Copy(r),p.transformB.Copy(a),p.useRadii=!0;const l=x.Reset();l.count=0;const u=B.Reset();return i.b2Distance(u,l,p),u.distance<10*t.b2_epsilon}exports.b2TestOverlap=f;
},{"../common/b2_common":"xZSi","../common/b2_math":"YmMi","./b2_distance":"XVAh"}],"MuJF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2Fixture=exports.b2FixtureProxy=exports.b2DefaultFilter=void 0;const t=require("../common/b2_math"),e=require("../collision/b2_collision"),s=require("../collision/b2_shape"),i=require("../common/b2_common"),r=require("../common/b2_settings"),o={c1:new t.b2Vec2,c2:new t.b2Vec2};exports.b2DefaultFilter={categoryBits:1,maskBits:65535,groupIndex:0};class n{constructor(t,s,i,r){this.aabb=new e.b2AABB,this.fixture=t,this.childIndex=r,t.m_shape.ComputeAABB(this.aabb,i,r),this.treeNode=s.CreateProxy(this.aabb,this)}}exports.b2FixtureProxy=n;const h=new e.b2AABB,a=new e.b2AABB,m=new t.b2Vec2;class u{constructor(t,e){var s,i,o,n,h;this.m_density=0,this.m_next=null,this.m_friction=0,this.m_restitution=0,this.m_restitutionThreshold=0,this.m_proxies=[],this.m_isSensor=!1,this.m_userData=null,this.m_body=t,this.m_shape=e.shape.Clone(),this.m_userData=e.userData,this.m_friction=null!==(s=e.friction)&&void 0!==s?s:.2,this.m_restitution=null!==(i=e.restitution)&&void 0!==i?i:0,this.m_restitutionThreshold=null!==(o=e.restitutionThreshold)&&void 0!==o?o:r.b2_lengthUnitsPerMeter,this.m_filter={...exports.b2DefaultFilter,...e.filter},this.m_isSensor=null!==(n=e.isSensor)&&void 0!==n&&n,this.m_density=null!==(h=e.density)&&void 0!==h?h:0}get m_proxyCount(){return this.m_proxies.length}GetType(){return this.m_shape.GetType()}GetShape(){return this.m_shape}SetSensor(t){t!==this.m_isSensor&&(this.m_body.SetAwake(!0),this.m_isSensor=t)}IsSensor(){return this.m_isSensor}SetFilterData(t){var e,s,i;this.m_filter.categoryBits=null!==(e=t.categoryBits)&&void 0!==e?e:exports.b2DefaultFilter.categoryBits,this.m_filter.groupIndex=null!==(s=t.groupIndex)&&void 0!==s?s:exports.b2DefaultFilter.groupIndex,this.m_filter.maskBits=null!==(i=t.maskBits)&&void 0!==i?i:exports.b2DefaultFilter.maskBits,this.Refilter()}GetFilterData(){return this.m_filter}Refilter(){let t=this.m_body.GetContactList();for(;t;){const{contact:e}=t,s=e.GetFixtureA(),i=e.GetFixtureB();s!==this&&i!==this||e.FlagForFiltering(),t=t.next}const e=this.m_body.GetWorld().m_contactManager.m_broadPhase;for(const s of this.m_proxies)e.TouchProxy(s.treeNode)}GetBody(){return this.m_body}GetNext(){return this.m_next}GetUserData(){return this.m_userData}SetUserData(t){this.m_userData=t}TestPoint(t){return this.m_shape.TestPoint(this.m_body.GetTransform(),t)}RayCast(t,e,s){return this.m_shape.RayCast(t,e,this.m_body.GetTransform(),s)}GetMassData(t=new s.b2MassData){return this.m_shape.ComputeMass(t,this.m_density),t}SetDensity(t){this.m_density=t}GetDensity(){return this.m_density}GetFriction(){return this.m_friction}SetFriction(t){this.m_friction=t}GetRestitution(){return this.m_restitution}SetRestitution(t){this.m_restitution=t}SetRestitutionThreshold(t){this.m_restitutionThreshold=t}GetAABB(t){return this.m_proxies[t].aabb}CreateProxies(t,e){i.b2Assert(0===this.m_proxies.length),this.m_proxies.length=this.m_shape.GetChildCount();for(let s=0;s<this.m_proxies.length;++s)this.m_proxies[s]=new n(this,t,e,s)}DestroyProxies(t){for(const e of this.m_proxies)t.DestroyProxy(e.treeNode);this.m_proxies.length=0}Synchronize(e,s,i){const{c1:r,c2:n}=o,u=m;for(const o of this.m_proxies){const m=h,l=a;this.m_shape.ComputeAABB(m,s,o.childIndex),this.m_shape.ComputeAABB(l,i,o.childIndex),o.aabb.Combine2(m,l),t.b2Vec2.Subtract(l.GetCenter(n),m.GetCenter(r),u),e.MoveProxy(o.treeNode,o.aabb,u)}}}exports.b2Fixture=u;
},{"../common/b2_math":"YmMi","../collision/b2_collision":"DOG3","../collision/b2_shape":"QXiX","../common/b2_common":"xZSi","../common/b2_settings":"nssz"}],"hxRe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2Body=exports.b2BodyType=void 0;const t=require("../common/b2_math"),e=require("../collision/b2_shape"),s=require("./b2_fixture"),i=require("../common/b2_common");var a;!function(t){t[t.b2_staticBody=0]="b2_staticBody",t[t.b2_kinematicBody=1]="b2_kinematicBody",t[t.b2_dynamicBody=2]="b2_dynamicBody"}(a=exports.b2BodyType||(exports.b2BodyType={}));class m{constructor(e,s){var i,m,_,r,o,n,h,l,c,p,u,y,d,w;this.m_type=a.b2_staticBody,this.m_islandFlag=!1,this.m_awakeFlag=!1,this.m_autoSleepFlag=!1,this.m_bulletFlag=!1,this.m_fixedRotationFlag=!1,this.m_enabledFlag=!1,this.m_toiFlag=!1,this.m_islandIndex=0,this.m_xf=new t.b2Transform,this.m_sweep=new t.b2Sweep,this.m_linearVelocity=new t.b2Vec2,this.m_angularVelocity=0,this.m_force=new t.b2Vec2,this.m_torque=0,this.m_prev=null,this.m_next=null,this.m_fixtureList=null,this.m_fixtureCount=0,this.m_jointList=null,this.m_contactList=null,this.m_mass=1,this.m_invMass=1,this.m_I=0,this.m_invI=0,this.m_linearDamping=0,this.m_angularDamping=0,this.m_gravityScale=1,this.m_sleepTime=0,this.m_userData=null,this.m_bulletFlag=null!==(i=e.bullet)&&void 0!==i&&i,this.m_fixedRotationFlag=null!==(m=e.fixedRotation)&&void 0!==m&&m,this.m_autoSleepFlag=null===(_=e.allowSleep)||void 0===_||_,null!==(r=e.awake)&&void 0!==r&&!r||(null!==(o=e.type)&&void 0!==o?o:a.b2_staticBody)===a.b2_staticBody||(this.m_awakeFlag=!0),this.m_enabledFlag=null===(n=e.enabled)||void 0===n||n,this.m_world=s,this.m_xf.p.Copy(null!==(h=e.position)&&void 0!==h?h:t.b2Vec2.ZERO),this.m_xf.q.Set(null!==(l=e.angle)&&void 0!==l?l:0),this.m_sweep.localCenter.SetZero(),this.m_sweep.c0.Copy(this.m_xf.p),this.m_sweep.c.Copy(this.m_xf.p),this.m_sweep.a0=this.m_sweep.a=this.m_xf.q.GetAngle(),this.m_sweep.alpha0=0,this.m_linearVelocity.Copy(null!==(c=e.linearVelocity)&&void 0!==c?c:t.b2Vec2.ZERO),this.m_angularVelocity=null!==(p=e.angularVelocity)&&void 0!==p?p:0,this.m_linearDamping=null!==(u=e.linearDamping)&&void 0!==u?u:0,this.m_angularDamping=null!==(y=e.angularDamping)&&void 0!==y?y:0,this.m_gravityScale=null!==(d=e.gravityScale)&&void 0!==d?d:1,this.m_force.SetZero(),this.m_torque=0,this.m_sleepTime=0,this.m_type=null!==(w=e.type)&&void 0!==w?w:a.b2_staticBody,this.m_mass=0,this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_userData=e.userData,this.m_fixtureList=null,this.m_fixtureCount=0}CreateFixture(t){i.b2Assert(!this.m_world.IsLocked());const e=new s.b2Fixture(this,t);if(this.m_enabledFlag){const t=this.m_world.m_contactManager.m_broadPhase;e.CreateProxies(t,this.m_xf)}return e.m_next=this.m_fixtureList,this.m_fixtureList=e,++this.m_fixtureCount,e.m_density>0&&this.ResetMassData(),this.m_world.m_newContacts=!0,e}DestroyFixture(t){i.b2Assert(!this.m_world.IsLocked());let e=this.m_fixtureList,s=null;for(;null!==e;){if(e===t){s?s.m_next=t.m_next:this.m_fixtureList=t.m_next;break}s=e,e=e.m_next}let a=this.m_contactList;for(;a;){const e=a.contact;a=a.next;const s=e.GetFixtureA(),i=e.GetFixtureB();t!==s&&t!==i||this.m_world.m_contactManager.Destroy(e)}if(this.m_enabledFlag){const e=this.m_world.m_contactManager.m_broadPhase;t.DestroyProxies(e)}t.m_next=null,--this.m_fixtureCount,this.ResetMassData()}SetTransformVec(t,e){this.SetTransformXY(t.x,t.y,e)}SetTransformXY(e,s,a){i.b2Assert(!this.m_world.IsLocked()),this.m_xf.q.Set(a),this.m_xf.p.Set(e,s),t.b2Transform.MultiplyVec2(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.a=a,this.m_sweep.c0.Copy(this.m_sweep.c),this.m_sweep.a0=a;const m=this.m_world.m_contactManager.m_broadPhase;for(let t=this.m_fixtureList;t;t=t.m_next)t.Synchronize(m,this.m_xf,this.m_xf);this.m_world.m_newContacts=!0}SetTransform(t){this.SetTransformVec(t.p,t.GetAngle())}GetTransform(){return this.m_xf}GetPosition(){return this.m_xf.p}GetAngle(){return this.m_sweep.a}SetAngle(t){this.SetTransformVec(this.GetPosition(),t)}GetWorldCenter(){return this.m_sweep.c}GetLocalCenter(){return this.m_sweep.localCenter}SetLinearVelocity(e){this.m_type!==a.b2_staticBody&&(t.b2Vec2.Dot(e,e)>0&&this.SetAwake(!0),this.m_linearVelocity.Copy(e))}GetLinearVelocity(){return this.m_linearVelocity}SetAngularVelocity(t){this.m_type!==a.b2_staticBody&&(t*t>0&&this.SetAwake(!0),this.m_angularVelocity=t)}GetAngularVelocity(){return this.m_angularVelocity}ApplyForce(t,e,s=!0){this.m_type===a.b2_dynamicBody&&(s&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_force.x+=t.x,this.m_force.y+=t.y,this.m_torque+=(e.x-this.m_sweep.c.x)*t.y-(e.y-this.m_sweep.c.y)*t.x))}ApplyForceToCenter(t,e=!0){this.m_type===a.b2_dynamicBody&&(e&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_force.x+=t.x,this.m_force.y+=t.y))}ApplyTorque(t,e=!0){this.m_type===a.b2_dynamicBody&&(e&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_torque+=t))}ApplyLinearImpulse(t,e,s=!0){this.m_type===a.b2_dynamicBody&&(s&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_linearVelocity.x+=this.m_invMass*t.x,this.m_linearVelocity.y+=this.m_invMass*t.y,this.m_angularVelocity+=this.m_invI*((e.x-this.m_sweep.c.x)*t.y-(e.y-this.m_sweep.c.y)*t.x)))}ApplyLinearImpulseToCenter(t,e=!0){this.m_type===a.b2_dynamicBody&&(e&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_linearVelocity.x+=this.m_invMass*t.x,this.m_linearVelocity.y+=this.m_invMass*t.y))}ApplyAngularImpulse(t,e=!0){this.m_type===a.b2_dynamicBody&&(e&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_angularVelocity+=this.m_invI*t))}GetMass(){return this.m_mass}GetInertia(){return this.m_I+this.m_mass*t.b2Vec2.Dot(this.m_sweep.localCenter,this.m_sweep.localCenter)}GetMassData(e){return e.mass=this.m_mass,e.I=this.m_I+this.m_mass*t.b2Vec2.Dot(this.m_sweep.localCenter,this.m_sweep.localCenter),e.center.Copy(this.m_sweep.localCenter),e}SetMassData(e){if(i.b2Assert(!this.m_world.IsLocked()),this.m_type!==a.b2_dynamicBody)return;this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_mass=e.mass,this.m_mass<=0&&(this.m_mass=1),this.m_invMass=1/this.m_mass,e.I>0&&!this.m_fixedRotationFlag&&(this.m_I=e.I-this.m_mass*t.b2Vec2.Dot(e.center,e.center),this.m_invI=1/this.m_I);const s=m.SetMassData_s_oldCenter.Copy(this.m_sweep.c);this.m_sweep.localCenter.Copy(e.center),t.b2Transform.MultiplyVec2(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.c0.Copy(this.m_sweep.c),t.b2Vec2.AddCrossScalarVec2(this.m_linearVelocity,this.m_angularVelocity,t.b2Vec2.Subtract(this.m_sweep.c,s,t.b2Vec2.s_t0),this.m_linearVelocity)}ResetMassData(){if(this.m_mass=0,this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_sweep.localCenter.SetZero(),this.m_type===a.b2_staticBody||this.m_type===a.b2_kinematicBody)return this.m_sweep.c0.Copy(this.m_xf.p),this.m_sweep.c.Copy(this.m_xf.p),void(this.m_sweep.a0=this.m_sweep.a);const e=m.ResetMassData_s_localCenter.SetZero();for(let t=this.m_fixtureList;t;t=t.m_next){if(0===t.m_density)continue;const s=t.GetMassData(m.ResetMassData_s_massData);this.m_mass+=s.mass,e.AddScaled(s.mass,s.center),this.m_I+=s.I}this.m_mass>0&&(this.m_invMass=1/this.m_mass,e.Scale(this.m_invMass)),this.m_I>0&&!this.m_fixedRotationFlag?(this.m_I-=this.m_mass*t.b2Vec2.Dot(e,e),this.m_invI=1/this.m_I):(this.m_I=0,this.m_invI=0);const s=m.ResetMassData_s_oldCenter.Copy(this.m_sweep.c);this.m_sweep.localCenter.Copy(e),t.b2Transform.MultiplyVec2(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.c0.Copy(this.m_sweep.c),t.b2Vec2.AddCrossScalarVec2(this.m_linearVelocity,this.m_angularVelocity,t.b2Vec2.Subtract(this.m_sweep.c,s,t.b2Vec2.s_t0),this.m_linearVelocity)}GetWorldPoint(e,s){return t.b2Transform.MultiplyVec2(this.m_xf,e,s)}GetWorldVector(e,s){return t.b2Rot.MultiplyVec2(this.m_xf.q,e,s)}GetLocalPoint(e,s){return t.b2Transform.TransposeMultiplyVec2(this.m_xf,e,s)}GetLocalVector(e,s){return t.b2Rot.TransposeMultiplyVec2(this.m_xf.q,e,s)}GetLinearVelocityFromWorldPoint(e,s){return t.b2Vec2.AddCrossScalarVec2(this.m_linearVelocity,this.m_angularVelocity,t.b2Vec2.Subtract(e,this.m_sweep.c,t.b2Vec2.s_t0),s)}GetLinearVelocityFromLocalPoint(t,e){return this.GetLinearVelocityFromWorldPoint(this.GetWorldPoint(t,e),e)}GetLinearDamping(){return this.m_linearDamping}SetLinearDamping(t){this.m_linearDamping=t}GetAngularDamping(){return this.m_angularDamping}SetAngularDamping(t){this.m_angularDamping=t}GetGravityScale(){return this.m_gravityScale}SetGravityScale(t){this.m_gravityScale=t}SetType(t){if(i.b2Assert(!this.m_world.IsLocked()),this.m_type===t)return;this.m_type=t,this.ResetMassData(),this.m_type===a.b2_staticBody&&(this.m_linearVelocity.SetZero(),this.m_angularVelocity=0,this.m_sweep.a0=this.m_sweep.a,this.m_sweep.c0.Copy(this.m_sweep.c),this.m_awakeFlag=!1,this.SynchronizeFixtures()),this.SetAwake(!0),this.m_force.SetZero(),this.m_torque=0;let e=this.m_contactList;for(;e;){const t=e;e=e.next,this.m_world.m_contactManager.Destroy(t.contact)}this.m_contactList=null;const s=this.m_world.m_contactManager.m_broadPhase;for(let i=this.m_fixtureList;i;i=i.m_next)for(const t of i.m_proxies)s.TouchProxy(t.treeNode)}GetType(){return this.m_type}SetBullet(t){this.m_bulletFlag=t}IsBullet(){return this.m_bulletFlag}SetSleepingAllowed(t){this.m_autoSleepFlag=t,t||this.SetAwake(!0)}IsSleepingAllowed(){return this.m_autoSleepFlag}SetAwake(t){this.m_type!==a.b2_staticBody&&(t?(this.m_awakeFlag=!0,this.m_sleepTime=0):(this.m_awakeFlag=!1,this.m_sleepTime=0,this.m_linearVelocity.SetZero(),this.m_angularVelocity=0,this.m_force.SetZero(),this.m_torque=0))}IsAwake(){return this.m_awakeFlag}SetEnabled(t){if(i.b2Assert(!this.m_world.IsLocked()),t===this.IsEnabled())return;this.m_enabledFlag=t;const e=this.m_world.m_contactManager.m_broadPhase;if(t){for(let t=this.m_fixtureList;t;t=t.m_next)t.CreateProxies(e,this.m_xf);this.m_world.m_newContacts=!0}else{for(let s=this.m_fixtureList;s;s=s.m_next)s.DestroyProxies(e);let t=this.m_contactList;for(;t;){const e=t;t=t.next,this.m_world.m_contactManager.Destroy(e.contact)}this.m_contactList=null}}IsEnabled(){return this.m_enabledFlag}SetFixedRotation(t){this.m_fixedRotationFlag!==t&&(this.m_fixedRotationFlag=t,this.m_angularVelocity=0,this.ResetMassData())}IsFixedRotation(){return this.m_fixedRotationFlag}GetFixtureList(){return this.m_fixtureList}GetJointList(){return this.m_jointList}GetContactList(){return this.m_contactList}GetNext(){return this.m_next}GetUserData(){return this.m_userData}SetUserData(t){this.m_userData=t}GetWorld(){return this.m_world}SynchronizeFixtures(){const e=this.m_world.m_contactManager.m_broadPhase;if(this.m_awakeFlag){const s=m.SynchronizeFixtures_s_xf1;s.q.Set(this.m_sweep.a0),t.b2Rot.MultiplyVec2(s.q,this.m_sweep.localCenter,s.p),t.b2Vec2.Subtract(this.m_sweep.c0,s.p,s.p);for(let t=this.m_fixtureList;t;t=t.m_next)t.Synchronize(e,s,this.m_xf)}else for(let t=this.m_fixtureList;t;t=t.m_next)t.Synchronize(e,this.m_xf,this.m_xf)}SynchronizeTransform(){this.m_xf.q.Set(this.m_sweep.a),t.b2Rot.MultiplyVec2(this.m_xf.q,this.m_sweep.localCenter,this.m_xf.p),t.b2Vec2.Subtract(this.m_sweep.c,this.m_xf.p,this.m_xf.p)}ShouldCollide(t){return(this.m_type===a.b2_dynamicBody||t.m_type===a.b2_dynamicBody)&&this.ShouldCollideConnected(t)}ShouldCollideConnected(t){for(let e=this.m_jointList;e;e=e.next)if(e.other===t&&!e.joint.m_collideConnected)return!1;return!0}Advance(e){this.m_sweep.Advance(e),this.m_sweep.c.Copy(this.m_sweep.c0),this.m_sweep.a=this.m_sweep.a0,this.m_xf.q.Set(this.m_sweep.a),t.b2Rot.MultiplyVec2(this.m_xf.q,this.m_sweep.localCenter,this.m_xf.p),t.b2Vec2.Subtract(this.m_sweep.c,this.m_xf.p,this.m_xf.p)}}exports.b2Body=m,m.SetMassData_s_oldCenter=new t.b2Vec2,m.ResetMassData_s_localCenter=new t.b2Vec2,m.ResetMassData_s_oldCenter=new t.b2Vec2,m.ResetMassData_s_massData=new e.b2MassData,m.SynchronizeFixtures_s_xf1=new t.b2Transform;
},{"../common/b2_math":"YmMi","../collision/b2_shape":"QXiX","./b2_fixture":"MuJF","../common/b2_common":"xZSi"}],"VBK5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DrawCenterOfMasses=exports.DrawAABBs=exports.DrawPairs=exports.DrawJoints=exports.DrawShapes=exports.GetShapeColor=void 0;const e=require("./b2_math"),o=require("./b2_draw"),t=require("../dynamics/b2_body"),r=require("./b2_common"),s={cA:new e.b2Vec2,cB:new e.b2Vec2,vs:r.b2MakeArray(4,e.b2Vec2),xf:new e.b2Transform};function n(e){return e.GetType()===t.b2BodyType.b2_dynamicBody&&0===e.m_mass?o.debugColors.badBody:e.IsEnabled()?e.GetType()===t.b2BodyType.b2_staticBody?o.debugColors.staticBody:e.GetType()===t.b2BodyType.b2_kinematicBody?o.debugColors.kinematicBody:e.IsAwake()?o.debugColors.body:o.debugColors.sleepingBody:o.debugColors.disabledBody}function a(e,o){for(let t=o.GetBodyList();t;t=t.m_next){const o=t.m_xf;e.PushTransform(o);for(let r=t.GetFixtureList();r;r=r.m_next)r.GetShape().Draw(e,n(t));e.PopTransform(o)}}function d(e,o){for(let t=o.GetJointList();t;t=t.m_next)t.Draw(e)}function i(e,t){for(let r=t.GetContactList();r;r=r.m_next){const t=r.GetFixtureA(),n=r.GetFixtureB(),a=r.GetChildIndexA(),d=r.GetChildIndexB(),i=t.GetAABB(a).GetCenter(s.cA),p=n.GetAABB(d).GetCenter(s.cB);e.DrawSegment(i,p,o.debugColors.pair)}}function p(e,t){const{vs:r}=s;for(let s=t.GetBodyList();s;s=s.m_next)if(s.IsEnabled())for(let t=s.GetFixtureList();t;t=t.m_next)for(let s=0;s<t.m_proxyCount;++s){const n=t.m_proxies[s],{aabb:a}=n.treeNode;r[0].Set(a.lowerBound.x,a.lowerBound.y),r[1].Set(a.upperBound.x,a.lowerBound.y),r[2].Set(a.upperBound.x,a.upperBound.y),r[3].Set(a.lowerBound.x,a.upperBound.y),e.DrawPolygon(r,4,o.debugColors.aabb)}}function u(e,o){const{xf:t}=s;for(let r=o.GetBodyList();r;r=r.m_next)t.q.Copy(r.m_xf.q),t.p.Copy(r.GetWorldCenter()),e.DrawTransform(t)}exports.GetShapeColor=n,exports.DrawShapes=a,exports.DrawJoints=d,exports.DrawPairs=i,exports.DrawAABBs=p,exports.DrawCenterOfMasses=u;
},{"./b2_math":"YmMi","./b2_draw":"J87F","../dynamics/b2_body":"hxRe","./b2_common":"xZSi"}],"KajI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2Timer=void 0;class e{constructor(){this.m_start=performance.now()}Reset(){return this.m_start=performance.now(),this}GetMilliseconds(){return performance.now()-this.m_start}}exports.b2Timer=e;
},{}],"O0IN":[function(require,module,exports) {
"use strict";function e(e,t){for(const n of Object.keys(t)){const o=t[n],r=e[n],s=function(...e){return o.call(this,r.bind(this),...e)};Object.defineProperty(s,"name",{value:n}),e[n]=s}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2_augment=void 0,exports.b2_augment=e;
},{}],"TnoZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2DynamicTree=exports.b2TreeNode=void 0;const e=require("../common/b2_common"),t=require("../common/b2_math"),i=require("./b2_collision"),a={stack:[],t:new t.b2Vec2,r:new t.b2Vec2,v:new t.b2Vec2,abs_v:new t.b2Vec2,segmentAABB:new i.b2AABB,subInput:new i.b2RayCastInput,combinedAABB:new i.b2AABB,aabb:new i.b2AABB,fatAABB:new i.b2AABB,hugeAABB:new i.b2AABB,c:new t.b2Vec2,h:new t.b2Vec2};let h=0;class r{constructor(){this.aabb=new i.b2AABB,this.userData=null,this.parent=null,this.child1=null,this.child2=null,this.height=0,this.moved=!1,this.id=h++}Reset(){this.child1=null,this.child2=null,this.height=-1,this.userData=null}IsLeaf(){return null===this.child1}GetArea(){if(this.IsLeaf())return 0;let e=this.aabb.GetPerimeter();return this.child1&&(e+=this.child1.GetArea()),this.child2&&(e+=this.child2.GetArea()),e}ComputeHeight(){if(this.IsLeaf())return 0;e.b2Assert(null!==this.child1&&null!==this.child2);const t=e.b2Verify(this.child1).ComputeHeight(),i=e.b2Verify(this.child2).ComputeHeight();return 1+Math.max(t,i)}GetMaxBalance(){if(this.height<=1)return 0;const t=e.b2Verify(this.child1),i=e.b2Verify(this.child2);return Math.max(t.GetMaxBalance(),i.GetMaxBalance(),Math.abs(i.height-t.height))}ShiftOrigin(t){this.height<=1||(e.b2Verify(this.child1).ShiftOrigin(t),e.b2Verify(this.child2).ShiftOrigin(t),this.aabb.lowerBound.Subtract(t),this.aabb.upperBound.Subtract(t))}}exports.b2TreeNode=r;class n{constructor(){this.m_root=null,this.m_freeList=null}Query(e,t){const i=a.stack;i.length=0;let h=this.m_root;for(;h;){if(h.aabb.TestOverlap(e))if(h.IsLeaf()){if(!t(h))return}else i.push(h.child1),i.push(h.child2);h=i.pop()}}QueryPoint(e,t){const i=a.stack;i.length=0;let h=this.m_root;for(;h;){if(h.aabb.TestContain(e))if(h.IsLeaf()){if(!t(h))return}else i.push(h.child1),i.push(h.child2);h=i.pop()}}RayCast(e,i){const{p1:h,p2:r}=e,n=t.b2Vec2.Subtract(r,h,a.r);n.Normalize();const b=t.b2Vec2.CrossOneVec2(n,a.v),o=b.GetAbs(a.abs_v);let{maxFraction:l}=e;const{segmentAABB:s,subInput:c,c:u,h:d,t:p}=a;t.b2Vec2.AddScaled(h,l,t.b2Vec2.Subtract(r,h,p),p),t.b2Vec2.Min(h,p,s.lowerBound),t.b2Vec2.Max(h,p,s.upperBound);const m=a.stack;m.length=0;let f=this.m_root;for(;f;){if(!f.aabb.TestOverlap(s)){f=m.pop();continue}if(f.aabb.GetCenter(u),f.aabb.GetExtents(d),Math.abs(t.b2Vec2.Dot(b,t.b2Vec2.Subtract(h,u,t.b2Vec2.s_t0)))-t.b2Vec2.Dot(o,d)>0)f=m.pop();else{if(f.IsLeaf()){c.p1.Copy(e.p1),c.p2.Copy(e.p2),c.maxFraction=l;const a=i(c,f);if(0===a)return;a>0&&(l=a,t.b2Vec2.AddScaled(h,l,t.b2Vec2.Subtract(r,h,p),p),t.b2Vec2.Min(h,p,s.lowerBound),t.b2Vec2.Max(h,p,s.upperBound))}else m.push(f.child1),m.push(f.child2);f=m.pop()}}}AllocateNode(){if(null===this.m_freeList)return new r;const e=this.m_freeList;return this.m_freeList=e.parent,e.parent=null,e.child1=null,e.child2=null,e.height=0,e.moved=!1,e}FreeNode(e){e.parent=this.m_freeList,e.Reset(),this.m_freeList=e}CreateProxy(t,i){const a=this.AllocateNode(),h=e.b2_aabbExtension;return a.aabb.lowerBound.Set(t.lowerBound.x-h,t.lowerBound.y-h),a.aabb.upperBound.Set(t.upperBound.x+h,t.upperBound.y+h),a.userData=i,a.height=0,a.moved=!0,this.InsertLeaf(a),a}DestroyProxy(e){this.RemoveLeaf(e),this.FreeNode(e)}MoveProxy(t,i,h){const{fatAABB:r,hugeAABB:n}=a,b=e.b2_aabbExtension;r.lowerBound.Set(i.lowerBound.x-b,i.lowerBound.y-b),r.upperBound.Set(i.upperBound.x+b,i.upperBound.y+b);const o=e.b2_aabbMultiplier*h.x,l=e.b2_aabbMultiplier*h.y;o<0?r.lowerBound.x+=o:r.upperBound.x+=o,l<0?r.lowerBound.y+=l:r.upperBound.y+=l;const s=t.aabb;if(s.Contains(i)){const t=4*e.b2_aabbExtension;if(n.lowerBound.Set(r.lowerBound.x-t,i.lowerBound.y-t),n.upperBound.Set(r.upperBound.x+t,i.upperBound.y+t),n.Contains(s))return!1}return this.RemoveLeaf(t),t.aabb.Copy(r),this.InsertLeaf(t),t.moved=!0,!0}InsertLeaf(t){if(null===this.m_root)return this.m_root=t,void(this.m_root.parent=null);const{combinedAABB:i,aabb:h}=a,r=t.aabb;let n=this.m_root;for(;!n.IsLeaf();){const t=e.b2Verify(n.child1),a=e.b2Verify(n.child2),b=n.aabb.GetPerimeter();i.Combine2(n.aabb,r);const o=i.GetPerimeter(),l=2*o,s=2*(o-b);let c,u,d,p;if(t.IsLeaf()?(h.Combine2(r,t.aabb),c=h.GetPerimeter()+s):(h.Combine2(r,t.aabb),u=t.aabb.GetPerimeter(),c=(d=h.GetPerimeter())-u+s),a.IsLeaf()?(h.Combine2(r,a.aabb),p=h.GetPerimeter()+s):(h.Combine2(r,a.aabb),u=a.aabb.GetPerimeter(),p=(d=h.GetPerimeter())-u+s),l<c&&l<p)break;n=c<p?t:a}const b=n.parent,o=this.AllocateNode();o.parent=b,o.userData=null,o.aabb.Combine2(r,n.aabb),o.height=n.height+1,null!==b?(b.child1===n?b.child1=o:b.child2=o,o.child1=n,o.child2=t,n.parent=o,t.parent=o):(o.child1=n,o.child2=t,n.parent=o,t.parent=o,this.m_root=o);let l=t.parent;for(;null!==l;){l=this.Balance(l);const t=e.b2Verify(l.child1),i=e.b2Verify(l.child2);l.height=1+Math.max(t.height,i.height),l.aabb.Combine2(t.aabb,i.aabb),l=l.parent}}RemoveLeaf(t){if(t===this.m_root)return void(this.m_root=null);const i=e.b2Verify(t.parent),a=i.parent,h=e.b2Verify(i.child1===t?i.child2:i.child1);if(null!==a){a.child1===i?a.child1=h:a.child2=h,h.parent=a,this.FreeNode(i);let t=a;for(;null!==t;){t=this.Balance(t);const i=e.b2Verify(t.child1),a=e.b2Verify(t.child2);t.aabb.Combine2(i.aabb,a.aabb),t.height=1+Math.max(i.height,a.height),t=t.parent}}else this.m_root=h,h.parent=null,this.FreeNode(i)}Balance(t){if(t.IsLeaf()||t.height<2)return t;const i=e.b2Verify(t.child1),a=e.b2Verify(t.child2),h=a.height-i.height;if(h>1){const h=e.b2Verify(a.child1),r=e.b2Verify(a.child2);return a.child1=t,a.parent=t.parent,t.parent=a,null!==a.parent?a.parent.child1===t?a.parent.child1=a:a.parent.child2=a:this.m_root=a,h.height>r.height?(a.child2=h,t.child2=r,r.parent=t,t.aabb.Combine2(i.aabb,r.aabb),a.aabb.Combine2(t.aabb,h.aabb),t.height=1+Math.max(i.height,r.height),a.height=1+Math.max(t.height,h.height)):(a.child2=r,t.child2=h,h.parent=t,t.aabb.Combine2(i.aabb,h.aabb),a.aabb.Combine2(t.aabb,r.aabb),t.height=1+Math.max(i.height,h.height),a.height=1+Math.max(t.height,r.height)),a}if(h<-1){const h=e.b2Verify(i.child1),r=e.b2Verify(i.child2);return i.child1=t,i.parent=t.parent,t.parent=i,null!==i.parent?i.parent.child1===t?i.parent.child1=i:i.parent.child2=i:this.m_root=i,h.height>r.height?(i.child2=h,t.child1=r,r.parent=t,t.aabb.Combine2(a.aabb,r.aabb),i.aabb.Combine2(t.aabb,h.aabb),t.height=1+Math.max(a.height,r.height),i.height=1+Math.max(t.height,h.height)):(i.child2=r,t.child1=h,h.parent=t,t.aabb.Combine2(a.aabb,h.aabb),i.aabb.Combine2(t.aabb,r.aabb),t.height=1+Math.max(a.height,h.height),i.height=1+Math.max(t.height,r.height)),i}return t}GetHeight(){return null===this.m_root?0:this.m_root.height}GetAreaRatio(){if(null===this.m_root)return 0;const e=this.m_root,t=e.aabb.GetPerimeter();return e.GetArea()/t}GetMaxBalance(){return null===this.m_root?0:this.m_root.GetMaxBalance()}ShiftOrigin(e){var t;null===(t=this.m_root)||void 0===t||t.ShiftOrigin(e)}}exports.b2DynamicTree=n;
},{"../common/b2_common":"xZSi","../common/b2_math":"YmMi","./b2_collision":"DOG3"}],"r8Yy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2BroadPhase=void 0;const e=require("../common/b2_common"),t=require("./b2_dynamic_tree");class r{constructor(){this.m_tree=new t.b2DynamicTree,this.m_proxyCount=0,this.m_moveCount=0,this.m_moveBuffer=[],this.m_pairCount=0,this.m_pairBuffer=[],this.m_queryProxy=new t.b2TreeNode,this.QueryCallback=(e=>e.id===this.m_queryProxy.id||(!!(e.moved&&e.id>this.m_queryProxy.id)||(this.m_pairBuffer[this.m_pairCount]=e.id<this.m_queryProxy.id?[e,this.m_queryProxy]:[this.m_queryProxy,e],++this.m_pairCount,!0)))}CreateProxy(e,t){const r=this.m_tree.CreateProxy(e,t);return++this.m_proxyCount,this.BufferMove(r),r}DestroyProxy(e){this.UnBufferMove(e),--this.m_proxyCount,this.m_tree.DestroyProxy(e)}MoveProxy(e,t,r){this.m_tree.MoveProxy(e,t,r)&&this.BufferMove(e)}TouchProxy(e){this.BufferMove(e)}GetProxyCount(){return this.m_proxyCount}UpdatePairs(t){this.m_pairCount=0;for(let e=0;e<this.m_moveCount;++e){const t=this.m_moveBuffer[e];if(null===t)continue;this.m_queryProxy=t;const r=t.aabb;this.m_tree.Query(r,this.QueryCallback)}for(let r=0;r<this.m_pairCount;++r){const o=this.m_pairBuffer[r];t(e.b2Verify(o[0].userData),e.b2Verify(o[1].userData))}for(let e=0;e<this.m_moveCount;++e){const t=this.m_moveBuffer[e];t&&(t.moved=!1)}this.m_moveCount=0}Query(e,t){this.m_tree.Query(e,t)}QueryPoint(e,t){this.m_tree.QueryPoint(e,t)}RayCast(e,t){this.m_tree.RayCast(e,t)}GetTreeHeight(){return this.m_tree.GetHeight()}GetTreeBalance(){return this.m_tree.GetMaxBalance()}GetTreeQuality(){return this.m_tree.GetAreaRatio()}ShiftOrigin(e){this.m_tree.ShiftOrigin(e)}BufferMove(e){this.m_moveBuffer[this.m_moveCount]=e,++this.m_moveCount}UnBufferMove(e){const t=this.m_moveBuffer.indexOf(e);this.m_moveBuffer[t]=null}}exports.b2BroadPhase=r;
},{"../common/b2_common":"xZSi","./b2_dynamic_tree":"TnoZ"}],"GFfv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2TimeOfImpact=exports.b2TOIOutput=exports.b2TOIOutputState=exports.b2TOIInput=exports.b2Toi=void 0;const t=require("../common/b2_common"),e=require("../common/b2_settings"),s=require("../common/b2_math"),o=require("../common/b2_timer"),i=require("./b2_distance");exports.b2Toi={time:0,maxTime:0,calls:0,iters:0,maxIters:0,rootIters:0,maxRootIters:0,reset(){this.time=0,this.maxTime=0,this.calls=0,this.iters=0,this.maxIters=0,this.rootIters=0,this.maxRootIters=0}};const r=new s.b2Transform,a=new s.b2Transform,c=new s.b2Vec2,n=new s.b2Vec2,p=new s.b2Vec2,m=new s.b2Vec2,b=new s.b2Vec2;class _{constructor(){this.proxyA=new i.b2DistanceProxy,this.proxyB=new i.b2DistanceProxy,this.sweepA=new s.b2Sweep,this.sweepB=new s.b2Sweep,this.tMax=0}}var l,x;exports.b2TOIInput=_,function(t){t[t.e_unknown=0]="e_unknown",t[t.e_failed=1]="e_failed",t[t.e_overlapped=2]="e_overlapped",t[t.e_touching=3]="e_touching",t[t.e_separated=4]="e_separated"}(l=exports.b2TOIOutputState||(exports.b2TOIOutputState={}));class u{constructor(){this.state=l.e_unknown,this.t=0}}exports.b2TOIOutput=u,function(t){t[t.e_points=0]="e_points",t[t.e_faceA=1]="e_faceA",t[t.e_faceB=2]="e_faceB"}(x||(x={}));class V{constructor(){this.m_sweepA=new s.b2Sweep,this.m_sweepB=new s.b2Sweep,this.m_type=x.e_points,this.m_localPoint=new s.b2Vec2,this.m_axis=new s.b2Vec2}Initialize(t,e,o,i,m,b){this.m_proxyA=e,this.m_proxyB=i;const{count:_}=t;this.m_sweepA.Copy(o),this.m_sweepB.Copy(m);const l=this.m_sweepA.GetTransform(r,b),u=this.m_sweepB.GetTransform(a,b);if(1===_){this.m_type=x.e_points;const e=this.m_proxyA.GetVertex(t.indexA[0]),o=this.m_proxyB.GetVertex(t.indexB[0]),i=s.b2Transform.MultiplyVec2(l,e,c),r=s.b2Transform.MultiplyVec2(u,o,n);return s.b2Vec2.Subtract(r,i,this.m_axis),this.m_axis.Normalize()}if(t.indexA[0]===t.indexA[1]){this.m_type=x.e_faceB;const e=this.m_proxyB.GetVertex(t.indexB[0]),o=this.m_proxyB.GetVertex(t.indexB[1]);s.b2Vec2.CrossVec2One(s.b2Vec2.Subtract(o,e,s.b2Vec2.s_t0),this.m_axis).Normalize();const i=s.b2Rot.MultiplyVec2(u.q,this.m_axis,p);s.b2Vec2.Mid(e,o,this.m_localPoint);const r=s.b2Transform.MultiplyVec2(u,this.m_localPoint,n),a=this.m_proxyA.GetVertex(t.indexA[0]),m=s.b2Transform.MultiplyVec2(l,a,c);let b=s.b2Vec2.Dot(s.b2Vec2.Subtract(m,r,s.b2Vec2.s_t0),i);return b<0&&(this.m_axis.Negate(),b=-b),b}this.m_type=x.e_faceA;const V=this.m_proxyA.GetVertex(t.indexA[0]),h=this.m_proxyA.GetVertex(t.indexA[1]);s.b2Vec2.CrossVec2One(s.b2Vec2.Subtract(h,V,s.b2Vec2.s_t0),this.m_axis).Normalize();const y=s.b2Rot.MultiplyVec2(l.q,this.m_axis,p);s.b2Vec2.Mid(V,h,this.m_localPoint);const f=s.b2Transform.MultiplyVec2(l,this.m_localPoint,c),T=this.m_proxyB.GetVertex(t.indexB[0]),w=s.b2Transform.MultiplyVec2(u,T,n);let M=s.b2Vec2.Dot(s.b2Vec2.Subtract(w,f,s.b2Vec2.s_t0),y);return M<0&&(this.m_axis.Negate(),M=-M),M}FindMinSeparation(t,e,o){const i=this.m_sweepA.GetTransform(r,o),_=this.m_sweepB.GetTransform(a,o);switch(this.m_type){case x.e_points:{const o=s.b2Rot.TransposeMultiplyVec2(i.q,this.m_axis,m),r=s.b2Rot.TransposeMultiplyVec2(_.q,s.b2Vec2.Negate(this.m_axis,s.b2Vec2.s_t0),b);t[0]=this.m_proxyA.GetSupport(o),e[0]=this.m_proxyB.GetSupport(r);const a=this.m_proxyA.GetVertex(t[0]),p=this.m_proxyB.GetVertex(e[0]),l=s.b2Transform.MultiplyVec2(i,a,c),x=s.b2Transform.MultiplyVec2(_,p,n);return s.b2Vec2.Dot(s.b2Vec2.Subtract(x,l,s.b2Vec2.s_t0),this.m_axis)}case x.e_faceA:{const o=s.b2Rot.MultiplyVec2(i.q,this.m_axis,p),r=s.b2Transform.MultiplyVec2(i,this.m_localPoint,c),a=s.b2Rot.TransposeMultiplyVec2(_.q,s.b2Vec2.Negate(o,s.b2Vec2.s_t0),b);t[0]=-1,e[0]=this.m_proxyB.GetSupport(a);const m=this.m_proxyB.GetVertex(e[0]),l=s.b2Transform.MultiplyVec2(_,m,n);return s.b2Vec2.Dot(s.b2Vec2.Subtract(l,r,s.b2Vec2.s_t0),o)}case x.e_faceB:{const o=s.b2Rot.MultiplyVec2(_.q,this.m_axis,p),r=s.b2Transform.MultiplyVec2(_,this.m_localPoint,n),a=s.b2Rot.TransposeMultiplyVec2(i.q,s.b2Vec2.Negate(o,s.b2Vec2.s_t0),m);e[0]=-1,t[0]=this.m_proxyA.GetSupport(a);const b=this.m_proxyA.GetVertex(t[0]),l=s.b2Transform.MultiplyVec2(i,b,c);return s.b2Vec2.Dot(s.b2Vec2.Subtract(l,r,s.b2Vec2.s_t0),o)}default:return t[0]=-1,e[0]=-1,0}}Evaluate(e,o,i){const m=this.m_sweepA.GetTransform(r,i),b=this.m_sweepB.GetTransform(a,i);switch(this.m_type){case x.e_points:{const t=this.m_proxyA.GetVertex(e),i=this.m_proxyB.GetVertex(o),r=s.b2Transform.MultiplyVec2(m,t,c),a=s.b2Transform.MultiplyVec2(b,i,n);return s.b2Vec2.Dot(s.b2Vec2.Subtract(a,r,s.b2Vec2.s_t0),this.m_axis)}case x.e_faceA:{const t=s.b2Rot.MultiplyVec2(m.q,this.m_axis,p),e=s.b2Transform.MultiplyVec2(m,this.m_localPoint,c),i=this.m_proxyB.GetVertex(o),r=s.b2Transform.MultiplyVec2(b,i,n);return s.b2Vec2.Dot(s.b2Vec2.Subtract(r,e,s.b2Vec2.s_t0),t)}case x.e_faceB:{const t=s.b2Rot.MultiplyVec2(b.q,this.m_axis,p),o=s.b2Transform.MultiplyVec2(b,this.m_localPoint,n),i=this.m_proxyA.GetVertex(e),r=s.b2Transform.MultiplyVec2(m,i,c);return s.b2Vec2.Dot(s.b2Vec2.Subtract(r,o,s.b2Vec2.s_t0),t)}default:return t.b2Assert(!1),0}}}const h=new o.b2Timer,y=new i.b2SimplexCache,f=new i.b2DistanceInput,T=new i.b2DistanceOutput,w=new V,M=[0],d=[0],A=new s.b2Sweep,B=new s.b2Sweep;function S(s,o){const c=h.Reset();++exports.b2Toi.calls,s.state=l.e_unknown,s.t=o.tMax;const{proxyA:n,proxyB:p,tMax:m}=o,b=Math.max(e.b2_maxPolygonVertices,n.m_count,p.m_count),_=A.Copy(o.sweepA),x=B.Copy(o.sweepB);_.Normalize(),x.Normalize();const u=n.m_radius+p.m_radius,V=Math.max(t.b2_linearSlop,u-3*t.b2_linearSlop),S=.25*t.b2_linearSlop;let G=0;let I=0;const O=y;O.count=0;const R=f;for(R.proxyA.Copy(o.proxyA),R.proxyB.Copy(o.proxyB),R.useRadii=!1;;){const t=_.GetTransform(r,G),e=x.GetTransform(a,G);R.transformA.Copy(t),R.transformB.Copy(e);const o=T;if(i.b2Distance(o,O,R),o.distance<=0){s.state=l.e_overlapped,s.t=0;break}if(o.distance<V+S){s.state=l.e_touching,s.t=G;break}const c=w;c.Initialize(O,n,_,p,x,G);let u=!1,h=m,y=0;for(;;){const t=M,e=d;let o=c.FindMinSeparation(t,e,h);if(o>V+S){s.state=l.e_separated,s.t=m,u=!0;break}if(o>V-S){G=h;break}let i=c.Evaluate(t[0],e[0],G);if(i<V-S){s.state=l.e_failed,s.t=G,u=!0;break}if(i<=V+S){s.state=l.e_touching,s.t=G,u=!0;break}let r=0,a=G,n=h;for(;;){let s;s=1&r?a+(V-i)*(n-a)/(o-i):.5*(a+n),++r,++exports.b2Toi.rootIters;const p=c.Evaluate(t[0],e[0],s);if(Math.abs(p-V)<S){h=s;break}if(p>V?(a=s,i=p):(n=s,o=p),50===r)break}if(exports.b2Toi.maxRootIters=Math.max(exports.b2Toi.maxRootIters,r),++y===b)break}if(++I,++exports.b2Toi.iters,u)break;if(20===I){s.state=l.e_failed,s.t=G;break}}exports.b2Toi.maxIters=Math.max(exports.b2Toi.maxIters,I);const k=c.GetMilliseconds();exports.b2Toi.maxTime=Math.max(exports.b2Toi.maxTime,k),exports.b2Toi.time+=k}exports.b2TimeOfImpact=S;
},{"../common/b2_common":"xZSi","../common/b2_settings":"nssz","../common/b2_math":"YmMi","../common/b2_timer":"KajI","./b2_distance":"XVAh"}],"JHeH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2CollidePolygonAndCircle=exports.b2CollideCircles=void 0;const o=require("../common/b2_common"),e=require("../common/b2_math"),t=require("./b2_collision"),c=new e.b2Vec2,n=new e.b2Vec2;function i(o,i,l,r,a){o.pointCount=0;const p=e.b2Transform.MultiplyVec2(l,i.m_p,c),b=e.b2Transform.MultiplyVec2(a,r.m_p,n),s=e.b2Vec2.DistanceSquared(p,b),u=i.m_radius+r.m_radius;s>u*u||(o.type=t.b2ManifoldType.e_circles,o.localPoint.Copy(i.m_p),o.localNormal.SetZero(),o.pointCount=1,o.points[0].localPoint.Copy(r.m_p),o.points[0].id.key=0)}exports.b2CollideCircles=i;const l=new e.b2Vec2,r=new e.b2Vec2,a=new e.b2Vec2;function p(c,n,i,p,b){c.pointCount=0;const s=e.b2Transform.MultiplyVec2(b,p.m_p,l),u=e.b2Transform.TransposeMultiplyVec2(i,s,r);let m=0,_=-o.b2_maxFloat;const y=n.m_radius+p.m_radius,V=n.m_count,d=n.m_vertices,C=n.m_normals;for(let o=0;o<V;++o){const t=e.b2Vec2.Dot(C[o],e.b2Vec2.Subtract(u,d[o],e.b2Vec2.s_t0));if(t>y)return;t>_&&(_=t,m=o)}const f=m,P=f+1<V?f+1:0,M=d[f],S=d[P];if(_<o.b2_epsilon)return c.pointCount=1,c.type=t.b2ManifoldType.e_faceA,c.localNormal.Copy(C[m]),e.b2Vec2.Mid(M,S,c.localPoint),c.points[0].localPoint.Copy(p.m_p),void(c.points[0].id.key=0);const T=e.b2Vec2.Dot(e.b2Vec2.Subtract(u,M,e.b2Vec2.s_t0),e.b2Vec2.Subtract(S,M,e.b2Vec2.s_t1)),D=e.b2Vec2.Dot(e.b2Vec2.Subtract(u,S,e.b2Vec2.s_t0),e.b2Vec2.Subtract(M,S,e.b2Vec2.s_t1));if(T<=0){if(e.b2Vec2.DistanceSquared(u,M)>y*y)return;c.pointCount=1,c.type=t.b2ManifoldType.e_faceA,e.b2Vec2.Subtract(u,M,c.localNormal).Normalize(),c.localPoint.Copy(M),c.points[0].localPoint.Copy(p.m_p),c.points[0].id.key=0}else if(D<=0){if(e.b2Vec2.DistanceSquared(u,S)>y*y)return;c.pointCount=1,c.type=t.b2ManifoldType.e_faceA,e.b2Vec2.Subtract(u,S,c.localNormal).Normalize(),c.localPoint.Copy(S),c.points[0].localPoint.Copy(p.m_p),c.points[0].id.key=0}else{const o=e.b2Vec2.Mid(M,S,a);if(e.b2Vec2.Dot(e.b2Vec2.Subtract(u,o,e.b2Vec2.s_t1),C[f])>y)return;c.pointCount=1,c.type=t.b2ManifoldType.e_faceA,c.localNormal.Copy(C[f]),c.localPoint.Copy(o),c.points[0].localPoint.Copy(p.m_p),c.points[0].id.key=0}}exports.b2CollidePolygonAndCircle=p;
},{"../common/b2_common":"xZSi","../common/b2_math":"YmMi","./b2_collision":"DOG3"}],"FXGt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2CollidePolygons=void 0;const e=require("../common/b2_common"),t=require("../common/b2_math"),o=require("./b2_collision"),n=new t.b2Transform,c=new t.b2Vec2,r=new t.b2Vec2;function i(o,i,l,b,s){const a=i.m_count,p=b.m_count,V=i.m_normals,m=i.m_vertices,u=b.m_vertices,y=t.b2Transform.TransposeMultiply(s,l,n);let f=0,_=-e.b2_maxFloat;for(let n=0;n<a;++n){const o=t.b2Rot.MultiplyVec2(y.q,V[n],c),i=t.b2Transform.MultiplyVec2(y,m[n],r);let l=e.b2_maxFloat;for(let e=0;e<p;++e){const n=t.b2Vec2.Dot(o,t.b2Vec2.Subtract(u[e],i,t.b2Vec2.s_t0));n<l&&(l=n)}l>_&&(_=l,f=n)}return o[0]=f,_}const l=new t.b2Vec2;function b(n,c,r,i,b,s){const a=c.m_normals,p=b.m_count,V=b.m_vertices,m=b.m_normals,u=t.b2Rot.TransposeMultiplyVec2(s.q,t.b2Rot.MultiplyVec2(r.q,a[i],t.b2Vec2.s_t0),l);let y=0,f=e.b2_maxFloat;for(let e=0;e<p;++e){const o=t.b2Vec2.Dot(u,m[e]);o<f&&(f=o,y=e)}const _=y,d=_+1<p?_+1:0,x=n[0];t.b2Transform.MultiplyVec2(s,V[_],x.v);const C=x.id.cf;C.indexA=i,C.indexB=_,C.typeA=o.b2ContactFeatureType.e_face,C.typeB=o.b2ContactFeatureType.e_vertex;const T=n[1];t.b2Transform.MultiplyVec2(s,V[d],T.v);const w=T.id.cf;w.indexA=i,w.indexB=d,w.typeA=o.b2ContactFeatureType.e_face,w.typeB=o.b2ContactFeatureType.e_vertex}const s=[new o.b2ClipVertex,new o.b2ClipVertex],a=[new o.b2ClipVertex,new o.b2ClipVertex],p=[new o.b2ClipVertex,new o.b2ClipVertex],V=[0],m=[0],u=new t.b2Vec2,y=new t.b2Vec2,f=new t.b2Vec2,_=new t.b2Vec2,d=new t.b2Vec2,x=new t.b2Vec2,C=new t.b2Vec2,T=new t.b2Vec2;function w(n,c,r,l,w){n.pointCount=0;const M=c.m_radius+l.m_radius,v=V,A=i(v,c,r,l,w);if(A>M)return;const B=m,q=i(B,l,w,c,r);if(q>M)return;let F,D,P,g,S,R;q>A+.1*e.b2_linearSlop?(F=l,D=c,P=w,g=r,S=B[0],n.type=o.b2ManifoldType.e_faceB,R=1):(F=c,D=l,P=r,g=w,S=v[0],n.type=o.b2ManifoldType.e_faceA,R=0);const N=s;b(N,F,P,S,D,g);const O=F.m_count,L=F.m_vertices,h=S,j=S+1<O?S+1:0;let z=L[h],k=L[j];const E=t.b2Vec2.Subtract(k,z,u);E.Normalize();const G=t.b2Vec2.CrossVec2One(E,y),H=t.b2Vec2.Mid(z,k,f),I=t.b2Rot.MultiplyVec2(P.q,E,d),J=t.b2Vec2.CrossVec2One(I,_);z=t.b2Transform.MultiplyVec2(P,z,C),k=t.b2Transform.MultiplyVec2(P,k,T);const K=t.b2Vec2.Dot(J,z),Q=-t.b2Vec2.Dot(I,z)+M,U=t.b2Vec2.Dot(I,k)+M,W=a,X=p,Y=t.b2Vec2.Negate(I,x);let Z=o.b2ClipSegmentToLine(W,N,Y,Q,h);if(Z<2)return;if((Z=o.b2ClipSegmentToLine(X,W,I,U,j))<2)return;n.localNormal.Copy(G),n.localPoint.Copy(H);let $=0;for(let o=0;o<e.b2_maxManifoldPoints;++o){const e=X[o];if(t.b2Vec2.Dot(J,e.v)-K<=M){const o=n.points[$];if(t.b2Transform.TransposeMultiplyVec2(g,e.v,o.localPoint),o.id.Copy(e.id),R){const{cf:e}=o.id;e.indexA=e.indexB,e.indexB=e.indexA,e.typeA=e.typeB,e.typeB=e.typeA}++$}}n.pointCount=$}exports.b2CollidePolygons=w;
},{"../common/b2_common":"xZSi","../common/b2_math":"YmMi","./b2_collision":"DOG3"}],"Xyzc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2CollideEdgeAndPolygon=exports.b2CollideEdgeAndCircle=void 0;const e=require("../common/b2_common"),t=require("../common/b2_math"),o=require("./b2_collision"),n=require("../common/b2_settings"),c=new t.b2Vec2,i=new t.b2Vec2,r=new t.b2Vec2,a=new t.b2Vec2,s=new t.b2Vec2,b=new t.b2Vec2,l=new t.b2Vec2,p=new o.b2ContactID;function d(e,n,d,f,m){e.pointCount=0;const y=t.b2Transform.TransposeMultiplyVec2(d,t.b2Transform.MultiplyVec2(m,f.m_p,t.b2Vec2.s_t0),c),V=n.m_vertex1,u=n.m_vertex2,_=t.b2Vec2.Subtract(u,V,i),x=l.Set(_.y,-_.x),C=t.b2Vec2.Dot(x,t.b2Vec2.Subtract(y,V,t.b2Vec2.s_t0));if(n.m_oneSided&&C<0)return;const v=t.b2Vec2.Dot(_,t.b2Vec2.Subtract(u,y,t.b2Vec2.s_t0)),w=t.b2Vec2.Dot(_,t.b2Vec2.Subtract(y,V,t.b2Vec2.s_t0)),S=n.m_radius+f.m_radius,A=p;if(A.cf.indexB=0,A.cf.typeB=o.b2ContactFeatureType.e_vertex,w<=0){const c=V,i=t.b2Vec2.Subtract(y,c,r);if(t.b2Vec2.Dot(i,i)>S*S)return;if(n.m_oneSided){const e=n.m_vertex0,o=V,c=t.b2Vec2.Subtract(o,e,a);if(t.b2Vec2.Dot(c,t.b2Vec2.Subtract(o,y,t.b2Vec2.s_t0))>0)return}return A.cf.indexA=0,A.cf.typeA=o.b2ContactFeatureType.e_vertex,e.pointCount=1,e.type=o.b2ManifoldType.e_circles,e.localNormal.SetZero(),e.localPoint.Copy(c),e.points[0].id.Copy(A),void e.points[0].localPoint.Copy(f.m_p)}if(v<=0){const c=u,i=t.b2Vec2.Subtract(y,c,r);if(t.b2Vec2.Dot(i,i)>S*S)return;if(n.m_oneSided){const e=n.m_vertex3,o=u,c=t.b2Vec2.Subtract(e,o,s);if(t.b2Vec2.Dot(c,t.b2Vec2.Subtract(y,o,t.b2Vec2.s_t0))>0)return}return A.cf.indexA=1,A.cf.typeA=o.b2ContactFeatureType.e_vertex,e.pointCount=1,e.type=o.b2ManifoldType.e_circles,e.localNormal.SetZero(),e.localPoint.Copy(c),e.points[0].id.Copy(A),void e.points[0].localPoint.Copy(f.m_p)}const T=t.b2Vec2.Dot(_,_),g=b;g.x=1/T*(v*V.x+w*u.x),g.y=1/T*(v*V.y+w*u.y);const N=t.b2Vec2.Subtract(y,g,r);t.b2Vec2.Dot(N,N)>S*S||(C<0&&x.Set(-x.x,-x.y),x.Normalize(),A.cf.indexA=0,A.cf.typeA=o.b2ContactFeatureType.e_face,e.pointCount=1,e.type=o.b2ManifoldType.e_faceA,e.localNormal.Copy(x),e.localPoint.Copy(V),e.points[0].id.Copy(A),e.points[0].localPoint.Copy(f.m_p))}var f;exports.b2CollideEdgeAndCircle=d,function(e){e[e.e_unknown=0]="e_unknown",e[e.e_edgeA=1]="e_edgeA",e[e.e_edgeB=2]="e_edgeB"}(f||(f={}));class m{constructor(){this.normal=new t.b2Vec2,this.type=f.e_unknown,this.index=0,this.separation=0}}class y{constructor(){this.vertices=e.b2MakeArray(n.b2_maxPolygonVertices,t.b2Vec2),this.normals=e.b2MakeArray(n.b2_maxPolygonVertices,t.b2Vec2),this.count=0}}class V{constructor(){this.i1=0,this.i2=0,this.v1=new t.b2Vec2,this.v2=new t.b2Vec2,this.normal=new t.b2Vec2,this.sideNormal1=new t.b2Vec2,this.sideOffset1=0,this.sideNormal2=new t.b2Vec2,this.sideOffset2=0}}const u=new m,_=[new t.b2Vec2,new t.b2Vec2];function x(o,n,c){const i=u;i.type=f.e_edgeA,i.index=-1,i.separation=-e.b2_maxFloat,i.normal.SetZero();const r=_;r[0].Copy(c),t.b2Vec2.Negate(c,r[1]);for(let a=0;a<2;++a){let c=e.b2_maxFloat;for(let e=0;e<o.count;++e){const i=t.b2Vec2.Dot(r[a],t.b2Vec2.Subtract(o.vertices[e],n,t.b2Vec2.s_t0));i<c&&(c=i)}c>i.separation&&(i.index=a,i.separation=c,i.normal.Copy(r[a]))}return i}const C=new m,v=new t.b2Vec2;function w(o,n,c){const i=C;i.type=f.e_unknown,i.index=-1,i.separation=-e.b2_maxFloat,i.normal.SetZero();for(let e=0;e<o.count;++e){const r=t.b2Vec2.Negate(o.normals[e],v),a=t.b2Vec2.Dot(r,t.b2Vec2.Subtract(o.vertices[e],n,t.b2Vec2.s_t0)),s=t.b2Vec2.Dot(r,t.b2Vec2.Subtract(o.vertices[e],c,t.b2Vec2.s_t0)),b=Math.min(a,s);b>i.separation&&(i.type=f.e_edgeB,i.index=e,i.separation=b,i.normal.Copy(r))}return i}const S=new t.b2Transform,A=new t.b2Vec2,T=new t.b2Vec2,g=new t.b2Vec2,N=new t.b2Vec2,D=new t.b2Vec2,M=new t.b2Vec2,h=new t.b2Vec2,B=new y,P=new V,F=[new o.b2ClipVertex,new o.b2ClipVertex],O=[new o.b2ClipVertex,new o.b2ClipVertex],k=[new o.b2ClipVertex,new o.b2ClipVertex];function q(n,c,i,r,a){n.pointCount=0;const s=t.b2Transform.TransposeMultiply(i,a,S),b=t.b2Transform.MultiplyVec2(s,r.m_centroid,A),l=c.m_vertex1,p=c.m_vertex2,d=t.b2Vec2.Subtract(p,l,T);d.Normalize();const m=g.Set(d.y,-d.x),y=t.b2Vec2.Dot(m,t.b2Vec2.Subtract(b,l,t.b2Vec2.s_t0)),V=c.m_oneSided;if(V&&y<0)return;const u=B;u.count=r.m_count;for(let e=0;e<r.m_count;++e)t.b2Transform.MultiplyVec2(s,r.m_vertices[e],u.vertices[e]),t.b2Rot.MultiplyVec2(s.q,r.m_normals[e],u.normals[e]);const _=r.m_radius+c.m_radius,C=x(u,l,m);if(C.separation>_)return;const v=w(u,l,p);if(v.separation>_)return;let q;if(q=v.separation-_>.98*(C.separation-_)+.001?v:C,V){const e=t.b2Vec2.Subtract(l,c.m_vertex0,N);e.Normalize();const o=D.Set(e.y,-e.x),n=t.b2Vec2.Cross(e,d)>=0,i=t.b2Vec2.Subtract(c.m_vertex3,p,M);i.Normalize();const r=h.Set(i.y,-i.x),a=t.b2Vec2.Cross(d,i)>=0,s=.1;if(t.b2Vec2.Dot(q.normal,d)<=0)if(n){if(t.b2Vec2.Cross(q.normal,o)>s)return}else q=C;else if(a){if(t.b2Vec2.Cross(r,q.normal)>s)return}else q=C}const z=F,E=P;if(q.type===f.e_edgeA){n.type=o.b2ManifoldType.e_faceA;let e=0,c=t.b2Vec2.Dot(q.normal,u.normals[0]);for(let o=1;o<u.count;++o){const n=t.b2Vec2.Dot(q.normal,u.normals[o]);n<c&&(c=n,e=o)}const i=e,r=i+1<u.count?i+1:0;z[0].v.Copy(u.vertices[i]),z[0].id.cf.indexA=0,z[0].id.cf.indexB=i,z[0].id.cf.typeA=o.b2ContactFeatureType.e_face,z[0].id.cf.typeB=o.b2ContactFeatureType.e_vertex,z[1].v.Copy(u.vertices[r]),z[1].id.cf.indexA=0,z[1].id.cf.indexB=r,z[1].id.cf.typeA=o.b2ContactFeatureType.e_face,z[1].id.cf.typeB=o.b2ContactFeatureType.e_vertex,E.i1=0,E.i2=1,E.v1.Copy(l),E.v2.Copy(p),E.normal.Copy(q.normal),t.b2Vec2.Negate(d,E.sideNormal1),E.sideNormal2.Copy(d)}else n.type=o.b2ManifoldType.e_faceB,z[0].v.Copy(p),z[0].id.cf.indexA=1,z[0].id.cf.indexB=q.index,z[0].id.cf.typeA=o.b2ContactFeatureType.e_vertex,z[0].id.cf.typeB=o.b2ContactFeatureType.e_face,z[1].v.Copy(l),z[1].id.cf.indexA=0,z[1].id.cf.indexB=q.index,z[1].id.cf.typeA=o.b2ContactFeatureType.e_vertex,z[1].id.cf.typeB=o.b2ContactFeatureType.e_face,E.i1=q.index,E.i2=E.i1+1<u.count?E.i1+1:0,E.v1.Copy(u.vertices[E.i1]),E.v2.Copy(u.vertices[E.i2]),E.normal.Copy(u.normals[E.i1]),E.sideNormal1.Set(E.normal.y,-E.normal.x),t.b2Vec2.Negate(E.sideNormal1,E.sideNormal2);E.sideOffset1=t.b2Vec2.Dot(E.sideNormal1,E.v1),E.sideOffset2=t.b2Vec2.Dot(E.sideNormal2,E.v2);const Z=O,L=k;let j;if((j=o.b2ClipSegmentToLine(Z,z,E.sideNormal1,E.sideOffset1,E.i1))<e.b2_maxManifoldPoints)return;if((j=o.b2ClipSegmentToLine(L,Z,E.sideNormal2,E.sideOffset2,E.i2))<e.b2_maxManifoldPoints)return;q.type===f.e_edgeA?(n.localNormal.Copy(E.normal),n.localPoint.Copy(E.v1)):(n.localNormal.Copy(r.m_normals[E.i1]),n.localPoint.Copy(r.m_vertices[E.i1]));let I=0;for(let o=0;o<e.b2_maxManifoldPoints;++o){if(t.b2Vec2.Dot(E.normal,t.b2Vec2.Subtract(L[o].v,E.v1,t.b2Vec2.s_t0))<=_){const e=n.points[I];q.type===f.e_edgeA?(t.b2Transform.TransposeMultiplyVec2(s,L[o].v,e.localPoint),e.id.Copy(L[o].id)):(e.localPoint.Copy(L[o].v),e.id.cf.typeA=L[o].id.cf.typeB,e.id.cf.typeB=L[o].id.cf.typeA,e.id.cf.indexA=L[o].id.cf.indexB,e.id.cf.indexB=L[o].id.cf.indexA),++I}}n.pointCount=I}exports.b2CollideEdgeAndPolygon=q;
},{"../common/b2_common":"xZSi","../common/b2_math":"YmMi","./b2_collision":"DOG3","../common/b2_settings":"nssz"}],"z0gE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2CircleShape=void 0;const t=require("../common/b2_common"),e=require("../common/b2_math"),s=require("./b2_shape");class r extends s.b2Shape{constructor(t=0){super(s.b2ShapeType.e_circle,t),this.m_p=new e.b2Vec2}Set(t,e=this.m_radius){return this.m_p.Copy(t),this.m_radius=e,this}Clone(){return(new r).Copy(this)}Copy(t){return super.Copy(t),this.m_p.Copy(t.m_p),this}GetChildCount(){return 1}TestPoint(t,s){const i=e.b2Transform.MultiplyVec2(t,this.m_p,r.TestPoint_s_center),o=e.b2Vec2.Subtract(s,i,r.TestPoint_s_d);return e.b2Vec2.Dot(o,o)<=this.m_radius**2}RayCast(s,i,o,_){const a=e.b2Transform.MultiplyVec2(o,this.m_p,r.RayCast_s_position),c=e.b2Vec2.Subtract(i.p1,a,r.RayCast_s_s),n=e.b2Vec2.Dot(c,c)-this.m_radius**2,p=e.b2Vec2.Subtract(i.p2,i.p1,r.RayCast_s_r),m=e.b2Vec2.Dot(c,p),u=e.b2Vec2.Dot(p,p),h=m*m-u*n;if(h<0||u<t.b2_epsilon)return!1;let b=-(m+Math.sqrt(h));return b>=0&&b<=i.maxFraction*u&&(b/=u,s.fraction=b,e.b2Vec2.AddScaled(c,b,p,s.normal).Normalize(),!0)}ComputeAABB(t,s,i){const o=e.b2Transform.MultiplyVec2(s,this.m_p,r.ComputeAABB_s_p);t.lowerBound.Set(o.x-this.m_radius,o.y-this.m_radius),t.upperBound.Set(o.x+this.m_radius,o.y+this.m_radius)}ComputeMass(t,s){const r=this.m_radius**2;t.mass=s*Math.PI*r,t.center.Copy(this.m_p),t.I=t.mass*(.5*r+e.b2Vec2.Dot(this.m_p,this.m_p))}SetupDistanceProxy(t,e){t.m_vertices=t.m_buffer,t.m_vertices[0].Copy(this.m_p),t.m_count=1,t.m_radius=this.m_radius}Draw(t,s){const r=this.m_p,i=this.m_radius,o=e.b2Vec2.UNITX;t.DrawSolidCircle(r,i,o,s)}}exports.b2CircleShape=r,r.TestPoint_s_center=new e.b2Vec2,r.TestPoint_s_d=new e.b2Vec2,r.RayCast_s_position=new e.b2Vec2,r.RayCast_s_s=new e.b2Vec2,r.RayCast_s_r=new e.b2Vec2,r.ComputeAABB_s_p=new e.b2Vec2;
},{"../common/b2_common":"xZSi","../common/b2_math":"YmMi","./b2_shape":"QXiX"}],"tJiR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2PolygonShape=void 0;const t=require("../common/b2_common"),e=require("../common/b2_math"),s=require("../common/b2_settings"),r=require("./b2_shape"),c={ComputeCentroid:{s:new e.b2Vec2,p1:new e.b2Vec2,p2:new e.b2Vec2,p3:new e.b2Vec2,e1:new e.b2Vec2,e2:new e.b2Vec2},TestPoint:{pLocal:new e.b2Vec2},ComputeAABB:{v:new e.b2Vec2},ComputeMass:{center:new e.b2Vec2,s:new e.b2Vec2,e1:new e.b2Vec2,e2:new e.b2Vec2},Validate:{e:new e.b2Vec2,v:new e.b2Vec2},Set:{r:new e.b2Vec2,v:new e.b2Vec2},RayCast:{p1:new e.b2Vec2,p2:new e.b2Vec2,d:new e.b2Vec2},SetAsBox:{xf:new e.b2Transform}},o=(.5*t.b2_linearSlop)**2;function n(t,s,r){const o=r;o.SetZero();let n=0;const{s:i,p1:m,p2:a,p3:b,e1:u,e2:_}=c.ComputeCentroid;i.Copy(t[0]);for(let c=0;c<s;++c){e.b2Vec2.Subtract(t[0],i,m),e.b2Vec2.Subtract(t[c],i,a),e.b2Vec2.Subtract(t[c+1<s?c+1:0],i,b),e.b2Vec2.Subtract(a,m,u),e.b2Vec2.Subtract(b,m,_);const r=.5*e.b2Vec2.Cross(u,_);n+=r,o.x+=r*(1/3)*(m.x+a.x+b.x),o.y+=r*(1/3)*(m.y+a.y+b.y)}const h=1/n;return o.x=h*o.x+i.x,o.y=h*o.y+i.y,o}class i extends r.b2Shape{constructor(){super(r.b2ShapeType.e_polygon,t.b2_polygonRadius),this.m_centroid=new e.b2Vec2,this.m_vertices=[],this.m_normals=[],this.m_count=0}Clone(){return(new i).Copy(this)}Copy(s){super.Copy(s),this.m_centroid.Copy(s.m_centroid),this.m_count=s.m_count,this.m_vertices=t.b2MakeArray(this.m_count,e.b2Vec2),this.m_normals=t.b2MakeArray(this.m_count,e.b2Vec2);for(let t=0;t<this.m_count;++t)this.m_vertices[t].Copy(s.m_vertices[t]),this.m_normals[t].Copy(s.m_normals[t]);return this}GetChildCount(){return 1}Set(r,i=r.length){if(i<3)return this.SetAsBox(1,1);let m=Math.min(i,s.b2_maxPolygonVertices);const a=[];for(let t=0;t<m;++t){const s=r[t];a.every(t=>e.b2Vec2.DistanceSquared(s,t)>=o)&&a.push(s)}if((m=a.length)<3)return this.SetAsBox(1,1);let b=0,u=a[0].x;for(let t=1;t<m;++t){const{x:e}=a[t];(e>u||e===u&&a[t].y<a[b].y)&&(b=t,u=e)}const _=[];let h=0,l=b;for(;;){_[h]=l;let t=0;for(let s=1;s<m;++s){if(t===l){t=s;continue}const r=e.b2Vec2.Subtract(a[t],a[_[h]],c.Set.r),o=e.b2Vec2.Subtract(a[s],a[_[h]],c.Set.v),n=e.b2Vec2.Cross(r,o);n<0&&(t=s),0===n&&o.LengthSquared()>r.LengthSquared()&&(t=s)}if(++h,l=t,t===b)break}t.b2Assert(h>=3,"Polygon is degenerate"),this.m_count=h,this.m_vertices=t.b2MakeArray(this.m_count,e.b2Vec2),this.m_normals=t.b2MakeArray(this.m_count,e.b2Vec2);for(let t=0;t<h;++t)this.m_vertices[t].Copy(a[_[t]]);for(let t=0;t<h;++t){const s=t,r=t+1<h?t+1:0,c=e.b2Vec2.Subtract(this.m_vertices[r],this.m_vertices[s],e.b2Vec2.s_t0);e.b2Vec2.CrossVec2One(c,this.m_normals[t]).Normalize()}return n(this.m_vertices,h,this.m_centroid),this}SetAsBox(s,r,o,n=0){if(this.m_count=4,this.m_vertices=t.b2MakeArray(this.m_count,e.b2Vec2),this.m_normals=t.b2MakeArray(this.m_count,e.b2Vec2),this.m_vertices[0].Set(-s,-r),this.m_vertices[1].Set(s,-r),this.m_vertices[2].Set(s,r),this.m_vertices[3].Set(-s,r),this.m_normals[0].Set(0,-1),this.m_normals[1].Set(1,0),this.m_normals[2].Set(0,1),this.m_normals[3].Set(-1,0),o){this.m_centroid.Copy(o);const{xf:t}=c.SetAsBox;t.SetPosition(o),t.SetRotationAngle(n);for(let s=0;s<this.m_count;++s)e.b2Transform.MultiplyVec2(t,this.m_vertices[s],this.m_vertices[s]),e.b2Rot.MultiplyVec2(t.q,this.m_normals[s],this.m_normals[s])}else this.m_centroid.SetZero();return this}TestPoint(t,s){const r=e.b2Transform.TransposeMultiplyVec2(t,s,c.TestPoint.pLocal);for(let c=0;c<this.m_count;++c){if(e.b2Vec2.Dot(this.m_normals[c],e.b2Vec2.Subtract(r,this.m_vertices[c],e.b2Vec2.s_t0))>0)return!1}return!0}RayCast(t,s,r,o){const n=e.b2Transform.TransposeMultiplyVec2(r,s.p1,c.RayCast.p1),i=e.b2Transform.TransposeMultiplyVec2(r,s.p2,c.RayCast.p2),m=e.b2Vec2.Subtract(i,n,c.RayCast.d);let a=0,b=s.maxFraction,u=-1;for(let c=0;c<this.m_count;++c){const t=e.b2Vec2.Dot(this.m_normals[c],e.b2Vec2.Subtract(this.m_vertices[c],n,e.b2Vec2.s_t0)),s=e.b2Vec2.Dot(this.m_normals[c],m);if(0===s){if(t<0)return!1}else s<0&&t<a*s?(a=t/s,u=c):s>0&&t<b*s&&(b=t/s);if(b<a)return!1}return u>=0&&(t.fraction=a,e.b2Rot.MultiplyVec2(r.q,this.m_normals[u],t.normal),!0)}ComputeAABB(t,s,r){const o=e.b2Transform.MultiplyVec2(s,this.m_vertices[0],t.lowerBound),n=t.upperBound.Copy(o);for(let m=1;m<this.m_count;++m){const t=e.b2Transform.MultiplyVec2(s,this.m_vertices[m],c.ComputeAABB.v);e.b2Vec2.Min(o,t,o),e.b2Vec2.Max(n,t,n)}const i=this.m_radius;o.SubtractXY(i,i),n.AddXY(i,i)}ComputeMass(t,s){const r=c.ComputeMass.center.SetZero();let o=0,n=0;const i=c.ComputeMass.s.Copy(this.m_vertices[0]);for(let m=0;m<this.m_count;++m){const t=e.b2Vec2.Subtract(this.m_vertices[m],i,c.ComputeMass.e1),s=e.b2Vec2.Subtract(this.m_vertices[m+1<this.m_count?m+1:0],i,c.ComputeMass.e2),a=e.b2Vec2.Cross(t,s),b=.5*a;o+=b,r.AddScaled(b*(1/3),e.b2Vec2.Add(t,s,e.b2Vec2.s_t0));const u=t.x,_=t.y,h=s.x,l=s.y;n+=1/3*.25*a*(u*u+h*u+h*h+(_*_+l*_+l*l))}t.mass=s*o,r.Scale(1/o),e.b2Vec2.Add(r,i,t.center),t.I=s*n,t.I+=t.mass*(e.b2Vec2.Dot(t.center,t.center)-e.b2Vec2.Dot(r,r))}Validate(){const{e:t,v:s}=c.Validate;for(let r=0;r<this.m_count;++r){const c=r,o=r<this.m_count-1?c+1:0,n=this.m_vertices[c];e.b2Vec2.Subtract(this.m_vertices[o],n,t);for(let r=0;r<this.m_count;++r){if(r===c||r===o)continue;if(e.b2Vec2.Subtract(this.m_vertices[r],n,s),e.b2Vec2.Cross(t,s)<0)return!1}}return!0}SetupDistanceProxy(t,e){t.m_vertices=this.m_vertices,t.m_count=this.m_count,t.m_radius=this.m_radius}Draw(t,e){const s=this.m_count,r=this.m_vertices;t.DrawSolidPolygon(r,s,e)}}exports.b2PolygonShape=i;
},{"../common/b2_common":"xZSi","../common/b2_math":"YmMi","../common/b2_settings":"nssz","./b2_shape":"QXiX"}],"xXrv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2EdgeShape=void 0;const e=require("../common/b2_common"),t=require("../common/b2_math"),s=require("./b2_shape");class r extends s.b2Shape{constructor(){super(s.b2ShapeType.e_edge,e.b2_polygonRadius),this.m_vertex1=new t.b2Vec2,this.m_vertex2=new t.b2Vec2,this.m_vertex0=new t.b2Vec2,this.m_vertex3=new t.b2Vec2,this.m_oneSided=!1}SetOneSided(e,t,s,r){return this.m_vertex0.Copy(e),this.m_vertex1.Copy(t),this.m_vertex2.Copy(s),this.m_vertex3.Copy(r),this.m_oneSided=!0,this}SetTwoSided(e,t){return this.m_vertex1.Copy(e),this.m_vertex2.Copy(t),this.m_oneSided=!1,this}Clone(){return(new r).Copy(this)}Copy(e){return super.Copy(e),this.m_vertex1.Copy(e.m_vertex1),this.m_vertex2.Copy(e.m_vertex2),this.m_vertex0.Copy(e.m_vertex0),this.m_vertex3.Copy(e.m_vertex3),this.m_oneSided=e.m_oneSided,this}GetChildCount(){return 1}TestPoint(e,t){return!1}RayCast(e,s,o,_){const i=t.b2Transform.TransposeMultiplyVec2(o,s.p1,r.RayCast_s_p1),n=t.b2Transform.TransposeMultiplyVec2(o,s.p2,r.RayCast_s_p2),a=t.b2Vec2.Subtract(n,i,r.RayCast_s_d),m=this.m_vertex1,c=this.m_vertex2,p=t.b2Vec2.Subtract(c,m,r.RayCast_s_e),{normal:u}=e;u.Set(p.y,-p.x).Normalize();const b=t.b2Vec2.Dot(u,t.b2Vec2.Subtract(m,i,t.b2Vec2.s_t0));if(this.m_oneSided&&b>0)return!1;const h=t.b2Vec2.Dot(u,a);if(0===h)return!1;const d=b/h;if(d<0||s.maxFraction<d)return!1;const y=t.b2Vec2.AddScaled(i,d,a,r.RayCast_s_q),v=t.b2Vec2.Subtract(c,m,r.RayCast_s_r),C=t.b2Vec2.Dot(v,v);if(0===C)return!1;const x=t.b2Vec2.Dot(t.b2Vec2.Subtract(y,m,t.b2Vec2.s_t0),v)/C;return!(x<0||x>1)&&(e.fraction=d,t.b2Rot.MultiplyVec2(o.q,e.normal,e.normal),b>0&&e.normal.Negate(),!0)}ComputeAABB(e,s,o){const _=t.b2Transform.MultiplyVec2(s,this.m_vertex1,r.ComputeAABB_s_v1),i=t.b2Transform.MultiplyVec2(s,this.m_vertex2,r.ComputeAABB_s_v2);t.b2Vec2.Min(_,i,e.lowerBound),t.b2Vec2.Max(_,i,e.upperBound);const n=this.m_radius;e.lowerBound.SubtractXY(n,n),e.upperBound.AddXY(n,n)}ComputeMass(e,s){e.mass=0,t.b2Vec2.Mid(this.m_vertex1,this.m_vertex2,e.center),e.I=0}SetupDistanceProxy(e,t){e.m_vertices=e.m_buffer,e.m_vertices[0].Copy(this.m_vertex1),e.m_vertices[1].Copy(this.m_vertex2),e.m_count=2,e.m_radius=this.m_radius}Draw(e,t){const s=this.m_vertex1,r=this.m_vertex2;e.DrawSegment(s,r,t),!1===this.m_oneSided&&(e.DrawPoint(s,4,t),e.DrawPoint(r,4,t))}}exports.b2EdgeShape=r,r.RayCast_s_p1=new t.b2Vec2,r.RayCast_s_p2=new t.b2Vec2,r.RayCast_s_d=new t.b2Vec2,r.RayCast_s_e=new t.b2Vec2,r.RayCast_s_q=new t.b2Vec2,r.RayCast_s_r=new t.b2Vec2,r.ComputeAABB_s_v1=new t.b2Vec2,r.ComputeAABB_s_v2=new t.b2Vec2;
},{"../common/b2_common":"xZSi","../common/b2_math":"YmMi","./b2_shape":"QXiX"}],"xLFs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2ChainShape=void 0;const e=require("../common/b2_common"),t=require("../common/b2_math"),s=require("./b2_shape"),r=require("./b2_edge_shape");class i extends s.b2Shape{constructor(){super(s.b2ShapeType.e_chain,e.b2_polygonRadius),this.m_vertices=[],this.m_prevVertex=new t.b2Vec2,this.m_nextVertex=new t.b2Vec2}CreateLoop(e,s=e.length){if(s<3)return this;this.m_vertices.length=s+1;for(let r=0;r<s;++r){const{x:s,y:i}=e[r];this.m_vertices[r]=new t.b2Vec2(s,i)}return this.m_vertices[s]=this.m_vertices[0].Clone(),this.m_prevVertex.Copy(this.m_vertices[this.m_vertices.length-2]),this.m_nextVertex.Copy(this.m_vertices[1]),this}CreateChain(e,s,r,i){this.m_vertices.length=s;for(let _=0;_<s;++_){const{x:s,y:r}=e[_];this.m_vertices[_]=new t.b2Vec2(s,r)}return this.m_prevVertex.Copy(r),this.m_nextVertex.Copy(i),this}Clone(){return(new i).Copy(this)}Copy(e){return super.Copy(e),this.CreateChain(e.m_vertices,e.m_vertices.length,e.m_prevVertex,e.m_nextVertex)}GetChildCount(){return this.m_vertices.length-1}GetChildEdge(e,t){e.m_radius=this.m_radius,e.m_vertex1.Copy(this.m_vertices[t]),e.m_vertex2.Copy(this.m_vertices[t+1]),e.m_oneSided=!0,t>0?e.m_vertex0.Copy(this.m_vertices[t-1]):e.m_vertex0.Copy(this.m_prevVertex),t<this.m_vertices.length-2?e.m_vertex3.Copy(this.m_vertices[t+2]):e.m_vertex3.Copy(this.m_nextVertex)}TestPoint(e,t){return!1}RayCast(e,t,s,r){const _=i.RayCast_s_edgeShape,m=r;let o=r+1;return o===this.m_vertices.length&&(o=0),_.m_vertex1.Copy(this.m_vertices[m]),_.m_vertex2.Copy(this.m_vertices[o]),_.RayCast(e,t,s,0)}ComputeAABB(e,s,r){const _=r;let m=r+1;m===this.m_vertices.length&&(m=0);const o=t.b2Transform.MultiplyVec2(s,this.m_vertices[_],i.ComputeAABB_s_v1),h=t.b2Transform.MultiplyVec2(s,this.m_vertices[m],i.ComputeAABB_s_v2),n=t.b2Vec2.Min(o,h,i.ComputeAABB_s_lower),c=t.b2Vec2.Max(o,h,i.ComputeAABB_s_upper);e.lowerBound.x=n.x-this.m_radius,e.lowerBound.y=n.y-this.m_radius,e.upperBound.x=c.x+this.m_radius,e.upperBound.y=c.y+this.m_radius}ComputeMass(e,t){e.mass=0,e.center.SetZero(),e.I=0}SetupDistanceProxy(e,t){e.m_vertices=e.m_buffer,e.m_vertices[0].Copy(this.m_vertices[t]),t+1<this.m_vertices.length?e.m_vertices[1].Copy(this.m_vertices[t+1]):e.m_vertices[1].Copy(this.m_vertices[0]),e.m_count=2,e.m_radius=this.m_radius}Draw(e,t){const s=this.m_vertices;let r=s[0];for(let i=1;i<s.length;++i){const _=s[i];e.DrawSegment(r,_,t),r=_}}}exports.b2ChainShape=i,i.RayCast_s_edgeShape=new r.b2EdgeShape,i.ComputeAABB_s_v1=new t.b2Vec2,i.ComputeAABB_s_v2=new t.b2Vec2,i.ComputeAABB_s_lower=new t.b2Vec2,i.ComputeAABB_s_upper=new t.b2Vec2;
},{"../common/b2_common":"xZSi","../common/b2_math":"YmMi","./b2_shape":"QXiX","./b2_edge_shape":"xXrv"}],"PxaZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2Joint=exports.b2AngularStiffness=exports.b2LinearStiffness=exports.b2JointDef=exports.b2JointEdge=exports.b2JointType=void 0;const t=require("../common/b2_draw"),e=require("../common/b2_math"),n={pA:new e.b2Vec2,pB:new e.b2Vec2};var o;!function(t){t[t.e_unknownJoint=0]="e_unknownJoint",t[t.e_revoluteJoint=1]="e_revoluteJoint",t[t.e_prismaticJoint=2]="e_prismaticJoint",t[t.e_distanceJoint=3]="e_distanceJoint",t[t.e_pulleyJoint=4]="e_pulleyJoint",t[t.e_mouseJoint=5]="e_mouseJoint",t[t.e_gearJoint=6]="e_gearJoint",t[t.e_wheelJoint=7]="e_wheelJoint",t[t.e_weldJoint=8]="e_weldJoint",t[t.e_frictionJoint=9]="e_frictionJoint",t[t.e_motorJoint=10]="e_motorJoint",t[t.e_areaJoint=11]="e_areaJoint"}(o=exports.b2JointType||(exports.b2JointType={}));class i{constructor(t,e){this.prev=null,this.next=null,this.joint=t,this.other=e}}exports.b2JointEdge=i;class s{constructor(t){this.userData=null,this.collideConnected=!1,this.type=t}}function r(t,e,n,o,i){const s=o.GetMass(),r=i.GetMass();let a;a=s>0&&r>0?s*r/(s+r):s>0?s:r;const l=2*Math.PI*e;t.stiffness=a*l*l,t.damping=2*a*n*l}function a(t,e,n,o,i){const s=o.GetInertia(),r=i.GetInertia();let a;a=s>0&&r>0?s*r/(s+r):s>0?s:r;const l=2*Math.PI*e;t.stiffness=a*l*l,t.damping=2*a*n*l}exports.b2JointDef=s,exports.b2LinearStiffness=r,exports.b2AngularStiffness=a;class l{constructor(t){var e;this.m_type=o.e_unknownJoint,this.m_prev=null,this.m_next=null,this.m_islandFlag=!1,this.m_collideConnected=!1,this.m_userData=null,this.m_type=t.type,this.m_edgeA=new i(this,t.bodyB),this.m_edgeB=new i(this,t.bodyA),this.m_bodyA=t.bodyA,this.m_bodyB=t.bodyB,this.m_collideConnected=null!==(e=t.collideConnected)&&void 0!==e&&e,this.m_userData=t.userData}GetType(){return this.m_type}GetBodyA(){return this.m_bodyA}GetBodyB(){return this.m_bodyB}GetNext(){return this.m_next}GetUserData(){return this.m_userData}SetUserData(t){this.m_userData=t}IsEnabled(){return this.m_bodyA.IsEnabled()&&this.m_bodyB.IsEnabled()}GetCollideConnected(){return this.m_collideConnected}ShiftOrigin(t){}Draw(e){const o=this.m_bodyA.GetTransform().p,i=this.m_bodyB.GetTransform().p,s=this.GetAnchorA(n.pA),r=this.GetAnchorB(n.pB);e.DrawSegment(o,s,t.debugColors.joint6),e.DrawSegment(s,r,t.debugColors.joint6),e.DrawSegment(i,r,t.debugColors.joint6)}}exports.b2Joint=l;
},{"../common/b2_draw":"J87F","../common/b2_math":"YmMi"}],"ZofS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2DistanceJoint=exports.b2DistanceJointDef=void 0;const t=require("../common/b2_common"),s=require("../common/b2_math"),i=require("./b2_joint"),e=require("../common/b2_draw"),m={worldPointA:new s.b2Vec2,worldPointB:new s.b2Vec2,vpA:new s.b2Vec2,vpB:new s.b2Vec2,vpBA:new s.b2Vec2,P:new s.b2Vec2,qA:new s.b2Rot,qB:new s.b2Rot,lalcA:new s.b2Vec2,lalcB:new s.b2Vec2,Draw:{pA:new s.b2Vec2,pB:new s.b2Vec2,axis:new s.b2Vec2,pRest:new s.b2Vec2,p1:new s.b2Vec2,p2:new s.b2Vec2}};class h extends i.b2JointDef{constructor(){super(i.b2JointType.e_distanceJoint),this.localAnchorA=new s.b2Vec2,this.localAnchorB=new s.b2Vec2,this.length=1,this.minLength=0,this.maxLength=t.b2_maxFloat,this.stiffness=0,this.damping=0}Initialize(i,e,m,h){this.bodyA=i,this.bodyB=e,this.bodyA.GetLocalPoint(m,this.localAnchorA),this.bodyB.GetLocalPoint(h,this.localAnchorB),this.length=Math.max(s.b2Vec2.Distance(m,h),t.b2_linearSlop),this.minLength=this.length,this.maxLength=this.length}}exports.b2DistanceJointDef=h;class n extends i.b2Joint{constructor(i){var e,m;super(i),this.m_bias=0,this.m_localAnchorA=new s.b2Vec2,this.m_localAnchorB=new s.b2Vec2,this.m_gamma=0,this.m_impulse=0,this.m_lowerImpulse=0,this.m_upperImpulse=0,this.m_indexA=0,this.m_indexB=0,this.m_u=new s.b2Vec2,this.m_rA=new s.b2Vec2,this.m_rB=new s.b2Vec2,this.m_localCenterA=new s.b2Vec2,this.m_localCenterB=new s.b2Vec2,this.m_currentLength=0,this.m_invMassA=0,this.m_invMassB=0,this.m_invIA=0,this.m_invIB=0,this.m_softMass=0,this.m_mass=0,this.m_localAnchorA.Copy(i.localAnchorA),this.m_localAnchorB.Copy(i.localAnchorB),this.m_length=Math.max(i.length,t.b2_linearSlop),this.m_minLength=Math.max(i.minLength,t.b2_linearSlop),this.m_maxLength=Math.max(i.maxLength,this.m_minLength),this.m_stiffness=null!==(e=i.stiffness)&&void 0!==e?e:0,this.m_damping=null!==(m=i.damping)&&void 0!==m?m:0}GetAnchorA(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}GetAnchorB(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}GetReactionForce(t,s){const i=t*(this.m_impulse+this.m_lowerImpulse-this.m_upperImpulse);return s.x=i*this.m_u.x,s.y=i*this.m_u.y,s}GetReactionTorque(t){return 0}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}SetLength(s){return this.m_impulse=0,this.m_length=Math.max(t.b2_linearSlop,s),this.m_length}GetLength(){return this.m_length}SetMinLength(i){return this.m_lowerImpulse=0,this.m_minLength=s.b2Clamp(i,t.b2_linearSlop,this.m_maxLength),this.m_minLength}GetMinLength(){return this.m_minLength}SetMaxLength(t){return this.m_upperImpulse=0,this.m_maxLength=Math.max(t,this.m_minLength),this.m_maxLength}GetMaxLength(){return this.m_maxLength}GetCurrentLength(){const t=this.m_bodyA.GetWorldPoint(this.m_localAnchorA,m.worldPointA),i=this.m_bodyB.GetWorldPoint(this.m_localAnchorB,m.worldPointB);return s.b2Vec2.Distance(i,t)}SetStiffness(t){this.m_stiffness=t}GetStiffness(){return this.m_stiffness}SetDamping(t){this.m_damping=t}GetDamping(){return this.m_damping}InitVelocityConstraints(i){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;const e=i.positions[this.m_indexA].c,h=i.positions[this.m_indexA].a,n=i.velocities[this.m_indexA].v;let o=i.velocities[this.m_indexA].w;const _=i.positions[this.m_indexB].c,c=i.positions[this.m_indexB].a,a=i.velocities[this.m_indexB].v;let r=i.velocities[this.m_indexB].w;const{qA:l,qB:b,lalcA:A,lalcB:d}=m;l.Set(h),b.Set(c),s.b2Rot.MultiplyVec2(l,s.b2Vec2.Subtract(this.m_localAnchorA,this.m_localCenterA,A),this.m_rA),s.b2Rot.MultiplyVec2(b,s.b2Vec2.Subtract(this.m_localAnchorB,this.m_localCenterB,d),this.m_rB),this.m_u.x=_.x+this.m_rB.x-e.x-this.m_rA.x,this.m_u.y=_.y+this.m_rB.y-e.y-this.m_rA.y,this.m_currentLength=this.m_u.Length(),this.m_currentLength>t.b2_linearSlop?this.m_u.Scale(1/this.m_currentLength):(this.m_u.SetZero(),this.m_mass=0,this.m_impulse=0,this.m_lowerImpulse=0,this.m_upperImpulse=0);const p=s.b2Vec2.Cross(this.m_rA,this.m_u),u=s.b2Vec2.Cross(this.m_rB,this.m_u);let B=this.m_invMassA+this.m_invIA*p*p+this.m_invMassB+this.m_invIB*u*u;if(this.m_mass=0!==B?1/B:0,this.m_stiffness>0&&this.m_minLength<this.m_maxLength){const t=this.m_currentLength-this.m_length,s=this.m_damping,e=this.m_stiffness,m=i.step.dt;this.m_gamma=m*(s+m*e),this.m_gamma=0!==this.m_gamma?1/this.m_gamma:0,this.m_bias=t*m*e*this.m_gamma,B+=this.m_gamma,this.m_softMass=0!==B?1/B:0}else this.m_gamma=0,this.m_bias=0,this.m_softMass=this.m_mass;if(i.step.warmStarting){this.m_impulse*=i.step.dtRatio,this.m_lowerImpulse*=i.step.dtRatio,this.m_upperImpulse*=i.step.dtRatio;const{P:t}=m;s.b2Vec2.Scale(this.m_impulse+this.m_lowerImpulse-this.m_upperImpulse,this.m_u,t),n.SubtractScaled(this.m_invMassA,t),o-=this.m_invIA*s.b2Vec2.Cross(this.m_rA,t),a.AddScaled(this.m_invMassB,t),r+=this.m_invIB*s.b2Vec2.Cross(this.m_rB,t)}else this.m_impulse=0;i.velocities[this.m_indexA].w=o,i.velocities[this.m_indexB].w=r}SolveVelocityConstraints(t){const i=t.velocities[this.m_indexA].v;let e=t.velocities[this.m_indexA].w;const h=t.velocities[this.m_indexB].v;let n=t.velocities[this.m_indexB].w;if(this.m_minLength<this.m_maxLength){if(this.m_stiffness>0){const t=s.b2Vec2.AddCrossScalarVec2(i,e,this.m_rA,m.vpA),o=s.b2Vec2.AddCrossScalarVec2(h,n,this.m_rB,m.vpB),_=s.b2Vec2.Dot(this.m_u,s.b2Vec2.Subtract(o,t,m.vpBA)),c=-this.m_softMass*(_+this.m_bias+this.m_gamma*this.m_impulse);this.m_impulse+=c;const a=s.b2Vec2.Scale(c,this.m_u,m.P);i.SubtractScaled(this.m_invMassA,a),e-=this.m_invIA*s.b2Vec2.Cross(this.m_rA,a),h.AddScaled(this.m_invMassB,a),n+=this.m_invIB*s.b2Vec2.Cross(this.m_rB,a)}{const o=this.m_currentLength-this.m_minLength,_=Math.max(0,o)*t.step.inv_dt,c=s.b2Vec2.AddCrossScalarVec2(i,e,this.m_rA,m.vpA),a=s.b2Vec2.AddCrossScalarVec2(h,n,this.m_rB,m.vpB),r=s.b2Vec2.Dot(this.m_u,s.b2Vec2.Subtract(a,c,m.vpBA));let l=-this.m_mass*(r+_);const b=this.m_lowerImpulse;this.m_lowerImpulse=Math.max(0,this.m_lowerImpulse+l),l=this.m_lowerImpulse-b;const A=s.b2Vec2.Scale(l,this.m_u,m.P);i.SubtractScaled(this.m_invMassA,A),e-=this.m_invIA*s.b2Vec2.Cross(this.m_rA,A),h.AddScaled(this.m_invMassB,A),n+=this.m_invIB*s.b2Vec2.Cross(this.m_rB,A)}{const o=this.m_maxLength-this.m_currentLength,_=Math.max(0,o)*t.step.inv_dt,c=s.b2Vec2.AddCrossScalarVec2(i,e,this.m_rA,m.vpA),a=s.b2Vec2.AddCrossScalarVec2(h,n,this.m_rB,m.vpB),r=s.b2Vec2.Dot(this.m_u,s.b2Vec2.Subtract(c,a,m.vpBA));let l=-this.m_mass*(r+_);const b=this.m_upperImpulse;this.m_upperImpulse=Math.max(0,this.m_upperImpulse+l),l=this.m_upperImpulse-b;const A=s.b2Vec2.Scale(-l,this.m_u,m.P);i.SubtractScaled(this.m_invMassA,A),e-=this.m_invIA*s.b2Vec2.Cross(this.m_rA,A),h.AddScaled(this.m_invMassB,A),n+=this.m_invIB*s.b2Vec2.Cross(this.m_rB,A)}}else{const t=s.b2Vec2.AddCrossScalarVec2(i,e,this.m_rA,m.vpA),o=s.b2Vec2.AddCrossScalarVec2(h,n,this.m_rB,m.vpB),_=s.b2Vec2.Dot(this.m_u,s.b2Vec2.Subtract(o,t,m.vpBA)),c=-this.m_mass*_;this.m_impulse+=c;const a=s.b2Vec2.Scale(c,this.m_u,m.P);i.SubtractScaled(this.m_invMassA,a),e-=this.m_invIA*s.b2Vec2.Cross(this.m_rA,a),h.AddScaled(this.m_invMassB,a),n+=this.m_invIB*s.b2Vec2.Cross(this.m_rB,a)}t.velocities[this.m_indexA].w=e,t.velocities[this.m_indexB].w=n}SolvePositionConstraints(i){const e=i.positions[this.m_indexA].c;let h=i.positions[this.m_indexA].a;const n=i.positions[this.m_indexB].c;let o=i.positions[this.m_indexB].a;const{qA:_,qB:c,lalcA:a,lalcB:r,P:l}=m;_.Set(h),c.Set(o);const b=s.b2Rot.MultiplyVec2(_,s.b2Vec2.Subtract(this.m_localAnchorA,this.m_localCenterA,a),this.m_rA),A=s.b2Rot.MultiplyVec2(c,s.b2Vec2.Subtract(this.m_localAnchorB,this.m_localCenterB,r),this.m_rB);this.m_u.x=n.x+A.x-e.x-b.x,this.m_u.y=n.y+A.y-e.y-b.y;const d=this.m_u.Normalize();let p;if(this.m_minLength===this.m_maxLength)p=d-this.m_minLength;else if(d<this.m_minLength)p=d-this.m_minLength;else{if(!(this.m_maxLength<d))return!0;p=d-this.m_maxLength}const u=-this.m_mass*p;return s.b2Vec2.Scale(u,this.m_u,l),e.SubtractScaled(this.m_invMassA,l),h-=this.m_invIA*s.b2Vec2.Cross(b,l),n.AddScaled(this.m_invMassB,l),o+=this.m_invIB*s.b2Vec2.Cross(A,l),i.positions[this.m_indexA].a=h,i.positions[this.m_indexB].a=o,Math.abs(p)<t.b2_linearSlop}Draw(i){const{pA:h,pB:n,axis:o,pRest:_}=m.Draw,c=this.m_bodyA.GetTransform(),a=this.m_bodyB.GetTransform();if(s.b2Transform.MultiplyVec2(c,this.m_localAnchorA,h),s.b2Transform.MultiplyVec2(a,this.m_localAnchorB,n),s.b2Vec2.Subtract(n,h,o),o.Normalize(),i.DrawSegment(h,n,e.debugColors.joint5),s.b2Vec2.AddScaled(h,this.m_length,o,_),i.DrawPoint(_,8,e.debugColors.joint1),this.m_minLength!==this.m_maxLength){if(this.m_minLength>t.b2_linearSlop){const t=s.b2Vec2.AddScaled(h,this.m_minLength,o,m.Draw.p1);i.DrawPoint(t,4,e.debugColors.joint2)}if(this.m_maxLength<t.b2_maxFloat){const t=s.b2Vec2.AddScaled(h,this.m_maxLength,o,m.Draw.p1);i.DrawPoint(t,4,e.debugColors.joint3)}}}}exports.b2DistanceJoint=n;
},{"../common/b2_common":"xZSi","../common/b2_math":"YmMi","./b2_joint":"PxaZ","../common/b2_draw":"J87F"}],"z4M5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2AreaJoint=exports.b2AreaJointDef=void 0;const t=require("../common/b2_common"),s=require("../common/b2_math"),e=require("./b2_joint"),i=require("./b2_distance_joint");class n extends e.b2JointDef{constructor(){super(e.b2JointType.e_areaJoint),this.bodies=[],this.stiffness=0,this.damping=0}AddBody(t){this.bodies.push(t),1===this.bodies.length?this.bodyA=t:2===this.bodies.length&&(this.bodyB=t)}}exports.b2AreaJointDef=n;class o extends e.b2Joint{constructor(e){var n,o;super(e),this.m_stiffness=0,this.m_damping=0,this.m_impulse=0,this.m_targetArea=0,this.m_joints=[],this.m_delta=new s.b2Vec2,this.m_bodies=e.bodies,this.m_stiffness=null!==(n=e.stiffness)&&void 0!==n?n:0,this.m_damping=null!==(o=e.damping)&&void 0!==o?o:0,this.m_targetLengths=t.b2MakeNumberArray(e.bodies.length),this.m_normals=t.b2MakeArray(e.bodies.length,s.b2Vec2),this.m_deltas=t.b2MakeArray(e.bodies.length,s.b2Vec2);const m=new i.b2DistanceJointDef;m.stiffness=this.m_stiffness,m.damping=this.m_damping,this.m_targetArea=0;for(let t=0;t<this.m_bodies.length;++t){const e=this.m_bodies[t],i=this.m_bodies[(t+1)%this.m_bodies.length],n=e.GetWorldCenter(),o=i.GetWorldCenter();this.m_targetLengths[t]=s.b2Vec2.Distance(n,o),this.m_targetArea+=s.b2Vec2.Cross(n,o),m.Initialize(e,i,n,o),this.m_joints[t]=e.GetWorld().CreateJoint(m)}this.m_targetArea*=.5}GetAnchorA(t){return t}GetAnchorB(t){return t}GetReactionForce(t,s){return s}GetReactionTorque(t){return 0}SetStiffness(t){this.m_stiffness=t;for(const s of this.m_joints)s.SetStiffness(t)}GetStiffness(){return this.m_stiffness}SetDamping(t){this.m_damping=t;for(const s of this.m_joints)s.SetDamping(t)}GetDamping(){return this.m_damping}InitVelocityConstraints(t){for(let e=0;e<this.m_bodies.length;++e){const i=this.m_bodies[(e+this.m_bodies.length-1)%this.m_bodies.length],n=this.m_bodies[(e+1)%this.m_bodies.length],o=t.positions[i.m_islandIndex].c,m=t.positions[n.m_islandIndex].c,r=this.m_deltas[e];s.b2Vec2.Subtract(m,o,r)}if(t.step.warmStarting){this.m_impulse*=t.step.dtRatio;for(let s=0;s<this.m_bodies.length;++s){const e=this.m_bodies[s],i=t.velocities[e.m_islandIndex].v,n=this.m_deltas[s];i.x+=e.m_invMass*n.y*.5*this.m_impulse,i.y+=e.m_invMass*-n.x*.5*this.m_impulse}}else this.m_impulse=0}SolveVelocityConstraints(t){let e=0,i=0;for(let o=0;o<this.m_bodies.length;++o){const n=this.m_bodies[o],m=t.velocities[n.m_islandIndex].v,r=this.m_deltas[o];e+=r.LengthSquared()/n.GetMass(),i+=s.b2Vec2.Cross(m,r)}const n=-2*i/e;this.m_impulse+=n;for(let s=0;s<this.m_bodies.length;++s){const e=this.m_bodies[s],i=t.velocities[e.m_islandIndex].v,o=this.m_deltas[s];i.x+=e.m_invMass*o.y*.5*n,i.y+=e.m_invMass*-o.x*.5*n}}SolvePositionConstraints(e){let i=0,n=0;for(let r=0;r<this.m_bodies.length;++r){const o=this.m_bodies[r],m=this.m_bodies[(r+1)%this.m_bodies.length],h=e.positions[o.m_islandIndex].c,a=e.positions[m.m_islandIndex].c,_=s.b2Vec2.Subtract(a,h,this.m_delta);let d=_.Length();d<t.b2_epsilon&&(d=1),this.m_normals[r].x=_.y/d,this.m_normals[r].y=-_.x/d,i+=d,n+=s.b2Vec2.Cross(h,a)}n*=.5;const o=.5*(this.m_targetArea-n)/i;let m=!0;for(let r=0;r<this.m_bodies.length;++r){const i=this.m_bodies[r],n=e.positions[i.m_islandIndex].c,h=(r+1)%this.m_bodies.length,a=s.b2Vec2.Add(this.m_normals[r],this.m_normals[h],this.m_delta);a.Scale(o);const _=a.LengthSquared();_>t.b2_maxLinearCorrection**2&&a.Scale(t.b2_maxLinearCorrection/Math.sqrt(_)),_>t.b2_linearSlop**2&&(m=!1),n.Add(a)}return m}}exports.b2AreaJoint=o;
},{"../common/b2_common":"xZSi","../common/b2_math":"YmMi","./b2_joint":"PxaZ","./b2_distance_joint":"ZofS"}],"BvwH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2FrictionJoint=exports.b2FrictionJointDef=void 0;const t=require("../common/b2_math"),s=require("./b2_joint"),i={qA:new t.b2Rot,qB:new t.b2Rot,lalcA:new t.b2Vec2,lalcB:new t.b2Vec2,Cdot:new t.b2Vec2,impulse:new t.b2Vec2,oldImpulse:new t.b2Vec2};class e extends s.b2JointDef{constructor(){super(s.b2JointType.e_frictionJoint),this.localAnchorA=new t.b2Vec2,this.localAnchorB=new t.b2Vec2,this.maxForce=0,this.maxTorque=0}Initialize(t,s,i){this.bodyA=t,this.bodyB=s,this.bodyA.GetLocalPoint(i,this.localAnchorA),this.bodyB.GetLocalPoint(i,this.localAnchorB)}}exports.b2FrictionJointDef=e;class n extends s.b2Joint{constructor(s){var i,e;super(s),this.m_localAnchorA=new t.b2Vec2,this.m_localAnchorB=new t.b2Vec2,this.m_linearImpulse=new t.b2Vec2,this.m_angularImpulse=0,this.m_maxForce=0,this.m_maxTorque=0,this.m_indexA=0,this.m_indexB=0,this.m_rA=new t.b2Vec2,this.m_rB=new t.b2Vec2,this.m_localCenterA=new t.b2Vec2,this.m_localCenterB=new t.b2Vec2,this.m_invMassA=0,this.m_invMassB=0,this.m_invIA=0,this.m_invIB=0,this.m_linearMass=new t.b2Mat22,this.m_angularMass=0,this.m_localAnchorA.Copy(s.localAnchorA),this.m_localAnchorB.Copy(s.localAnchorB),this.m_linearImpulse.SetZero(),this.m_maxForce=null!==(i=s.maxForce)&&void 0!==i?i:0,this.m_maxTorque=null!==(e=s.maxTorque)&&void 0!==e?e:0}InitVelocityConstraints(s){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;const e=s.positions[this.m_indexA].a,n=s.velocities[this.m_indexA].v;let o=s.velocities[this.m_indexA].w;const m=s.positions[this.m_indexB].a,l=s.velocities[this.m_indexB].v;let r=s.velocities[this.m_indexB].w;const{qA:a,qB:h,lalcA:c,lalcB:_}=i;a.Set(e),h.Set(m),t.b2Rot.MultiplyVec2(a,t.b2Vec2.Subtract(this.m_localAnchorA,this.m_localCenterA,c),this.m_rA),t.b2Rot.MultiplyVec2(h,t.b2Vec2.Subtract(this.m_localAnchorB,this.m_localCenterB,_),this.m_rB);const u=this.m_invMassA,A=this.m_invMassB,d=this.m_invIA,b=this.m_invIB,x=this.m_linearMass;if(x.ex.x=u+A+d*this.m_rA.y*this.m_rA.y+b*this.m_rB.y*this.m_rB.y,x.ex.y=-d*this.m_rA.x*this.m_rA.y-b*this.m_rB.x*this.m_rB.y,x.ey.x=x.ex.y,x.ey.y=u+A+d*this.m_rA.x*this.m_rA.x+b*this.m_rB.x*this.m_rB.x,x.Inverse(),this.m_angularMass=d+b,this.m_angularMass>0&&(this.m_angularMass=1/this.m_angularMass),s.step.warmStarting){this.m_linearImpulse.Scale(s.step.dtRatio),this.m_angularImpulse*=s.step.dtRatio;const i=this.m_linearImpulse;n.SubtractScaled(u,i),o-=d*(t.b2Vec2.Cross(this.m_rA,i)+this.m_angularImpulse),l.AddScaled(A,i),r+=b*(t.b2Vec2.Cross(this.m_rB,i)+this.m_angularImpulse)}else this.m_linearImpulse.SetZero(),this.m_angularImpulse=0;s.velocities[this.m_indexA].w=o,s.velocities[this.m_indexB].w=r}SolveVelocityConstraints(s){const e=s.velocities[this.m_indexA].v;let n=s.velocities[this.m_indexA].w;const o=s.velocities[this.m_indexB].v;let m=s.velocities[this.m_indexB].w;const l=this.m_invMassA,r=this.m_invMassB,a=this.m_invIA,h=this.m_invIB,c=s.step.dt;{const s=m-n;let i=-this.m_angularMass*s;const e=this.m_angularImpulse,o=c*this.m_maxTorque;this.m_angularImpulse=t.b2Clamp(this.m_angularImpulse+i,-o,o),n-=a*(i=this.m_angularImpulse-e),m+=h*i}{const{Cdot:s,impulse:_,oldImpulse:u}=i;t.b2Vec2.Subtract(t.b2Vec2.AddCrossScalarVec2(o,m,this.m_rB,t.b2Vec2.s_t0),t.b2Vec2.AddCrossScalarVec2(e,n,this.m_rA,t.b2Vec2.s_t1),s),t.b2Mat22.MultiplyVec2(this.m_linearMass,s,_).Negate(),u.Copy(this.m_linearImpulse),this.m_linearImpulse.Add(_);const A=c*this.m_maxForce;this.m_linearImpulse.LengthSquared()>A*A&&(this.m_linearImpulse.Normalize(),this.m_linearImpulse.Scale(A)),t.b2Vec2.Subtract(this.m_linearImpulse,u,_),e.SubtractScaled(l,_),n-=a*t.b2Vec2.Cross(this.m_rA,_),o.AddScaled(r,_),m+=h*t.b2Vec2.Cross(this.m_rB,_)}s.velocities[this.m_indexA].w=n,s.velocities[this.m_indexB].w=m}SolvePositionConstraints(t){return!0}GetAnchorA(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}GetAnchorB(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}GetReactionForce(t,s){return s.x=t*this.m_linearImpulse.x,s.y=t*this.m_linearImpulse.y,s}GetReactionTorque(t){return t*this.m_angularImpulse}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}SetMaxForce(t){this.m_maxForce=t}GetMaxForce(){return this.m_maxForce}SetMaxTorque(t){this.m_maxTorque=t}GetMaxTorque(){return this.m_maxTorque}}exports.b2FrictionJoint=n;
},{"../common/b2_math":"YmMi","./b2_joint":"PxaZ"}],"hOU7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2GearJoint=exports.b2GearJointDef=void 0;const t=require("../common/b2_common"),i=require("../common/b2_math"),s=require("./b2_joint"),e={qA:new i.b2Rot,qB:new i.b2Rot,qC:new i.b2Rot,qD:new i.b2Rot,lalcA:new i.b2Vec2,lalcB:new i.b2Vec2,lalcC:new i.b2Vec2,lalcD:new i.b2Vec2,u:new i.b2Vec2,rA:new i.b2Vec2,rB:new i.b2Vec2,rC:new i.b2Vec2,rD:new i.b2Vec2,JvAC:new i.b2Vec2,JvBD:new i.b2Vec2};class m extends s.b2JointDef{constructor(){super(s.b2JointType.e_gearJoint),this.ratio=1}}exports.b2GearJointDef=m;class _ extends s.b2Joint{constructor(t){var e;let m,_;super(t),this.m_typeA=s.b2JointType.e_unknownJoint,this.m_typeB=s.b2JointType.e_unknownJoint,this.m_localAnchorA=new i.b2Vec2,this.m_localAnchorB=new i.b2Vec2,this.m_localAnchorC=new i.b2Vec2,this.m_localAnchorD=new i.b2Vec2,this.m_localAxisC=new i.b2Vec2,this.m_localAxisD=new i.b2Vec2,this.m_referenceAngleA=0,this.m_referenceAngleB=0,this.m_constant=0,this.m_ratio=0,this.m_impulse=0,this.m_indexA=0,this.m_indexB=0,this.m_indexC=0,this.m_indexD=0,this.m_lcA=new i.b2Vec2,this.m_lcB=new i.b2Vec2,this.m_lcC=new i.b2Vec2,this.m_lcD=new i.b2Vec2,this.m_mA=0,this.m_mB=0,this.m_mC=0,this.m_mD=0,this.m_iA=0,this.m_iB=0,this.m_iC=0,this.m_iD=0,this.m_JvAC=new i.b2Vec2,this.m_JvBD=new i.b2Vec2,this.m_JwA=0,this.m_JwB=0,this.m_JwC=0,this.m_JwD=0,this.m_mass=0,this.m_joint1=t.joint1,this.m_joint2=t.joint2,this.m_typeA=this.m_joint1.GetType(),this.m_typeB=this.m_joint2.GetType(),this.m_bodyC=this.m_joint1.GetBodyA(),this.m_bodyA=this.m_joint1.GetBodyB();const o=this.m_bodyA.m_xf,h=this.m_bodyA.m_sweep.a,c=this.m_bodyC.m_xf,l=this.m_bodyC.m_sweep.a;if(this.m_typeA===s.b2JointType.e_revoluteJoint){const i=t.joint1;this.m_localAnchorC.Copy(i.m_localAnchorA),this.m_localAnchorA.Copy(i.m_localAnchorB),this.m_referenceAngleA=i.m_referenceAngle,this.m_localAxisC.SetZero(),m=h-l-this.m_referenceAngleA}else{const s=t.joint1;this.m_localAnchorC.Copy(s.m_localAnchorA),this.m_localAnchorA.Copy(s.m_localAnchorB),this.m_referenceAngleA=s.m_referenceAngle,this.m_localAxisC.Copy(s.m_localXAxisA);const e=this.m_localAnchorC,_=i.b2Rot.TransposeMultiplyVec2(c.q,i.b2Rot.MultiplyVec2(o.q,this.m_localAnchorA,i.b2Vec2.s_t0).Add(o.p).Subtract(c.p),i.b2Vec2.s_t0);m=i.b2Vec2.Dot(_.Subtract(e),this.m_localAxisC)}this.m_bodyD=this.m_joint2.GetBodyA(),this.m_bodyB=this.m_joint2.GetBodyB();const n=this.m_bodyB.m_xf,r=this.m_bodyB.m_sweep.a,a=this.m_bodyD.m_xf,A=this.m_bodyD.m_sweep.a;if(this.m_typeB===s.b2JointType.e_revoluteJoint){const i=t.joint2;this.m_localAnchorD.Copy(i.m_localAnchorA),this.m_localAnchorB.Copy(i.m_localAnchorB),this.m_referenceAngleB=i.m_referenceAngle,this.m_localAxisD.SetZero(),_=r-A-this.m_referenceAngleB}else{const s=t.joint2;this.m_localAnchorD.Copy(s.m_localAnchorA),this.m_localAnchorB.Copy(s.m_localAnchorB),this.m_referenceAngleB=s.m_referenceAngle,this.m_localAxisD.Copy(s.m_localXAxisA);const e=this.m_localAnchorD,m=i.b2Rot.TransposeMultiplyVec2(a.q,i.b2Rot.MultiplyVec2(n.q,this.m_localAnchorB,i.b2Vec2.s_t0).Add(n.p).Subtract(a.p),i.b2Vec2.s_t0);_=i.b2Vec2.Dot(m.Subtract(e),this.m_localAxisD)}this.m_ratio=null!==(e=t.ratio)&&void 0!==e?e:1,this.m_constant=m+this.m_ratio*_,this.m_impulse=0}InitVelocityConstraints(t){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_indexC=this.m_bodyC.m_islandIndex,this.m_indexD=this.m_bodyD.m_islandIndex,this.m_lcA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_lcB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_lcC.Copy(this.m_bodyC.m_sweep.localCenter),this.m_lcD.Copy(this.m_bodyD.m_sweep.localCenter),this.m_mA=this.m_bodyA.m_invMass,this.m_mB=this.m_bodyB.m_invMass,this.m_mC=this.m_bodyC.m_invMass,this.m_mD=this.m_bodyD.m_invMass,this.m_iA=this.m_bodyA.m_invI,this.m_iB=this.m_bodyB.m_invI,this.m_iC=this.m_bodyC.m_invI,this.m_iD=this.m_bodyD.m_invI;const m=t.positions[this.m_indexA].a,_=t.velocities[this.m_indexA].v;let o=t.velocities[this.m_indexA].w;const h=t.positions[this.m_indexB].a,c=t.velocities[this.m_indexB].v;let l=t.velocities[this.m_indexB].w;const n=t.positions[this.m_indexC].a,r=t.velocities[this.m_indexC].v;let a=t.velocities[this.m_indexC].w;const A=t.positions[this.m_indexD].a,b=t.velocities[this.m_indexD].v;let d=t.velocities[this.m_indexD].w;const{qA:p,qB:C,qC:B,qD:y}=e;if(p.Set(m),C.Set(h),B.Set(n),y.Set(A),this.m_mass=0,this.m_typeA===s.b2JointType.e_revoluteJoint)this.m_JvAC.SetZero(),this.m_JwA=1,this.m_JwC=1,this.m_mass+=this.m_iA+this.m_iC;else{const{u:t,rC:s,rA:m,lalcA:_,lalcC:o}=e;i.b2Rot.MultiplyVec2(B,this.m_localAxisC,t),i.b2Rot.MultiplyVec2(B,i.b2Vec2.Subtract(this.m_localAnchorC,this.m_lcC,o),s),i.b2Rot.MultiplyVec2(p,i.b2Vec2.Subtract(this.m_localAnchorA,this.m_lcA,_),m),this.m_JvAC.Copy(t),this.m_JwC=i.b2Vec2.Cross(s,t),this.m_JwA=i.b2Vec2.Cross(m,t),this.m_mass+=this.m_mC+this.m_mA+this.m_iC*this.m_JwC*this.m_JwC+this.m_iA*this.m_JwA*this.m_JwA}if(this.m_typeB===s.b2JointType.e_revoluteJoint)this.m_JvBD.SetZero(),this.m_JwB=this.m_ratio,this.m_JwD=this.m_ratio,this.m_mass+=this.m_ratio*this.m_ratio*(this.m_iB+this.m_iD);else{const{u:t,rB:s,rD:m,lalcB:_,lalcD:o}=e;i.b2Rot.MultiplyVec2(y,this.m_localAxisD,t),i.b2Rot.MultiplyVec2(y,i.b2Vec2.Subtract(this.m_localAnchorD,this.m_lcD,o),m),i.b2Rot.MultiplyVec2(C,i.b2Vec2.Subtract(this.m_localAnchorB,this.m_lcB,_),s),i.b2Vec2.Scale(this.m_ratio,t,this.m_JvBD),this.m_JwD=this.m_ratio*i.b2Vec2.Cross(m,t),this.m_JwB=this.m_ratio*i.b2Vec2.Cross(s,t),this.m_mass+=this.m_ratio*this.m_ratio*(this.m_mD+this.m_mB)+this.m_iD*this.m_JwD*this.m_JwD+this.m_iB*this.m_JwB*this.m_JwB}this.m_mass=this.m_mass>0?1/this.m_mass:0,t.step.warmStarting?(_.AddScaled(this.m_mA*this.m_impulse,this.m_JvAC),o+=this.m_iA*this.m_impulse*this.m_JwA,c.AddScaled(this.m_mB*this.m_impulse,this.m_JvBD),l+=this.m_iB*this.m_impulse*this.m_JwB,r.SubtractScaled(this.m_mC*this.m_impulse,this.m_JvAC),a-=this.m_iC*this.m_impulse*this.m_JwC,b.SubtractScaled(this.m_mD*this.m_impulse,this.m_JvBD),d-=this.m_iD*this.m_impulse*this.m_JwD):this.m_impulse=0,t.velocities[this.m_indexA].w=o,t.velocities[this.m_indexB].w=l,t.velocities[this.m_indexC].w=a,t.velocities[this.m_indexD].w=d}SolveVelocityConstraints(t){const s=t.velocities[this.m_indexA].v;let e=t.velocities[this.m_indexA].w;const m=t.velocities[this.m_indexB].v;let _=t.velocities[this.m_indexB].w;const o=t.velocities[this.m_indexC].v;let h=t.velocities[this.m_indexC].w;const c=t.velocities[this.m_indexD].v;let l=t.velocities[this.m_indexD].w,n=i.b2Vec2.Dot(this.m_JvAC,i.b2Vec2.Subtract(s,o,i.b2Vec2.s_t0))+i.b2Vec2.Dot(this.m_JvBD,i.b2Vec2.Subtract(m,c,i.b2Vec2.s_t0));n+=this.m_JwA*e-this.m_JwC*h+(this.m_JwB*_-this.m_JwD*l);const r=-this.m_mass*n;this.m_impulse+=r,s.AddScaled(this.m_mA*r,this.m_JvAC),e+=this.m_iA*r*this.m_JwA,m.AddScaled(this.m_mB*r,this.m_JvBD),_+=this.m_iB*r*this.m_JwB,o.SubtractScaled(this.m_mC*r,this.m_JvAC),h-=this.m_iC*r*this.m_JwC,c.SubtractScaled(this.m_mD*r,this.m_JvBD),l-=this.m_iD*r*this.m_JwD,t.velocities[this.m_indexA].w=e,t.velocities[this.m_indexB].w=_,t.velocities[this.m_indexC].w=h,t.velocities[this.m_indexD].w=l}SolvePositionConstraints(m){const _=m.positions[this.m_indexA].c;let o=m.positions[this.m_indexA].a;const h=m.positions[this.m_indexB].c;let c=m.positions[this.m_indexB].a;const l=m.positions[this.m_indexC].c;let n=m.positions[this.m_indexC].a;const r=m.positions[this.m_indexD].c;let a=m.positions[this.m_indexD].a;const{qA:A,qB:b,qC:d,qD:p,JvAC:C,JvBD:B}=e;A.Set(o),b.Set(c),d.Set(n),p.Set(a);let y,u,D,w,V,J,x=0;if(this.m_typeA===s.b2JointType.e_revoluteJoint)C.SetZero(),D=1,V=1,x+=this.m_iA+this.m_iC,y=o-n-this.m_referenceAngleA;else{const{u:t,rC:s,rA:m,lalcC:o,lalcA:h}=e;i.b2Rot.MultiplyVec2(d,this.m_localAxisC,t),i.b2Rot.MultiplyVec2(d,i.b2Vec2.Subtract(this.m_localAnchorC,this.m_lcC,o),s),i.b2Rot.MultiplyVec2(A,i.b2Vec2.Subtract(this.m_localAnchorA,this.m_lcA,h),m),C.Copy(t),V=i.b2Vec2.Cross(s,t),D=i.b2Vec2.Cross(m,t),x+=this.m_mC+this.m_mA+this.m_iC*V*V+this.m_iA*D*D;const c=o,n=i.b2Rot.TransposeMultiplyVec2(d,i.b2Vec2.Add(m,_,i.b2Vec2.s_t0).Subtract(l),i.b2Vec2.s_t0);y=i.b2Vec2.Dot(i.b2Vec2.Subtract(n,c,i.b2Vec2.s_t0),this.m_localAxisC)}if(this.m_typeB===s.b2JointType.e_revoluteJoint)B.SetZero(),w=this.m_ratio,J=this.m_ratio,x+=this.m_ratio*this.m_ratio*(this.m_iB+this.m_iD),u=c-a-this.m_referenceAngleB;else{const{u:t,rD:s,rB:m,lalcD:_,lalcB:o}=e;i.b2Rot.MultiplyVec2(p,this.m_localAxisD,t),i.b2Rot.MultiplyVec2(p,i.b2Vec2.Subtract(this.m_localAnchorD,this.m_lcD,_),s),i.b2Rot.MultiplyVec2(b,i.b2Vec2.Subtract(this.m_localAnchorB,this.m_lcB,o),m),i.b2Vec2.Scale(this.m_ratio,t,B),J=this.m_ratio*i.b2Vec2.Cross(s,t),w=this.m_ratio*i.b2Vec2.Cross(m,t),x+=this.m_ratio*this.m_ratio*(this.m_mD+this.m_mB)+this.m_iD*J*J+this.m_iB*w*w;const c=_,l=i.b2Rot.TransposeMultiplyVec2(p,i.b2Vec2.Add(m,h,i.b2Vec2.s_t0).Subtract(r),i.b2Vec2.s_t0);u=i.b2Vec2.Dot(l.Subtract(c),this.m_localAxisD)}const v=y+this.m_ratio*u-this.m_constant;let S=0;return x>0&&(S=-v/x),_.AddScaled(this.m_mA*S,C),o+=this.m_iA*S*D,h.AddScaled(this.m_mB*S,B),c+=this.m_iB*S*w,l.SubtractScaled(this.m_mC*S,C),n-=this.m_iC*S*V,r.SubtractScaled(this.m_mD*S,B),a-=this.m_iD*S*J,m.positions[this.m_indexA].a=o,m.positions[this.m_indexB].a=c,m.positions[this.m_indexC].a=n,m.positions[this.m_indexD].a=a,0<t.b2_linearSlop}GetAnchorA(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}GetAnchorB(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}GetReactionForce(t,s){return i.b2Vec2.Scale(t*this.m_impulse,this.m_JvAC,s)}GetReactionTorque(t){return t*this.m_impulse*this.m_JwA}GetJoint1(){return this.m_joint1}GetJoint2(){return this.m_joint2}GetRatio(){return this.m_ratio}SetRatio(t){this.m_ratio=t}}exports.b2GearJoint=_;
},{"../common/b2_common":"xZSi","../common/b2_math":"YmMi","./b2_joint":"PxaZ"}],"Wvkp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2MotorJoint=exports.b2MotorJointDef=void 0;const t=require("../common/b2_math"),e=require("./b2_joint"),s={qA:new t.b2Rot,qB:new t.b2Rot,K:new t.b2Mat22,Cdot:new t.b2Vec2,impulse:new t.b2Vec2,oldImpulse:new t.b2Vec2};class i extends e.b2JointDef{constructor(){super(e.b2JointType.e_motorJoint),this.linearOffset=new t.b2Vec2,this.angularOffset=0,this.maxForce=1,this.maxTorque=1,this.correctionFactor=.3}Initialize(t,e){this.bodyA=t,this.bodyB=e,this.bodyA.GetLocalPoint(e.GetPosition(),this.linearOffset);const s=t.GetAngle(),i=e.GetAngle();this.angularOffset=i-s}}exports.b2MotorJointDef=i;class n extends e.b2Joint{constructor(e){var s,i,n,r,o;super(e),this.m_linearOffset=new t.b2Vec2,this.m_linearImpulse=new t.b2Vec2,this.m_angularImpulse=0,this.m_indexA=0,this.m_indexB=0,this.m_rA=new t.b2Vec2,this.m_rB=new t.b2Vec2,this.m_localCenterA=new t.b2Vec2,this.m_localCenterB=new t.b2Vec2,this.m_linearError=new t.b2Vec2,this.m_angularError=0,this.m_invMassA=0,this.m_invMassB=0,this.m_invIA=0,this.m_invIB=0,this.m_linearMass=new t.b2Mat22,this.m_angularMass=0,this.m_linearOffset.Copy(null!==(s=e.linearOffset)&&void 0!==s?s:t.b2Vec2.ZERO),this.m_angularOffset=null!==(i=e.angularOffset)&&void 0!==i?i:0,this.m_linearImpulse.SetZero(),this.m_maxForce=null!==(n=e.maxForce)&&void 0!==n?n:1,this.m_maxTorque=null!==(r=e.maxTorque)&&void 0!==r?r:1,this.m_correctionFactor=null!==(o=e.correctionFactor)&&void 0!==o?o:.3}GetAnchorA(t){const e=this.m_bodyA.GetPosition();return t.x=e.x,t.y=e.y,t}GetAnchorB(t){const e=this.m_bodyB.GetPosition();return t.x=e.x,t.y=e.y,t}GetReactionForce(e,s){return t.b2Vec2.Scale(e,this.m_linearImpulse,s)}GetReactionTorque(t){return t*this.m_angularImpulse}SetLinearOffset(e){t.b2Vec2.Equals(e,this.m_linearOffset)||(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_linearOffset.Copy(e))}GetLinearOffset(){return this.m_linearOffset}SetAngularOffset(t){t!==this.m_angularOffset&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_angularOffset=t)}GetAngularOffset(){return this.m_angularOffset}SetMaxForce(t){this.m_maxForce=t}GetMaxForce(){return this.m_maxForce}SetMaxTorque(t){this.m_maxTorque=t}GetMaxTorque(){return this.m_maxTorque}GetCorrectionFactor(){return this.m_correctionFactor}SetCorrectionFactor(t){this.m_correctionFactor=t}InitVelocityConstraints(e){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;const i=e.positions[this.m_indexA].c,n=e.positions[this.m_indexA].a,r=e.velocities[this.m_indexA].v;let o=e.velocities[this.m_indexA].w;const a=e.positions[this.m_indexB].c,m=e.positions[this.m_indexB].a,l=e.velocities[this.m_indexB].v;let _=e.velocities[this.m_indexB].w;const{qA:c,qB:h}=s;c.Set(n),h.Set(m);const u=t.b2Rot.MultiplyVec2(c,t.b2Vec2.Subtract(this.m_linearOffset,this.m_localCenterA,t.b2Vec2.s_t0),this.m_rA),d=t.b2Rot.MultiplyVec2(h,t.b2Vec2.Negate(this.m_localCenterB,t.b2Vec2.s_t0),this.m_rB),b=this.m_invMassA,x=this.m_invMassB,p=this.m_invIA,A=this.m_invIB,v=this.m_linearMass;if(v.ex.x=b+x+p*u.y*u.y+A*d.y*d.y,v.ex.y=-p*u.x*u.y-A*d.x*d.y,v.ey.x=v.ex.y,v.ey.y=b+x+p*u.x*u.x+A*d.x*d.x,v.Inverse(),this.m_angularMass=p+A,this.m_angularMass>0&&(this.m_angularMass=1/this.m_angularMass),t.b2Vec2.Subtract(t.b2Vec2.Add(a,d,t.b2Vec2.s_t0),t.b2Vec2.Add(i,u,t.b2Vec2.s_t1),this.m_linearError),this.m_angularError=m-n-this.m_angularOffset,e.step.warmStarting){this.m_linearImpulse.Scale(e.step.dtRatio),this.m_angularImpulse*=e.step.dtRatio;const s=this.m_linearImpulse;r.SubtractScaled(b,s),o-=p*(t.b2Vec2.Cross(u,s)+this.m_angularImpulse),l.AddScaled(x,s),_+=A*(t.b2Vec2.Cross(d,s)+this.m_angularImpulse)}else this.m_linearImpulse.SetZero(),this.m_angularImpulse=0;e.velocities[this.m_indexA].w=o,e.velocities[this.m_indexB].w=_}SolveVelocityConstraints(e){const i=e.velocities[this.m_indexA].v;let n=e.velocities[this.m_indexA].w;const r=e.velocities[this.m_indexB].v;let o=e.velocities[this.m_indexB].w;const a=this.m_invMassA,m=this.m_invMassB,l=this.m_invIA,_=this.m_invIB,c=e.step.dt,h=e.step.inv_dt;{const e=o-n+h*this.m_correctionFactor*this.m_angularError;let s=-this.m_angularMass*e;const i=this.m_angularImpulse,r=c*this.m_maxTorque;this.m_angularImpulse=t.b2Clamp(this.m_angularImpulse+s,-r,r),n-=l*(s=this.m_angularImpulse-i),o+=_*s}{const{impulse:e,oldImpulse:u,Cdot:d}=s;t.b2Vec2.AddScaled(t.b2Vec2.Subtract(t.b2Vec2.AddCrossScalarVec2(r,o,this.m_rB,t.b2Vec2.s_t0),t.b2Vec2.AddCrossScalarVec2(i,n,this.m_rA,t.b2Vec2.s_t1),t.b2Vec2.s_t2),h*this.m_correctionFactor,this.m_linearError,d),t.b2Mat22.MultiplyVec2(this.m_linearMass,d,e).Negate(),u.Copy(this.m_linearImpulse),this.m_linearImpulse.Add(e);const b=c*this.m_maxForce;this.m_linearImpulse.LengthSquared()>b*b&&(this.m_linearImpulse.Normalize(),this.m_linearImpulse.Scale(b)),t.b2Vec2.Subtract(this.m_linearImpulse,u,e),i.SubtractScaled(a,e),n-=l*t.b2Vec2.Cross(this.m_rA,e),r.AddScaled(m,e),o+=_*t.b2Vec2.Cross(this.m_rB,e)}e.velocities[this.m_indexA].w=n,e.velocities[this.m_indexB].w=o}SolvePositionConstraints(t){return!0}}exports.b2MotorJoint=n;
},{"../common/b2_math":"YmMi","./b2_joint":"PxaZ"}],"lM2e":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2MouseJoint=exports.b2MouseJointDef=void 0;const t=require("../common/b2_draw"),s=require("../common/b2_math"),e=require("./b2_joint"),i={qB:new s.b2Rot,lalcB:new s.b2Vec2,Cdot:new s.b2Vec2,impulse:new s.b2Vec2,oldImpulse:new s.b2Vec2,pA:new s.b2Vec2,pB:new s.b2Vec2};class m extends e.b2JointDef{constructor(){super(e.b2JointType.e_mouseJoint),this.target=new s.b2Vec2,this.maxForce=0,this.stiffness=0,this.damping=0}}exports.b2MouseJointDef=m;class n extends e.b2Joint{constructor(t){var e,i,m,n;super(t),this.m_localAnchorB=new s.b2Vec2,this.m_targetA=new s.b2Vec2,this.m_stiffness=0,this.m_damping=0,this.m_beta=0,this.m_impulse=new s.b2Vec2,this.m_maxForce=0,this.m_gamma=0,this.m_indexB=0,this.m_rB=new s.b2Vec2,this.m_localCenterB=new s.b2Vec2,this.m_invMassB=0,this.m_invIB=0,this.m_mass=new s.b2Mat22,this.m_C=new s.b2Vec2,this.m_targetA.Copy(null!==(e=t.target)&&void 0!==e?e:s.b2Vec2.ZERO),s.b2Transform.TransposeMultiplyVec2(this.m_bodyB.GetTransform(),this.m_targetA,this.m_localAnchorB),this.m_maxForce=null!==(i=t.maxForce)&&void 0!==i?i:0,this.m_stiffness=null!==(m=t.stiffness)&&void 0!==m?m:0,this.m_damping=null!==(n=t.damping)&&void 0!==n?n:0,this.m_beta=0,this.m_gamma=0}SetTarget(t){s.b2Vec2.Equals(t,this.m_targetA)||(this.m_bodyB.SetAwake(!0),this.m_targetA.Copy(t))}GetTarget(){return this.m_targetA}SetMaxForce(t){this.m_maxForce=t}GetMaxForce(){return this.m_maxForce}SetStiffness(t){this.m_stiffness=t}GetStiffness(){return this.m_stiffness}SetDamping(t){this.m_damping=t}GetDamping(){return this.m_damping}InitVelocityConstraints(t){this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIB=this.m_bodyB.m_invI;const e=t.positions[this.m_indexB].c,m=t.positions[this.m_indexB].a,n=t.velocities[this.m_indexB].v;let o=t.velocities[this.m_indexB].w;const{qB:h,lalcB:r}=i;h.Set(m);const a=this.m_damping,_=this.m_stiffness,c=t.step.dt;this.m_gamma=c*(a+c*_),0!==this.m_gamma&&(this.m_gamma=1/this.m_gamma),this.m_beta=c*_*this.m_gamma,s.b2Rot.MultiplyVec2(h,s.b2Vec2.Subtract(this.m_localAnchorB,this.m_localCenterB,r),this.m_rB);const l=this.m_mass;l.ex.x=this.m_invMassB+this.m_invIB*this.m_rB.y*this.m_rB.y+this.m_gamma,l.ex.y=-this.m_invIB*this.m_rB.x*this.m_rB.y,l.ey.x=l.ex.y,l.ey.y=this.m_invMassB+this.m_invIB*this.m_rB.x*this.m_rB.x+this.m_gamma,l.Inverse(),s.b2Vec2.Add(e,this.m_rB,this.m_C).Subtract(this.m_targetA),this.m_C.Scale(this.m_beta),o*=.98,t.step.warmStarting?(this.m_impulse.Scale(t.step.dtRatio),n.AddScaled(this.m_invMassB,this.m_impulse),o+=this.m_invIB*s.b2Vec2.Cross(this.m_rB,this.m_impulse)):this.m_impulse.SetZero(),t.velocities[this.m_indexB].w=o}SolveVelocityConstraints(t){const e=t.velocities[this.m_indexB].v;let m=t.velocities[this.m_indexB].w;const{Cdot:n,impulse:o,oldImpulse:h}=i;s.b2Vec2.AddCrossScalarVec2(e,m,this.m_rB,n),s.b2Mat22.MultiplyVec2(this.m_mass,s.b2Vec2.Add(n,this.m_C,o).AddScaled(this.m_gamma,this.m_impulse).Negate(),o),h.Copy(this.m_impulse),this.m_impulse.Add(o);const r=t.step.dt*this.m_maxForce;this.m_impulse.LengthSquared()>r*r&&this.m_impulse.Scale(r/this.m_impulse.Length()),s.b2Vec2.Subtract(this.m_impulse,h,o),e.AddScaled(this.m_invMassB,o),m+=this.m_invIB*s.b2Vec2.Cross(this.m_rB,o),t.velocities[this.m_indexB].w=m}SolvePositionConstraints(t){return!0}GetAnchorA(t){return t.x=this.m_targetA.x,t.y=this.m_targetA.y,t}GetAnchorB(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}GetReactionForce(t,e){return s.b2Vec2.Scale(t,this.m_impulse,e)}GetReactionTorque(t){return 0}ShiftOrigin(t){this.m_targetA.Subtract(t)}Draw(s){const e=this.GetAnchorA(i.pA),m=this.GetAnchorB(i.pB);s.DrawPoint(e,4,t.debugColors.joint7),s.DrawPoint(m,4,t.debugColors.joint7),s.DrawSegment(e,m,t.debugColors.joint8)}}exports.b2MouseJoint=n;
},{"../common/b2_draw":"J87F","../common/b2_math":"YmMi","./b2_joint":"PxaZ"}],"TjHH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2PrismaticJoint=exports.b2PrismaticJointDef=void 0;const t=require("../common/b2_common"),e=require("../common/b2_draw"),s=require("../common/b2_math"),i=require("./b2_joint"),o={K3:new s.b2Mat33,K2:new s.b2Mat22,qA:new s.b2Rot,qB:new s.b2Rot,lalcA:new s.b2Vec2,lalcB:new s.b2Vec2,rA:new s.b2Vec2,rB:new s.b2Vec2,GetJointTranslation:{pA:new s.b2Vec2,pB:new s.b2Vec2,d:new s.b2Vec2,axis:new s.b2Vec2},InitVelocityConstraints:{d:new s.b2Vec2,P:new s.b2Vec2},SolveVelocityConstraints:{P:new s.b2Vec2,df:new s.b2Vec2},SolvePositionConstraints:{d:new s.b2Vec2,impulse:new s.b2Vec3,impulse1:new s.b2Vec2,P:new s.b2Vec2},Draw:{p1:new s.b2Vec2,p2:new s.b2Vec2,pA:new s.b2Vec2,pB:new s.b2Vec2,axis:new s.b2Vec2,lower:new s.b2Vec2,upper:new s.b2Vec2,perp:new s.b2Vec2}};class l extends i.b2JointDef{constructor(){super(i.b2JointType.e_prismaticJoint),this.localAnchorA=new s.b2Vec2,this.localAnchorB=new s.b2Vec2,this.localAxisA=new s.b2Vec2(1,0),this.referenceAngle=0,this.enableLimit=!1,this.lowerTranslation=0,this.upperTranslation=0,this.enableMotor=!1,this.maxMotorForce=0,this.motorSpeed=0}Initialize(t,e,s,i){this.bodyA=t,this.bodyB=e,this.bodyA.GetLocalPoint(s,this.localAnchorA),this.bodyB.GetLocalPoint(s,this.localAnchorB),this.bodyA.GetLocalVector(i,this.localAxisA),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()}}exports.b2PrismaticJointDef=l;class m extends i.b2Joint{constructor(t){var e,i,o,l,m,n,a,c,r,h;super(t),this.m_localAnchorA=new s.b2Vec2,this.m_localAnchorB=new s.b2Vec2,this.m_localXAxisA=new s.b2Vec2,this.m_localYAxisA=new s.b2Vec2,this.m_referenceAngle=0,this.m_impulse=new s.b2Vec2,this.m_motorImpulse=0,this.m_lowerImpulse=0,this.m_upperImpulse=0,this.m_lowerTranslation=0,this.m_upperTranslation=0,this.m_maxMotorForce=0,this.m_motorSpeed=0,this.m_enableLimit=!1,this.m_enableMotor=!1,this.m_indexA=0,this.m_indexB=0,this.m_localCenterA=new s.b2Vec2,this.m_localCenterB=new s.b2Vec2,this.m_invMassA=0,this.m_invMassB=0,this.m_invIA=0,this.m_invIB=0,this.m_axis=new s.b2Vec2,this.m_perp=new s.b2Vec2,this.m_s1=0,this.m_s2=0,this.m_a1=0,this.m_a2=0,this.m_K=new s.b2Mat22,this.m_translation=0,this.m_axialMass=0,this.m_localAnchorA.Copy(null!==(e=t.localAnchorA)&&void 0!==e?e:s.b2Vec2.ZERO),this.m_localAnchorB.Copy(null!==(i=t.localAnchorB)&&void 0!==i?i:s.b2Vec2.ZERO),s.b2Vec2.Normalize(null!==(o=t.localAxisA)&&void 0!==o?o:s.b2Vec2.UNITX,this.m_localXAxisA),s.b2Vec2.CrossOneVec2(this.m_localXAxisA,this.m_localYAxisA),this.m_referenceAngle=null!==(l=t.referenceAngle)&&void 0!==l?l:0,this.m_lowerTranslation=null!==(m=t.lowerTranslation)&&void 0!==m?m:0,this.m_upperTranslation=null!==(n=t.upperTranslation)&&void 0!==n?n:0,this.m_maxMotorForce=null!==(a=t.maxMotorForce)&&void 0!==a?a:0,this.m_motorSpeed=null!==(c=t.motorSpeed)&&void 0!==c?c:0,this.m_enableLimit=null!==(r=t.enableLimit)&&void 0!==r&&r,this.m_enableMotor=null!==(h=t.enableMotor)&&void 0!==h&&h}InitVelocityConstraints(t){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;const e=t.positions[this.m_indexA].c,i=t.positions[this.m_indexA].a,l=t.velocities[this.m_indexA].v;let m=t.velocities[this.m_indexA].w;const n=t.positions[this.m_indexB].c,a=t.positions[this.m_indexB].a,c=t.velocities[this.m_indexB].v;let r=t.velocities[this.m_indexB].w;const{qA:h,qB:_,lalcA:b,lalcB:p,rA:d,rB:A}=o;h.Set(i),_.Set(a),s.b2Rot.MultiplyVec2(h,s.b2Vec2.Subtract(this.m_localAnchorA,this.m_localCenterA,b),d),s.b2Rot.MultiplyVec2(_,s.b2Vec2.Subtract(this.m_localAnchorB,this.m_localCenterB,p),A);const u=s.b2Vec2.Subtract(n,e,o.InitVelocityConstraints.d).Add(A).Subtract(d),V=this.m_invMassA,x=this.m_invMassB,S=this.m_invIA,w=this.m_invIB;s.b2Rot.MultiplyVec2(h,this.m_localXAxisA,this.m_axis),this.m_a1=s.b2Vec2.Cross(s.b2Vec2.Add(u,d,s.b2Vec2.s_t0),this.m_axis),this.m_a2=s.b2Vec2.Cross(A,this.m_axis),this.m_axialMass=V+x+S*this.m_a1*this.m_a1+w*this.m_a2*this.m_a2,this.m_axialMass>0&&(this.m_axialMass=1/this.m_axialMass),s.b2Rot.MultiplyVec2(h,this.m_localYAxisA,this.m_perp),this.m_s1=s.b2Vec2.Cross(s.b2Vec2.Add(u,d,s.b2Vec2.s_t0),this.m_perp),this.m_s2=s.b2Vec2.Cross(A,this.m_perp);const y=V+x+S*this.m_s1*this.m_s1+w*this.m_s2*this.m_s2,M=S*this.m_s1+w*this.m_s2;let B=S+w;if(0===B&&(B=1),this.m_K.ex.Set(y,M),this.m_K.ey.Set(M,B),this.m_enableLimit?this.m_translation=s.b2Vec2.Dot(this.m_axis,u):(this.m_lowerImpulse=0,this.m_upperImpulse=0),this.m_enableMotor||(this.m_motorImpulse=0),t.step.warmStarting){this.m_impulse.Scale(t.step.dtRatio),this.m_motorImpulse*=t.step.dtRatio,this.m_lowerImpulse*=t.step.dtRatio,this.m_upperImpulse*=t.step.dtRatio;const e=this.m_motorImpulse+this.m_lowerImpulse-this.m_upperImpulse,{P:i}=o.InitVelocityConstraints;s.b2Vec2.Scale(this.m_impulse.x,this.m_perp,i).AddScaled(e,this.m_axis);const n=this.m_impulse.x*this.m_s1+this.m_impulse.y+e*this.m_a1,a=this.m_impulse.x*this.m_s2+this.m_impulse.y+e*this.m_a2;l.SubtractScaled(V,i),m-=S*n,c.AddScaled(x,i),r+=w*a}else this.m_impulse.SetZero(),this.m_motorImpulse=0,this.m_lowerImpulse=0,this.m_upperImpulse=0;t.velocities[this.m_indexA].w=m,t.velocities[this.m_indexB].w=r}SolveVelocityConstraints(t){const e=t.velocities[this.m_indexA].v;let i=t.velocities[this.m_indexA].w;const l=t.velocities[this.m_indexB].v;let m=t.velocities[this.m_indexB].w;const n=this.m_invMassA,a=this.m_invMassB,c=this.m_invIA,r=this.m_invIB,{P:h,df:_}=o.SolveVelocityConstraints;if(this.m_enableMotor){const o=s.b2Vec2.Dot(this.m_axis,s.b2Vec2.Subtract(l,e,s.b2Vec2.s_t0))+this.m_a2*m-this.m_a1*i;let _=this.m_axialMass*(this.m_motorSpeed-o);const b=this.m_motorImpulse,p=t.step.dt*this.m_maxMotorForce;this.m_motorImpulse=s.b2Clamp(this.m_motorImpulse+_,-p,p),_=this.m_motorImpulse-b,s.b2Vec2.Scale(_,this.m_axis,h);const d=_*this.m_a1,A=_*this.m_a2;e.SubtractScaled(n,h),i-=c*d,l.AddScaled(a,h),m+=r*A}if(this.m_enableLimit){{const o=this.m_translation-this.m_lowerTranslation,_=s.b2Vec2.Dot(this.m_axis,s.b2Vec2.Subtract(l,e,s.b2Vec2.s_t0))+this.m_a2*m-this.m_a1*i;let b=-this.m_axialMass*(_+Math.max(o,0)*t.step.inv_dt);const p=this.m_lowerImpulse;this.m_lowerImpulse=Math.max(this.m_lowerImpulse+b,0),b=this.m_lowerImpulse-p,s.b2Vec2.Scale(b,this.m_axis,h);const d=b*this.m_a1,A=b*this.m_a2;e.SubtractScaled(n,h),i-=c*d,l.AddScaled(a,h),m+=r*A}{const o=this.m_upperTranslation-this.m_translation,_=s.b2Vec2.Dot(this.m_axis,s.b2Vec2.Subtract(e,l,s.b2Vec2.s_t0))+this.m_a1*i-this.m_a2*m;let b=-this.m_axialMass*(_+Math.max(o,0)*t.step.inv_dt);const p=this.m_upperImpulse;this.m_upperImpulse=Math.max(this.m_upperImpulse+b,0),b=this.m_upperImpulse-p,s.b2Vec2.Scale(b,this.m_axis,h);const d=b*this.m_a1,A=b*this.m_a2;e.AddScaled(n,h),i+=c*d,l.SubtractScaled(a,h),m-=r*A}}{const t=s.b2Vec2.Dot(this.m_perp,s.b2Vec2.Subtract(l,e,s.b2Vec2.s_t0))+this.m_s2*m-this.m_s1*i,o=m-i;this.m_K.Solve(-t,-o,_),this.m_impulse.Add(_),s.b2Vec2.Scale(_.x,this.m_perp,h);const b=_.x*this.m_s1+_.y,p=_.x*this.m_s2+_.y;e.SubtractScaled(n,h),i-=c*b,l.AddScaled(a,h),m+=r*p}t.velocities[this.m_indexA].w=i,t.velocities[this.m_indexB].w=m}SolvePositionConstraints(e){const i=e.positions[this.m_indexA].c;let l=e.positions[this.m_indexA].a;const m=e.positions[this.m_indexB].c;let n=e.positions[this.m_indexB].a;const{qA:a,qB:c,lalcA:r,lalcB:h,rA:_,rB:b}=o;a.Set(l),c.Set(n);const p=this.m_invMassA,d=this.m_invMassB,A=this.m_invIA,u=this.m_invIB,{d:V,impulse:x,P:S}=o.SolvePositionConstraints;s.b2Rot.MultiplyVec2(a,s.b2Vec2.Subtract(this.m_localAnchorA,this.m_localCenterA,r),_),s.b2Rot.MultiplyVec2(c,s.b2Vec2.Subtract(this.m_localAnchorB,this.m_localCenterB,h),b),s.b2Vec2.Add(m,b,V).Subtract(i).Subtract(_);const w=s.b2Rot.MultiplyVec2(a,this.m_localXAxisA,this.m_axis),y=s.b2Vec2.Cross(s.b2Vec2.Add(V,_,s.b2Vec2.s_t0),w),M=s.b2Vec2.Cross(b,w),B=s.b2Rot.MultiplyVec2(a,this.m_localYAxisA,this.m_perp),v=s.b2Vec2.Cross(s.b2Vec2.Add(V,_,s.b2Vec2.s_t0),B),I=s.b2Vec2.Cross(b,B),C=s.b2Vec2.Dot(B,V),T=n-l-this.m_referenceAngle;let G=Math.abs(C);const f=Math.abs(T);let g=!1,D=0;if(this.m_enableLimit){const e=s.b2Vec2.Dot(w,V);Math.abs(this.m_upperTranslation-this.m_lowerTranslation)<2*t.b2_linearSlop?(D=e,G=Math.max(G,Math.abs(e)),g=!0):e<=this.m_lowerTranslation?(D=Math.min(e-this.m_lowerTranslation,0),G=Math.max(G,this.m_lowerTranslation-e),g=!0):e>=this.m_upperTranslation&&(D=Math.max(e-this.m_upperTranslation,0),G=Math.max(G,e-this.m_upperTranslation),g=!0)}if(g){const t=p+d+A*v*v+u*I*I,e=A*v+u*I,s=A*v*y+u*I*M;let i=A+u;0===i&&(i=1);const l=A*y+u*M,m=p+d+A*y*y+u*M*M,n=o.K3;n.ex.Set(t,e,s),n.ey.Set(e,i,l),n.ez.Set(s,l,m),n.Solve33(-C,-T,-D,x)}else{const t=p+d+A*v*v+u*I*I,e=A*v+u*I;let s=A+u;0===s&&(s=1);const i=o.K2;i.ex.Set(t,e),i.ey.Set(e,s);const l=i.Solve(-C,-T,o.SolvePositionConstraints.impulse1);x.x=l.x,x.y=l.y,x.z=0}s.b2Vec2.Scale(x.x,B,S).AddScaled(x.z,w);const R=x.x*v+x.y+x.z*y,L=x.x*I+x.y+x.z*M;return i.SubtractScaled(p,S),l-=A*R,m.AddScaled(d,S),n+=u*L,e.positions[this.m_indexA].a=l,e.positions[this.m_indexB].a=n,G<=t.b2_linearSlop&&f<=t.b2_angularSlop}GetAnchorA(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}GetAnchorB(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}GetReactionForce(t,e){const s=this.m_motorImpulse+this.m_lowerImpulse-this.m_upperImpulse;return e.x=t*(this.m_impulse.x*this.m_perp.x+s*this.m_axis.x),e.y=t*(this.m_impulse.x*this.m_perp.y+s*this.m_axis.y),e}GetReactionTorque(t){return t*this.m_impulse.y}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}GetLocalAxisA(){return this.m_localXAxisA}GetReferenceAngle(){return this.m_referenceAngle}GetJointTranslation(){const{pA:t,pB:e,axis:i,d:l}=o.GetJointTranslation;return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t),this.m_bodyB.GetWorldPoint(this.m_localAnchorB,e),s.b2Vec2.Subtract(e,t,l),this.m_bodyA.GetWorldVector(this.m_localXAxisA,i),s.b2Vec2.Dot(l,i)}GetJointSpeed(){const t=this.m_bodyA,e=this.m_bodyB,{lalcA:i,lalcB:l,rA:m,rB:n}=o;s.b2Rot.MultiplyVec2(t.m_xf.q,s.b2Vec2.Subtract(this.m_localAnchorA,t.m_sweep.localCenter,i),m),s.b2Rot.MultiplyVec2(e.m_xf.q,s.b2Vec2.Subtract(this.m_localAnchorB,e.m_sweep.localCenter,l),n);const a=s.b2Vec2.Add(t.m_sweep.c,m,s.b2Vec2.s_t0),c=s.b2Vec2.Add(e.m_sweep.c,n,s.b2Vec2.s_t1),r=s.b2Vec2.Subtract(c,a,s.b2Vec2.s_t2),h=s.b2Rot.MultiplyVec2(t.m_xf.q,this.m_localXAxisA,this.m_axis),_=t.m_linearVelocity,b=e.m_linearVelocity,p=t.m_angularVelocity,d=e.m_angularVelocity;return s.b2Vec2.Dot(r,s.b2Vec2.CrossScalarVec2(p,h,s.b2Vec2.s_t0))+s.b2Vec2.Dot(h,s.b2Vec2.Subtract(s.b2Vec2.AddCrossScalarVec2(b,d,n,s.b2Vec2.s_t0),s.b2Vec2.AddCrossScalarVec2(_,p,m,s.b2Vec2.s_t1),s.b2Vec2.s_t0))}IsLimitEnabled(){return this.m_enableLimit}EnableLimit(t){return t!==this.m_enableLimit&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=t,this.m_lowerImpulse=0,this.m_upperImpulse=0),t}GetLowerLimit(){return this.m_lowerTranslation}GetUpperLimit(){return this.m_upperTranslation}SetLimits(t,e){t===this.m_lowerTranslation&&e===this.m_upperTranslation||(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_lowerTranslation=t,this.m_upperTranslation=e,this.m_lowerImpulse=0,this.m_upperImpulse=0)}IsMotorEnabled(){return this.m_enableMotor}EnableMotor(t){return t!==this.m_enableMotor&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=t),t}SetMotorSpeed(t){return t!==this.m_motorSpeed&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=t),t}GetMotorSpeed(){return this.m_motorSpeed}SetMaxMotorForce(t){t!==this.m_maxMotorForce&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorForce=t)}GetMaxMotorForce(){return this.m_maxMotorForce}GetMotorForce(t){return t*this.m_motorImpulse}Draw(t){const{p1:i,p2:l,pA:m,pB:n,axis:a}=o.Draw,c=this.m_bodyA.GetTransform(),r=this.m_bodyB.GetTransform();if(s.b2Transform.MultiplyVec2(c,this.m_localAnchorA,m),s.b2Transform.MultiplyVec2(r,this.m_localAnchorB,n),s.b2Rot.MultiplyVec2(c.q,this.m_localXAxisA,a),t.DrawSegment(m,n,e.debugColors.joint5),this.m_enableLimit){const{lower:n,upper:r,perp:h}=o.Draw;s.b2Vec2.AddScaled(m,this.m_lowerTranslation,a,n),s.b2Vec2.AddScaled(m,this.m_upperTranslation,a,r),s.b2Rot.MultiplyVec2(c.q,this.m_localYAxisA,h),t.DrawSegment(n,r,e.debugColors.joint1),t.DrawSegment(s.b2Vec2.SubtractScaled(n,.5,h,i),s.b2Vec2.AddScaled(n,.5,h,l),e.debugColors.joint2),t.DrawSegment(s.b2Vec2.SubtractScaled(r,.5,h,i),s.b2Vec2.AddScaled(r,.5,h,l),e.debugColors.joint3)}else t.DrawSegment(s.b2Vec2.Subtract(m,a,i),s.b2Vec2.Add(m,a,l),e.debugColors.joint1);t.DrawPoint(m,5,e.debugColors.joint1),t.DrawPoint(n,5,e.debugColors.joint4)}}exports.b2PrismaticJoint=m;
},{"../common/b2_common":"xZSi","../common/b2_draw":"J87F","../common/b2_math":"YmMi","./b2_joint":"PxaZ"}],"Jd4O":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2PulleyJoint=exports.b2PulleyJointDef=exports.b2_minPulleyLength=void 0;const t=require("../common/b2_common"),i=require("../common/b2_draw"),s=require("../common/b2_math"),e=require("./b2_joint");exports.b2_minPulleyLength=2;const n={qA:new s.b2Rot,qB:new s.b2Rot,lalcA:new s.b2Vec2,lalcB:new s.b2Vec2,p:new s.b2Vec2,PA:new s.b2Vec2,PB:new s.b2Vec2,vpA:new s.b2Vec2,vpB:new s.b2Vec2,pA:new s.b2Vec2,pB:new s.b2Vec2};class o extends e.b2JointDef{constructor(){super(e.b2JointType.e_pulleyJoint),this.groundAnchorA=new s.b2Vec2(-1,1),this.groundAnchorB=new s.b2Vec2(1,1),this.localAnchorA=new s.b2Vec2(-1,0),this.localAnchorB=new s.b2Vec2(1,0),this.lengthA=0,this.lengthB=0,this.ratio=1,this.collideConnected=!0}Initialize(t,i,e,n,o,h,c){this.bodyA=t,this.bodyB=i,this.groundAnchorA.Copy(e),this.groundAnchorB.Copy(n),this.bodyA.GetLocalPoint(o,this.localAnchorA),this.bodyB.GetLocalPoint(h,this.localAnchorB),this.lengthA=s.b2Vec2.Distance(o,e),this.lengthB=s.b2Vec2.Distance(h,n),this.ratio=c}}exports.b2PulleyJointDef=o;const h=new s.b2Vec2(-1,1),c=s.b2Vec2.UNITX,r=new s.b2Vec2(-1,0),m=s.b2Vec2.UNITX;class _ extends e.b2Joint{constructor(t){var i,e,n,o,_,l,A;super(t),this.m_groundAnchorA=new s.b2Vec2,this.m_groundAnchorB=new s.b2Vec2,this.m_lengthA=0,this.m_lengthB=0,this.m_localAnchorA=new s.b2Vec2,this.m_localAnchorB=new s.b2Vec2,this.m_constant=0,this.m_ratio=0,this.m_impulse=0,this.m_indexA=0,this.m_indexB=0,this.m_uA=new s.b2Vec2,this.m_uB=new s.b2Vec2,this.m_rA=new s.b2Vec2,this.m_rB=new s.b2Vec2,this.m_localCenterA=new s.b2Vec2,this.m_localCenterB=new s.b2Vec2,this.m_invMassA=0,this.m_invMassB=0,this.m_invIA=0,this.m_invIB=0,this.m_mass=0,this.m_groundAnchorA.Copy(null!==(i=t.groundAnchorA)&&void 0!==i?i:h),this.m_groundAnchorB.Copy(null!==(e=t.groundAnchorB)&&void 0!==e?e:c),this.m_localAnchorA.Copy(null!==(n=t.localAnchorA)&&void 0!==n?n:r),this.m_localAnchorB.Copy(null!==(o=t.localAnchorB)&&void 0!==o?o:m),this.m_lengthA=null!==(_=t.lengthA)&&void 0!==_?_:0,this.m_lengthB=null!==(l=t.lengthB)&&void 0!==l?l:0,this.m_ratio=null!==(A=t.ratio)&&void 0!==A?A:1,this.m_constant=this.m_lengthA+this.m_ratio*this.m_lengthB,this.m_impulse=0}InitVelocityConstraints(i){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;const e=i.positions[this.m_indexA].c,o=i.positions[this.m_indexA].a,h=i.velocities[this.m_indexA].v;let c=i.velocities[this.m_indexA].w;const r=i.positions[this.m_indexB].c,m=i.positions[this.m_indexB].a,_=i.velocities[this.m_indexB].v;let l=i.velocities[this.m_indexB].w;const{qA:A,qB:a,lalcA:d,lalcB:b}=n;A.Set(o),a.Set(m),s.b2Rot.MultiplyVec2(A,s.b2Vec2.Subtract(this.m_localAnchorA,this.m_localCenterA,d),this.m_rA),s.b2Rot.MultiplyVec2(a,s.b2Vec2.Subtract(this.m_localAnchorB,this.m_localCenterB,b),this.m_rB),s.b2Vec2.Add(e,this.m_rA,this.m_uA).Subtract(this.m_groundAnchorA),s.b2Vec2.Add(r,this.m_rB,this.m_uB).Subtract(this.m_groundAnchorB);const u=this.m_uA.Length(),B=this.m_uB.Length();u>10*t.b2_linearSlop?this.m_uA.Scale(1/u):this.m_uA.SetZero(),B>10*t.b2_linearSlop?this.m_uB.Scale(1/B):this.m_uB.SetZero();const V=s.b2Vec2.Cross(this.m_rA,this.m_uA),v=s.b2Vec2.Cross(this.m_rB,this.m_uB),p=this.m_invMassA+this.m_invIA*V*V,g=this.m_invMassB+this.m_invIB*v*v;if(this.m_mass=p+this.m_ratio*this.m_ratio*g,this.m_mass>0&&(this.m_mass=1/this.m_mass),i.step.warmStarting){this.m_impulse*=i.step.dtRatio;const{PA:t,PB:e}=n;s.b2Vec2.Scale(-this.m_impulse,this.m_uA,t),s.b2Vec2.Scale(-this.m_ratio*this.m_impulse,this.m_uB,e),h.AddScaled(this.m_invMassA,t),c+=this.m_invIA*s.b2Vec2.Cross(this.m_rA,t),_.AddScaled(this.m_invMassB,e),l+=this.m_invIB*s.b2Vec2.Cross(this.m_rB,e)}else this.m_impulse=0;i.velocities[this.m_indexA].w=c,i.velocities[this.m_indexB].w=l}SolveVelocityConstraints(t){const i=t.velocities[this.m_indexA].v;let e=t.velocities[this.m_indexA].w;const o=t.velocities[this.m_indexB].v;let h=t.velocities[this.m_indexB].w;const{PA:c,PB:r,vpA:m,vpB:_}=n;s.b2Vec2.AddCrossScalarVec2(i,e,this.m_rA,m),s.b2Vec2.AddCrossScalarVec2(o,h,this.m_rB,_);const l=-s.b2Vec2.Dot(this.m_uA,m)-this.m_ratio*s.b2Vec2.Dot(this.m_uB,_),A=-this.m_mass*l;this.m_impulse+=A,s.b2Vec2.Scale(-A,this.m_uA,c),s.b2Vec2.Scale(-this.m_ratio*A,this.m_uB,r),i.AddScaled(this.m_invMassA,c),e+=this.m_invIA*s.b2Vec2.Cross(this.m_rA,c),o.AddScaled(this.m_invMassB,r),h+=this.m_invIB*s.b2Vec2.Cross(this.m_rB,r),t.velocities[this.m_indexA].w=e,t.velocities[this.m_indexB].w=h}SolvePositionConstraints(i){const e=i.positions[this.m_indexA].c;let o=i.positions[this.m_indexA].a;const h=i.positions[this.m_indexB].c;let c=i.positions[this.m_indexB].a;const{qA:r,qB:m,lalcA:_,lalcB:l,PA:A,PB:a}=n;r.Set(o),m.Set(c);const d=s.b2Rot.MultiplyVec2(r,s.b2Vec2.Subtract(this.m_localAnchorA,this.m_localCenterA,_),this.m_rA),b=s.b2Rot.MultiplyVec2(m,s.b2Vec2.Subtract(this.m_localAnchorB,this.m_localCenterB,l),this.m_rB),u=s.b2Vec2.Add(e,d,this.m_uA).Subtract(this.m_groundAnchorA),B=s.b2Vec2.Add(h,b,this.m_uB).Subtract(this.m_groundAnchorB),V=u.Length(),v=B.Length();V>10*t.b2_linearSlop?u.Scale(1/V):u.SetZero(),v>10*t.b2_linearSlop?B.Scale(1/v):B.SetZero();const p=s.b2Vec2.Cross(d,u),g=s.b2Vec2.Cross(b,B),S=this.m_invMassA+this.m_invIA*p*p,w=this.m_invMassB+this.m_invIB*g*g;let y=S+this.m_ratio*this.m_ratio*w;y>0&&(y=1/y);const x=this.m_constant-V-this.m_ratio*v,C=Math.abs(x),G=-y*x;return s.b2Vec2.Scale(-G,u,A),s.b2Vec2.Scale(-this.m_ratio*G,B,a),e.AddScaled(this.m_invMassA,A),o+=this.m_invIA*s.b2Vec2.Cross(d,A),h.AddScaled(this.m_invMassB,a),c+=this.m_invIB*s.b2Vec2.Cross(b,a),i.positions[this.m_indexA].a=o,i.positions[this.m_indexB].a=c,C<t.b2_linearSlop}GetAnchorA(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}GetAnchorB(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}GetReactionForce(t,i){return i.x=t*this.m_impulse*this.m_uB.x,i.y=t*this.m_impulse*this.m_uB.y,i}GetReactionTorque(t){return 0}GetGroundAnchorA(){return this.m_groundAnchorA}GetGroundAnchorB(){return this.m_groundAnchorB}GetLengthA(){return this.m_lengthA}GetLengthB(){return this.m_lengthB}GetRatio(){return this.m_ratio}GetCurrentLengthA(){const t=this.m_bodyA.GetWorldPoint(this.m_localAnchorA,n.p),i=this.m_groundAnchorA;return s.b2Vec2.Distance(t,i)}GetCurrentLengthB(){const t=this.m_bodyB.GetWorldPoint(this.m_localAnchorB,n.p),i=this.m_groundAnchorB;return s.b2Vec2.Distance(t,i)}ShiftOrigin(t){this.m_groundAnchorA.Subtract(t),this.m_groundAnchorB.Subtract(t)}Draw(t){const s=this.GetAnchorA(n.pA),e=this.GetAnchorB(n.pB),o=this.GetGroundAnchorA(),h=this.GetGroundAnchorB();t.DrawSegment(o,s,i.debugColors.joint6),t.DrawSegment(h,e,i.debugColors.joint6),t.DrawSegment(o,h,i.debugColors.joint6)}}exports.b2PulleyJoint=_;
},{"../common/b2_common":"xZSi","../common/b2_draw":"J87F","../common/b2_math":"YmMi","./b2_joint":"PxaZ"}],"AIPE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2RevoluteJoint=exports.b2RevoluteJointDef=void 0;const e=require("../common/b2_common"),t=require("../common/b2_draw"),i=require("../common/b2_math"),s=require("./b2_joint"),o={qA:new i.b2Rot,qB:new i.b2Rot,lalcA:new i.b2Vec2,lalcB:new i.b2Vec2,P:new i.b2Vec2,Cdot:new i.b2Vec2,C:new i.b2Vec2,impulse:new i.b2Vec2,p2:new i.b2Vec2,r:new i.b2Vec2,pA:new i.b2Vec2,pB:new i.b2Vec2,rlo:new i.b2Vec2,rhi:new i.b2Vec2};class m extends s.b2JointDef{constructor(){super(s.b2JointType.e_revoluteJoint),this.localAnchorA=new i.b2Vec2,this.localAnchorB=new i.b2Vec2,this.referenceAngle=0,this.enableLimit=!1,this.lowerAngle=0,this.upperAngle=0,this.enableMotor=!1,this.motorSpeed=0,this.maxMotorTorque=0}Initialize(e,t,i){this.bodyA=e,this.bodyB=t,this.bodyA.GetLocalPoint(i,this.localAnchorA),this.bodyB.GetLocalPoint(i,this.localAnchorB),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()}}exports.b2RevoluteJointDef=m;class l extends s.b2Joint{constructor(e){var t,s,o,m,l,n,r,h,_;super(e),this.m_localAnchorA=new i.b2Vec2,this.m_localAnchorB=new i.b2Vec2,this.m_impulse=new i.b2Vec2,this.m_motorImpulse=0,this.m_lowerImpulse=0,this.m_upperImpulse=0,this.m_enableMotor=!1,this.m_maxMotorTorque=0,this.m_motorSpeed=0,this.m_enableLimit=!1,this.m_referenceAngle=0,this.m_lowerAngle=0,this.m_upperAngle=0,this.m_indexA=0,this.m_indexB=0,this.m_rA=new i.b2Vec2,this.m_rB=new i.b2Vec2,this.m_localCenterA=new i.b2Vec2,this.m_localCenterB=new i.b2Vec2,this.m_invMassA=0,this.m_invMassB=0,this.m_invIA=0,this.m_invIB=0,this.m_K=new i.b2Mat22,this.m_angle=0,this.m_axialMass=0,this.m_localAnchorA.Copy(null!==(t=e.localAnchorA)&&void 0!==t?t:i.b2Vec2.ZERO),this.m_localAnchorB.Copy(null!==(s=e.localAnchorB)&&void 0!==s?s:i.b2Vec2.ZERO),this.m_referenceAngle=null!==(o=e.referenceAngle)&&void 0!==o?o:0,this.m_impulse.SetZero(),this.m_lowerAngle=null!==(m=e.lowerAngle)&&void 0!==m?m:0,this.m_upperAngle=null!==(l=e.upperAngle)&&void 0!==l?l:0,this.m_maxMotorTorque=null!==(n=e.maxMotorTorque)&&void 0!==n?n:0,this.m_motorSpeed=null!==(r=e.motorSpeed)&&void 0!==r?r:0,this.m_enableLimit=null!==(h=e.enableLimit)&&void 0!==h&&h,this.m_enableMotor=null!==(_=e.enableMotor)&&void 0!==_&&_}InitVelocityConstraints(e){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;const t=e.positions[this.m_indexA].a,s=e.velocities[this.m_indexA].v;let m=e.velocities[this.m_indexA].w;const l=e.positions[this.m_indexB].a,n=e.velocities[this.m_indexB].v;let r=e.velocities[this.m_indexB].w;const{qA:h,qB:_,lalcA:a,lalcB:c}=o;h.Set(t),_.Set(l),i.b2Rot.MultiplyVec2(h,i.b2Vec2.Subtract(this.m_localAnchorA,this.m_localCenterA,a),this.m_rA),i.b2Rot.MultiplyVec2(_,i.b2Vec2.Subtract(this.m_localAnchorB,this.m_localCenterB,c),this.m_rB);const p=this.m_invMassA,A=this.m_invMassB,u=this.m_invIA,b=this.m_invIB;let d;if(this.m_K.ex.x=p+A+this.m_rA.y*this.m_rA.y*u+this.m_rB.y*this.m_rB.y*b,this.m_K.ey.x=-this.m_rA.y*this.m_rA.x*u-this.m_rB.y*this.m_rB.x*b,this.m_K.ex.y=this.m_K.ey.x,this.m_K.ey.y=p+A+this.m_rA.x*this.m_rA.x*u+this.m_rB.x*this.m_rB.x*b,this.m_axialMass=u+b,this.m_axialMass>0?(this.m_axialMass=1/this.m_axialMass,d=!1):d=!0,this.m_angle=l-t-this.m_referenceAngle,(!1===this.m_enableLimit||d)&&(this.m_lowerImpulse=0,this.m_upperImpulse=0),(!1===this.m_enableMotor||d)&&(this.m_motorImpulse=0),e.step.warmStarting){this.m_impulse.Scale(e.step.dtRatio),this.m_motorImpulse*=e.step.dtRatio,this.m_lowerImpulse*=e.step.dtRatio,this.m_upperImpulse*=e.step.dtRatio;const t=this.m_motorImpulse+this.m_lowerImpulse-this.m_upperImpulse,l=o.P.Set(this.m_impulse.x,this.m_impulse.y);s.SubtractScaled(p,l),m-=u*(i.b2Vec2.Cross(this.m_rA,l)+t),n.AddScaled(A,l),r+=b*(i.b2Vec2.Cross(this.m_rB,l)+t)}else this.m_impulse.SetZero(),this.m_motorImpulse=0,this.m_lowerImpulse=0,this.m_upperImpulse=0;e.velocities[this.m_indexA].w=m,e.velocities[this.m_indexB].w=r}SolveVelocityConstraints(e){const t=e.velocities[this.m_indexA].v;let s=e.velocities[this.m_indexA].w;const m=e.velocities[this.m_indexB].v;let l=e.velocities[this.m_indexB].w;const n=this.m_invMassA,r=this.m_invMassB,h=this.m_invIA,_=this.m_invIB,a=h+_===0;if(this.m_enableMotor&&!a){const t=l-s-this.m_motorSpeed;let o=-this.m_axialMass*t;const m=this.m_motorImpulse,n=e.step.dt*this.m_maxMotorTorque;this.m_motorImpulse=i.b2Clamp(this.m_motorImpulse+o,-n,n),s-=h*(o=this.m_motorImpulse-m),l+=_*o}if(this.m_enableLimit&&!a){{const t=this.m_angle-this.m_lowerAngle,i=l-s;let o=-this.m_axialMass*(i+Math.max(t,0)*e.step.inv_dt);const m=this.m_lowerImpulse;this.m_lowerImpulse=Math.max(this.m_lowerImpulse+o,0),s-=h*(o=this.m_lowerImpulse-m),l+=_*o}{const t=this.m_upperAngle-this.m_angle,i=s-l;let o=-this.m_axialMass*(i+Math.max(t,0)*e.step.inv_dt);const m=this.m_upperImpulse;this.m_upperImpulse=Math.max(this.m_upperImpulse+o,0),s+=h*(o=this.m_upperImpulse-m),l-=_*o}}{const{Cdot:e,impulse:a}=o;i.b2Vec2.Subtract(i.b2Vec2.AddCrossScalarVec2(m,l,this.m_rB,i.b2Vec2.s_t0),i.b2Vec2.AddCrossScalarVec2(t,s,this.m_rA,i.b2Vec2.s_t1),e),this.m_K.Solve(-e.x,-e.y,a),this.m_impulse.x+=a.x,this.m_impulse.y+=a.y,t.SubtractScaled(n,a),s-=h*i.b2Vec2.Cross(this.m_rA,a),m.AddScaled(r,a),l+=_*i.b2Vec2.Cross(this.m_rB,a)}e.velocities[this.m_indexA].w=s,e.velocities[this.m_indexB].w=l}SolvePositionConstraints(t){const s=t.positions[this.m_indexA].c;let m=t.positions[this.m_indexA].a;const l=t.positions[this.m_indexB].c;let n=t.positions[this.m_indexB].a;const{qA:r,qB:h,lalcA:_,lalcB:a,impulse:c}=o;r.Set(m),h.Set(n);let p=0,A=0;const u=this.m_invIA+this.m_invIB===0;if(this.m_enableLimit&&!u){const t=n-m-this.m_referenceAngle;let s=0;Math.abs(this.m_upperAngle-this.m_lowerAngle)<2*e.b2_angularSlop?s=i.b2Clamp(t-this.m_lowerAngle,-e.b2_maxAngularCorrection,e.b2_maxAngularCorrection):t<=this.m_lowerAngle?s=i.b2Clamp(t-this.m_lowerAngle+e.b2_angularSlop,-e.b2_maxAngularCorrection,0):t>=this.m_upperAngle&&(s=i.b2Clamp(t-this.m_upperAngle-e.b2_angularSlop,0,e.b2_maxAngularCorrection));const o=-this.m_axialMass*s;m-=this.m_invIA*o,n+=this.m_invIB*o,p=Math.abs(s)}{r.Set(m),h.Set(n);const e=i.b2Rot.MultiplyVec2(r,i.b2Vec2.Subtract(this.m_localAnchorA,this.m_localCenterA,_),this.m_rA),t=i.b2Rot.MultiplyVec2(h,i.b2Vec2.Subtract(this.m_localAnchorB,this.m_localCenterB,a),this.m_rB),p=i.b2Vec2.Add(l,t,o.C).Subtract(s).Subtract(e);A=p.Length();const u=this.m_invMassA,b=this.m_invMassB,d=this.m_invIA,x=this.m_invIB,w=this.m_K;w.ex.x=u+b+d*e.y*e.y+x*t.y*t.y,w.ex.y=-d*e.x*e.y-x*t.x*t.y,w.ey.x=w.ex.y,w.ey.y=u+b+d*e.x*e.x+x*t.x*t.x,w.Solve(p.x,p.y,c).Negate(),s.SubtractScaled(u,c),m-=d*i.b2Vec2.Cross(e,c),l.AddScaled(b,c),n+=x*i.b2Vec2.Cross(t,c)}return t.positions[this.m_indexA].a=m,t.positions[this.m_indexB].a=n,A<=e.b2_linearSlop&&p<=e.b2_angularSlop}GetAnchorA(e){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,e)}GetAnchorB(e){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,e)}GetReactionForce(e,t){return t.x=e*this.m_impulse.x,t.y=e*this.m_impulse.y,t}GetReactionTorque(e){return e*(this.m_motorImpulse+this.m_lowerImpulse-this.m_upperImpulse)}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}GetReferenceAngle(){return this.m_referenceAngle}GetJointAngle(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a-this.m_referenceAngle}GetJointSpeed(){return this.m_bodyB.m_angularVelocity-this.m_bodyA.m_angularVelocity}IsMotorEnabled(){return this.m_enableMotor}EnableMotor(e){return e!==this.m_enableMotor&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=e),e}GetMotorTorque(e){return e*this.m_motorImpulse}GetMotorSpeed(){return this.m_motorSpeed}SetMaxMotorTorque(e){e!==this.m_maxMotorTorque&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorTorque=e)}GetMaxMotorTorque(){return this.m_maxMotorTorque}IsLimitEnabled(){return this.m_enableLimit}EnableLimit(e){return e!==this.m_enableLimit&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=e,this.m_lowerImpulse=0,this.m_upperImpulse=0),e}GetLowerLimit(){return this.m_lowerAngle}GetUpperLimit(){return this.m_upperAngle}SetLimits(e,t){e===this.m_lowerAngle&&t===this.m_upperAngle||(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_lowerImpulse=0,this.m_upperImpulse=0,this.m_lowerAngle=e,this.m_upperAngle=t)}SetMotorSpeed(e){return e!==this.m_motorSpeed&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=e),e}Draw(e){const{p2:s,r:m,pA:l,pB:n}=o,r=this.m_bodyA.GetTransform(),h=this.m_bodyB.GetTransform();i.b2Transform.MultiplyVec2(r,this.m_localAnchorA,l),i.b2Transform.MultiplyVec2(h,this.m_localAnchorB,n),e.DrawPoint(l,5,t.debugColors.joint4),e.DrawPoint(n,5,t.debugColors.joint5);const _=this.m_bodyA.GetAngle(),a=this.m_bodyB.GetAngle()-_-this.m_referenceAngle;if(m.Set(Math.cos(a),Math.sin(a)).Scale(.5),e.DrawSegment(n,i.b2Vec2.Add(n,m,s),t.debugColors.joint1),e.DrawCircle(n,.5,t.debugColors.joint1),this.m_enableLimit){const{rlo:m,rhi:l}=o;m.Set(Math.cos(this.m_lowerAngle),Math.sin(this.m_lowerAngle)).Scale(.5),l.Set(Math.cos(this.m_upperAngle),Math.sin(this.m_upperAngle)).Scale(.5),e.DrawSegment(n,i.b2Vec2.Add(n,m,s),t.debugColors.joint2),e.DrawSegment(n,i.b2Vec2.Add(n,l,s),t.debugColors.joint3)}e.DrawSegment(r.p,l,t.debugColors.joint6),e.DrawSegment(l,n,t.debugColors.joint6),e.DrawSegment(h.p,n,t.debugColors.joint6)}}exports.b2RevoluteJoint=l;
},{"../common/b2_common":"xZSi","../common/b2_draw":"J87F","../common/b2_math":"YmMi","./b2_joint":"PxaZ"}],"lC1O":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2WeldJoint=exports.b2WeldJointDef=void 0;const e=require("../common/b2_common"),t=require("../common/b2_math"),s=require("./b2_joint"),i={qA:new t.b2Rot,qB:new t.b2Rot,rA:new t.b2Vec2,rB:new t.b2Vec2,lalcA:new t.b2Vec2,lalcB:new t.b2Vec2,K:new t.b2Mat33,P:new t.b2Vec2,Cdot1:new t.b2Vec3,impulse1:new t.b2Vec2,impulse:new t.b2Vec3,C1:new t.b2Vec2,C:new t.b2Vec3};class m extends s.b2JointDef{constructor(){super(s.b2JointType.e_weldJoint),this.localAnchorA=new t.b2Vec2,this.localAnchorB=new t.b2Vec2,this.referenceAngle=0,this.stiffness=0,this.damping=0}Initialize(e,t,s){this.bodyA=e,this.bodyB=t,this.bodyA.GetLocalPoint(s,this.localAnchorA),this.bodyB.GetLocalPoint(s,this.localAnchorB),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()}}exports.b2WeldJointDef=m;class n extends s.b2Joint{constructor(e){var s,i,m,n,c;super(e),this.m_stiffness=0,this.m_damping=0,this.m_bias=0,this.m_localAnchorA=new t.b2Vec2,this.m_localAnchorB=new t.b2Vec2,this.m_referenceAngle=0,this.m_gamma=0,this.m_impulse=new t.b2Vec3,this.m_indexA=0,this.m_indexB=0,this.m_rA=new t.b2Vec2,this.m_rB=new t.b2Vec2,this.m_localCenterA=new t.b2Vec2,this.m_localCenterB=new t.b2Vec2,this.m_invMassA=0,this.m_invMassB=0,this.m_invIA=0,this.m_invIB=0,this.m_mass=new t.b2Mat33,this.m_localAnchorA.Copy(null!==(s=e.localAnchorA)&&void 0!==s?s:t.b2Vec2.ZERO),this.m_localAnchorB.Copy(null!==(i=e.localAnchorB)&&void 0!==i?i:t.b2Vec2.ZERO),this.m_referenceAngle=null!==(m=e.referenceAngle)&&void 0!==m?m:0,this.m_stiffness=null!==(n=e.stiffness)&&void 0!==n?n:0,this.m_damping=null!==(c=e.damping)&&void 0!==c?c:0}InitVelocityConstraints(e){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;const s=e.positions[this.m_indexA].a,m=e.velocities[this.m_indexA].v;let n=e.velocities[this.m_indexA].w;const c=e.positions[this.m_indexB].a,o=e.velocities[this.m_indexB].v;let h=e.velocities[this.m_indexB].w;const{qA:l,qB:_,lalcA:r,lalcB:a,K:A}=i;l.Set(s),_.Set(c),t.b2Rot.MultiplyVec2(l,t.b2Vec2.Subtract(this.m_localAnchorA,this.m_localCenterA,r),this.m_rA),t.b2Rot.MultiplyVec2(_,t.b2Vec2.Subtract(this.m_localAnchorB,this.m_localCenterB,a),this.m_rB);const b=this.m_invMassA,d=this.m_invMassB,x=this.m_invIA,y=this.m_invIB;if(A.ex.x=b+d+this.m_rA.y*this.m_rA.y*x+this.m_rB.y*this.m_rB.y*y,A.ey.x=-this.m_rA.y*this.m_rA.x*x-this.m_rB.y*this.m_rB.x*y,A.ez.x=-this.m_rA.y*x-this.m_rB.y*y,A.ex.y=A.ey.x,A.ey.y=b+d+this.m_rA.x*this.m_rA.x*x+this.m_rB.x*this.m_rB.x*y,A.ez.y=this.m_rA.x*x+this.m_rB.x*y,A.ex.z=A.ez.x,A.ey.z=A.ez.y,A.ez.z=x+y,this.m_stiffness>0){A.GetInverse22(this.m_mass);let t=x+y;const i=c-s-this.m_referenceAngle,m=this.m_damping,n=this.m_stiffness,o=e.step.dt;this.m_gamma=o*(m+o*n),this.m_gamma=0!==this.m_gamma?1/this.m_gamma:0,this.m_bias=i*o*n*this.m_gamma,t+=this.m_gamma,this.m_mass.ez.z=0!==t?1/t:0}else 0===A.ez.z?(A.GetInverse22(this.m_mass),this.m_gamma=0,this.m_bias=0):(A.GetSymInverse33(this.m_mass),this.m_gamma=0,this.m_bias=0);if(e.step.warmStarting){this.m_impulse.Scale(e.step.dtRatio);const{P:s}=i;s.Copy(this.m_impulse),m.SubtractScaled(b,s),n-=x*(t.b2Vec2.Cross(this.m_rA,s)+this.m_impulse.z),o.AddScaled(d,s),h+=y*(t.b2Vec2.Cross(this.m_rB,s)+this.m_impulse.z)}else this.m_impulse.SetZero();e.velocities[this.m_indexA].w=n,e.velocities[this.m_indexB].w=h}SolveVelocityConstraints(e){const s=e.velocities[this.m_indexA].v;let m=e.velocities[this.m_indexA].w;const n=e.velocities[this.m_indexB].v;let c=e.velocities[this.m_indexB].w;const o=this.m_invMassA,h=this.m_invMassB,l=this.m_invIA,_=this.m_invIB;if(this.m_stiffness>0){const e=c-m,r=-this.m_mass.ez.z*(e+this.m_bias+this.m_gamma*this.m_impulse.z);this.m_impulse.z+=r,m-=l*r,c+=_*r;const{Cdot1:a,impulse1:A}=i;t.b2Vec2.Subtract(t.b2Vec2.AddCrossScalarVec2(n,c,this.m_rB,t.b2Vec2.s_t0),t.b2Vec2.AddCrossScalarVec2(s,m,this.m_rA,t.b2Vec2.s_t1),a),t.b2Mat33.MultiplyVec2(this.m_mass,a,A).Negate(),this.m_impulse.x+=A.x,this.m_impulse.y+=A.y;const b=A;s.SubtractScaled(o,b),m-=l*t.b2Vec2.Cross(this.m_rA,b),n.AddScaled(h,b),c+=_*t.b2Vec2.Cross(this.m_rB,b)}else{const{Cdot1:e,impulse:r,P:a}=i;t.b2Vec2.Subtract(t.b2Vec2.AddCrossScalarVec2(n,c,this.m_rB,t.b2Vec2.s_t0),t.b2Vec2.AddCrossScalarVec2(s,m,this.m_rA,t.b2Vec2.s_t1),e),e.z=c-m,t.b2Mat33.MultiplyVec3(this.m_mass,e,r).Negate(),this.m_impulse.Add(r),a.Set(r.x,r.y),s.SubtractScaled(o,a),m-=l*(t.b2Vec2.Cross(this.m_rA,a)+r.z),n.AddScaled(h,a),c+=_*(t.b2Vec2.Cross(this.m_rB,a)+r.z)}e.velocities[this.m_indexA].w=m,e.velocities[this.m_indexB].w=c}SolvePositionConstraints(s){const m=s.positions[this.m_indexA].c;let n=s.positions[this.m_indexA].a;const c=s.positions[this.m_indexB].c;let o=s.positions[this.m_indexB].a;const{qA:h,qB:l,lalcA:_,lalcB:r,K:a,C1:A,P:b,rA:d,rB:x}=i;h.Set(n),l.Set(o);const y=this.m_invMassA,u=this.m_invMassB,B=this.m_invIA,p=this.m_invIB;let V,v;if(t.b2Rot.MultiplyVec2(h,t.b2Vec2.Subtract(this.m_localAnchorA,this.m_localCenterA,_),d),t.b2Rot.MultiplyVec2(l,t.b2Vec2.Subtract(this.m_localAnchorB,this.m_localCenterB,r),x),a.ex.x=y+u+d.y*d.y*B+x.y*x.y*p,a.ey.x=-d.y*d.x*B-x.y*x.x*p,a.ez.x=-d.y*B-x.y*p,a.ex.y=a.ey.x,a.ey.y=y+u+d.x*d.x*B+x.x*x.x*p,a.ez.y=d.x*B+x.x*p,a.ex.z=a.ez.x,a.ey.z=a.ez.y,a.ez.z=B+p,this.m_stiffness>0)t.b2Vec2.Add(c,x,A).Subtract(m).Subtract(d),V=A.Length(),v=0,a.Solve22(A.x,A.y,b).Negate(),m.SubtractScaled(y,b),n-=B*t.b2Vec2.Cross(d,b),c.AddScaled(u,b),o+=p*t.b2Vec2.Cross(x,b);else{t.b2Vec2.Add(c,x,A).Subtract(m).Subtract(d),t.b2Vec2.Subtract(t.b2Vec2.Add(c,x,t.b2Vec2.s_t0),t.b2Vec2.Add(m,d,t.b2Vec2.s_t1),A);const e=o-n-this.m_referenceAngle;V=A.Length(),v=Math.abs(e);const{impulse:s,C:h}=i;h.Set(A.x,A.y,e),a.ez.z>0?a.Solve33(h.x,h.y,h.z,s).Negate():(a.Solve22(A.x,A.y,s).Negate(),s.z=0),b.Copy(s),m.SubtractScaled(y,b),n-=B*(t.b2Vec2.Cross(d,b)+s.z),c.AddScaled(u,b),o+=p*(t.b2Vec2.Cross(x,b)+s.z)}return s.positions[this.m_indexA].a=n,s.positions[this.m_indexB].a=o,V<=e.b2_linearSlop&&v<=e.b2_angularSlop}GetAnchorA(e){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,e)}GetAnchorB(e){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,e)}GetReactionForce(e,t){return t.x=e*this.m_impulse.x,t.y=e*this.m_impulse.y,t}GetReactionTorque(e){return e*this.m_impulse.z}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}GetReferenceAngle(){return this.m_referenceAngle}SetStiffness(e){this.m_stiffness=e}GetStiffness(){return this.m_stiffness}SetDamping(e){this.m_damping=e}GetDamping(){return this.m_damping}}exports.b2WeldJoint=n;
},{"../common/b2_common":"xZSi","../common/b2_math":"YmMi","./b2_joint":"PxaZ"}],"EFh3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2WheelJoint=exports.b2WheelJointDef=void 0;const t=require("../common/b2_common"),s=require("../common/b2_math"),i=require("./b2_joint"),e=require("../common/b2_draw"),m={qA:new s.b2Rot,qB:new s.b2Rot,lalcA:new s.b2Vec2,lalcB:new s.b2Vec2,rA:new s.b2Vec2,rB:new s.b2Vec2,d:new s.b2Vec2,P:new s.b2Vec2,ay:new s.b2Vec2,pA:new s.b2Vec2,pB:new s.b2Vec2,axis:new s.b2Vec2,Draw:{p1:new s.b2Vec2,p2:new s.b2Vec2,pA:new s.b2Vec2,pB:new s.b2Vec2,axis:new s.b2Vec2,lower:new s.b2Vec2,upper:new s.b2Vec2,perp:new s.b2Vec2}};class o extends i.b2JointDef{constructor(){super(i.b2JointType.e_wheelJoint),this.localAnchorA=new s.b2Vec2,this.localAnchorB=new s.b2Vec2,this.localAxisA=new s.b2Vec2(1,0),this.enableLimit=!1,this.lowerTranslation=0,this.upperTranslation=0,this.enableMotor=!1,this.maxMotorTorque=0,this.motorSpeed=0,this.stiffness=0,this.damping=0}Initialize(t,s,i,e){this.bodyA=t,this.bodyB=s,this.bodyA.GetLocalPoint(i,this.localAnchorA),this.bodyB.GetLocalPoint(i,this.localAnchorB),this.bodyA.GetLocalVector(e,this.localAxisA)}}exports.b2WheelJointDef=o;class a extends i.b2Joint{constructor(t){var i,e,m,o,a,l,h,n,_,r,c;super(t),this.m_localAnchorA=new s.b2Vec2,this.m_localAnchorB=new s.b2Vec2,this.m_localXAxisA=new s.b2Vec2,this.m_localYAxisA=new s.b2Vec2,this.m_impulse=0,this.m_motorImpulse=0,this.m_springImpulse=0,this.m_lowerImpulse=0,this.m_upperImpulse=0,this.m_translation=0,this.m_lowerTranslation=0,this.m_upperTranslation=0,this.m_maxMotorTorque=0,this.m_motorSpeed=0,this.m_enableLimit=!1,this.m_enableMotor=!1,this.m_stiffness=0,this.m_damping=0,this.m_indexA=0,this.m_indexB=0,this.m_localCenterA=new s.b2Vec2,this.m_localCenterB=new s.b2Vec2,this.m_invMassA=0,this.m_invMassB=0,this.m_invIA=0,this.m_invIB=0,this.m_ax=new s.b2Vec2,this.m_ay=new s.b2Vec2,this.m_sAx=0,this.m_sBx=0,this.m_sAy=0,this.m_sBy=0,this.m_mass=0,this.m_motorMass=0,this.m_axialMass=0,this.m_springMass=0,this.m_bias=0,this.m_gamma=0,this.m_localAnchorA.Copy(null!==(i=t.localAnchorA)&&void 0!==i?i:s.b2Vec2.ZERO),this.m_localAnchorB.Copy(null!==(e=t.localAnchorB)&&void 0!==e?e:s.b2Vec2.ZERO),this.m_localXAxisA.Copy(null!==(m=t.localAxisA)&&void 0!==m?m:s.b2Vec2.UNITX),s.b2Vec2.CrossOneVec2(this.m_localXAxisA,this.m_localYAxisA),this.m_lowerTranslation=null!==(o=t.lowerTranslation)&&void 0!==o?o:0,this.m_upperTranslation=null!==(a=t.upperTranslation)&&void 0!==a?a:0,this.m_enableLimit=null!==(l=t.enableLimit)&&void 0!==l&&l,this.m_maxMotorTorque=null!==(h=t.maxMotorTorque)&&void 0!==h?h:0,this.m_motorSpeed=null!==(n=t.motorSpeed)&&void 0!==n?n:0,this.m_enableMotor=null!==(_=t.enableMotor)&&void 0!==_&&_,this.m_ax.SetZero(),this.m_ay.SetZero(),this.m_stiffness=null!==(r=t.stiffness)&&void 0!==r?r:0,this.m_damping=null!==(c=t.damping)&&void 0!==c?c:0}GetMotorSpeed(){return this.m_motorSpeed}GetMaxMotorTorque(){return this.m_maxMotorTorque}SetStiffness(t){this.m_stiffness=t}GetStiffness(){return this.m_stiffness}SetDamping(t){this.m_damping=t}GetDamping(){return this.m_damping}InitVelocityConstraints(t){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;const i=this.m_invMassA,e=this.m_invMassB,o=this.m_invIA,a=this.m_invIB,l=t.positions[this.m_indexA].c,h=t.positions[this.m_indexA].a,n=t.velocities[this.m_indexA].v;let _=t.velocities[this.m_indexA].w;const r=t.positions[this.m_indexB].c,c=t.positions[this.m_indexB].a,b=t.velocities[this.m_indexB].v;let p=t.velocities[this.m_indexB].w;const{qA:A,qB:u,lalcA:d,lalcB:V,rA:x,rB:S,d:B}=m;A.Set(h),u.Set(c),s.b2Rot.MultiplyVec2(A,s.b2Vec2.Subtract(this.m_localAnchorA,this.m_localCenterA,d),x),s.b2Rot.MultiplyVec2(u,s.b2Vec2.Subtract(this.m_localAnchorB,this.m_localCenterB,V),S),s.b2Vec2.Add(r,S,B).Subtract(l).Subtract(x),s.b2Rot.MultiplyVec2(A,this.m_localYAxisA,this.m_ay),this.m_sAy=s.b2Vec2.Cross(s.b2Vec2.Add(B,x,s.b2Vec2.s_t0),this.m_ay),this.m_sBy=s.b2Vec2.Cross(S,this.m_ay),this.m_mass=i+e+o*this.m_sAy*this.m_sAy+a*this.m_sBy*this.m_sBy,this.m_mass>0&&(this.m_mass=1/this.m_mass),s.b2Rot.MultiplyVec2(A,this.m_localXAxisA,this.m_ax),this.m_sAx=s.b2Vec2.Cross(s.b2Vec2.Add(B,x,s.b2Vec2.s_t0),this.m_ax),this.m_sBx=s.b2Vec2.Cross(S,this.m_ax);const y=i+e+o*this.m_sAx*this.m_sAx+a*this.m_sBx*this.m_sBx;if(this.m_axialMass=y>0?1/y:0,this.m_springMass=0,this.m_bias=0,this.m_gamma=0,this.m_stiffness>0&&y>0){this.m_springMass=1/y;const i=s.b2Vec2.Dot(B,this.m_ax),e=t.step.dt;this.m_gamma=e*(this.m_damping+e*this.m_stiffness),this.m_gamma>0&&(this.m_gamma=1/this.m_gamma),this.m_bias=i*e*this.m_stiffness*this.m_gamma,this.m_springMass=y+this.m_gamma,this.m_springMass>0&&(this.m_springMass=1/this.m_springMass)}else this.m_springImpulse=0;if(this.m_enableLimit?this.m_translation=s.b2Vec2.Dot(this.m_ax,B):(this.m_lowerImpulse=0,this.m_upperImpulse=0),this.m_enableMotor?(this.m_motorMass=o+a,this.m_motorMass>0&&(this.m_motorMass=1/this.m_motorMass)):(this.m_motorMass=0,this.m_motorImpulse=0),t.step.warmStarting){this.m_impulse*=t.step.dtRatio,this.m_springImpulse*=t.step.dtRatio,this.m_motorImpulse*=t.step.dtRatio;const i=this.m_springImpulse+this.m_lowerImpulse-this.m_upperImpulse,{P:e}=m;s.b2Vec2.Scale(this.m_impulse,this.m_ay,e).AddScaled(i,this.m_ax);const o=this.m_impulse*this.m_sAy+i*this.m_sAx+this.m_motorImpulse,a=this.m_impulse*this.m_sBy+i*this.m_sBx+this.m_motorImpulse;n.SubtractScaled(this.m_invMassA,e),_-=this.m_invIA*o,b.AddScaled(this.m_invMassB,e),p+=this.m_invIB*a}else this.m_impulse=0,this.m_springImpulse=0,this.m_motorImpulse=0,this.m_lowerImpulse=0,this.m_upperImpulse=0;t.velocities[this.m_indexA].w=_,t.velocities[this.m_indexB].w=p}SolveVelocityConstraints(t){const i=this.m_invMassA,e=this.m_invMassB,o=this.m_invIA,a=this.m_invIB,l=t.velocities[this.m_indexA].v;let h=t.velocities[this.m_indexA].w;const n=t.velocities[this.m_indexB].v;let _=t.velocities[this.m_indexB].w;const{P:r}=m;{const t=s.b2Vec2.Dot(this.m_ax,s.b2Vec2.Subtract(n,l,s.b2Vec2.s_t0))+this.m_sBx*_-this.m_sAx*h,m=-this.m_springMass*(t+this.m_bias+this.m_gamma*this.m_springImpulse);this.m_springImpulse+=m,s.b2Vec2.Scale(m,this.m_ax,r);const c=m*this.m_sAx,b=m*this.m_sBx;l.SubtractScaled(i,r),h-=o*c,n.AddScaled(e,r),_+=a*b}{const i=_-h-this.m_motorSpeed;let e=-this.m_motorMass*i;const m=this.m_motorImpulse,l=t.step.dt*this.m_maxMotorTorque;this.m_motorImpulse=s.b2Clamp(this.m_motorImpulse+e,-l,l),h-=o*(e=this.m_motorImpulse-m),_+=a*e}if(this.m_enableLimit){{const m=this.m_translation-this.m_lowerTranslation,c=s.b2Vec2.Dot(this.m_ax,s.b2Vec2.Subtract(n,l,s.b2Vec2.s_t0))+this.m_sBx*_-this.m_sAx*h;let b=-this.m_axialMass*(c+Math.max(m,0)*t.step.inv_dt);const p=this.m_lowerImpulse;this.m_lowerImpulse=Math.max(this.m_lowerImpulse+b,0),b=this.m_lowerImpulse-p,s.b2Vec2.Scale(b,this.m_ax,r);const A=b*this.m_sAx,u=b*this.m_sBx;l.SubtractScaled(i,r),h-=o*A,n.AddScaled(e,r),_+=a*u}{const m=this.m_upperTranslation-this.m_translation,c=s.b2Vec2.Dot(this.m_ax,s.b2Vec2.Subtract(l,n,s.b2Vec2.s_t0))+this.m_sAx*h-this.m_sBx*_;let b=-this.m_axialMass*(c+Math.max(m,0)*t.step.inv_dt);const p=this.m_upperImpulse;this.m_upperImpulse=Math.max(this.m_upperImpulse+b,0),b=this.m_upperImpulse-p,s.b2Vec2.Scale(b,this.m_ax,r);const A=b*this.m_sAx,u=b*this.m_sBx;l.AddScaled(i,r),h+=o*A,n.SubtractScaled(e,r),_-=a*u}}{const t=s.b2Vec2.Dot(this.m_ay,s.b2Vec2.Subtract(n,l,s.b2Vec2.s_t0))+this.m_sBy*_-this.m_sAy*h,m=-this.m_mass*t;this.m_impulse+=m,s.b2Vec2.Scale(m,this.m_ay,r);const c=m*this.m_sAy,b=m*this.m_sBy;l.SubtractScaled(i,r),h-=o*c,n.AddScaled(e,r),_+=a*b}t.velocities[this.m_indexA].w=h,t.velocities[this.m_indexB].w=_}SolvePositionConstraints(i){const e=i.positions[this.m_indexA].c;let o=i.positions[this.m_indexA].a;const a=i.positions[this.m_indexB].c;let l=i.positions[this.m_indexB].a,h=0;const{qA:n,qB:_,lalcA:r,lalcB:c,rA:b,rB:p,d:A,P:u,ay:d}=m;if(this.m_enableLimit){n.Set(o),_.Set(l),s.b2Rot.MultiplyVec2(n,s.b2Vec2.Subtract(this.m_localAnchorA,this.m_localCenterA,r),b),s.b2Rot.MultiplyVec2(_,s.b2Vec2.Subtract(this.m_localAnchorB,this.m_localCenterB,c),p),s.b2Vec2.Subtract(a,e,A).Add(p).Subtract(b);const i=s.b2Rot.MultiplyVec2(n,this.m_localXAxisA,this.m_ax),m=s.b2Vec2.Cross(s.b2Vec2.Add(A,b,s.b2Vec2.s_t0),this.m_ax),d=s.b2Vec2.Cross(p,this.m_ax);let V=0;const x=s.b2Vec2.Dot(i,A);if(Math.abs(this.m_upperTranslation-this.m_lowerTranslation)<2*t.b2_linearSlop?V=x:x<=this.m_lowerTranslation?V=Math.min(x-this.m_lowerTranslation,0):x>=this.m_upperTranslation&&(V=Math.max(x-this.m_upperTranslation,0)),0!==V){const t=this.m_invMassA+this.m_invMassB+this.m_invIA*m*m+this.m_invIB*d*d;let n=0;0!==t&&(n=-V/t),s.b2Vec2.Scale(n,i,u);const _=n*m,r=n*d;e.SubtractScaled(this.m_invMassA,u),o-=this.m_invIA*_,a.AddScaled(this.m_invMassB,u),l+=this.m_invIB*r,h=Math.abs(V)}}{n.Set(o),_.Set(l),s.b2Rot.MultiplyVec2(n,s.b2Vec2.Subtract(this.m_localAnchorA,this.m_localCenterA,r),b),s.b2Rot.MultiplyVec2(_,s.b2Vec2.Subtract(this.m_localAnchorB,this.m_localCenterB,c),p),s.b2Vec2.Subtract(a,e,A).Add(p).Subtract(b),s.b2Rot.MultiplyVec2(n,this.m_localYAxisA,d);const t=s.b2Vec2.Cross(s.b2Vec2.Add(A,b,s.b2Vec2.s_t0),d),i=s.b2Vec2.Cross(p,d),m=s.b2Vec2.Dot(A,d),V=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_sAy*this.m_sAy+this.m_invIB*this.m_sBy*this.m_sBy;let x=0;0!==V&&(x=-m/V),s.b2Vec2.Scale(x,d,u);const S=x*t,B=x*i;e.SubtractScaled(this.m_invMassA,u),o-=this.m_invIA*S,a.AddScaled(this.m_invMassB,u),l+=this.m_invIB*B,h=Math.max(h,Math.abs(m))}return i.positions[this.m_indexA].a=o,i.positions[this.m_indexB].a=l,h<=t.b2_linearSlop}GetAnchorA(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}GetAnchorB(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}GetReactionForce(t,s){const i=this.m_springImpulse+this.m_lowerImpulse-this.m_upperImpulse;return s.x=t*(this.m_impulse*this.m_ay.x+i*this.m_ax.x),s.y=t*(this.m_impulse*this.m_ay.y+i*this.m_ax.y),s}GetReactionTorque(t){return t*this.m_motorImpulse}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}GetLocalAxisA(){return this.m_localXAxisA}GetJointTranslation(){const t=this.m_bodyA,i=this.m_bodyB,{pA:e,pB:o,d:a,axis:l}=m;return t.GetWorldPoint(this.m_localAnchorA,e),i.GetWorldPoint(this.m_localAnchorB,o),s.b2Vec2.Subtract(o,e,a),t.GetWorldVector(this.m_localXAxisA,l),s.b2Vec2.Dot(a,l)}GetJointLinearSpeed(){const t=this.m_bodyA,i=this.m_bodyB,{rA:e,rB:o,lalcA:a,lalcB:l,axis:h}=m;s.b2Rot.MultiplyVec2(t.m_xf.q,s.b2Vec2.Subtract(this.m_localAnchorA,t.m_sweep.localCenter,a),e),s.b2Rot.MultiplyVec2(i.m_xf.q,s.b2Vec2.Subtract(this.m_localAnchorB,i.m_sweep.localCenter,l),o);const n=s.b2Vec2.Add(t.m_sweep.c,e,s.b2Vec2.s_t0),_=s.b2Vec2.Add(i.m_sweep.c,o,s.b2Vec2.s_t1),r=s.b2Vec2.Subtract(_,n,s.b2Vec2.s_t2);s.b2Rot.MultiplyVec2(t.m_xf.q,this.m_localXAxisA,h);const c=t.m_linearVelocity,b=i.m_linearVelocity,p=t.m_angularVelocity,A=i.m_angularVelocity;return s.b2Vec2.Dot(r,s.b2Vec2.CrossScalarVec2(p,h,s.b2Vec2.s_t0))+s.b2Vec2.Dot(h,s.b2Vec2.AddCrossScalarVec2(b,A,o,s.b2Vec2.s_t0).Subtract(c).Subtract(s.b2Vec2.CrossScalarVec2(p,e,s.b2Vec2.s_t1)))}GetJointAngle(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a}GetJointAngularSpeed(){const t=this.m_bodyA.m_angularVelocity;return this.m_bodyB.m_angularVelocity-t}IsMotorEnabled(){return this.m_enableMotor}EnableMotor(t){return t!==this.m_enableMotor&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=t),t}SetMotorSpeed(t){return t!==this.m_motorSpeed&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=t),t}SetMaxMotorTorque(t){t!==this.m_maxMotorTorque&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorTorque=t)}GetMotorTorque(t){return t*this.m_motorImpulse}IsLimitEnabled(){return this.m_enableLimit}EnableLimit(t){return t!==this.m_enableLimit&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=t,this.m_lowerImpulse=0,this.m_upperImpulse=0),t}GetLowerLimit(){return this.m_lowerTranslation}GetUpperLimit(){return this.m_upperTranslation}SetLimits(t,s){t===this.m_lowerTranslation&&s===this.m_upperTranslation||(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_lowerTranslation=t,this.m_upperTranslation=s,this.m_lowerImpulse=0,this.m_upperImpulse=0)}Draw(t){const{p1:i,p2:o,pA:a,pB:l,axis:h}=m.Draw,n=this.m_bodyA.GetTransform(),_=this.m_bodyB.GetTransform();if(s.b2Transform.MultiplyVec2(n,this.m_localAnchorA,a),s.b2Transform.MultiplyVec2(_,this.m_localAnchorB,l),s.b2Rot.MultiplyVec2(n.q,this.m_localXAxisA,h),t.DrawSegment(a,l,e.debugColors.joint5),this.m_enableLimit){const{lower:l,upper:_,perp:r}=m.Draw;s.b2Vec2.AddScaled(a,this.m_lowerTranslation,h,l),s.b2Vec2.AddScaled(a,this.m_upperTranslation,h,_),s.b2Rot.MultiplyVec2(n.q,this.m_localYAxisA,r),t.DrawSegment(l,_,e.debugColors.joint1),t.DrawSegment(s.b2Vec2.SubtractScaled(l,.5,r,i),s.b2Vec2.AddScaled(l,.5,r,o),e.debugColors.joint2),t.DrawSegment(s.b2Vec2.SubtractScaled(_,.5,r,i),s.b2Vec2.AddScaled(_,.5,r,o),e.debugColors.joint3)}else t.DrawSegment(s.b2Vec2.Subtract(a,h,i),s.b2Vec2.Add(a,h,o),e.debugColors.joint1);t.DrawPoint(a,5,e.debugColors.joint1),t.DrawPoint(l,5,e.debugColors.joint4)}}exports.b2WheelJoint=a;
},{"../common/b2_common":"xZSi","../common/b2_math":"YmMi","./b2_joint":"PxaZ","../common/b2_draw":"J87F"}],"yXDC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2Contact=exports.b2ContactEdge=exports.b2MixRestitutionThreshold=exports.b2MixRestitution=exports.b2MixFriction=void 0;const t=require("../common/b2_common"),i=require("../collision/b2_collision");function e(t,i){return Math.sqrt(t*i)}function s(t,i){return t>i?t:i}function n(t,i){return t<i?t:i}exports.b2MixFriction=e,exports.b2MixRestitution=s,exports.b2MixRestitutionThreshold=n;class o{constructor(t){this.m_other=null,this.prev=null,this.next=null,this.contact=t}get other(){return t.b2Assert(null!==this.m_other),this.m_other}set other(i){t.b2Assert(null===this.m_other),this.m_other=i}Reset(){this.m_other=null,this.prev=null,this.next=null}}exports.b2ContactEdge=o;class h{constructor(){this.m_islandFlag=!1,this.m_touchingFlag=!1,this.m_enabledFlag=!1,this.m_filterFlag=!1,this.m_bulletHitFlag=!1,this.m_toiFlag=!1,this.m_prev=null,this.m_next=null,this.m_nodeA=new o(this),this.m_nodeB=new o(this),this.m_indexA=0,this.m_indexB=0,this.m_manifold=new i.b2Manifold,this.m_toiCount=0,this.m_toi=0,this.m_friction=0,this.m_restitution=0,this.m_restitutionThreshold=0,this.m_tangentSpeed=0,this.m_oldManifold=new i.b2Manifold}GetManifold(){return this.m_manifold}GetWorldManifold(t){const i=this.m_fixtureA.GetBody(),e=this.m_fixtureB.GetBody(),s=this.GetShapeA(),n=this.GetShapeB();t.Initialize(this.m_manifold,i.GetTransform(),s.m_radius,e.GetTransform(),n.m_radius)}IsTouching(){return this.m_touchingFlag}SetEnabled(t){this.m_enabledFlag=t}IsEnabled(){return this.m_enabledFlag}GetNext(){return this.m_next}GetFixtureA(){return this.m_fixtureA}GetChildIndexA(){return this.m_indexA}GetShapeA(){return this.m_fixtureA.GetShape()}GetFixtureB(){return this.m_fixtureB}GetChildIndexB(){return this.m_indexB}GetShapeB(){return this.m_fixtureB.GetShape()}FlagForFiltering(){this.m_filterFlag=!0}SetFriction(t){this.m_friction=t}GetFriction(){return this.m_friction}ResetFriction(){this.m_friction=e(this.m_fixtureA.m_friction,this.m_fixtureB.m_friction)}SetRestitution(t){this.m_restitution=t}GetRestitution(){return this.m_restitution}ResetRestitution(){this.m_restitution=s(this.m_fixtureA.m_restitution,this.m_fixtureB.m_restitution)}SetRestitutionThreshold(t){this.m_restitutionThreshold=t}GetRestitutionThreshold(){return this.m_restitutionThreshold}ResetRestitutionThreshold(){this.m_restitutionThreshold=n(this.m_fixtureA.m_restitutionThreshold,this.m_fixtureB.m_restitutionThreshold)}SetTangentSpeed(t){this.m_tangentSpeed=t}GetTangentSpeed(){return this.m_tangentSpeed}Reset(t,i,o,h){this.m_islandFlag=!1,this.m_touchingFlag=!1,this.m_enabledFlag=!0,this.m_filterFlag=!1,this.m_bulletHitFlag=!1,this.m_toiFlag=!1,this.m_fixtureA=t,this.m_fixtureB=o,this.m_indexA=i,this.m_indexB=h,this.m_manifold.pointCount=0,this.m_prev=null,this.m_next=null,this.m_nodeA.Reset(),this.m_nodeB.Reset(),this.m_toiCount=0,this.m_friction=e(this.m_fixtureA.m_friction,this.m_fixtureB.m_friction),this.m_restitution=s(this.m_fixtureA.m_restitution,this.m_fixtureB.m_restitution),this.m_restitutionThreshold=n(this.m_fixtureA.m_restitutionThreshold,this.m_fixtureB.m_restitutionThreshold)}Update(t){const e=this.m_oldManifold;this.m_oldManifold=this.m_manifold,this.m_manifold=e,this.m_enabledFlag=!0;let s=!1;const n=this.m_touchingFlag,o=this.m_fixtureA.IsSensor(),h=this.m_fixtureB.IsSensor(),r=o||h,m=this.m_fixtureA.GetBody(),l=this.m_fixtureB.GetBody(),_=m.GetTransform(),u=l.GetTransform();if(r){const t=this.GetShapeA(),e=this.GetShapeB();s=i.b2TestOverlap(t,this.m_indexA,e,this.m_indexB,_,u),this.m_manifold.pointCount=0}else{this.Evaluate(this.m_manifold,_,u),s=this.m_manifold.pointCount>0;for(let t=0;t<this.m_manifold.pointCount;++t){const i=this.m_manifold.points[t];i.normalImpulse=0,i.tangentImpulse=0;const e=i.id;for(let t=0;t<this.m_oldManifold.pointCount;++t){const s=this.m_oldManifold.points[t];if(s.id.key===e.key){i.normalImpulse=s.normalImpulse,i.tangentImpulse=s.tangentImpulse;break}}}s!==n&&(m.SetAwake(!0),l.SetAwake(!0))}this.m_touchingFlag=s,!n&&s&&t&&t.BeginContact(this),n&&!s&&t&&t.EndContact(this),!r&&s&&t&&t.PreSolve(this,this.m_oldManifold)}}exports.b2Contact=h;
},{"../common/b2_common":"xZSi","../collision/b2_collision":"DOG3"}],"IXQ3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2CircleContact=void 0;const e=require("../collision/b2_collide_circle"),t=require("./b2_contact");class c extends t.b2Contact{Evaluate(t,c,i){e.b2CollideCircles(t,this.GetShapeA(),c,this.GetShapeB(),i)}}exports.b2CircleContact=c;
},{"../collision/b2_collide_circle":"JHeH","./b2_contact":"yXDC"}],"DGrp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2PolygonContact=void 0;const e=require("../collision/b2_collide_polygon"),o=require("./b2_contact");class t extends o.b2Contact{Evaluate(o,t,l){e.b2CollidePolygons(o,this.GetShapeA(),t,this.GetShapeB(),l)}}exports.b2PolygonContact=t;
},{"../collision/b2_collide_polygon":"FXGt","./b2_contact":"yXDC"}],"En2B":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2PolygonAndCircleContact=void 0;const e=require("../collision/b2_collide_circle"),t=require("./b2_contact");class o extends t.b2Contact{Evaluate(t,o,l){e.b2CollidePolygonAndCircle(t,this.GetShapeA(),o,this.GetShapeB(),l)}}exports.b2PolygonAndCircleContact=o;
},{"../collision/b2_collide_circle":"JHeH","./b2_contact":"yXDC"}],"laQ5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2EdgeAndCircleContact=void 0;const e=require("../collision/b2_collide_edge"),t=require("./b2_contact");class o extends t.b2Contact{Evaluate(t,o,c){e.b2CollideEdgeAndCircle(t,this.GetShapeA(),o,this.GetShapeB(),c)}}exports.b2EdgeAndCircleContact=o;
},{"../collision/b2_collide_edge":"Xyzc","./b2_contact":"yXDC"}],"ZEo6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2EdgeAndPolygonContact=void 0;const e=require("../collision/b2_collide_edge"),t=require("./b2_contact");class o extends t.b2Contact{Evaluate(t,o,n){e.b2CollideEdgeAndPolygon(t,this.GetShapeA(),o,this.GetShapeB(),n)}}exports.b2EdgeAndPolygonContact=o;
},{"../collision/b2_collide_edge":"Xyzc","./b2_contact":"yXDC"}],"aagP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2ChainAndCircleContact=void 0;const e=require("../collision/b2_collide_edge"),t=require("../collision/b2_edge_shape"),i=require("./b2_contact");class s extends i.b2Contact{Evaluate(t,i,a){const d=s.Evaluate_s_edge;this.GetShapeA().GetChildEdge(d,this.m_indexA),e.b2CollideEdgeAndCircle(t,d,i,this.GetShapeB(),a)}}exports.b2ChainAndCircleContact=s,s.Evaluate_s_edge=new t.b2EdgeShape;
},{"../collision/b2_collide_edge":"Xyzc","../collision/b2_edge_shape":"xXrv","./b2_contact":"yXDC"}],"B22y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2ChainAndPolygonContact=void 0;const e=require("../collision/b2_collide_edge"),t=require("../collision/b2_edge_shape"),o=require("./b2_contact");class n extends o.b2Contact{Evaluate(t,o,i){const s=n.Evaluate_s_edge;this.GetShapeA().GetChildEdge(s,this.m_indexA),e.b2CollideEdgeAndPolygon(t,s,o,this.GetShapeB(),i)}}exports.b2ChainAndPolygonContact=n,n.Evaluate_s_edge=new t.b2EdgeShape;
},{"../collision/b2_collide_edge":"Xyzc","../collision/b2_edge_shape":"xXrv","./b2_contact":"yXDC"}],"VHzU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2ContactFactory=void 0;const e=require("../collision/b2_shape"),t=require("./b2_circle_contact"),c=require("./b2_polygon_contact"),o=require("./b2_polygon_circle_contact"),r=require("./b2_edge_circle_contact"),n=require("./b2_edge_polygon_contact"),p=require("./b2_chain_circle_contact"),y=require("./b2_chain_polygon_contact");class i{constructor(){const i=new Array(e.b2ShapeType.e_typeCount);for(let t=0;t<e.b2ShapeType.e_typeCount;t++)i[t]=new Array(e.b2ShapeType.e_typeCount);this.m_registers=i,this.AddType(t.b2CircleContact,e.b2ShapeType.e_circle,e.b2ShapeType.e_circle),this.AddType(o.b2PolygonAndCircleContact,e.b2ShapeType.e_polygon,e.b2ShapeType.e_circle),this.AddType(c.b2PolygonContact,e.b2ShapeType.e_polygon,e.b2ShapeType.e_polygon),this.AddType(r.b2EdgeAndCircleContact,e.b2ShapeType.e_edge,e.b2ShapeType.e_circle),this.AddType(n.b2EdgeAndPolygonContact,e.b2ShapeType.e_edge,e.b2ShapeType.e_polygon),this.AddType(p.b2ChainAndCircleContact,e.b2ShapeType.e_chain,e.b2ShapeType.e_circle),this.AddType(y.b2ChainAndPolygonContact,e.b2ShapeType.e_chain,e.b2ShapeType.e_polygon)}AddType(e,t,c){const o=[],r=e=>{o.push(e)};this.m_registers[t][c]={createFcn(t,c,r,n){var p;const y=null!==(p=o.pop())&&void 0!==p?p:new e;return y.Reset(t,c,r,n),y},destroyFcn:r},t!==c&&(this.m_registers[c][t]={createFcn(t,c,r,n){var p;const y=null!==(p=o.pop())&&void 0!==p?p:new e;return y.Reset(r,n,t,c),y},destroyFcn:r})}Create(e,t,c,o){const r=e.GetType(),n=c.GetType(),p=this.m_registers[r][n];return p?p.createFcn(e,t,c,o):null}Destroy(e){const t=e.m_fixtureA.GetType(),c=e.m_fixtureB.GetType(),o=this.m_registers[t][c];null==o||o.destroyFcn(e)}}exports.b2ContactFactory=i;
},{"../collision/b2_shape":"QXiX","./b2_circle_contact":"IXQ3","./b2_polygon_contact":"DGrp","./b2_polygon_circle_contact":"En2B","./b2_edge_circle_contact":"laQ5","./b2_edge_polygon_contact":"ZEo6","./b2_chain_circle_contact":"aagP","./b2_chain_polygon_contact":"B22y"}],"pQVy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2ContactListener=exports.b2ContactImpulse=exports.b2ContactFilter=exports.b2DestructionListener=void 0;const t=require("../common/b2_common");class e{SayGoodbyeJoint(t){}SayGoodbyeFixture(t){}}exports.b2DestructionListener=e;class o{ShouldCollide(t,e){const o=t.GetFilterData(),s=e.GetFilterData();return o.groupIndex===s.groupIndex&&0!==o.groupIndex?o.groupIndex>0:0!=(o.maskBits&s.categoryBits)&&0!=(o.categoryBits&s.maskBits)}}exports.b2ContactFilter=o,o.b2_defaultFilter=new o;class s{constructor(){this.normalImpulses=t.b2MakeNumberArray(t.b2_maxManifoldPoints),this.tangentImpulses=t.b2MakeNumberArray(t.b2_maxManifoldPoints),this.count=0}}exports.b2ContactImpulse=s;class r{BeginContact(t){}EndContact(t){}PreSolve(t,e){}PostSolve(t,e){}}exports.b2ContactListener=r,r.b2_defaultListener=new r;
},{"../common/b2_common":"xZSi"}],"up2J":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2ContactManager=void 0;const t=require("../collision/b2_broad_phase"),e=require("./b2_contact_factory"),n=require("./b2_body"),o=require("./b2_world_callbacks");class i{constructor(){this.m_broadPhase=new t.b2BroadPhase,this.m_contactList=null,this.m_contactCount=0,this.m_contactFilter=o.b2ContactFilter.b2_defaultFilter,this.m_contactListener=o.b2ContactListener.b2_defaultListener,this.m_contactFactory=new e.b2ContactFactory,this.AddPair=((t,e)=>{let n=t.fixture,o=e.fixture,i=t.childIndex,c=e.childIndex,r=n.GetBody(),_=o.GetBody();if(r===_)return;let s=_.GetContactList();for(;s;){if(s.other===r){const t=s.contact.GetFixtureA(),e=s.contact.GetFixtureB(),r=s.contact.GetChildIndexA(),_=s.contact.GetChildIndexB();if(t===n&&e===o&&r===i&&_===c)return;if(t===o&&e===n&&r===c&&_===i)return}s=s.next}if(!1===_.ShouldCollide(r))return;if(this.m_contactFilter&&!this.m_contactFilter.ShouldCollide(n,o))return;const a=this.m_contactFactory.Create(n,i,o,c);null!==a&&(n=a.GetFixtureA(),o=a.GetFixtureB(),i=a.GetChildIndexA(),c=a.GetChildIndexB(),r=n.m_body,_=o.m_body,a.m_prev=null,a.m_next=this.m_contactList,null!==this.m_contactList&&(this.m_contactList.m_prev=a),this.m_contactList=a,a.m_nodeA.other=_,a.m_nodeA.prev=null,a.m_nodeA.next=r.m_contactList,null!==r.m_contactList&&(r.m_contactList.prev=a.m_nodeA),r.m_contactList=a.m_nodeA,a.m_nodeB.other=r,a.m_nodeB.prev=null,a.m_nodeB.next=_.m_contactList,null!==_.m_contactList&&(_.m_contactList.prev=a.m_nodeB),_.m_contactList=a.m_nodeB,++this.m_contactCount)})}FindNewContacts(){this.m_broadPhase.UpdatePairs(this.AddPair)}Destroy(t){const e=t.GetFixtureA(),n=t.GetFixtureB(),o=e.GetBody(),i=n.GetBody();this.m_contactListener&&t.IsTouching()&&this.m_contactListener.EndContact(t),t.m_prev&&(t.m_prev.m_next=t.m_next),t.m_next&&(t.m_next.m_prev=t.m_prev),t===this.m_contactList&&(this.m_contactList=t.m_next),t.m_nodeA.prev&&(t.m_nodeA.prev.next=t.m_nodeA.next),t.m_nodeA.next&&(t.m_nodeA.next.prev=t.m_nodeA.prev),t.m_nodeA===o.m_contactList&&(o.m_contactList=t.m_nodeA.next),t.m_nodeB.prev&&(t.m_nodeB.prev.next=t.m_nodeB.next),t.m_nodeB.next&&(t.m_nodeB.next.prev=t.m_nodeB.prev),t.m_nodeB===i.m_contactList&&(i.m_contactList=t.m_nodeB.next),t.m_manifold.pointCount>0&&!e.IsSensor()&&!n.IsSensor()&&(e.GetBody().SetAwake(!0),n.GetBody().SetAwake(!0)),this.m_contactFactory.Destroy(t),--this.m_contactCount}Collide(){let t=this.m_contactList;for(;t;){const e=t.GetFixtureA(),o=t.GetFixtureB(),i=t.GetChildIndexA(),c=t.GetChildIndexB(),r=e.GetBody(),_=o.GetBody();if(t.m_filterFlag){if(!_.ShouldCollide(r)||this.m_contactFilter&&!this.m_contactFilter.ShouldCollide(e,o)){const e=t;t=e.m_next,this.Destroy(e);continue}t.m_filterFlag=!1}const s=r.IsAwake()&&r.m_type!==n.b2BodyType.b2_staticBody,a=_.IsAwake()&&_.m_type!==n.b2BodyType.b2_staticBody;if(!s&&!a){t=t.m_next;continue}const m=e.m_proxies[i].treeNode,d=o.m_proxies[c].treeNode;if(m.aabb.TestOverlap(d.aabb))t.Update(this.m_contactListener),t=t.m_next;else{const e=t;t=e.m_next,this.Destroy(e)}}}}exports.b2ContactManager=i;
},{"../collision/b2_broad_phase":"r8Yy","./b2_contact_factory":"VHzU","./b2_body":"hxRe","./b2_world_callbacks":"pQVy"}],"RCRk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2SolverData=exports.b2Velocity=exports.b2Position=exports.b2TimeStep=exports.b2Profile=void 0;const t=require("../common/b2_math");class s{constructor(){this.step=0,this.collide=0,this.solve=0,this.solveInit=0,this.solveVelocity=0,this.solvePosition=0,this.broadphase=0,this.solveTOI=0}Reset(){return this.step=0,this.collide=0,this.solve=0,this.solveInit=0,this.solveVelocity=0,this.solvePosition=0,this.broadphase=0,this.solveTOI=0,this}}exports.b2Profile=s;class i{constructor(){this.dt=0,this.inv_dt=0,this.dtRatio=0,this.config={velocityIterations:0,positionIterations:0},this.warmStarting=!1}static Create(){return new i}Copy(t){return this.dt=t.dt,this.inv_dt=t.inv_dt,this.dtRatio=t.dtRatio,this.config={...t.config},this.warmStarting=t.warmStarting,this}}exports.b2TimeStep=i;class o{constructor(){this.c=new t.b2Vec2,this.a=0}}exports.b2Position=o;class e{constructor(){this.v=new t.b2Vec2,this.w=0}}exports.b2Velocity=e;class r{constructor(){this.step=i.Create()}}exports.b2SolverData=r;
},{"../common/b2_math":"YmMi"}],"ZGZd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2ContactSolver=exports.b2ContactSolverDef=exports.b2ContactVelocityConstraint=exports.b2GetBlockSolve=exports.b2SetBlockSolve=void 0;const t=require("../common/b2_common"),s=require("../common/b2_math"),o=require("../collision/b2_collision"),e=require("./b2_time_step");let i=!0;function n(t){i=t}function a(){return i}exports.b2SetBlockSolve=n,exports.b2GetBlockSolve=a;class c{constructor(){this.rA=new s.b2Vec2,this.rB=new s.b2Vec2,this.normalImpulse=0,this.tangentImpulse=0,this.normalMass=0,this.tangentMass=0,this.velocityBias=0}}class r{constructor(){this.points=t.b2MakeArray(t.b2_maxManifoldPoints,c),this.normal=new s.b2Vec2,this.tangent=new s.b2Vec2,this.normalMass=new s.b2Mat22,this.K=new s.b2Mat22,this.indexA=0,this.indexB=0,this.invMassA=0,this.invMassB=0,this.invIA=0,this.invIB=0,this.friction=0,this.restitution=0,this.threshold=0,this.tangentSpeed=0,this.pointCount=0,this.contactIndex=0}}exports.b2ContactVelocityConstraint=r;class l{constructor(){this.localPoints=t.b2MakeArray(t.b2_maxManifoldPoints,s.b2Vec2),this.localNormal=new s.b2Vec2,this.localPoint=new s.b2Vec2,this.indexA=0,this.indexB=0,this.invMassA=0,this.invMassB=0,this.localCenterA=new s.b2Vec2,this.localCenterB=new s.b2Vec2,this.invIA=0,this.invIB=0,this.type=o.b2ManifoldType.e_circles,this.radiusA=0,this.radiusB=0,this.pointCount=0}}class _{constructor(){this.step=e.b2TimeStep.Create(),this.count=0}}exports.b2ContactSolverDef=_;class b{constructor(){this.normal=new s.b2Vec2,this.point=new s.b2Vec2,this.separation=0}Initialize(t,e,i,n){const a=b.Initialize_s_pointA,c=b.Initialize_s_pointB,r=b.Initialize_s_planePoint,l=b.Initialize_s_clipPoint;switch(t.type){case o.b2ManifoldType.e_circles:s.b2Transform.MultiplyVec2(e,t.localPoint,a),s.b2Transform.MultiplyVec2(i,t.localPoints[0],c),s.b2Vec2.Subtract(c,a,this.normal).Normalize(),s.b2Vec2.Mid(a,c,this.point),this.separation=s.b2Vec2.Dot(s.b2Vec2.Subtract(c,a,s.b2Vec2.s_t0),this.normal)-t.radiusA-t.radiusB;break;case o.b2ManifoldType.e_faceA:s.b2Rot.MultiplyVec2(e.q,t.localNormal,this.normal),s.b2Transform.MultiplyVec2(e,t.localPoint,r),s.b2Transform.MultiplyVec2(i,t.localPoints[n],l),this.separation=s.b2Vec2.Dot(s.b2Vec2.Subtract(l,r,s.b2Vec2.s_t0),this.normal)-t.radiusA-t.radiusB,this.point.Copy(l);break;case o.b2ManifoldType.e_faceB:s.b2Rot.MultiplyVec2(i.q,t.localNormal,this.normal),s.b2Transform.MultiplyVec2(i,t.localPoint,r),s.b2Transform.MultiplyVec2(e,t.localPoints[n],l),this.separation=s.b2Vec2.Dot(s.b2Vec2.Subtract(l,r,s.b2Vec2.s_t0),this.normal)-t.radiusA-t.radiusB,this.point.Copy(l),this.normal.Negate()}}}b.Initialize_s_pointA=new s.b2Vec2,b.Initialize_s_pointB=new s.b2Vec2,b.Initialize_s_planePoint=new s.b2Vec2,b.Initialize_s_clipPoint=new s.b2Vec2;class m{constructor(){this.m_step=e.b2TimeStep.Create(),this.m_positionConstraints=t.b2MakeArray(1024,l),this.m_velocityConstraints=t.b2MakeArray(1024,r),this.m_count=0}Initialize(t){if(this.m_step.Copy(t.step),this.m_count=t.count,this.m_positionConstraints.length<this.m_count){const t=Math.max(2*this.m_positionConstraints.length,this.m_count);for(;this.m_positionConstraints.length<t;)this.m_positionConstraints[this.m_positionConstraints.length]=new l}if(this.m_velocityConstraints.length<this.m_count){const t=Math.max(2*this.m_velocityConstraints.length,this.m_count);for(;this.m_velocityConstraints.length<t;)this.m_velocityConstraints[this.m_velocityConstraints.length]=new r}this.m_positions=t.positions,this.m_velocities=t.velocities,this.m_contacts=t.contacts;for(let s=0;s<this.m_count;++s){const t=this.m_contacts[s],o=t.m_fixtureA,e=t.m_fixtureB,i=o.GetShape(),n=e.GetShape(),a=i.m_radius,c=n.m_radius,r=o.GetBody(),l=e.GetBody(),_=t.GetManifold(),{pointCount:b}=_,m=this.m_velocityConstraints[s];m.friction=t.m_friction,m.restitution=t.m_restitution,m.threshold=t.m_restitutionThreshold,m.tangentSpeed=t.m_tangentSpeed,m.indexA=r.m_islandIndex,m.indexB=l.m_islandIndex,m.invMassA=r.m_invMass,m.invMassB=l.m_invMass,m.invIA=r.m_invI,m.invIB=l.m_invI,m.contactIndex=s,m.pointCount=b,m.K.SetZero(),m.normalMass.SetZero();const V=this.m_positionConstraints[s];V.indexA=r.m_islandIndex,V.indexB=l.m_islandIndex,V.invMassA=r.m_invMass,V.invMassB=l.m_invMass,V.localCenterA.Copy(r.m_sweep.localCenter),V.localCenterB.Copy(l.m_sweep.localCenter),V.invIA=r.m_invI,V.invIB=l.m_invI,V.localNormal.Copy(_.localNormal),V.localPoint.Copy(_.localPoint),V.pointCount=b,V.radiusA=a,V.radiusB=c,V.type=_.type;for(let s=0;s<b;++s){const t=_.points[s],o=m.points[s];this.m_step.warmStarting?(o.normalImpulse=this.m_step.dtRatio*t.normalImpulse,o.tangentImpulse=this.m_step.dtRatio*t.tangentImpulse):(o.normalImpulse=0,o.tangentImpulse=0),o.rA.SetZero(),o.rB.SetZero(),o.normalMass=0,o.tangentMass=0,o.velocityBias=0,V.localPoints[s].Copy(t.localPoint)}}return this}InitializeVelocityConstraints(){const t=m.InitializeVelocityConstraints_s_xfA,o=m.InitializeVelocityConstraints_s_xfB,e=m.InitializeVelocityConstraints_s_worldManifold;for(let n=0;n<this.m_count;++n){const a=this.m_velocityConstraints[n],c=this.m_positionConstraints[n],{radiusA:r,radiusB:l,localCenterA:_,localCenterB:b}=c,m=this.m_contacts[a.contactIndex].GetManifold(),{indexA:V,indexB:p,tangent:C,pointCount:S}=a,h=a.invMassA,u=a.invMassB,v=a.invIA,d=a.invIB,y=this.m_positions[V].c,A=this.m_positions[V].a,I=this.m_velocities[V].v,B=this.m_velocities[V].w,x=this.m_positions[p].c,M=this.m_positions[p].a,f=this.m_velocities[p].v,w=this.m_velocities[p].w;t.q.Set(A),o.q.Set(M),s.b2Vec2.Subtract(y,s.b2Rot.MultiplyVec2(t.q,_,s.b2Vec2.s_t0),t.p),s.b2Vec2.Subtract(x,s.b2Rot.MultiplyVec2(o.q,b,s.b2Vec2.s_t0),o.p),e.Initialize(m,t,r,o,l),a.normal.Copy(e.normal),s.b2Vec2.CrossVec2One(a.normal,C);for(let t=0;t<S;++t){const o=a.points[t];s.b2Vec2.Subtract(e.points[t],y,o.rA),s.b2Vec2.Subtract(e.points[t],x,o.rB);const i=s.b2Vec2.Cross(o.rA,a.normal),n=s.b2Vec2.Cross(o.rB,a.normal),c=h+u+v*i*i+d*n*n;o.normalMass=c>0?1/c:0;const r=s.b2Vec2.Cross(o.rA,C),l=s.b2Vec2.Cross(o.rB,C),_=h+u+v*r*r+d*l*l;o.tangentMass=_>0?1/_:0,o.velocityBias=0;const b=s.b2Vec2.Dot(a.normal,s.b2Vec2.Subtract(s.b2Vec2.AddCrossScalarVec2(f,w,o.rB,s.b2Vec2.s_t0),s.b2Vec2.AddCrossScalarVec2(I,B,o.rA,s.b2Vec2.s_t1),s.b2Vec2.s_t0));b<-a.threshold&&(o.velocityBias=-a.restitution*b)}if(2===a.pointCount&&i){const t=a.points[0],o=a.points[1],e=s.b2Vec2.Cross(t.rA,a.normal),i=s.b2Vec2.Cross(t.rB,a.normal),n=s.b2Vec2.Cross(o.rA,a.normal),c=s.b2Vec2.Cross(o.rB,a.normal),r=h+u+v*e*e+d*i*i,l=h+u+v*n*n+d*c*c,_=h+u+v*e*n+d*i*c;r*r<1e3*(r*l-_*_)?(a.K.ex.Set(r,_),a.K.ey.Set(_,l),a.K.GetInverse(a.normalMass)):a.pointCount=1}}}WarmStart(){const t=m.WarmStart_s_P;for(let o=0;o<this.m_count;++o){const e=this.m_velocityConstraints[o],{indexA:i,indexB:n,pointCount:a,normal:c,tangent:r}=e,l=e.invMassA,_=e.invIA,b=e.invMassB,m=e.invIB,V=this.m_velocities[i].v;let p=this.m_velocities[i].w;const C=this.m_velocities[n].v;let S=this.m_velocities[n].w;for(let o=0;o<a;++o){const i=e.points[o];s.b2Vec2.Add(s.b2Vec2.Scale(i.normalImpulse,c,s.b2Vec2.s_t0),s.b2Vec2.Scale(i.tangentImpulse,r,s.b2Vec2.s_t1),t),p-=_*s.b2Vec2.Cross(i.rA,t),V.SubtractScaled(l,t),S+=m*s.b2Vec2.Cross(i.rB,t),C.AddScaled(b,t)}this.m_velocities[i].w=p,this.m_velocities[n].w=S}}SolveVelocityConstraints(){const t=m.SolveVelocityConstraints_s_dv,o=m.SolveVelocityConstraints_s_dv1,e=m.SolveVelocityConstraints_s_dv2,n=m.SolveVelocityConstraints_s_P,a=m.SolveVelocityConstraints_s_a,c=m.SolveVelocityConstraints_s_b,r=m.SolveVelocityConstraints_s_x,l=m.SolveVelocityConstraints_s_d,_=m.SolveVelocityConstraints_s_P1,b=m.SolveVelocityConstraints_s_P2,V=m.SolveVelocityConstraints_s_P1P2;for(let m=0;m<this.m_count;++m){const p=this.m_velocityConstraints[m],{indexA:C,indexB:S,pointCount:h,normal:u,tangent:v,friction:d}=p,y=p.invMassA,A=p.invIA,I=p.invMassB,B=p.invIB,x=this.m_velocities[C].v;let M=this.m_velocities[C].w;const f=this.m_velocities[S].v;let w=this.m_velocities[S].w;for(let o=0;o<h;++o){const e=p.points[o];s.b2Vec2.Subtract(s.b2Vec2.AddCrossScalarVec2(f,w,e.rB,s.b2Vec2.s_t0),s.b2Vec2.AddCrossScalarVec2(x,M,e.rA,s.b2Vec2.s_t1),t);const i=s.b2Vec2.Dot(t,v)-p.tangentSpeed;let a=e.tangentMass*-i;const c=d*e.normalImpulse,r=s.b2Clamp(e.tangentImpulse+a,-c,c);a=r-e.tangentImpulse,e.tangentImpulse=r,s.b2Vec2.Scale(a,v,n),x.SubtractScaled(y,n),M-=A*s.b2Vec2.Cross(e.rA,n),f.AddScaled(I,n),w+=B*s.b2Vec2.Cross(e.rB,n)}if(1===p.pointCount||!1===i)for(let o=0;o<h;++o){const e=p.points[o];s.b2Vec2.Subtract(s.b2Vec2.AddCrossScalarVec2(f,w,e.rB,s.b2Vec2.s_t0),s.b2Vec2.AddCrossScalarVec2(x,M,e.rA,s.b2Vec2.s_t1),t);const i=s.b2Vec2.Dot(t,u);let a=-e.normalMass*(i-e.velocityBias);const c=Math.max(e.normalImpulse+a,0);a=c-e.normalImpulse,e.normalImpulse=c,s.b2Vec2.Scale(a,u,n),x.SubtractScaled(y,n),M-=A*s.b2Vec2.Cross(e.rA,n),f.AddScaled(I,n),w+=B*s.b2Vec2.Cross(e.rB,n)}else{const t=p.points[0],i=p.points[1];a.Set(t.normalImpulse,i.normalImpulse),s.b2Vec2.Subtract(s.b2Vec2.AddCrossScalarVec2(f,w,t.rB,s.b2Vec2.s_t0),s.b2Vec2.AddCrossScalarVec2(x,M,t.rA,s.b2Vec2.s_t1),o),s.b2Vec2.Subtract(s.b2Vec2.AddCrossScalarVec2(f,w,i.rB,s.b2Vec2.s_t0),s.b2Vec2.AddCrossScalarVec2(x,M,i.rA,s.b2Vec2.s_t1),e);let n=s.b2Vec2.Dot(o,u),m=s.b2Vec2.Dot(e,u);for(c.x=n-t.velocityBias,c.y=m-i.velocityBias,c.Subtract(s.b2Mat22.MultiplyVec2(p.K,a,s.b2Vec2.s_t0));;){if(s.b2Mat22.MultiplyVec2(p.normalMass,c,r).Negate(),r.x>=0&&r.y>=0){s.b2Vec2.Subtract(r,a,l),s.b2Vec2.Scale(l.x,u,_),s.b2Vec2.Scale(l.y,u,b),s.b2Vec2.Add(_,b,V),x.SubtractScaled(y,V),M-=A*(s.b2Vec2.Cross(t.rA,_)+s.b2Vec2.Cross(i.rA,b)),f.AddScaled(I,V),w+=B*(s.b2Vec2.Cross(t.rB,_)+s.b2Vec2.Cross(i.rB,b)),t.normalImpulse=r.x,i.normalImpulse=r.y;break}if(r.x=-t.normalMass*c.x,r.y=0,n=0,m=p.K.ex.y*r.x+c.y,r.x>=0&&m>=0){s.b2Vec2.Subtract(r,a,l),s.b2Vec2.Scale(l.x,u,_),s.b2Vec2.Scale(l.y,u,b),s.b2Vec2.Add(_,b,V),x.SubtractScaled(y,V),M-=A*(s.b2Vec2.Cross(t.rA,_)+s.b2Vec2.Cross(i.rA,b)),f.AddScaled(I,V),w+=B*(s.b2Vec2.Cross(t.rB,_)+s.b2Vec2.Cross(i.rB,b)),t.normalImpulse=r.x,i.normalImpulse=r.y;break}if(r.x=0,r.y=-i.normalMass*c.y,n=p.K.ey.x*r.y+c.x,m=0,r.y>=0&&n>=0){s.b2Vec2.Subtract(r,a,l),s.b2Vec2.Scale(l.x,u,_),s.b2Vec2.Scale(l.y,u,b),s.b2Vec2.Add(_,b,V),x.SubtractScaled(y,V),M-=A*(s.b2Vec2.Cross(t.rA,_)+s.b2Vec2.Cross(i.rA,b)),f.AddScaled(I,V),w+=B*(s.b2Vec2.Cross(t.rB,_)+s.b2Vec2.Cross(i.rB,b)),t.normalImpulse=r.x,i.normalImpulse=r.y;break}if(r.x=0,r.y=0,n=c.x,m=c.y,n>=0&&m>=0){s.b2Vec2.Subtract(r,a,l),s.b2Vec2.Scale(l.x,u,_),s.b2Vec2.Scale(l.y,u,b),s.b2Vec2.Add(_,b,V),x.SubtractScaled(y,V),M-=A*(s.b2Vec2.Cross(t.rA,_)+s.b2Vec2.Cross(i.rA,b)),f.AddScaled(I,V),w+=B*(s.b2Vec2.Cross(t.rB,_)+s.b2Vec2.Cross(i.rB,b)),t.normalImpulse=r.x,i.normalImpulse=r.y;break}break}}this.m_velocities[C].w=M,this.m_velocities[S].w=w}}StoreImpulses(){for(let t=0;t<this.m_count;++t){const s=this.m_velocityConstraints[t],o=this.m_contacts[s.contactIndex].GetManifold();for(let t=0;t<s.pointCount;++t)o.points[t].normalImpulse=s.points[t].normalImpulse,o.points[t].tangentImpulse=s.points[t].tangentImpulse}}SolvePositionConstraints(){const o=m.SolvePositionConstraints_s_xfA,e=m.SolvePositionConstraints_s_xfB,i=m.SolvePositionConstraints_s_psm,n=m.SolvePositionConstraints_s_rA,a=m.SolvePositionConstraints_s_rB,c=m.SolvePositionConstraints_s_P;let r=0;for(let l=0;l<this.m_count;++l){const _=this.m_positionConstraints[l],{indexA:b,indexB:m,localCenterA:V,localCenterB:p,pointCount:C}=_,S=_.invMassA,h=_.invIA,u=_.invMassB,v=_.invIB,d=this.m_positions[b].c;let y=this.m_positions[b].a;const A=this.m_positions[m].c;let I=this.m_positions[m].a;for(let l=0;l<C;++l){o.q.Set(y),e.q.Set(I),s.b2Vec2.Subtract(d,s.b2Rot.MultiplyVec2(o.q,V,s.b2Vec2.s_t0),o.p),s.b2Vec2.Subtract(A,s.b2Rot.MultiplyVec2(e.q,p,s.b2Vec2.s_t0),e.p),i.Initialize(_,o,e,l);const{normal:b,point:m,separation:C}=i;s.b2Vec2.Subtract(m,d,n),s.b2Vec2.Subtract(m,A,a),r=Math.min(r,C);const B=s.b2Clamp(t.b2_baumgarte*(C+t.b2_linearSlop),-t.b2_maxLinearCorrection,0),x=s.b2Vec2.Cross(n,b),M=s.b2Vec2.Cross(a,b),f=S+u+h*x*x+v*M*M,w=f>0?-B/f:0;s.b2Vec2.Scale(w,b,c),d.SubtractScaled(S,c),y-=h*s.b2Vec2.Cross(n,c),A.AddScaled(u,c),I+=v*s.b2Vec2.Cross(a,c)}this.m_positions[b].c.Copy(d),this.m_positions[b].a=y,this.m_positions[m].c.Copy(A),this.m_positions[m].a=I}return r>=-3*t.b2_linearSlop}SolveTOIPositionConstraints(o,e){const i=m.SolveTOIPositionConstraints_s_xfA,n=m.SolveTOIPositionConstraints_s_xfB,a=m.SolveTOIPositionConstraints_s_psm,c=m.SolveTOIPositionConstraints_s_rA,r=m.SolveTOIPositionConstraints_s_rB,l=m.SolveTOIPositionConstraints_s_P;let _=0;for(let b=0;b<this.m_count;++b){const m=this.m_positionConstraints[b],{indexA:V,indexB:p,localCenterA:C,localCenterB:S,pointCount:h}=m;let u=0,v=0;V!==o&&V!==e||(u=m.invMassA,v=m.invIA);let d=0,y=0;p!==o&&p!==e||(d=m.invMassB,y=m.invIB);const A=this.m_positions[V].c;let I=this.m_positions[V].a;const B=this.m_positions[p].c;let x=this.m_positions[p].a;for(let o=0;o<h;++o){i.q.Set(I),n.q.Set(x),s.b2Vec2.Subtract(A,s.b2Rot.MultiplyVec2(i.q,C,s.b2Vec2.s_t0),i.p),s.b2Vec2.Subtract(B,s.b2Rot.MultiplyVec2(n.q,S,s.b2Vec2.s_t0),n.p),a.Initialize(m,i,n,o);const{normal:e,point:b,separation:V}=a;s.b2Vec2.Subtract(b,A,c),s.b2Vec2.Subtract(b,B,r),_=Math.min(_,V);const p=s.b2Clamp(t.b2_toiBaumgarte*(V+t.b2_linearSlop),-t.b2_maxLinearCorrection,0),h=s.b2Vec2.Cross(c,e),M=s.b2Vec2.Cross(r,e),f=u+d+v*h*h+y*M*M,w=f>0?-p/f:0;s.b2Vec2.Scale(w,e,l),A.SubtractScaled(u,l),I-=v*s.b2Vec2.Cross(c,l),B.AddScaled(d,l),x+=y*s.b2Vec2.Cross(r,l)}this.m_positions[V].a=I,this.m_positions[p].a=x}return _>=-1.5*t.b2_linearSlop}}exports.b2ContactSolver=m,m.InitializeVelocityConstraints_s_xfA=new s.b2Transform,m.InitializeVelocityConstraints_s_xfB=new s.b2Transform,m.InitializeVelocityConstraints_s_worldManifold=new o.b2WorldManifold,m.WarmStart_s_P=new s.b2Vec2,m.SolveVelocityConstraints_s_dv=new s.b2Vec2,m.SolveVelocityConstraints_s_dv1=new s.b2Vec2,m.SolveVelocityConstraints_s_dv2=new s.b2Vec2,m.SolveVelocityConstraints_s_P=new s.b2Vec2,m.SolveVelocityConstraints_s_a=new s.b2Vec2,m.SolveVelocityConstraints_s_b=new s.b2Vec2,m.SolveVelocityConstraints_s_x=new s.b2Vec2,m.SolveVelocityConstraints_s_d=new s.b2Vec2,m.SolveVelocityConstraints_s_P1=new s.b2Vec2,m.SolveVelocityConstraints_s_P2=new s.b2Vec2,m.SolveVelocityConstraints_s_P1P2=new s.b2Vec2,m.SolvePositionConstraints_s_xfA=new s.b2Transform,m.SolvePositionConstraints_s_xfB=new s.b2Transform,m.SolvePositionConstraints_s_psm=new b,m.SolvePositionConstraints_s_rA=new s.b2Vec2,m.SolvePositionConstraints_s_rB=new s.b2Vec2,m.SolvePositionConstraints_s_P=new s.b2Vec2,m.SolveTOIPositionConstraints_s_xfA=new s.b2Transform,m.SolveTOIPositionConstraints_s_xfB=new s.b2Transform,m.SolveTOIPositionConstraints_s_psm=new b,m.SolveTOIPositionConstraints_s_rA=new s.b2Vec2,m.SolveTOIPositionConstraints_s_rB=new s.b2Vec2,m.SolveTOIPositionConstraints_s_P=new s.b2Vec2;
},{"../common/b2_common":"xZSi","../common/b2_math":"YmMi","../collision/b2_collision":"DOG3","./b2_time_step":"RCRk"}],"zv4G":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2Island=void 0;const t=require("../common/b2_common"),o=require("../common/b2_math"),i=require("../common/b2_timer"),s=require("./b2_contact_solver"),e=require("./b2_body"),n=require("./b2_time_step"),a=require("./b2_world_callbacks");class m{constructor(o,i,s,e){this.m_bodyCount=0,this.m_jointCount=0,this.m_contactCount=0,this.m_bodyCapacity=o,this.m_listener=e,this.m_bodies=new Array(o),this.m_contacts=new Array(i),this.m_joints=new Array(s),this.m_velocities=t.b2MakeArray(o,n.b2Velocity),this.m_positions=t.b2MakeArray(o,n.b2Position),this.Resize(o)}Resize(t){for(;this.m_bodyCapacity<t;)this.m_velocities[this.m_bodyCapacity]=new n.b2Velocity,this.m_positions[this.m_bodyCapacity]=new n.b2Position,this.m_bodyCapacity++}Clear(){this.m_bodyCount=0,this.m_contactCount=0,this.m_jointCount=0}AddBody(t){t.m_islandIndex=this.m_bodyCount,this.m_bodies[this.m_bodyCount]=t,++this.m_bodyCount}AddContact(t){this.m_contacts[this.m_contactCount++]=t}AddJoint(t){this.m_joints[this.m_jointCount++]=t}Solve(i,s,n,a){const c=m.s_timer.Reset(),_=s.dt;for(let t=0;t<this.m_bodyCount;++t){const o=this.m_bodies[t];this.m_positions[t].c.Copy(o.m_sweep.c);const{a:i}=o.m_sweep,s=this.m_velocities[t].v.Copy(o.m_linearVelocity);let a=o.m_angularVelocity;o.m_sweep.c0.Copy(o.m_sweep.c),o.m_sweep.a0=o.m_sweep.a,o.m_type===e.b2BodyType.b2_dynamicBody&&(s.x+=_*o.m_invMass*(o.m_gravityScale*o.m_mass*n.x+o.m_force.x),s.y+=_*o.m_invMass*(o.m_gravityScale*o.m_mass*n.y+o.m_force.y),a+=_*o.m_invI*o.m_torque,s.Scale(1/(1+_*o.m_linearDamping)),a*=1/(1+_*o.m_angularDamping)),this.m_positions[t].a=i,this.m_velocities[t].w=a}c.Reset();const l=m.s_solverData;l.step.Copy(s),l.positions=this.m_positions,l.velocities=this.m_velocities;const r=m.s_contactSolverDef;r.step.Copy(s),r.contacts=this.m_contacts,r.count=this.m_contactCount,r.positions=this.m_positions,r.velocities=this.m_velocities;const h=m.s_contactSolver.Initialize(r);h.InitializeVelocityConstraints(),s.warmStarting&&h.WarmStart();for(let t=0;t<this.m_jointCount;++t)this.m_joints[t].InitVelocityConstraints(l);i.solveInit=c.GetMilliseconds(),c.Reset();for(let t=0;t<s.config.velocityIterations;++t){for(let t=0;t<this.m_jointCount;++t)this.m_joints[t].SolveVelocityConstraints(l);h.SolveVelocityConstraints()}h.StoreImpulses(),i.solveVelocity=c.GetMilliseconds();for(let e=0;e<this.m_bodyCount;++e){const{c:i}=this.m_positions[e];let{a:s}=this.m_positions[e];const{v:n}=this.m_velocities[e];let{w:a}=this.m_velocities[e];const c=o.b2Vec2.Scale(_,n,m.s_translation);if(o.b2Vec2.Dot(c,c)>t.b2_maxTranslationSquared){const o=t.b2_maxTranslation/c.Length();n.Scale(o)}const l=_*a;if(l*l>t.b2_maxRotationSquared){a*=t.b2_maxRotation/Math.abs(l)}i.AddScaled(_,n),s+=_*a,this.m_positions[e].a=s,this.m_velocities[e].w=a}c.Reset();let p=!1;for(let t=0;t<s.config.positionIterations;++t){const t=h.SolvePositionConstraints();let o=!0;for(let i=0;i<this.m_jointCount;++i){const t=this.m_joints[i].SolvePositionConstraints(l);o=o&&t}if(t&&o){p=!0;break}}for(let t=0;t<this.m_bodyCount;++t){const o=this.m_bodies[t];o.m_sweep.c.Copy(this.m_positions[t].c),o.m_sweep.a=this.m_positions[t].a,o.m_linearVelocity.Copy(this.m_velocities[t].v),o.m_angularVelocity=this.m_velocities[t].w,o.SynchronizeTransform()}if(i.solvePosition=c.GetMilliseconds(),this.Report(h.m_velocityConstraints),a){let i=t.b2_maxFloat;const s=t.b2_linearSleepTolerance*t.b2_linearSleepTolerance,n=t.b2_angularSleepTolerance*t.b2_angularSleepTolerance;for(let t=0;t<this.m_bodyCount;++t){const a=this.m_bodies[t];a.GetType()!==e.b2BodyType.b2_staticBody&&(!a.m_autoSleepFlag||a.m_angularVelocity*a.m_angularVelocity>n||o.b2Vec2.Dot(a.m_linearVelocity,a.m_linearVelocity)>s?(a.m_sleepTime=0,i=0):(a.m_sleepTime+=_,i=Math.min(i,a.m_sleepTime)))}if(i>=t.b2_timeToSleep&&p)for(let t=0;t<this.m_bodyCount;++t){this.m_bodies[t].SetAwake(!1)}}}SolveTOI(i,s,e){for(let t=0;t<this.m_bodyCount;++t){const o=this.m_bodies[t];this.m_positions[t].c.Copy(o.m_sweep.c),this.m_positions[t].a=o.m_sweep.a,this.m_velocities[t].v.Copy(o.m_linearVelocity),this.m_velocities[t].w=o.m_angularVelocity}const n=m.s_contactSolverDef;n.contacts=this.m_contacts,n.count=this.m_contactCount,n.step.Copy(i),n.positions=this.m_positions,n.velocities=this.m_velocities;const a=m.s_contactSolver.Initialize(n);for(let t=0;t<i.config.positionIterations;++t){if(a.SolveTOIPositionConstraints(s,e))break}this.m_bodies[s].m_sweep.c0.Copy(this.m_positions[s].c),this.m_bodies[s].m_sweep.a0=this.m_positions[s].a,this.m_bodies[e].m_sweep.c0.Copy(this.m_positions[e].c),this.m_bodies[e].m_sweep.a0=this.m_positions[e].a,a.InitializeVelocityConstraints();for(let t=0;t<i.config.velocityIterations;++t)a.SolveVelocityConstraints();const c=i.dt;for(let _=0;_<this.m_bodyCount;++_){const{c:i}=this.m_positions[_];let{a:s}=this.m_positions[_];const{v:e}=this.m_velocities[_];let{w:n}=this.m_velocities[_];const a=o.b2Vec2.Scale(c,e,m.s_translation);if(o.b2Vec2.Dot(a,a)>t.b2_maxTranslationSquared){const o=t.b2_maxTranslation/a.Length();e.Scale(o)}const l=c*n;if(l*l>t.b2_maxRotationSquared){n*=t.b2_maxRotation/Math.abs(l)}i.AddScaled(c,e),s+=c*n,this.m_positions[_].a=s,this.m_velocities[_].w=n;const r=this.m_bodies[_];r.m_sweep.c.Copy(i),r.m_sweep.a=s,r.m_linearVelocity.Copy(e),r.m_angularVelocity=n,r.SynchronizeTransform()}this.Report(a.m_velocityConstraints)}Report(t){for(let o=0;o<this.m_contactCount;++o){const i=this.m_contacts[o],s=t[o],e=m.s_impulse;e.count=s.pointCount;for(let t=0;t<s.pointCount;++t)e.normalImpulses[t]=s.points[t].normalImpulse,e.tangentImpulses[t]=s.points[t].tangentImpulse;this.m_listener.PostSolve(i,e)}}}exports.b2Island=m,m.s_timer=new i.b2Timer,m.s_solverData=new n.b2SolverData,m.s_contactSolverDef=new s.b2ContactSolverDef,m.s_contactSolver=new s.b2ContactSolver,m.s_translation=new o.b2Vec2,m.s_impulse=new a.b2ContactImpulse;
},{"../common/b2_common":"xZSi","../common/b2_math":"YmMi","../common/b2_timer":"KajI","./b2_contact_solver":"ZGZd","./b2_body":"hxRe","./b2_time_step":"RCRk","./b2_world_callbacks":"pQVy"}],"Me8u":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2World=void 0;const t=require("../common/b2_common"),e=require("../common/b2_math"),i=require("../common/b2_timer"),n=require("../collision/b2_collision"),o=require("../collision/b2_time_of_impact"),s=require("./b2_joint"),r=require("./b2_area_joint"),_=require("./b2_distance_joint"),a=require("./b2_friction_joint"),m=require("./b2_gear_joint"),l=require("./b2_motor_joint"),c=require("./b2_mouse_joint"),u=require("./b2_prismatic_joint"),d=require("./b2_pulley_joint"),p=require("./b2_revolute_joint"),h=require("./b2_weld_joint"),y=require("./b2_wheel_joint"),b=require("./b2_body"),g=require("./b2_contact_manager"),S=require("./b2_island"),f=require("./b2_time_step");class x{constructor(i){this.m_contactManager=new g.b2ContactManager,this.m_bodyList=null,this.m_jointList=null,this.m_bodyCount=0,this.m_jointCount=0,this.m_gravity=new e.b2Vec2,this.m_allowSleep=!0,this.m_destructionListener=null,this.m_inv_dt0=0,this.m_newContacts=!1,this.m_locked=!1,this.m_clearForces=!0,this.m_warmStarting=!0,this.m_continuousPhysics=!0,this.m_subStepping=!1,this.m_stepComplete=!0,this.m_profile=new f.b2Profile,this.m_island=new S.b2Island(2*t.b2_maxTOIContacts,t.b2_maxTOIContacts,0,this.m_contactManager.m_contactListener),this.s_stack=[],this.m_gravity.Copy(i)}static Create(t){return new x(t)}SetDestructionListener(t){this.m_destructionListener=t}GetDestructionListener(){return this.m_destructionListener}SetContactFilter(t){this.m_contactManager.m_contactFilter=t}SetContactListener(t){this.m_contactManager.m_contactListener=t,this.m_island.m_listener=t}CreateBody(e={}){t.b2Assert(!this.IsLocked());const i=new b.b2Body(e,this);return i.m_prev=null,i.m_next=this.m_bodyList,this.m_bodyList&&(this.m_bodyList.m_prev=i),this.m_bodyList=i,++this.m_bodyCount,i}DestroyBody(e){var i,n;t.b2Assert(!this.IsLocked());let o=e.m_jointList;for(;o;){const t=o;o=o.next,null===(i=this.m_destructionListener)||void 0===i||i.SayGoodbyeJoint(t.joint),this.DestroyJoint(t.joint),e.m_jointList=o}e.m_jointList=null;let s=e.m_contactList;for(;s;){const t=s;s=s.next,this.m_contactManager.Destroy(t.contact)}e.m_contactList=null;const r=this.m_contactManager.m_broadPhase;let _=e.m_fixtureList;for(;_;){const t=_;_=_.m_next,null===(n=this.m_destructionListener)||void 0===n||n.SayGoodbyeFixture(t),t.DestroyProxies(r),e.m_fixtureList=_,e.m_fixtureCount-=1}e.m_fixtureList=null,e.m_fixtureCount=0,e.m_prev&&(e.m_prev.m_next=e.m_next),e.m_next&&(e.m_next.m_prev=e.m_prev),e===this.m_bodyList&&(this.m_bodyList=e.m_next),--this.m_bodyCount}static Joint_Create(t){switch(t.type){case s.b2JointType.e_distanceJoint:return new _.b2DistanceJoint(t);case s.b2JointType.e_mouseJoint:return new c.b2MouseJoint(t);case s.b2JointType.e_prismaticJoint:return new u.b2PrismaticJoint(t);case s.b2JointType.e_revoluteJoint:return new p.b2RevoluteJoint(t);case s.b2JointType.e_pulleyJoint:return new d.b2PulleyJoint(t);case s.b2JointType.e_gearJoint:return new m.b2GearJoint(t);case s.b2JointType.e_wheelJoint:return new y.b2WheelJoint(t);case s.b2JointType.e_weldJoint:return new h.b2WeldJoint(t);case s.b2JointType.e_frictionJoint:return new a.b2FrictionJoint(t);case s.b2JointType.e_motorJoint:return new l.b2MotorJoint(t);case s.b2JointType.e_areaJoint:return new r.b2AreaJoint(t)}throw new Error}CreateJoint(e){t.b2Assert(!this.IsLocked());const i=x.Joint_Create(e);i.m_prev=null,i.m_next=this.m_jointList,this.m_jointList&&(this.m_jointList.m_prev=i),this.m_jointList=i,++this.m_jointCount,i.m_edgeA.prev=null,i.m_edgeA.next=i.m_bodyA.m_jointList,i.m_bodyA.m_jointList&&(i.m_bodyA.m_jointList.prev=i.m_edgeA),i.m_bodyA.m_jointList=i.m_edgeA,i.m_edgeB.prev=null,i.m_edgeB.next=i.m_bodyB.m_jointList,i.m_bodyB.m_jointList&&(i.m_bodyB.m_jointList.prev=i.m_edgeB),i.m_bodyB.m_jointList=i.m_edgeB;const n=i.m_bodyA,o=i.m_bodyB;if(!e.collideConnected){let t=o.GetContactList();for(;t;)t.other===n&&t.contact.FlagForFiltering(),t=t.next}return i}DestroyJoint(e){t.b2Assert(!this.IsLocked()),e.m_prev&&(e.m_prev.m_next=e.m_next),e.m_next&&(e.m_next.m_prev=e.m_prev),e===this.m_jointList&&(this.m_jointList=e.m_next);const i=e.m_bodyA,n=e.m_bodyB,o=e.m_collideConnected;if(i.SetAwake(!0),n.SetAwake(!0),e.m_edgeA.prev&&(e.m_edgeA.prev.next=e.m_edgeA.next),e.m_edgeA.next&&(e.m_edgeA.next.prev=e.m_edgeA.prev),e.m_edgeA===i.m_jointList&&(i.m_jointList=e.m_edgeA.next),e.m_edgeA.prev=null,e.m_edgeA.next=null,e.m_edgeB.prev&&(e.m_edgeB.prev.next=e.m_edgeB.next),e.m_edgeB.next&&(e.m_edgeB.next.prev=e.m_edgeB.prev),e.m_edgeB===n.m_jointList&&(n.m_jointList=e.m_edgeB.next),e.m_edgeB.prev=null,e.m_edgeB.next=null,--this.m_jointCount,!o){let t=n.GetContactList();for(;t;)t.other===i&&t.contact.FlagForFiltering(),t=t.next}}Step(t,e){const i=x.Step_s_stepTimer.Reset();this.m_newContacts&&(this.m_contactManager.FindNewContacts(),this.m_newContacts=!1),this.m_locked=!0;const n=x.Step_s_step;n.dt=t,n.config={...e},n.inv_dt=t>0?1/t:0,n.dtRatio=this.m_inv_dt0*t,n.warmStarting=this.m_warmStarting;{const t=x.Step_s_timer.Reset();this.m_contactManager.Collide(),this.m_profile.collide=t.GetMilliseconds()}if(this.m_stepComplete&&n.dt>0){const t=x.Step_s_timer.Reset();this.Solve(n),this.m_profile.solve=t.GetMilliseconds()}if(this.m_continuousPhysics&&n.dt>0){const t=x.Step_s_timer.Reset();this.SolveTOI(n),this.m_profile.solveTOI=t.GetMilliseconds()}n.dt>0&&(this.m_inv_dt0=n.inv_dt),this.m_clearForces&&this.ClearForces(),this.m_locked=!1,this.m_profile.step=i.GetMilliseconds()}ClearForces(){for(let t=this.m_bodyList;t;t=t.GetNext())t.m_force.SetZero(),t.m_torque=0}QueryAABB(e,i){this.m_contactManager.m_broadPhase.Query(e,e=>{const n=t.b2Verify(e.userData);return i(n.fixture)})}QueryAllAABB(t,e=[]){return this.QueryAABB(t,t=>(e.push(t),!0)),e}QueryPointAABB(e,i){this.m_contactManager.m_broadPhase.QueryPoint(e,e=>{const n=t.b2Verify(e.userData);return i(n.fixture)})}QueryAllPointAABB(t,e=[]){return this.QueryPointAABB(t,t=>(e.push(t),!0)),e}QueryFixtureShape(e,i,o,s){const r=x.QueryFixtureShape_s_aabb;e.ComputeAABB(r,o,i),this.m_contactManager.m_broadPhase.Query(r,r=>{const _=t.b2Verify(r.userData),{fixture:a}=_;return!n.b2TestOverlap(e,i,a.GetShape(),_.childIndex,o,a.GetBody().GetTransform())||s(a)})}QueryAllFixtureShape(t,e,i,n=[]){return this.QueryFixtureShape(t,e,i,t=>(n.push(t),!0)),n}QueryFixturePoint(e,i){this.m_contactManager.m_broadPhase.QueryPoint(e,n=>{const o=t.b2Verify(n.userData),{fixture:s}=o;return!s.TestPoint(e)||i(s)})}QueryAllFixturePoint(t,e=[]){return this.QueryFixturePoint(t,t=>(e.push(t),!0)),e}RayCast(e,i,n){const o=x.RayCast_s_input;o.maxFraction=1,o.p1.Copy(e),o.p2.Copy(i),this.m_contactManager.m_broadPhase.RayCast(o,(o,s)=>{const r=t.b2Verify(s.userData),{fixture:_}=r,a=r.childIndex,m=x.RayCast_s_output;if(_.RayCast(m,o,a)){const{fraction:t}=m,o=x.RayCast_s_point;return o.Set((1-t)*e.x+t*i.x,(1-t)*e.y+t*i.y),n(_,o,m.normal,t)}return o.maxFraction})}RayCastOne(t,e){let i=null,n=1;return this.RayCast(t,e,(t,e,o,s)=>(s<n&&(n=s,i=t),n)),i}RayCastAll(t,e,i=[]){return this.RayCast(t,e,t=>(i.push(t),1)),i}GetBodyList(){return this.m_bodyList}GetJointList(){return this.m_jointList}GetContactList(){return this.m_contactManager.m_contactList}SetAllowSleeping(t){if(t!==this.m_allowSleep&&(this.m_allowSleep=t,!this.m_allowSleep))for(let e=this.m_bodyList;e;e=e.m_next)e.SetAwake(!0)}GetAllowSleeping(){return this.m_allowSleep}SetWarmStarting(t){this.m_warmStarting=t}GetWarmStarting(){return this.m_warmStarting}SetContinuousPhysics(t){this.m_continuousPhysics=t}GetContinuousPhysics(){return this.m_continuousPhysics}SetSubStepping(t){this.m_subStepping=t}GetSubStepping(){return this.m_subStepping}GetProxyCount(){return this.m_contactManager.m_broadPhase.GetProxyCount()}GetBodyCount(){return this.m_bodyCount}GetJointCount(){return this.m_jointCount}GetContactCount(){return this.m_contactManager.m_contactCount}GetTreeHeight(){return this.m_contactManager.m_broadPhase.GetTreeHeight()}GetTreeBalance(){return this.m_contactManager.m_broadPhase.GetTreeBalance()}GetTreeQuality(){return this.m_contactManager.m_broadPhase.GetTreeQuality()}SetGravity(t){this.m_gravity.Copy(t)}GetGravity(){return this.m_gravity}IsLocked(){return this.m_locked}SetAutoClearForces(t){this.m_clearForces=t}GetAutoClearForces(){return this.m_clearForces}ShiftOrigin(e){t.b2Assert(!this.IsLocked());for(let t=this.m_bodyList;t;t=t.m_next)t.m_xf.p.Subtract(e),t.m_sweep.c0.Subtract(e),t.m_sweep.c.Subtract(e);for(let t=this.m_jointList;t;t=t.m_next)t.ShiftOrigin(e);this.m_contactManager.m_broadPhase.ShiftOrigin(e)}GetContactManager(){return this.m_contactManager}GetProfile(){return this.m_profile}Solve(e){this.m_profile.solveInit=0,this.m_profile.solveVelocity=0,this.m_profile.solvePosition=0;const n=this.m_island;n.Resize(this.m_bodyCount),n.Clear();for(let t=this.m_bodyList;t;t=t.m_next)t.m_islandFlag=!1;for(let t=this.m_contactManager.m_contactList;t;t=t.m_next)t.m_islandFlag=!1;for(let t=this.m_jointList;t;t=t.m_next)t.m_islandFlag=!1;const o=this.s_stack;for(let i=this.m_bodyList;i;i=i.m_next){if(i.m_islandFlag)continue;if(!i.IsAwake()||!i.IsEnabled())continue;if(i.GetType()===b.b2BodyType.b2_staticBody)continue;n.Clear();let s=0;for(o[s++]=i,i.m_islandFlag=!0;s>0;){const e=o[--s];if(t.b2Assert(null!==e),n.AddBody(e),e.GetType()!==b.b2BodyType.b2_staticBody){e.m_awakeFlag=!0;for(let t=e.m_contactList;t;t=t.next){const{contact:e}=t;if(e.m_islandFlag)continue;if(!e.IsEnabled()||!e.IsTouching())continue;const i=e.m_fixtureA.m_isSensor,r=e.m_fixtureB.m_isSensor;if(i||r)continue;n.AddContact(e),e.m_islandFlag=!0;const{other:_}=t;_.m_islandFlag||(o[s++]=_,_.m_islandFlag=!0)}for(let t=e.m_jointList;t;t=t.next){if(t.joint.m_islandFlag)continue;const{other:e}=t;e.IsEnabled()&&(n.AddJoint(t.joint),t.joint.m_islandFlag=!0,e.m_islandFlag||(o[s++]=e,e.m_islandFlag=!0))}}}const r=new f.b2Profile;n.Solve(r,e,this.m_gravity,this.m_allowSleep),this.m_profile.solveInit+=r.solveInit,this.m_profile.solveVelocity+=r.solveVelocity,this.m_profile.solvePosition+=r.solvePosition;for(let t=0;t<n.m_bodyCount;++t){const e=n.m_bodies[t];e.GetType()===b.b2BodyType.b2_staticBody&&(e.m_islandFlag=!1)}}for(let t=0;t<o.length&&o[t];++t)o[t]=null;const s=new i.b2Timer;for(let t=this.m_bodyList;t;t=t.m_next)t.m_islandFlag&&t.GetType()!==b.b2BodyType.b2_staticBody&&t.SynchronizeFixtures();this.m_contactManager.FindNewContacts(),this.m_profile.broadphase=s.GetMilliseconds()}SolveTOI(e){const i=this.m_island;if(i.Clear(),this.m_stepComplete){for(let t=this.m_bodyList;t;t=t.m_next)t.m_islandFlag=!1,t.m_sweep.alpha0=0;for(let t=this.m_contactManager.m_contactList;t;t=t.m_next)t.m_toiFlag=!1,t.m_islandFlag=!1,t.m_toiCount=0,t.m_toi=1}for(;;){let n=null,s=1;for(let e=this.m_contactManager.m_contactList;e;e=e.m_next){if(!e.IsEnabled())continue;if(e.m_toiCount>t.b2_maxSubSteps)continue;let i=1;if(e.m_toiFlag)i=e.m_toi;else{const t=e.GetFixtureA(),n=e.GetFixtureB();if(t.IsSensor()||n.IsSensor())continue;const s=t.GetBody(),r=n.GetBody(),_=s.m_type,a=r.m_type,m=s.IsAwake()&&_!==b.b2BodyType.b2_staticBody,l=r.IsAwake()&&a!==b.b2BodyType.b2_staticBody;if(!m&&!l)continue;const c=s.IsBullet()||_!==b.b2BodyType.b2_dynamicBody,u=r.IsBullet()||a!==b.b2BodyType.b2_dynamicBody;if(!c&&!u)continue;let{alpha0:d}=s.m_sweep;s.m_sweep.alpha0<r.m_sweep.alpha0?(d=r.m_sweep.alpha0,s.m_sweep.Advance(d)):r.m_sweep.alpha0<s.m_sweep.alpha0&&(d=s.m_sweep.alpha0,r.m_sweep.Advance(d));const p=e.GetChildIndexA(),h=e.GetChildIndexB(),y=x.SolveTOI_s_toi_input;y.proxyA.SetShape(t.GetShape(),p),y.proxyB.SetShape(n.GetShape(),h),y.sweepA.Copy(s.m_sweep),y.sweepB.Copy(r.m_sweep),y.tMax=1;const g=x.SolveTOI_s_toi_output;o.b2TimeOfImpact(g,y);const S=g.t;i=g.state===o.b2TOIOutputState.e_touching?Math.min(d+(1-d)*S,1):1,e.m_toi=i,e.m_toiFlag=!0}i<s&&(n=e,s=i)}if(null===n||1-10*t.b2_epsilon<s){this.m_stepComplete=!0;break}const r=n.GetFixtureA(),_=n.GetFixtureB(),a=r.GetBody(),m=_.GetBody(),l=x.SolveTOI_s_backup1.Copy(a.m_sweep),c=x.SolveTOI_s_backup2.Copy(m.m_sweep);if(a.Advance(s),m.Advance(s),n.Update(this.m_contactManager.m_contactListener),n.m_toiFlag=!1,++n.m_toiCount,!n.IsEnabled()||!n.IsTouching()){n.SetEnabled(!1),a.m_sweep.Copy(l),m.m_sweep.Copy(c),a.SynchronizeTransform(),m.SynchronizeTransform();continue}a.SetAwake(!0),m.SetAwake(!0),i.Clear(),i.AddBody(a),i.AddBody(m),i.AddContact(n),a.m_islandFlag=!0,m.m_islandFlag=!0,n.m_islandFlag=!0;for(let e=0;e<2;++e){const n=0===e?a:m;if(n.m_type===b.b2BodyType.b2_dynamicBody)for(let e=n.m_contactList;e&&i.m_bodyCount!==i.m_bodyCapacity&&i.m_contactCount!==t.b2_maxTOIContacts;e=e.next){const{contact:t}=e;if(t.m_islandFlag)continue;const{other:o}=e;if(o.m_type===b.b2BodyType.b2_dynamicBody&&!n.IsBullet()&&!o.IsBullet())continue;const r=t.m_fixtureA.m_isSensor,_=t.m_fixtureB.m_isSensor;if(r||_)continue;const a=x.SolveTOI_s_backup.Copy(o.m_sweep);o.m_islandFlag||o.Advance(s),t.Update(this.m_contactManager.m_contactListener),t.IsEnabled()&&t.IsTouching()?(t.m_islandFlag=!0,i.AddContact(t),o.m_islandFlag||(o.m_islandFlag=!0,o.m_type!==b.b2BodyType.b2_staticBody&&o.SetAwake(!0),i.AddBody(o))):(o.m_sweep.Copy(a),o.SynchronizeTransform())}}const u=x.SolveTOI_s_subStep;u.dt=(1-s)*e.dt,u.inv_dt=1/u.dt,u.dtRatio=1,u.config={...e.config,positionIterations:20},u.warmStarting=!1,i.SolveTOI(u,a.m_islandIndex,m.m_islandIndex);for(let t=0;t<i.m_bodyCount;++t){const e=i.m_bodies[t];if(e.m_islandFlag=!1,e.m_type===b.b2BodyType.b2_dynamicBody){e.SynchronizeFixtures();for(let t=e.m_contactList;t;t=t.next)t.contact.m_toiFlag=!1,t.contact.m_islandFlag=!1}}if(this.m_contactManager.FindNewContacts(),this.m_subStepping){this.m_stepComplete=!1;break}}}}exports.b2World=x,x.Step_s_step=f.b2TimeStep.Create(),x.Step_s_stepTimer=new i.b2Timer,x.Step_s_timer=new i.b2Timer,x.QueryFixtureShape_s_aabb=new n.b2AABB,x.RayCast_s_input=new n.b2RayCastInput,x.RayCast_s_output=new n.b2RayCastOutput,x.RayCast_s_point=new e.b2Vec2,x.SolveTOI_s_subStep=f.b2TimeStep.Create(),x.SolveTOI_s_backup=new e.b2Sweep,x.SolveTOI_s_backup1=new e.b2Sweep,x.SolveTOI_s_backup2=new e.b2Sweep,x.SolveTOI_s_toi_input=new o.b2TOIInput,x.SolveTOI_s_toi_output=new o.b2TOIOutput;
},{"../common/b2_common":"xZSi","../common/b2_math":"YmMi","../common/b2_timer":"KajI","../collision/b2_collision":"DOG3","../collision/b2_time_of_impact":"GFfv","./b2_joint":"PxaZ","./b2_area_joint":"z4M5","./b2_distance_joint":"ZofS","./b2_friction_joint":"BvwH","./b2_gear_joint":"hOU7","./b2_motor_joint":"Wvkp","./b2_mouse_joint":"lM2e","./b2_prismatic_joint":"TjHH","./b2_pulley_joint":"Jd4O","./b2_revolute_joint":"AIPE","./b2_weld_joint":"lC1O","./b2_wheel_joint":"EFh3","./b2_body":"hxRe","./b2_contact_manager":"up2J","./b2_island":"zv4G","./b2_time_step":"RCRk"}],"uajD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2Rope=exports.b2RopeTuning=exports.b2BendingModel=exports.b2StretchingModel=void 0;const t=require("../common/b2_common"),s=require("../common/b2_draw"),e=require("../common/b2_math"),i={J1:new e.b2Vec2,J2:new e.b2Vec2,J3:new e.b2Vec2,r:new e.b2Vec2,e1:new e.b2Vec2,e2:new e.b2Vec2,Jd1:new e.b2Vec2,Jd2:new e.b2Vec2,d:new e.b2Vec2,u:new e.b2Vec2,dp1:new e.b2Vec2,dp2:new e.b2Vec2,dp3:new e.b2Vec2,d1:new e.b2Vec2,d2:new e.b2Vec2,dHat:new e.b2Vec2};var n,o;!function(t){t[t.b2_pbdStretchingModel=0]="b2_pbdStretchingModel",t[t.b2_xpbdStretchingModel=1]="b2_xpbdStretchingModel"}(n=exports.b2StretchingModel||(exports.b2StretchingModel={})),function(t){t[t.b2_springAngleBendingModel=0]="b2_springAngleBendingModel",t[t.b2_pbdAngleBendingModel=1]="b2_pbdAngleBendingModel",t[t.b2_xpbdAngleBendingModel=2]="b2_xpbdAngleBendingModel",t[t.b2_pbdDistanceBendingModel=3]="b2_pbdDistanceBendingModel",t[t.b2_pbdHeightBendingModel=4]="b2_pbdHeightBendingModel",t[t.b2_pbdTriangleBendingModel=5]="b2_pbdTriangleBendingModel"}(o=exports.b2BendingModel||(exports.b2BendingModel={}));class c{constructor(){this.stretchingModel=n.b2_pbdStretchingModel,this.bendingModel=o.b2_pbdAngleBendingModel,this.damping=0,this.stretchStiffness=1,this.stretchHertz=0,this.stretchDamping=0,this.bendStiffness=.5,this.bendHertz=1,this.bendDamping=0,this.isometric=!1,this.fixedEffectiveMass=!1,this.warmStart=!1}Copy(t){return this.stretchingModel=t.stretchingModel,this.bendingModel=t.bendingModel,this.damping=t.damping,this.stretchStiffness=t.stretchStiffness,this.stretchHertz=t.stretchHertz,this.stretchDamping=t.stretchDamping,this.bendStiffness=t.bendStiffness,this.bendHertz=t.bendHertz,this.bendDamping=t.bendDamping,this.isometric=t.isometric,this.fixedEffectiveMass=t.fixedEffectiveMass,this.warmStart=t.warmStart,this}}exports.b2RopeTuning=c;class h{constructor(){this.i1=0,this.i2=0,this.invMass1=0,this.invMass2=0,this.L=0,this.lambda=0,this.spring=0,this.damper=0}}class a{constructor(){this.i1=0,this.i2=0,this.i3=0,this.invMass1=0,this.invMass2=0,this.invMass3=0,this.invEffectiveMass=0,this.lambda=0,this.L1=0,this.L2=0,this.alpha1=0,this.alpha2=0,this.spring=0,this.damper=0}}class d{constructor(s){this.m_position=new e.b2Vec2,this.m_count=0,this.m_stretchCount=0,this.m_bendCount=0,this.m_gravity=new e.b2Vec2,this.m_tuning=new c,t.b2Assert(s.vertices.length>=3),this.m_position.Copy(s.position),this.m_count=s.vertices.length,this.m_bindPositions=t.b2MakeArray(this.m_count,e.b2Vec2),this.m_ps=t.b2MakeArray(this.m_count,e.b2Vec2),this.m_p0s=t.b2MakeArray(this.m_count,e.b2Vec2),this.m_vs=t.b2MakeArray(this.m_count,e.b2Vec2),this.m_invMasses=t.b2MakeNumberArray(this.m_count);for(let t=0;t<this.m_count;++t){this.m_bindPositions[t].Copy(s.vertices[t]),e.b2Vec2.Add(s.vertices[t],this.m_position,this.m_ps[t]),e.b2Vec2.Add(s.vertices[t],this.m_position,this.m_p0s[t]),this.m_vs[t].SetZero();const i=s.masses[t];this.m_invMasses[t]=i>0?1/i:0}this.m_stretchCount=this.m_count-1,this.m_bendCount=this.m_count-2,this.m_stretchConstraints=new Array(this.m_stretchCount);for(let t=0;t<this.m_stretchCount;t++)this.m_stretchConstraints[t]=new h;this.m_bendConstraints=new Array(this.m_bendCount);for(let t=0;t<this.m_bendCount;t++)this.m_bendConstraints[t]=new a;for(let t=0;t<this.m_stretchCount;++t){const s=this.m_stretchConstraints[t],i=this.m_ps[t],n=this.m_ps[t+1];s.i1=t,s.i2=t+1,s.L=e.b2Vec2.Distance(i,n),s.invMass1=this.m_invMasses[t],s.invMass2=this.m_invMasses[t+1],s.lambda=0,s.damper=0,s.spring=0}const{J1:n,J2:o,r:d,e1:b,e2:r,Jd1:m,Jd2:_}=i;for(let t=0;t<this.m_bendCount;++t){const s=this.m_bendConstraints[t],i=this.m_ps[t],c=this.m_ps[t+1],h=this.m_ps[t+2];s.i1=t,s.i2=t+1,s.i3=t+2,s.invMass1=this.m_invMasses[t],s.invMass2=this.m_invMasses[t+1],s.invMass3=this.m_invMasses[t+2],s.invEffectiveMass=0,s.L1=e.b2Vec2.Distance(i,c),s.L2=e.b2Vec2.Distance(c,h),s.lambda=0,e.b2Vec2.Subtract(c,i,b),e.b2Vec2.Subtract(h,c,r);const a=b.LengthSquared(),l=r.LengthSquared();if(a*l==0)continue;e.b2Vec2.Skew(b,m).Scale(-1/a),e.b2Vec2.Skew(r,_).Scale(1/l),e.b2Vec2.Negate(m,n),e.b2Vec2.Subtract(m,_,o);const p=_;s.invEffectiveMass=s.invMass1*e.b2Vec2.Dot(n,n)+s.invMass2*e.b2Vec2.Dot(o,o)+s.invMass3*e.b2Vec2.Dot(p,p),e.b2Vec2.Subtract(h,i,d);const g=d.LengthSquared();0!==g&&(s.alpha1=e.b2Vec2.Dot(r,d)/g,s.alpha2=e.b2Vec2.Dot(b,d)/g)}this.m_gravity.Copy(s.gravity),this.SetTuning(s.tuning)}SetTuning(t){this.m_tuning.Copy(t);const s=2*Math.PI*this.m_tuning.bendHertz;for(let i=0;i<this.m_bendCount;++i){const t=this.m_bendConstraints[i],e=t.L1*t.L1,n=t.L2*t.L2;if(e*n==0){t.spring=0,t.damper=0;continue}const o=1/t.L1+1/t.L2,c=t.invMass1/e+t.invMass2*o*o+t.invMass3/n;if(0===c){t.spring=0,t.damper=0;continue}const h=1/c;t.spring=h*s*s,t.damper=2*h*this.m_tuning.bendDamping*s}const e=2*Math.PI*this.m_tuning.stretchHertz;for(let i=0;i<this.m_stretchCount;++i){const t=this.m_stretchConstraints[i],s=t.invMass1+t.invMass2;if(0===s)continue;const n=1/s;t.spring=n*e*e,t.damper=2*n*this.m_tuning.stretchDamping*e}}Step(t,s,e){if(0===t)return;const i=1/t,c=Math.exp(-t*this.m_tuning.damping);for(let n=0;n<this.m_count;++n)this.m_invMasses[n]>0?(this.m_vs[n].Scale(c),this.m_vs[n].AddScaled(t,this.m_gravity)):(this.m_vs[n].x=i*(this.m_bindPositions[n].x+e.x-this.m_p0s[n].x),this.m_vs[n].y=i*(this.m_bindPositions[n].y+e.y-this.m_p0s[n].y));this.m_tuning.bendingModel===o.b2_springAngleBendingModel&&this.ApplyBendForces(t);for(let n=0;n<this.m_bendCount;++n)this.m_bendConstraints[n].lambda=0;for(let n=0;n<this.m_stretchCount;++n)this.m_stretchConstraints[n].lambda=0;for(let n=0;n<this.m_count;++n)this.m_ps[n].AddScaled(t,this.m_vs[n]);for(let h=0;h<s;++h)this.m_tuning.bendingModel===o.b2_pbdAngleBendingModel?this.SolveBend_PBD_Angle():this.m_tuning.bendingModel===o.b2_xpbdAngleBendingModel?this.SolveBend_XPBD_Angle(t):this.m_tuning.bendingModel===o.b2_pbdDistanceBendingModel?this.SolveBend_PBD_Distance():this.m_tuning.bendingModel===o.b2_pbdHeightBendingModel?this.SolveBend_PBD_Height():this.m_tuning.bendingModel===o.b2_pbdTriangleBendingModel&&this.SolveBend_PBD_Triangle(),this.m_tuning.stretchingModel===n.b2_pbdStretchingModel?this.SolveStretch_PBD():this.m_tuning.stretchingModel===n.b2_xpbdStretchingModel&&this.SolveStretch_XPBD(t);for(let n=0;n<this.m_count;++n)this.m_vs[n].x=i*(this.m_ps[n].x-this.m_p0s[n].x),this.m_vs[n].y=i*(this.m_ps[n].y-this.m_p0s[n].y),this.m_p0s[n].Copy(this.m_ps[n])}Reset(t){this.m_position.Copy(t);for(let s=0;s<this.m_count;++s)e.b2Vec2.Add(this.m_bindPositions[s],this.m_position,this.m_ps[s]),this.m_p0s[s].Copy(this.m_ps[s]),this.m_vs[s].SetZero();for(let s=0;s<this.m_bendCount;++s)this.m_bendConstraints[s].lambda=0;for(let s=0;s<this.m_stretchCount;++s)this.m_stretchConstraints[s].lambda=0}SolveStretch_PBD(){const t=this.m_tuning.stretchStiffness,{d:s}=i;for(let i=0;i<this.m_stretchCount;++i){const n=this.m_stretchConstraints[i],o=this.m_ps[n.i1],c=this.m_ps[n.i2];e.b2Vec2.Subtract(c,o,s);const h=s.Normalize(),a=n.invMass1+n.invMass2;if(0===a)continue;const d=n.invMass1/a,b=n.invMass2/a;o.SubtractScaled(t*d*(n.L-h),s),c.AddScaled(t*b*(n.L-h),s)}}SolveStretch_XPBD(t){const{dp1:s,dp2:n,u:o,J1:c}=i;for(let i=0;i<this.m_stretchCount;++i){const h=this.m_stretchConstraints[i],a=this.m_ps[h.i1],d=this.m_ps[h.i2];e.b2Vec2.Subtract(a,this.m_p0s[h.i1],s),e.b2Vec2.Subtract(d,this.m_p0s[h.i2],n),e.b2Vec2.Subtract(d,a,o);const b=o.Normalize();e.b2Vec2.Negate(o,c);const r=o,m=h.invMass1+h.invMass2;if(0===m)continue;const _=1/(h.spring*t*t),l=_*(t*t*h.damper)/t,p=b-h.L,g=e.b2Vec2.Dot(c,s)+e.b2Vec2.Dot(r,n),u=-(p+_*h.lambda+l*g)/((1+l)*m+_);a.AddScaled(h.invMass1*u,c),d.AddScaled(h.invMass2*u,r),h.lambda+=u}}SolveBend_PBD_Angle(){const t=this.m_tuning.bendStiffness,{Jd1:s,Jd2:n,J1:o,J2:c,d1:h,d2:a}=i;for(let i=0;i<this.m_bendCount;++i){const d=this.m_bendConstraints[i],b=this.m_ps[d.i1],r=this.m_ps[d.i2],m=this.m_ps[d.i3];e.b2Vec2.Subtract(r,b,h),e.b2Vec2.Subtract(m,r,a);const _=e.b2Vec2.Cross(h,a),l=e.b2Vec2.Dot(h,a),p=Math.atan2(_,l);let g,u;if(this.m_tuning.isometric?(g=d.L1*d.L1,u=d.L2*d.L2):(g=h.LengthSquared(),u=a.LengthSquared()),g*u==0)continue;e.b2Vec2.Skew(h,s).Scale(-1/g),e.b2Vec2.Skew(a,n).Scale(1/u),e.b2Vec2.Negate(s,o),e.b2Vec2.Subtract(s,n,c);const M=n;let v;0===(v=this.m_tuning.fixedEffectiveMass?d.invEffectiveMass:d.invMass1*e.b2Vec2.Dot(o,o)+d.invMass2*e.b2Vec2.Dot(c,c)+d.invMass3*e.b2Vec2.Dot(M,M))&&(v=d.invEffectiveMass);const S=-t*p/v;b.AddScaled(d.invMass1*S,o),r.AddScaled(d.invMass2*S,c),m.AddScaled(d.invMass3*S,M)}}SolveBend_XPBD_Angle(t){const{dp1:s,dp2:n,dp3:o,d1:c,d2:h,Jd1:a,Jd2:d,J1:b,J2:r}=i;for(let i=0;i<this.m_bendCount;++i){const m=this.m_bendConstraints[i],_=this.m_ps[m.i1],l=this.m_ps[m.i2],p=this.m_ps[m.i3];let g,u;if(e.b2Vec2.Subtract(_,this.m_p0s[m.i1],s),e.b2Vec2.Subtract(l,this.m_p0s[m.i2],n),e.b2Vec2.Subtract(p,this.m_p0s[m.i3],o),e.b2Vec2.Subtract(l,_,c),e.b2Vec2.Subtract(p,l,h),this.m_tuning.isometric?(g=m.L1*m.L1,u=m.L2*m.L2):(g=c.LengthSquared(),u=h.LengthSquared()),g*u==0)continue;const M=e.b2Vec2.Cross(c,h),v=e.b2Vec2.Dot(c,h),S=Math.atan2(M,v);e.b2Vec2.Skew(c,a).Scale(-1/g),e.b2Vec2.Skew(h,d).Scale(1/u),e.b2Vec2.Negate(a,b),e.b2Vec2.Subtract(a,d,r);const f=d;let V;if(0===(V=this.m_tuning.fixedEffectiveMass?m.invEffectiveMass:m.invMass1*e.b2Vec2.Dot(b,b)+m.invMass2*e.b2Vec2.Dot(r,r)+m.invMass3*e.b2Vec2.Dot(f,f)))continue;const D=1/(m.spring*t*t),C=D*(t*t*m.damper)/t,A=S,B=e.b2Vec2.Dot(b,s)+e.b2Vec2.Dot(r,n)+e.b2Vec2.Dot(f,o),L=-(A+D*m.lambda+C*B)/((1+C)*V+D);_.AddScaled(m.invMass1*L,b),l.AddScaled(m.invMass2*L,r),p.AddScaled(m.invMass3*L,f),m.lambda+=L}}SolveBend_PBD_Distance(){const t=this.m_tuning.bendStiffness,{d:s}=i;for(let i=0;i<this.m_bendCount;++i){const n=this.m_bendConstraints[i],{i1:o}=n,c=n.i3,h=this.m_ps[o],a=this.m_ps[c];e.b2Vec2.Subtract(a,h,s);const d=s.Normalize(),b=n.invMass1+n.invMass3;if(0===b)continue;const r=n.invMass1/b,m=n.invMass3/b;h.SubtractScaled(t*r*(n.L1+n.L2-d),s),a.AddScaled(t*m*(n.L1+n.L2-d),s)}}SolveBend_PBD_Height(){const t=this.m_tuning.bendStiffness,{dHat:s,J1:n,J2:o,J3:c,d:h}=i;for(let i=0;i<this.m_bendCount;++i){const a=this.m_bendConstraints[i],d=this.m_ps[a.i1],b=this.m_ps[a.i2],r=this.m_ps[a.i3];h.x=a.alpha1*d.x+a.alpha2*r.x-b.x,h.y=a.alpha1*d.y+a.alpha2*r.y-b.y;const m=h.Length();if(0===m)continue;e.b2Vec2.Scale(1/m,h,s),e.b2Vec2.Scale(a.alpha1,s,n),e.b2Vec2.Negate(s,o),e.b2Vec2.Scale(a.alpha2,s,c);const _=a.invMass1*a.alpha1*a.alpha1+a.invMass2+a.invMass3*a.alpha2*a.alpha2;if(0===_)continue;const l=-t*(1/_)*m;d.AddScaled(a.invMass1*l,n),b.AddScaled(a.invMass2*l,o),r.AddScaled(a.invMass3*l,c)}}SolveBend_PBD_Triangle(){const t=this.m_tuning.bendStiffness,{d:s}=i;for(let e=0;e<this.m_bendCount;++e){const i=this.m_bendConstraints[e],n=this.m_ps[i.i1],o=this.m_ps[i.i2],c=this.m_ps[i.i3],h=i.invMass1,a=i.invMass2,d=i.invMass3,b=t/(h+d+2*a);s.x=o.x-1/3*(n.x+o.x+c.x),s.y=o.y-1/3*(n.y+o.y+c.y),n.AddScaled(2*h*b,s),o.AddScaled(-4*a*b,s),c.AddScaled(2*d*b,s)}}ApplyBendForces(t){const s=2*Math.PI*this.m_tuning.bendHertz,{d1:n,d2:o,Jd1:c,Jd2:h,J1:a,J2:d}=i;for(let i=0;i<this.m_bendCount;++i){const b=this.m_bendConstraints[i],r=this.m_ps[b.i1],m=this.m_ps[b.i2],_=this.m_ps[b.i3],l=this.m_vs[b.i1],p=this.m_vs[b.i2],g=this.m_vs[b.i3];let u,M;if(e.b2Vec2.Subtract(m,r,n),e.b2Vec2.Subtract(_,m,o),this.m_tuning.isometric?(u=b.L1*b.L1,M=b.L2*b.L2):(u=n.LengthSquared(),M=o.LengthSquared()),u*M==0)continue;const v=e.b2Vec2.Cross(n,o),S=e.b2Vec2.Dot(n,o),f=Math.atan2(v,S);e.b2Vec2.Skew(n,c).Scale(-1/u),e.b2Vec2.Skew(o,h).Scale(1/M),e.b2Vec2.Negate(c,a),e.b2Vec2.Subtract(c,h,d);const V=h;let D;if(0===(D=this.m_tuning.fixedEffectiveMass?b.invEffectiveMass:b.invMass1*e.b2Vec2.Dot(a,a)+b.invMass2*e.b2Vec2.Dot(d,d)+b.invMass3*e.b2Vec2.Dot(V,V)))continue;const C=1/D,A=-t*(C*s*s*f+2*C*this.m_tuning.bendDamping*s*(e.b2Vec2.Dot(a,l)+e.b2Vec2.Dot(d,p)+e.b2Vec2.Dot(V,g)));this.m_vs[b.i1].AddScaled(b.invMass1*A,a),this.m_vs[b.i2].AddScaled(b.invMass2*A,d),this.m_vs[b.i3].AddScaled(b.invMass3*A,V)}}Draw(t){for(let i=0;i<this.m_count-1;++i){t.DrawSegment(this.m_ps[i],this.m_ps[i+1],s.debugColors.rope);const e=this.m_invMasses[i]>0?s.debugColors.ropePointD:s.debugColors.ropePointG;t.DrawPoint(this.m_ps[i],5,e)}const e=this.m_invMasses[this.m_count-1]>0?s.debugColors.ropePointD:s.debugColors.ropePointG;t.DrawPoint(this.m_ps[this.m_count-1],5,e)}}exports.b2Rope=d;
},{"../common/b2_common":"xZSi","../common/b2_draw":"J87F","../common/b2_math":"YmMi"}],"kjbO":[function(require,module,exports) {
"use strict";var e=this&&this.__createBinding||(Object.create?function(e,r,o,i){void 0===i&&(i=o),Object.defineProperty(e,i,{enumerable:!0,get:function(){return r[o]}})}:function(e,r,o,i){void 0===i&&(i=o),e[i]=r[o]}),r=this&&this.__exportStar||function(r,o){for(var i in r)"default"===i||Object.prototype.hasOwnProperty.call(o,i)||e(o,r,i)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2GetBlockSolve=exports.b2SetBlockSolve=exports.b2World=exports.b2BodyType=exports.b2Body=void 0,r(require("./common/b2_common"),exports),r(require("./common/b2_settings"),exports),r(require("./common/b2_math"),exports),r(require("./common/b2_draw"),exports),r(require("./common/b2_draw_helper"),exports),r(require("./common/b2_timer"),exports),r(require("./common/b2_augment"),exports),r(require("./collision/b2_collision"),exports),r(require("./collision/b2_distance"),exports),r(require("./collision/b2_broad_phase"),exports),r(require("./collision/b2_dynamic_tree"),exports),r(require("./collision/b2_time_of_impact"),exports),r(require("./collision/b2_collide_circle"),exports),r(require("./collision/b2_collide_polygon"),exports),r(require("./collision/b2_collide_edge"),exports),r(require("./collision/b2_shape"),exports),r(require("./collision/b2_circle_shape"),exports),r(require("./collision/b2_polygon_shape"),exports),r(require("./collision/b2_edge_shape"),exports),r(require("./collision/b2_chain_shape"),exports),r(require("./dynamics/b2_fixture"),exports);var o=require("./dynamics/b2_body");Object.defineProperty(exports,"b2Body",{enumerable:!0,get:function(){return o.b2Body}}),Object.defineProperty(exports,"b2BodyType",{enumerable:!0,get:function(){return o.b2BodyType}});var i=require("./dynamics/b2_world");Object.defineProperty(exports,"b2World",{enumerable:!0,get:function(){return i.b2World}}),r(require("./dynamics/b2_world_callbacks"),exports),r(require("./dynamics/b2_island"),exports),r(require("./dynamics/b2_time_step"),exports),r(require("./dynamics/b2_contact_manager"),exports),r(require("./dynamics/b2_contact"),exports),r(require("./dynamics/b2_contact_factory"),exports);var t=require("./dynamics/b2_contact_solver");Object.defineProperty(exports,"b2SetBlockSolve",{enumerable:!0,get:function(){return t.b2SetBlockSolve}}),Object.defineProperty(exports,"b2GetBlockSolve",{enumerable:!0,get:function(){return t.b2GetBlockSolve}}),r(require("./dynamics/b2_joint"),exports),r(require("./dynamics/b2_area_joint"),exports),r(require("./dynamics/b2_distance_joint"),exports),r(require("./dynamics/b2_friction_joint"),exports),r(require("./dynamics/b2_gear_joint"),exports),r(require("./dynamics/b2_motor_joint"),exports),r(require("./dynamics/b2_mouse_joint"),exports),r(require("./dynamics/b2_prismatic_joint"),exports),r(require("./dynamics/b2_pulley_joint"),exports),r(require("./dynamics/b2_revolute_joint"),exports),r(require("./dynamics/b2_weld_joint"),exports),r(require("./dynamics/b2_wheel_joint"),exports),r(require("./rope/b2_rope"),exports);
},{"./common/b2_common":"xZSi","./common/b2_settings":"nssz","./common/b2_math":"YmMi","./common/b2_draw":"J87F","./common/b2_draw_helper":"VBK5","./common/b2_timer":"KajI","./common/b2_augment":"O0IN","./collision/b2_collision":"DOG3","./collision/b2_distance":"XVAh","./collision/b2_broad_phase":"r8Yy","./collision/b2_dynamic_tree":"TnoZ","./collision/b2_time_of_impact":"GFfv","./collision/b2_collide_circle":"JHeH","./collision/b2_collide_polygon":"FXGt","./collision/b2_collide_edge":"Xyzc","./collision/b2_shape":"QXiX","./collision/b2_circle_shape":"z0gE","./collision/b2_polygon_shape":"tJiR","./collision/b2_edge_shape":"xXrv","./collision/b2_chain_shape":"xLFs","./dynamics/b2_fixture":"MuJF","./dynamics/b2_body":"hxRe","./dynamics/b2_world":"Me8u","./dynamics/b2_world_callbacks":"pQVy","./dynamics/b2_island":"zv4G","./dynamics/b2_time_step":"RCRk","./dynamics/b2_contact_manager":"up2J","./dynamics/b2_contact":"yXDC","./dynamics/b2_contact_factory":"VHzU","./dynamics/b2_contact_solver":"ZGZd","./dynamics/b2_joint":"PxaZ","./dynamics/b2_area_joint":"z4M5","./dynamics/b2_distance_joint":"ZofS","./dynamics/b2_friction_joint":"BvwH","./dynamics/b2_gear_joint":"hOU7","./dynamics/b2_motor_joint":"Wvkp","./dynamics/b2_mouse_joint":"lM2e","./dynamics/b2_prismatic_joint":"TjHH","./dynamics/b2_pulley_joint":"Jd4O","./dynamics/b2_revolute_joint":"AIPE","./dynamics/b2_weld_joint":"lC1O","./dynamics/b2_wheel_joint":"EFh3","./rope/b2_rope":"uajD"}],"yWA3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Challenge=void 0;class t{constructor(){this.allParts=new Array,this.circlesAllowed=!0,this.rectanglesAllowed=!0,this.trianglesAllowed=!0,this.fixedJointsAllowed=!0,this.rotatingJointsAllowed=!0,this.slidingJointsAllowed=!0,this.thrustersAllowed=!0,this.cannonsAllowed=!0,this.fixateAllowed=!1,this.nonCollidingAllowed=!0,this.mouseDragAllowed=!1,this.botControlAllowed=!0,this.showConditions=!1,this.minDensity=-Number.MAX_VALUE,this.maxDensity=Number.MAX_VALUE,this.maxRJStrength=Number.MAX_VALUE,this.maxRJSpeed=Number.MAX_VALUE,this.maxSJStrength=Number.MAX_VALUE,this.maxSJSpeed=Number.MAX_VALUE,this.maxThrusterStrength=Number.MAX_VALUE,this.cameraX=Number.MAX_VALUE,this.cameraY=Number.MAX_VALUE,this.zoomLevel=Number.MAX_VALUE,this.buildAreas=new Array,this.winConditions=new Array,this.lossConditions=new Array,this.winConditionsAnded=!0}cosntructor(t){this.settings=t}}exports.Challenge=t;
},{}],"odHz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Replay=void 0;class s{constructor(s,e,t,n,i){this.cont=null,this.syncPointIndex=0,this.cameraMovementIndex=0,this.keyPressIndex=0,this.cameraMovements=s,this.syncPoints=e,this.keyPresses=t,this.numFrames=n,this.version=i}Update(s){for(;this.cameraMovementIndex<this.cameraMovements.length&&this.cameraMovements[this.cameraMovementIndex].frame==s;)this.cont&&this.cont.MoveCameraForReplay(this.cameraMovements[this.cameraMovementIndex]),this.cameraMovementIndex++;if(this.syncPointIndex<this.syncPoints.length)if(s>=this.syncPoints[this.syncPointIndex].frame){var e=this.syncPoints[this.syncPointIndex];this.cont&&this.cont.SyncReplay(e),this.syncPointIndex++}else{var t=this.syncPoints[this.syncPointIndex-1],n=this.syncPoints[this.syncPointIndex];this.cont&&this.cont.SyncReplay2(t,n)}for(;this.keyPressIndex<this.keyPresses.length&&this.keyPresses[this.keyPressIndex].frame==s;)this.cont&&this.cont.keyInput(this.keyPresses[this.keyPressIndex].key,!0),this.keyPressIndex++;return s>=this.numFrames}}exports.Replay=s;
},{}],"H0hU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Robot=void 0;class e{constructor(e,t=null,s=Number.MAX_VALUE,r=Number.MAX_VALUE,o=Number.MAX_VALUE){this.settings=null,this.challenge=null,this.cameraX=Number.MAX_VALUE,this.cameraY=Number.MAX_VALUE,this.zoomLevel=Number.MAX_VALUE,this.allParts=e,this.settings=t,this.cameraX=s,this.cameraY=r,this.zoomLevel=o}}exports.Robot=e;
},{}],"ZSAP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SandboxSettings=void 0;class R{constructor(R,A,t,N,_,s=0,S=0,e=0){this.gravity=R,this.size=A,this.terrainType=t,this.terrainTheme=N,this.background=_,this.backgroundR=s,this.backgroundG=S,this.backgroundB=e}}exports.SandboxSettings=R,R.SIZE_SMALL=0,R.SIZE_MEDIUM=1,R.SIZE_LARGE=2,R.TERRAIN_LAND=0,R.TERRAIN_BOX=1,R.TERRAIN_EMPTY=2,R.TERRAIN_GRASS=0,R.TERRAIN_DIRT=1,R.TERRAIN_SAND=2,R.TERRAIN_ROCK=3,R.TERRAIN_SNOW=4,R.TERRAIN_MOON=5,R.TERRAIN_MARS=6,R.BACKGROUND_SKY=0,R.BACKGROUND_SPACE=1,R.BACKGROUND_NIGHT=2,R.BACKGROUND_DUSK=3,R.BACKGROUND_MARS=4,R.BACKGROUND_SUNSET=5,R.BACKGROUND_SOLID_COLOUR=6;
},{}],"Zvyo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Util=void 0;const t=require("@box2d/core");class r{static Vector(r,e){var a=new t.b2Vec2;return a.x=r,a.y=e,a}static RangedRandom(t,r){return t+Math.random()*(r-t)}static NearestInt(t){return t-Math.floor(t)>=.5?Math.floor(t)+1:Math.floor(t)}static FormatDate(t){if(isNaN(t))return"Oct. 17, 2008";var r=new Date;return r.setTime(t),["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."][r.getMonth()]+" "+r.getDate()+", "+r.getFullYear()}static GetDist(t,r,e,a){return Math.sqrt((t-e)*(t-e)+(r-a)*(r-a))}static GetAngle(t){return Math.atan2(t.y,t.x)}static NormalizeAngle(t){for(;t>=2*Math.PI;)t-=2*Math.PI;for(;t<0;)t+=2*Math.PI;return t}static Midpoint(r,e){return new t.b2Vec2((r.x+e.x)/2,(r.y+e.y)/2)}static HexColour(t,r,e){return e|r<<8|t<<16}static HexColourString(t,r,e){return`#${[t,r,e].map(t=>t.toString(16).padStart(2,"0")).join("")}`}static b2ColorToHex(t){return 255*t.b|255*t.g<<8|255*t.r<<16}static ObjectInArray(t,r){if(!r)return!1;for(var e=0;e<r.length;e++)if(t==r[e])return!0;return!1}static RemoveFromArray(t,r){for(var e=new Array,a=0;a<r.length;a++)t!=r[a]&&e.push(r[a]);return e}static InsertIntoArray(t,r,e){for(var a=new Array,n=0;n<r.length;n++)n==e&&a.push(t),a.push(r[n]);return n<=e&&a.push(t),a}static RemoveDuplicates(t){for(var r=new Array,e=0;e<t.length;e++){for(var a=!1,n=0;n<e;n++)if(t[e]==t[n]){a=!0;break}a||r.push(t[e])}return r}static SegmentsIntersect(t,r,e,a,n,o,i,s){if(t==n&&r==o||t==i&&r==s||e==n&&a==o||e==i&&a==s)return!1;Math.abs(t-e)<1e-5&&(e+=1e-4);var c=(a-r)/(e-t);Math.abs(n-i)<1e-5&&(i+=1e-4);var u=(s-o)/(i-n);if(c==u)return!1;var l=(o-n*u-(r-t*c))/(c-u);return(l>=t&&l<=e||l<=t&&l>=e)&&(l>=n&&l<=i||l<=n&&l>=i)}static DistanceFromPointToLine(e,a,n){n.Normalize();var o=new t.b2Vec2(a.x-e.x,a.y-e.y);return Math.abs(r.Determinant(new t.b2Mat22(0,n,o)))}static Determinant(t){return t.col1.x*t.col2.y-t.col1.y*t.col2.x}}exports.Util=r;
},{"@box2d/core":"kjbO"}],"FRly":[function(require,module,exports) {
"use strict";exports.byteLength=u,exports.toByteArray=i,exports.fromByteArray=d;for(var r=[],t=[],e="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=n.length;o<a;++o)r[o]=n[o],t[n.charCodeAt(o)]=o;function h(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");return-1===e&&(e=t),[e,e===t?0:4-e%4]}function u(r){var t=h(r),e=t[0],n=t[1];return 3*(e+n)/4-n}function c(r,t,e){return 3*(t+e)/4-e}function i(r){var n,o,a=h(r),u=a[0],i=a[1],f=new e(c(r,u,i)),A=0,d=i>0?u-4:u;for(o=0;o<d;o+=4)n=t[r.charCodeAt(o)]<<18|t[r.charCodeAt(o+1)]<<12|t[r.charCodeAt(o+2)]<<6|t[r.charCodeAt(o+3)],f[A++]=n>>16&255,f[A++]=n>>8&255,f[A++]=255&n;return 2===i&&(n=t[r.charCodeAt(o)]<<2|t[r.charCodeAt(o+1)]>>4,f[A++]=255&n),1===i&&(n=t[r.charCodeAt(o)]<<10|t[r.charCodeAt(o+1)]<<4|t[r.charCodeAt(o+2)]>>2,f[A++]=n>>8&255,f[A++]=255&n),f}function f(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function A(r,t,e){for(var n,o=[],a=t;a<e;a+=3)n=(r[a]<<16&16711680)+(r[a+1]<<8&65280)+(255&r[a+2]),o.push(f(n));return o.join("")}function d(t){for(var e,n=t.length,o=n%3,a=[],h=0,u=n-o;h<u;h+=16383)a.push(A(t,h,h+16383>u?u:h+16383));return 1===o?(e=t[n-1],a.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],a.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),a.join("")}t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63;
},{}],"Quj6":[function(require,module,exports) {
exports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:1/0*(s?-1:1);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),(o+=p+N>=1?n/f:n*Math.pow(2,1-N))*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l};
},{}],"aqZJ":[function(require,module,exports) {
var r={}.toString;module.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)};
},{}],"aMB2":[function(require,module,exports) {

var global = arguments[3];
var t=arguments[3],r=require("base64-js"),e=require("ieee754"),n=require("isarray");function i(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(r){return!1}}function o(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(t,r){if(o()<r)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(r)).__proto__=f.prototype:(null===t&&(t=new f(r)),t.length=r),t}function f(t,r,e){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(t,r,e);if("number"==typeof t){if("string"==typeof r)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return s(this,t,r,e)}function s(t,r,e,n){if("number"==typeof r)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer?g(t,r,e,n):"string"==typeof r?l(t,r,e):y(t,r)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function a(t,r,e,n){return h(r),r<=0?u(t,r):void 0!==e?"string"==typeof n?u(t,r).fill(e,n):u(t,r).fill(e):u(t,r)}function c(t,r){if(h(r),t=u(t,r<0?0:0|w(r)),!f.TYPED_ARRAY_SUPPORT)for(var e=0;e<r;++e)t[e]=0;return t}function l(t,r,e){if("string"==typeof e&&""!==e||(e="utf8"),!f.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var n=0|v(r,e),i=(t=u(t,n)).write(r,e);return i!==n&&(t=t.slice(0,i)),t}function p(t,r){var e=r.length<0?0:0|w(r.length);t=u(t,e);for(var n=0;n<e;n+=1)t[n]=255&r[n];return t}function g(t,r,e,n){if(r.byteLength,e<0||r.byteLength<e)throw new RangeError("'offset' is out of bounds");if(r.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");return r=void 0===e&&void 0===n?new Uint8Array(r):void 0===n?new Uint8Array(r,e):new Uint8Array(r,e,n),f.TYPED_ARRAY_SUPPORT?(t=r).__proto__=f.prototype:t=p(t,r),t}function y(t,r){if(f.isBuffer(r)){var e=0|w(r.length);return 0===(t=u(t,e)).length?t:(r.copy(t,0,0,e),t)}if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||W(r.length)?u(t,0):p(t,r);if("Buffer"===r.type&&n(r.data))return p(t,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function w(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function d(t){return+t!=t&&(t=0),f.alloc(+t)}function v(t,r){if(f.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var e=t.length;if(0===e)return 0;for(var n=!1;;)switch(r){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return K(t).length;default:if(n)return $(t).length;r=(""+r).toLowerCase(),n=!0}}function E(t,r,e){var n=!1;if((void 0===r||r<0)&&(r=0),r>this.length)return"";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return"";if((e>>>=0)<=(r>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return x(this,r,e);case"utf8":case"utf-8":return Y(this,r,e);case"ascii":return L(this,r,e);case"latin1":case"binary":return D(this,r,e);case"base64":return S(this,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,r,e);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function b(t,r,e){var n=t[r];t[r]=t[e],t[e]=n}function R(t,r,e,n,i){if(0===t.length)return-1;if("string"==typeof e?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=i?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(i)return-1;e=t.length-1}else if(e<0){if(!i)return-1;e=0}if("string"==typeof r&&(r=f.from(r,n)),f.isBuffer(r))return 0===r.length?-1:_(t,r,e,n,i);if("number"==typeof r)return r&=255,f.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,r,e):Uint8Array.prototype.lastIndexOf.call(t,r,e):_(t,[r],e,n,i);throw new TypeError("val must be string, number or Buffer")}function _(t,r,e,n,i){var o,u=1,f=t.length,s=r.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||r.length<2)return-1;u=2,f/=2,s/=2,e/=2}function h(t,r){return 1===u?t[r]:t.readUInt16BE(r*u)}if(i){var a=-1;for(o=e;o<f;o++)if(h(t,o)===h(r,-1===a?0:o-a)){if(-1===a&&(a=o),o-a+1===s)return a*u}else-1!==a&&(o-=o-a),a=-1}else for(e+s>f&&(e=f-s),o=e;o>=0;o--){for(var c=!0,l=0;l<s;l++)if(h(t,o+l)!==h(r,l)){c=!1;break}if(c)return o}return-1}function A(t,r,e,n){e=Number(e)||0;var i=t.length-e;n?(n=Number(n))>i&&(n=i):n=i;var o=r.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var u=0;u<n;++u){var f=parseInt(r.substr(2*u,2),16);if(isNaN(f))return u;t[e+u]=f}return u}function m(t,r,e,n){return Q($(r,t.length-e),t,e,n)}function P(t,r,e,n){return Q(G(r),t,e,n)}function T(t,r,e,n){return P(t,r,e,n)}function B(t,r,e,n){return Q(K(r),t,e,n)}function U(t,r,e,n){return Q(H(r,t.length-e),t,e,n)}function S(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function Y(t,r,e){e=Math.min(t.length,e);for(var n=[],i=r;i<e;){var o,u,f,s,h=t[i],a=null,c=h>239?4:h>223?3:h>191?2:1;if(i+c<=e)switch(c){case 1:h<128&&(a=h);break;case 2:128==(192&(o=t[i+1]))&&(s=(31&h)<<6|63&o)>127&&(a=s);break;case 3:o=t[i+1],u=t[i+2],128==(192&o)&&128==(192&u)&&(s=(15&h)<<12|(63&o)<<6|63&u)>2047&&(s<55296||s>57343)&&(a=s);break;case 4:o=t[i+1],u=t[i+2],f=t[i+3],128==(192&o)&&128==(192&u)&&128==(192&f)&&(s=(15&h)<<18|(63&o)<<12|(63&u)<<6|63&f)>65535&&s<1114112&&(a=s)}null===a?(a=65533,c=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=c}return O(n)}exports.Buffer=f,exports.SlowBuffer=d,exports.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:i(),exports.kMaxLength=o(),f.poolSize=8192,f._augment=function(t){return t.__proto__=f.prototype,t},f.from=function(t,r,e){return s(null,t,r,e)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(t,r,e){return a(null,t,r,e)},f.allocUnsafe=function(t){return c(null,t)},f.allocUnsafeSlow=function(t){return c(null,t)},f.isBuffer=function(t){return!(null==t||!t._isBuffer)},f.compare=function(t,r){if(!f.isBuffer(t)||!f.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var e=t.length,n=r.length,i=0,o=Math.min(e,n);i<o;++i)if(t[i]!==r[i]){e=t[i],n=r[i];break}return e<n?-1:n<e?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(t,r){if(!n(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);var e;if(void 0===r)for(r=0,e=0;e<t.length;++e)r+=t[e].length;var i=f.allocUnsafe(r),o=0;for(e=0;e<t.length;++e){var u=t[e];if(!f.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(i,o),o+=u.length}return i},f.byteLength=v,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)b(this,r,r+1);return this},f.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)b(this,r,r+3),b(this,r+1,r+2);return this},f.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)b(this,r,r+7),b(this,r+1,r+6),b(this,r+2,r+5),b(this,r+3,r+4);return this},f.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?Y(this,0,t):E.apply(this,arguments)},f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){var t="",r=exports.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},f.prototype.compare=function(t,r,e,n,i){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=0),void 0===e&&(e=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),r<0||e>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&r>=e)return 0;if(n>=i)return-1;if(r>=e)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),u=(e>>>=0)-(r>>>=0),s=Math.min(o,u),h=this.slice(n,i),a=t.slice(r,e),c=0;c<s;++c)if(h[c]!==a[c]){o=h[c],u=a[c];break}return o<u?-1:u<o?1:0},f.prototype.includes=function(t,r,e){return-1!==this.indexOf(t,r,e)},f.prototype.indexOf=function(t,r,e){return R(this,t,r,e,!0)},f.prototype.lastIndexOf=function(t,r,e){return R(this,t,r,e,!1)},f.prototype.write=function(t,r,e,n){if(void 0===r)n="utf8",e=this.length,r=0;else if(void 0===e&&"string"==typeof r)n=r,e=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r|=0,isFinite(e)?(e|=0,void 0===n&&(n="utf8")):(n=e,e=void 0)}var i=this.length-r;if((void 0===e||e>i)&&(e=i),t.length>0&&(e<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return A(this,t,r,e);case"utf8":case"utf-8":return m(this,t,r,e);case"ascii":return P(this,t,r,e);case"latin1":case"binary":return T(this,t,r,e);case"base64":return B(this,t,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,t,r,e);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function O(t){var r=t.length;if(r<=I)return String.fromCharCode.apply(String,t);for(var e="",n=0;n<r;)e+=String.fromCharCode.apply(String,t.slice(n,n+=I));return e}function L(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(127&t[i]);return n}function D(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(t[i]);return n}function x(t,r,e){var n=t.length;(!r||r<0)&&(r=0),(!e||e<0||e>n)&&(e=n);for(var i="",o=r;o<e;++o)i+=Z(t[o]);return i}function C(t,r,e){for(var n=t.slice(r,e),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function M(t,r,e){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+r>e)throw new RangeError("Trying to access beyond buffer length")}function k(t,r,e,n,i,o){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>i||r<o)throw new RangeError('"value" argument is out of bounds');if(e+n>t.length)throw new RangeError("Index out of range")}function N(t,r,e,n){r<0&&(r=65535+r+1);for(var i=0,o=Math.min(t.length-e,2);i<o;++i)t[e+i]=(r&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function z(t,r,e,n){r<0&&(r=4294967295+r+1);for(var i=0,o=Math.min(t.length-e,4);i<o;++i)t[e+i]=r>>>8*(n?i:3-i)&255}function F(t,r,e,n,i,o){if(e+n>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function j(t,r,n,i,o){return o||F(t,r,n,4,3.4028234663852886e38,-3.4028234663852886e38),e.write(t,r,n,i,23,4),n+4}function q(t,r,n,i,o){return o||F(t,r,n,8,1.7976931348623157e308,-1.7976931348623157e308),e.write(t,r,n,i,52,8),n+8}f.prototype.slice=function(t,r){var e,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(r=void 0===r?n:~~r)<0?(r+=n)<0&&(r=0):r>n&&(r=n),r<t&&(r=t),f.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,r)).__proto__=f.prototype;else{var i=r-t;e=new f(i,void 0);for(var o=0;o<i;++o)e[o]=this[o+t]}return e},f.prototype.readUIntLE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n},f.prototype.readUIntBE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t+--r],i=1;r>0&&(i*=256);)n+=this[t+--r]*i;return n},f.prototype.readUInt8=function(t,r){return r||M(t,1,this.length),this[t]},f.prototype.readUInt16LE=function(t,r){return r||M(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUInt16BE=function(t,r){return r||M(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUInt32LE=function(t,r){return r||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUInt32BE=function(t,r){return r||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readIntLE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*r)),n},f.prototype.readIntBE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=r,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*r)),o},f.prototype.readInt8=function(t,r){return r||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,r){r||M(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},f.prototype.readInt16BE=function(t,r){r||M(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},f.prototype.readInt32LE=function(t,r){return r||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,r){return r||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readFloatLE=function(t,r){return r||M(t,4,this.length),e.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,r){return r||M(t,4,this.length),e.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,r){return r||M(t,8,this.length),e.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,r){return r||M(t,8,this.length),e.read(this,t,!1,52,8)},f.prototype.writeUIntLE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||k(this,t,r,e,Math.pow(2,8*e)-1,0);var i=1,o=0;for(this[r]=255&t;++o<e&&(i*=256);)this[r+o]=t/i&255;return r+e},f.prototype.writeUIntBE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||k(this,t,r,e,Math.pow(2,8*e)-1,0);var i=e-1,o=1;for(this[r+i]=255&t;--i>=0&&(o*=256);)this[r+i]=t/o&255;return r+e},f.prototype.writeUInt8=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,1,255,0),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=255&t,r+1},f.prototype.writeUInt16LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):N(this,t,r,!0),r+2},f.prototype.writeUInt16BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):N(this,t,r,!1),r+2},f.prototype.writeUInt32LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t):z(this,t,r,!0),r+4},f.prototype.writeUInt32BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):z(this,t,r,!1),r+4},f.prototype.writeIntLE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);k(this,t,r,e,i-1,-i)}var o=0,u=1,f=0;for(this[r]=255&t;++o<e&&(u*=256);)t<0&&0===f&&0!==this[r+o-1]&&(f=1),this[r+o]=(t/u>>0)-f&255;return r+e},f.prototype.writeIntBE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);k(this,t,r,e,i-1,-i)}var o=e-1,u=1,f=0;for(this[r+o]=255&t;--o>=0&&(u*=256);)t<0&&0===f&&0!==this[r+o+1]&&(f=1),this[r+o]=(t/u>>0)-f&255;return r+e},f.prototype.writeInt8=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,1,127,-128),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[r]=255&t,r+1},f.prototype.writeInt16LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):N(this,t,r,!0),r+2},f.prototype.writeInt16BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):N(this,t,r,!1),r+2},f.prototype.writeInt32LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):z(this,t,r,!0),r+4},f.prototype.writeInt32BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):z(this,t,r,!1),r+4},f.prototype.writeFloatLE=function(t,r,e){return j(this,t,r,!0,e)},f.prototype.writeFloatBE=function(t,r,e){return j(this,t,r,!1,e)},f.prototype.writeDoubleLE=function(t,r,e){return q(this,t,r,!0,e)},f.prototype.writeDoubleBE=function(t,r,e){return q(this,t,r,!1,e)},f.prototype.copy=function(t,r,e,n){if(e||(e=0),n||0===n||(n=this.length),r>=t.length&&(r=t.length),r||(r=0),n>0&&n<e&&(n=e),n===e)return 0;if(0===t.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-r<n-e&&(n=t.length-r+e);var i,o=n-e;if(this===t&&e<r&&r<n)for(i=o-1;i>=0;--i)t[i+r]=this[i+e];else if(o<1e3||!f.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+r]=this[i+e];else Uint8Array.prototype.set.call(t,this.subarray(e,e+o),r);return o},f.prototype.fill=function(t,r,e,n){if("string"==typeof t){if("string"==typeof r?(n=r,r=0,e=this.length):"string"==typeof e&&(n=e,e=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!f.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(r<0||this.length<r||this.length<e)throw new RangeError("Out of range index");if(e<=r)return this;var o;if(r>>>=0,e=void 0===e?this.length:e>>>0,t||(t=0),"number"==typeof t)for(o=r;o<e;++o)this[o]=t;else{var u=f.isBuffer(t)?t:$(new f(t,n).toString()),s=u.length;for(o=0;o<e-r;++o)this[o+r]=u[o%s]}return this};var V=/[^+\/0-9A-Za-z-_]/g;function X(t){if((t=J(t).replace(V,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function J(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Z(t){return t<16?"0"+t.toString(16):t.toString(16)}function $(t,r){var e;r=r||1/0;for(var n=t.length,i=null,o=[],u=0;u<n;++u){if((e=t.charCodeAt(u))>55295&&e<57344){if(!i){if(e>56319){(r-=3)>-1&&o.push(239,191,189);continue}if(u+1===n){(r-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(r-=3)>-1&&o.push(239,191,189),i=e;continue}e=65536+(i-55296<<10|e-56320)}else i&&(r-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((r-=1)<0)break;o.push(e)}else if(e<2048){if((r-=2)<0)break;o.push(e>>6|192,63&e|128)}else if(e<65536){if((r-=3)<0)break;o.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return o}function G(t){for(var r=[],e=0;e<t.length;++e)r.push(255&t.charCodeAt(e));return r}function H(t,r){for(var e,n,i,o=[],u=0;u<t.length&&!((r-=2)<0);++u)n=(e=t.charCodeAt(u))>>8,i=e%256,o.push(i),o.push(n);return o}function K(t){return r.toByteArray(X(t))}function Q(t,r,e,n){for(var i=0;i<n&&!(i+e>=r.length||i>=t.length);++i)r[i+e]=t[i];return i}function W(t){return t!=t}
},{"base64-js":"FRly","ieee754":"Quj6","isarray":"aqZJ","buffer":"aMB2"}],"wIHY":[function(require,module,exports) {
"use strict";var e,t="object"==typeof Reflect?Reflect:null,n=t&&"function"==typeof t.apply?t.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};function r(e){console&&console.warn&&console.warn(e)}e=t&&"function"==typeof t.ownKeys?t.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}module.exports=o,module.exports.once=m,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function f(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function v(e,t,n,i){var o,s,v;if(u(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),v=s[t]),void 0===v)v=s[t]=n,++e._eventsCount;else if("function"==typeof v?v=s[t]=i?[n,v]:[v,n]:i?v.unshift(n):v.push(n),(o=f(e))>0&&v.length>o&&!v.warned){v.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+v.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=v.length,r(l)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=l.bind(r);return i.listener=n,r.wrapFn=i,i}function a(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?d(i):p(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function y(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function d(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function m(e,t){return new Promise(function(n,r){function i(){void 0!==o&&e.removeListener("error",o),n([].slice.call(arguments))}var o;"error"!==t&&(o=function(n){e.removeListener(t,i),r(n)},e.once("error",o)),e.once(t,i)})}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return f(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var u=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw u.context=s,u}var f=o[e];if(void 0===f)return!1;if("function"==typeof f)n(f,this,t);else{var v=f.length,l=p(f,v);for(r=0;r<v;++r)n(l[r],this,t)}return!0},o.prototype.addListener=function(e,t){return v(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return v(this,e,t,!0)},o.prototype.once=function(e,t){return u(t),this.on(e,c(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,c(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,s;if(u(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():y(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return a(this,e,!0)},o.prototype.rawListeners=function(e){return a(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},o.prototype.listenerCount=h,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]};
},{}],"oxwV":[function(require,module,exports) {
"function"==typeof Object.create?module.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:module.exports=function(t,e){if(e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t}};
},{}],"g5IB":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"iFTO":[function(require,module,exports) {
var process = require("process");
var n=require("process");function e(e,r,t,c){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,l,u=arguments.length;switch(u){case 0:case 1:return n.nextTick(e);case 2:return n.nextTick(function(){e.call(null,r)});case 3:return n.nextTick(function(){e.call(null,r,t)});case 4:return n.nextTick(function(){e.call(null,r,t,c)});default:for(i=new Array(u-1),l=0;l<i.length;)i[l++]=arguments[l];return n.nextTick(function(){e.apply(null,i)})}}void 0===n||!n.version||0===n.version.indexOf("v0.")||0===n.version.indexOf("v1.")&&0!==n.version.indexOf("v1.8.")?module.exports={nextTick:e}:module.exports=n;
},{"process":"g5IB"}],"o232":[function(require,module,exports) {
module.exports=require("events").EventEmitter;
},{"events":"wIHY"}],"gIYa":[function(require,module,exports) {

var r=require("buffer"),e=r.Buffer;function n(r,e){for(var n in r)e[n]=r[n]}function o(r,n,o){return e(r,n,o)}e.from&&e.alloc&&e.allocUnsafe&&e.allocUnsafeSlow?module.exports=r:(n(r,exports),exports.Buffer=o),n(e,o),o.from=function(r,n,o){if("number"==typeof r)throw new TypeError("Argument must not be a number");return e(r,n,o)},o.alloc=function(r,n,o){if("number"!=typeof r)throw new TypeError("Argument must be a number");var f=e(r);return void 0!==n?"string"==typeof o?f.fill(n,o):f.fill(n):f.fill(0),f},o.allocUnsafe=function(r){if("number"!=typeof r)throw new TypeError("Argument must be a number");return e(r)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)};
},{"buffer":"aMB2"}],"kj8s":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer;function t(r){return Array.isArray?Array.isArray(r):"[object Array]"===a(r)}function e(r){return"boolean"==typeof r}function n(r){return null===r}function o(r){return null==r}function i(r){return"number"==typeof r}function u(r){return"string"==typeof r}function s(r){return"symbol"==typeof r}function f(r){return void 0===r}function p(r){return"[object RegExp]"===a(r)}function c(r){return"object"==typeof r&&null!==r}function l(r){return"[object Date]"===a(r)}function y(r){return"[object Error]"===a(r)||r instanceof Error}function x(r){return"function"==typeof r}function b(r){return null===r||"boolean"==typeof r||"number"==typeof r||"string"==typeof r||"symbol"==typeof r||void 0===r}function a(r){return Object.prototype.toString.call(r)}exports.isArray=t,exports.isBoolean=e,exports.isNull=n,exports.isNullOrUndefined=o,exports.isNumber=i,exports.isString=u,exports.isSymbol=s,exports.isUndefined=f,exports.isRegExp=p,exports.isObject=c,exports.isDate=l,exports.isError=y,exports.isFunction=x,exports.isPrimitive=b,exports.isBuffer=r.isBuffer;
},{"buffer":"aMB2"}],"sC8V":[function(require,module,exports) {

},{}],"m362":[function(require,module,exports) {

"use strict";function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var n=require("safe-buffer").Buffer,e=require("util");function i(t,n,e){t.copy(n,e)}module.exports=function(){function e(){t(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(t){var n={data:t,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},e.prototype.unshift=function(t){var n={data:t,next:this.head};0===this.length&&(this.tail=n),this.head=n,++this.length},e.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(t){if(0===this.length)return"";for(var n=this.head,e=""+n.data;n=n.next;)e+=t+n.data;return e},e.prototype.concat=function(t){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var e=n.allocUnsafe(t>>>0),h=this.head,a=0;h;)i(h.data,e,a),a+=h.data.length,h=h.next;return e},e}(),e&&e.inspect&&e.inspect.custom&&(module.exports.prototype[e.inspect.custom]=function(){var t=e.inspect({length:this.length});return this.constructor.name+" "+t});
},{"safe-buffer":"gIYa","util":"sC8V"}],"Umu5":[function(require,module,exports) {
"use strict";var t=require("process-nextick-args");function e(e,a){var r=this,s=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return s||d?(a?a(e):!e||this._writableState&&this._writableState.errorEmitted||t.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!a&&e?(t.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):a&&a(e)}),this)}function a(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(t,e){t.emit("error",e)}module.exports={destroy:e,undestroy:a};
},{"process-nextick-args":"iFTO"}],"hQaz":[function(require,module,exports) {
var global = arguments[3];
var r=arguments[3];function t(r,t){if(e("noDeprecation"))return r;var n=!1;return function(){if(!n){if(e("throwDeprecation"))throw new Error(t);e("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return r.apply(this,arguments)}}function e(t){try{if(!r.localStorage)return!1}catch(n){return!1}var e=r.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}module.exports=t;
},{}],"pX9p":[function(require,module,exports) {
var process = require("process");

var global = arguments[3];
var e=require("process"),t=arguments[3],n=require("process-nextick-args");function r(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){W(t,e)}}module.exports=g;var o,s=n.nextTick;g.WritableState=y;var f=Object.create(require("core-util-is"));f.inherits=require("inherits");var u={deprecate:require("util-deprecate")},a=require("./internal/streams/stream"),c=require("safe-buffer").Buffer,l=t.Uint8Array||function(){};function d(e){return c.from(e)}function h(e){return c.isBuffer(e)||e instanceof l}var b,p=require("./internal/streams/destroy");function w(){}function y(e,t){o=o||require("./_stream_duplex"),e=e||{};var n=t instanceof o;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,s=e.writableHighWaterMark,f=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(s||0===s)?s:f,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===e.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){S(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function g(e){if(o=o||require("./_stream_duplex"),!(b.call(g,this)||this instanceof o))return new g(e);this._writableState=new y(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),a.call(this)}function k(e,t){var r=new Error("write after end");e.emit("error",r),n.nextTick(t,r)}function v(e,t,r,i){var o=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),n.nextTick(i,s),o=!1),o}function q(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,n)),t}function _(e,t,n,r,i,o){if(!n){var s=q(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var f=t.objectMode?1:r.length;t.length+=f;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var a=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},a?a.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,f,r,i,o);return u}function m(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function R(e,t,r,i,o){--t.pendingcb,r?(n.nextTick(o,i),n.nextTick(T,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(o(i),e._writableState.errorEmitted=!0,e.emit("error",i),T(e,t))}function x(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function S(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(x(n),t)R(e,n,r,t,i);else{var o=E(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||B(e,n),r?s(M,e,n,o,i):M(e,n,o,i)}}function M(e,t,n,r){n||j(e,t),t.pendingcb--,r(),T(e,t)}function j(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function B(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var f=0,u=!0;n;)o[f]=n,n.isBuf||(u=!1),n=n.next,f+=1;o.allBuffers=u,m(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var a=n.chunk,c=n.encoding,l=n.callback;if(m(e,t,!1,t.objectMode?1:a.length,a,c,l),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function E(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function C(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),T(e,t)})}function P(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,n.nextTick(C,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function T(e,t){var n=E(t);return n&&(P(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function F(e,t,r){t.ending=!0,T(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function W(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}f.inherits(g,a),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(b=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(e){return!!b.call(this,e)||this===g&&(e&&e._writableState instanceof y)}})):b=function(e){return e instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(e,t,n){var r=this._writableState,i=!1,o=!r.objectMode&&h(e);return o&&!c.isBuffer(e)&&(e=d(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=w),r.ended?k(this,n):(o||v(this,r,e,n))&&(r.pendingcb++,i=_(this,r,o,e,t,n)),i},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||B(this,e))},g.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||F(this,r,n)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),g.prototype.destroy=p.destroy,g.prototype._undestroy=p.undestroy,g.prototype._destroy=function(e,t){this.end(),t(e)};
},{"process-nextick-args":"iFTO","core-util-is":"kj8s","inherits":"oxwV","util-deprecate":"hQaz","./internal/streams/stream":"o232","safe-buffer":"gIYa","./internal/streams/destroy":"Umu5","./_stream_duplex":"gYn1","process":"g5IB"}],"gYn1":[function(require,module,exports) {
"use strict";var e=require("process-nextick-args"),t=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};module.exports=l;var r=Object.create(require("core-util-is"));r.inherits=require("inherits");var i=require("./_stream_readable"),a=require("./_stream_writable");r.inherits(l,i);for(var o=t(a.prototype),s=0;s<o.length;s++){var n=o[s];l.prototype[n]||(l.prototype[n]=a.prototype[n])}function l(e){if(!(this instanceof l))return new l(e);i.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||e.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),l.prototype._destroy=function(t,r){this.push(null),this.end(),e.nextTick(r,t)};
},{"process-nextick-args":"iFTO","core-util-is":"kj8s","inherits":"oxwV","./_stream_readable":"KTao","./_stream_writable":"pX9p"}],"ikue":[function(require,module,exports) {

"use strict";var t=require("safe-buffer").Buffer,e=t.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function i(i){var a=s(i);if("string"!=typeof a&&(t.isEncoding===e||!e(i)))throw new Error("Unknown encoding: "+i);return a||i}function a(e){var s;switch(this.encoding=i(e),this.encoding){case"utf16le":this.text=c,this.end=f,s=4;break;case"utf8":this.fillLast=l,s=4;break;case"base64":this.text=d,this.end=g,s=3;break;default:return this.write=N,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(s)}function r(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function n(t,e,s){var i=e.length-1;if(i<s)return 0;var a=r(e[i]);return a>=0?(a>0&&(t.lastNeed=a-1),a):--i<s||-2===a?0:(a=r(e[i]))>=0?(a>0&&(t.lastNeed=a-2),a):--i<s||-2===a?0:(a=r(e[i]))>=0?(a>0&&(2===a?a=0:t.lastNeed=a-3),a):0}function h(t,e,s){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}function l(t){var e=this.lastTotal-this.lastNeed,s=h(this,t,e);return void 0!==s?s:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){var s=n(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=s;var i=t.length-(s-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function o(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e}function c(t,e){if((t.length-e)%2==0){var s=t.toString("utf16le",e);if(s){var i=s.charCodeAt(s.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],s.slice(0,-1)}return s}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function f(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var s=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,s)}return e}function d(t,e){var s=(t.length-e)%3;return 0===s?t.toString("base64",e):(this.lastNeed=3-s,this.lastTotal=3,1===s?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-s))}function g(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function N(t){return t.toString(this.encoding)}function v(t){return t&&t.length?this.write(t):""}exports.StringDecoder=a,a.prototype.write=function(t){if(0===t.length)return"";var e,s;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";s=this.lastNeed,this.lastNeed=0}else s=0;return s<t.length?e?e+this.text(t,s):this.text(t,s):e||""},a.prototype.end=o,a.prototype.text=u,a.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};
},{"safe-buffer":"gIYa"}],"KTao":[function(require,module,exports) {

var global = arguments[3];
var process = require("process");
var e=arguments[3],t=require("process"),n=require("process-nextick-args");module.exports=_;var r,i=require("isarray");_.ReadableState=w;var a=require("events").EventEmitter,d=function(e,t){return e.listeners(t).length},o=require("./internal/streams/stream"),s=require("safe-buffer").Buffer,u=e.Uint8Array||function(){};function l(e){return s.from(e)}function h(e){return s.isBuffer(e)||e instanceof u}var p=Object.create(require("core-util-is"));p.inherits=require("inherits");var f=require("util"),c=void 0;c=f&&f.debuglog?f.debuglog("stream"):function(){};var g,b=require("./internal/streams/BufferList"),m=require("./internal/streams/destroy");p.inherits(_,o);var v=["error","close","destroy","pause","resume"];function y(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?i(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function w(e,t){e=e||{};var n=t instanceof(r=r||require("./_stream_duplex"));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,d=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(a||0===a)?a:d,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(g||(g=require("string_decoder/").StringDecoder),this.decoder=new g(e.encoding),this.encoding=e.encoding)}function _(e){if(r=r||require("./_stream_duplex"),!(this instanceof _))return new _(e);this._readableState=new w(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function M(e,t,n,r,i){var a,d=e._readableState;null===t?(d.reading=!1,x(e,d)):(i||(a=k(d,t)),a?e.emit("error",a):d.objectMode||t&&t.length>0?("string"==typeof t||d.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=l(t)),r?d.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):S(e,d,t,!0):d.ended?e.emit("error",new Error("stream.push() after EOF")):(d.reading=!1,d.decoder&&!n?(t=d.decoder.write(t),d.objectMode||0!==t.length?S(e,d,t,!1):C(e,d)):S(e,d,t,!1))):r||(d.reading=!1));return j(d)}function S(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&q(e)),C(e,t)}function k(e,t){var n;return h(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function j(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}Object.defineProperty(_.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),_.prototype.destroy=m.destroy,_.prototype._undestroy=m.undestroy,_.prototype._destroy=function(e,t){this.push(null),t(e)},_.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=s.from(e,t),t=""),n=!0),M(this,e,t,!1,n)},_.prototype.unshift=function(e){return M(this,e,null,!0,!1)},_.prototype.isPaused=function(){return!1===this._readableState.flowing},_.prototype.setEncoding=function(e){return g||(g=require("string_decoder/").StringDecoder),this._readableState.decoder=new g(e),this._readableState.encoding=e,this};var R=8388608;function E(e){return e>=R?e=R:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function L(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=E(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,q(e)}}function q(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?n.nextTick(W,e):W(e))}function W(e){c("emit readable"),e.emit("readable"),B(e)}function C(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(D,e,t))}function D(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(c("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function O(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&d(e,"data")&&(t.flowing=!0,B(e))}}function T(e){c("readable nexttick read 0"),e.read(0)}function U(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(P,e,t))}function P(e,t){t.reading||(c("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function H(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=I(e,t.buffer,t.decoder),n);var n}function I(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?A(e,t):F(e,t),r}function A(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var a=n.data,d=e>a.length?a.length:e;if(d===a.length?i+=a:i+=a.slice(0,e),0===(e-=d)){d===a.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(d));break}++r}return t.length-=r,i}function F(e,t){var n=s.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var a=r.data,d=e>a.length?a.length:e;if(a.copy(n,n.length-e,0,d),0===(e-=d)){d===a.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=a.slice(d));break}++i}return t.length-=i,n}function z(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,n.nextTick(G,t,e))}function G(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function J(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}_.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?z(this):q(this),null;if(0===(e=L(e,t))&&t.ended)return 0===t.length&&z(this),null;var r,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=L(n,t))),null===(r=e>0?H(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&z(this)),null!==r&&this.emit("data",r),r},_.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},_.prototype.pipe=function(e,r){var i=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,c("pipe count=%d opts=%j",a.pipesCount,r);var o=(!r||!1!==r.end)&&e!==t.stdout&&e!==t.stderr?u:v;function s(t,n){c("onunpipe"),t===i&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,c("cleanup"),e.removeListener("close",b),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",g),e.removeListener("unpipe",s),i.removeListener("end",u),i.removeListener("end",v),i.removeListener("data",f),h=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function u(){c("onend"),e.end()}a.endEmitted?n.nextTick(o):i.once("end",o),e.on("unpipe",s);var l=O(i);e.on("drain",l);var h=!1;var p=!1;function f(t){c("ondata"),p=!1,!1!==e.write(t)||p||((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==J(a.pipes,e))&&!h&&(c("false write response, pause",i._readableState.awaitDrain),i._readableState.awaitDrain++,p=!0),i.pause())}function g(t){c("onerror",t),v(),e.removeListener("error",g),0===d(e,"error")&&e.emit("error",t)}function b(){e.removeListener("finish",m),v()}function m(){c("onfinish"),e.removeListener("close",b),v()}function v(){c("unpipe"),i.unpipe(e)}return i.on("data",f),y(e,"error",g),e.once("close",b),e.once("finish",m),e.emit("pipe",i),a.flowing||(c("pipe resume"),i.resume()),e},_.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)r[a].emit("unpipe",this,n);return this}var d=J(t.pipes,e);return-1===d?this:(t.pipes.splice(d,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},_.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&q(this):n.nextTick(T,this))}return r},_.prototype.addListener=_.prototype.on,_.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!0,U(this,e)),this},_.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this},_.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(c("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(c("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<v.length;a++)e.on(v[a],this.emit.bind(this,v[a]));return this._read=function(t){c("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),_._fromList=H;
},{"process-nextick-args":"iFTO","isarray":"aqZJ","events":"wIHY","./internal/streams/stream":"o232","safe-buffer":"gIYa","core-util-is":"kj8s","inherits":"oxwV","util":"sC8V","./internal/streams/BufferList":"m362","./internal/streams/destroy":"Umu5","./_stream_duplex":"gYn1","string_decoder/":"ikue","process":"g5IB"}],"PxOV":[function(require,module,exports) {
"use strict";module.exports=n;var t=require("./_stream_duplex"),r=Object.create(require("core-util-is"));function e(t,r){var e=this._transformState;e.transforming=!1;var n=e.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));e.writechunk=null,e.writecb=null,null!=r&&this.push(r),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function n(r){if(!(this instanceof n))return new n(r);t.call(this,r),this._transformState={afterTransform:e.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,r&&("function"==typeof r.transform&&(this._transform=r.transform),"function"==typeof r.flush&&(this._flush=r.flush)),this.on("prefinish",i)}function i(){var t=this;"function"==typeof this._flush?this._flush(function(r,e){a(t,r,e)}):a(this,null,null)}function a(t,r,e){if(r)return t.emit("error",r);if(null!=e&&t.push(e),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}r.inherits=require("inherits"),r.inherits(n,t),n.prototype.push=function(r,e){return this._transformState.needTransform=!1,t.prototype.push.call(this,r,e)},n.prototype._transform=function(t,r,e){throw new Error("_transform() is not implemented")},n.prototype._write=function(t,r,e){var n=this._transformState;if(n.writecb=e,n.writechunk=t,n.writeencoding=r,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},n.prototype._read=function(t){var r=this._transformState;null!==r.writechunk&&r.writecb&&!r.transforming?(r.transforming=!0,this._transform(r.writechunk,r.writeencoding,r.afterTransform)):r.needTransform=!0},n.prototype._destroy=function(r,e){var n=this;t.prototype._destroy.call(this,r,function(t){e(t),n.emit("close")})};
},{"./_stream_duplex":"gYn1","core-util-is":"kj8s","inherits":"oxwV"}],"pumY":[function(require,module,exports) {
"use strict";module.exports=t;var r=require("./_stream_transform"),e=Object.create(require("core-util-is"));function t(e){if(!(this instanceof t))return new t(e);r.call(this,e)}e.inherits=require("inherits"),e.inherits(t,r),t.prototype._transform=function(r,e,t){t(null,r)};
},{"./_stream_transform":"PxOV","core-util-is":"kj8s","inherits":"oxwV"}],"YvpY":[function(require,module,exports) {
exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=exports,exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js");
},{"./lib/_stream_readable.js":"KTao","./lib/_stream_writable.js":"pX9p","./lib/_stream_duplex.js":"gYn1","./lib/_stream_transform.js":"PxOV","./lib/_stream_passthrough.js":"pumY"}],"PbAG":[function(require,module,exports) {
module.exports=require("./lib/_stream_writable.js");
},{"./lib/_stream_writable.js":"pX9p"}],"AyLR":[function(require,module,exports) {
module.exports=require("./lib/_stream_duplex.js");
},{"./lib/_stream_duplex.js":"gYn1"}],"K38q":[function(require,module,exports) {
module.exports=require("./readable").Transform;
},{"./readable":"YvpY"}],"D33E":[function(require,module,exports) {
module.exports=require("./readable").PassThrough;
},{"./readable":"YvpY"}],"JMHy":[function(require,module,exports) {
module.exports=n;var e=require("events").EventEmitter,r=require("inherits");function n(){e.call(this)}r(n,e),n.Readable=require("readable-stream/readable.js"),n.Writable=require("readable-stream/writable.js"),n.Duplex=require("readable-stream/duplex.js"),n.Transform=require("readable-stream/transform.js"),n.PassThrough=require("readable-stream/passthrough.js"),n.Stream=n,n.prototype.pipe=function(r,n){var o=this;function t(e){r.writable&&!1===r.write(e)&&o.pause&&o.pause()}function s(){o.readable&&o.resume&&o.resume()}o.on("data",t),r.on("drain",s),r._isStdio||n&&!1===n.end||(o.on("end",a),o.on("close",u));var i=!1;function a(){i||(i=!0,r.end())}function u(){i||(i=!0,"function"==typeof r.destroy&&r.destroy())}function d(r){if(l(),0===e.listenerCount(this,"error"))throw r}function l(){o.removeListener("data",t),r.removeListener("drain",s),o.removeListener("end",a),o.removeListener("close",u),o.removeListener("error",d),r.removeListener("error",d),o.removeListener("end",l),o.removeListener("close",l),r.removeListener("close",l)}return o.on("error",d),r.on("error",d),o.on("end",l),o.on("close",l),r.on("close",l),r.emit("pipe",o),r};
},{"events":"wIHY","inherits":"oxwV","readable-stream/readable.js":"YvpY","readable-stream/writable.js":"PbAG","readable-stream/duplex.js":"AyLR","readable-stream/transform.js":"K38q","readable-stream/passthrough.js":"D33E"}],"ebtb":[function(require,module,exports) {
module.exports=function(o){return o&&"object"==typeof o&&"function"==typeof o.copy&&"function"==typeof o.fill&&"function"==typeof o.readUInt8};
},{}],"Zvxt":[function(require,module,exports) {
"function"==typeof Object.create?module.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(t,e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t};
},{}],"KpDW":[function(require,module,exports) {
var global = arguments[3];
var process = require("process");
var e=arguments[3],t=require("process"),r=/%[sdj%]/g;exports.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}n=1;for(var o=arguments,s=o.length,u=String(e).replace(r,function(e){if("%%"===e)return"%";if(n>=s)return e;switch(e){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{return JSON.stringify(o[n++])}catch(t){return"[Circular]"}default:return e}}),c=o[n];n<s;c=o[++n])h(c)||!z(c)?u+=" "+c:u+=" "+i(c);return u},exports.deprecate=function(r,n){if(j(e.process))return function(){return exports.deprecate(r,n).apply(this,arguments)};if(!0===t.noDeprecation)return r;var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(n);t.traceDeprecation?console.trace(n):console.error(n),o=!0}return r.apply(this,arguments)}};var n,o={};function i(e,t){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),x(t)?r.showHidden=t:t&&exports._extend(r,t),j(r.showHidden)&&(r.showHidden=!1),j(r.depth)&&(r.depth=2),j(r.colors)&&(r.colors=!1),j(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=s),p(r,e,r.depth)}function s(e,t){var r=i.styles[t];return r?"["+i.colors[r][0]+"m"+e+"["+i.colors[r][1]+"m":e}function u(e,t){return e}function c(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function p(e,t,r){if(e.customInspect&&t&&D(t.inspect)&&t.inspect!==exports.inspect&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return v(n)||(n=p(e,n,r)),n}var o=l(e,t);if(o)return o;var i=Object.keys(t),s=c(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(t)),E(t)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return a(t);if(0===i.length){if(D(t)){var u=t.name?": "+t.name:"";return e.stylize("[Function"+u+"]","special")}if(O(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(w(t))return e.stylize(Date.prototype.toString.call(t),"date");if(E(t))return a(t)}var x,h="",b=!1,m=["{","}"];(d(t)&&(b=!0,m=["[","]"]),D(t))&&(h=" [Function"+(t.name?": "+t.name:"")+"]");return O(t)&&(h=" "+RegExp.prototype.toString.call(t)),w(t)&&(h=" "+Date.prototype.toUTCString.call(t)),E(t)&&(h=" "+a(t)),0!==i.length||b&&0!=t.length?r<0?O(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),x=b?f(e,t,r,s,i):i.map(function(n){return g(e,t,r,s,n,b)}),e.seen.pop(),y(x,h,m)):m[0]+h+m[1]}function l(e,t){if(j(t))return e.stylize("undefined","undefined");if(v(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return m(t)?e.stylize(""+t,"number"):x(t)?e.stylize(""+t,"boolean"):h(t)?e.stylize("null","null"):void 0}function a(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,r,n,o){for(var i=[],s=0,u=t.length;s<u;++s)$(t,String(s))?i.push(g(e,t,r,n,String(s),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(g(e,t,r,n,o,!0))}),i}function g(e,t,r,n,o,i){var s,u,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?u=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(u=e.stylize("[Setter]","special")),$(n,o)||(s="["+o+"]"),u||(e.seen.indexOf(c.value)<0?(u=h(r)?p(e,c.value,null):p(e,c.value,r-1)).indexOf("\n")>-1&&(u=i?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n")):u=e.stylize("[Circular]","special")),j(s)){if(i&&o.match(/^\d+$/))return u;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+u}function y(e,t,r){return e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function d(e){return Array.isArray(e)}function x(e){return"boolean"==typeof e}function h(e){return null===e}function b(e){return null==e}function m(e){return"number"==typeof e}function v(e){return"string"==typeof e}function S(e){return"symbol"==typeof e}function j(e){return void 0===e}function O(e){return z(e)&&"[object RegExp]"===A(e)}function z(e){return"object"==typeof e&&null!==e}function w(e){return z(e)&&"[object Date]"===A(e)}function E(e){return z(e)&&("[object Error]"===A(e)||e instanceof Error)}function D(e){return"function"==typeof e}function N(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function A(e){return Object.prototype.toString.call(e)}function J(e){return e<10?"0"+e.toString(10):e.toString(10)}exports.debuglog=function(e){if(j(n)&&(n=""),e=e.toUpperCase(),!o[e])if(new RegExp("\\b"+e+"\\b","i").test(n)){var r=t.pid;o[e]=function(){var t=exports.format.apply(exports,arguments);console.error("%s %d: %s",e,r,t)}}else o[e]=function(){};return o[e]},exports.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=d,exports.isBoolean=x,exports.isNull=h,exports.isNullOrUndefined=b,exports.isNumber=m,exports.isString=v,exports.isSymbol=S,exports.isUndefined=j,exports.isRegExp=O,exports.isObject=z,exports.isDate=w,exports.isError=E,exports.isFunction=D,exports.isPrimitive=N,exports.isBuffer=require("./support/isBuffer");var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function H(){var e=new Date,t=[J(e.getHours()),J(e.getMinutes()),J(e.getSeconds())].join(":");return[e.getDate(),R[e.getMonth()],t].join(" ")}function $(e,t){return Object.prototype.hasOwnProperty.call(e,t)}exports.log=function(){console.log("%s - %s",H(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(e,t){if(!t||!z(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};
},{"./support/isBuffer":"ebtb","inherits":"Zvxt","process":"g5IB"}],"g2FE":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3],e=require("object-assign");function r(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}function n(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var i=require("util/"),o=Object.prototype.hasOwnProperty,u=Array.prototype.slice,a="foo"===function(){}.name;function c(t){return Object.prototype.toString.call(t)}function f(e){return!n(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var s=module.exports=q,l=/\s*function\s+([^\(\s]*)\s*/;function p(t){if(i.isFunction(t)){if(a)return t.name;var e=t.toString().match(l);return e&&e[1]}}function g(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function E(t){if(a||!i.isFunction(t))return i.inspect(t);var e=p(t);return"[Function"+(e?": "+e:"")+"]"}function h(t){return g(E(t.actual),128)+" "+t.operator+" "+g(E(t.expected),128)}function y(t,e,r,n,i){throw new s.AssertionError({message:r,actual:t,expected:e,operator:n,stackStartFunction:i})}function q(t,e){t||y(t,!0,e,"==",s.ok)}function d(t,e,o,u){if(t===e)return!0;if(n(t)&&n(e))return 0===r(t,e);if(i.isDate(t)&&i.isDate(e))return t.getTime()===e.getTime();if(i.isRegExp(t)&&i.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(f(t)&&f(e)&&c(t)===c(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===r(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(n(t)!==n(e))return!1;var a=(u=u||{actual:[],expected:[]}).actual.indexOf(t);return-1!==a&&a===u.expected.indexOf(e)||(u.actual.push(t),u.expected.push(e),b(t,e,o,u))}return o?t===e:t==e}function m(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function b(t,e,r,n){if(null==t||null==e)return!1;if(i.isPrimitive(t)||i.isPrimitive(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var o=m(t),a=m(e);if(o&&!a||!o&&a)return!1;if(o)return d(t=u.call(t),e=u.call(e),r);var c,f,s=A(t),l=A(e);if(s.length!==l.length)return!1;for(s.sort(),l.sort(),f=s.length-1;f>=0;f--)if(s[f]!==l[f])return!1;for(f=s.length-1;f>=0;f--)if(!d(t[c=s[f]],e[c],r,n))return!1;return!0}function v(t,e,r){d(t,e,!0)&&y(t,e,r,"notDeepStrictEqual",v)}function x(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(r){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function S(t){var e;try{t()}catch(r){e=r}return e}function w(t,e,r,n){var o;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),o=S(e),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!o&&y(o,r,"Missing expected exception"+n);var u="string"==typeof n,a=!t&&o&&!r;if((!t&&i.isError(o)&&u&&x(o,r)||a)&&y(o,r,"Got unwanted exception"+n),t&&o&&r&&!x(o,r)||!t&&o)throw o}function O(t,e){t||y(t,!0,e,"==",O)}s.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=h(this),this.generatedMessage=!0);var e=t.stackStartFunction||y;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,i=p(e),o=n.indexOf("\n"+i);if(o>=0){var u=n.indexOf("\n",o+1);n=n.substring(u+1)}this.stack=n}}},i.inherits(s.AssertionError,Error),s.fail=y,s.ok=q,s.equal=function(t,e,r){t!=e&&y(t,e,r,"==",s.equal)},s.notEqual=function(t,e,r){t==e&&y(t,e,r,"!=",s.notEqual)},s.deepEqual=function(t,e,r){d(t,e,!1)||y(t,e,r,"deepEqual",s.deepEqual)},s.deepStrictEqual=function(t,e,r){d(t,e,!0)||y(t,e,r,"deepStrictEqual",s.deepStrictEqual)},s.notDeepEqual=function(t,e,r){d(t,e,!1)&&y(t,e,r,"notDeepEqual",s.notDeepEqual)},s.notDeepStrictEqual=v,s.strictEqual=function(t,e,r){t!==e&&y(t,e,r,"===",s.strictEqual)},s.notStrictEqual=function(t,e,r){t===e&&y(t,e,r,"!==",s.notStrictEqual)},s.throws=function(t,e,r){w(!0,t,e,r)},s.doesNotThrow=function(t,e,r){w(!1,t,e,r)},s.ifError=function(t){if(t)throw t},s.strict=e(O,s,{equal:s.strictEqual,deepEqual:s.deepStrictEqual,notEqual:s.notStrictEqual,notDeepEqual:s.notDeepStrictEqual}),s.strict.strict=s.strict;var A=Object.keys||function(t){var e=[];for(var r in t)o.call(t,r)&&e.push(r);return e};
},{"object-assign":"YOwE","util/":"KpDW"}],"uZ6O":[function(require,module,exports) {
"use strict";function t(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}module.exports=t;
},{}],"zPEc":[function(require,module,exports) {
"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function t(r,t){return Object.prototype.hasOwnProperty.call(r,t)}exports.assign=function(r){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var a in n)t(n,a)&&(r[a]=n[a])}}return r},exports.shrinkBuf=function(r,t){return r.length===t?r:r.subarray?r.subarray(0,t):(r.length=t,r)};var e={arraySet:function(r,t,e,n,a){if(t.subarray&&r.subarray)r.set(t.subarray(e,e+n),a);else for(var o=0;o<n;o++)r[a+o]=t[e+o]},flattenChunks:function(r){var t,e,n,a,o,s;for(n=0,t=0,e=r.length;t<e;t++)n+=r[t].length;for(s=new Uint8Array(n),a=0,t=0,e=r.length;t<e;t++)o=r[t],s.set(o,a),a+=o.length;return s}},n={arraySet:function(r,t,e,n,a){for(var o=0;o<n;o++)r[a+o]=t[e+o]},flattenChunks:function(r){return[].concat.apply([],r)}};exports.setTyped=function(r){r?(exports.Buf8=Uint8Array,exports.Buf16=Uint16Array,exports.Buf32=Int32Array,exports.assign(exports,e)):(exports.Buf8=Array,exports.Buf16=Array,exports.Buf32=Array,exports.assign(exports,n))},exports.setTyped(r);
},{}],"BpTA":[function(require,module,exports) {
"use strict";var e=require("../utils/common"),t=4,n=0,_=1,r=2;function a(e){for(var t=e.length;--t>=0;)e[t]=0}var i=0,l=1,d=2,f=3,o=258,b=29,s=256,u=s+1+b,c=30,p=19,h=2*u+1,v=15,y=16,x=7,g=256,m=16,w=17,A=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],j=512,B=new Array(2*(u+2));a(B);var C=new Array(2*c);a(C);var D=new Array(j);a(D);var E=new Array(o-f+1);a(E);var F=new Array(b);a(F);var G,H,I,J=new Array(c);function K(e,t,n,_,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=_,this.max_length=r,this.has_stree=e&&e.length}function L(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function M(e){return e<256?D[e]:D[256+(e>>>7)]}function N(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function O(e,t,n){e.bi_valid>y-n?(e.bi_buf|=t<<e.bi_valid&65535,N(e,e.bi_buf),e.bi_buf=t>>y-e.bi_valid,e.bi_valid+=n-y):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function P(e,t,n){O(e,n[2*t],n[2*t+1])}function Q(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function R(e){16===e.bi_valid?(N(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function T(e,t){var n,_,r,a,i,l,d=t.dyn_tree,f=t.max_code,o=t.stat_desc.static_tree,b=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,u=t.stat_desc.extra_base,c=t.stat_desc.max_length,p=0;for(a=0;a<=v;a++)e.bl_count[a]=0;for(d[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<h;n++)(a=d[2*d[2*(_=e.heap[n])+1]+1]+1)>c&&(a=c,p++),d[2*_+1]=a,_>f||(e.bl_count[a]++,i=0,_>=u&&(i=s[_-u]),l=d[2*_],e.opt_len+=l*(a+i),b&&(e.static_len+=l*(o[2*_+1]+i)));if(0!==p){do{for(a=c-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[c]--,p-=2}while(p>0);for(a=c;0!==a;a--)for(_=e.bl_count[a];0!==_;)(r=e.heap[--n])>f||(d[2*r+1]!==a&&(e.opt_len+=(a-d[2*r+1])*d[2*r],d[2*r+1]=a),_--)}}function U(e,t,n){var _,r,a=new Array(v+1),i=0;for(_=1;_<=v;_++)a[_]=i=i+n[_-1]<<1;for(r=0;r<=t;r++){var l=e[2*r+1];0!==l&&(e[2*r]=Q(a[l]++,l))}}function V(){var e,t,n,_,r,a=new Array(v+1);for(n=0,_=0;_<b-1;_++)for(F[_]=n,e=0;e<1<<k[_];e++)E[n++]=_;for(E[n-1]=_,r=0,_=0;_<16;_++)for(J[_]=r,e=0;e<1<<q[_];e++)D[r++]=_;for(r>>=7;_<c;_++)for(J[_]=r<<7,e=0;e<1<<q[_]-7;e++)D[256+r++]=_;for(t=0;t<=v;t++)a[t]=0;for(e=0;e<=143;)B[2*e+1]=8,e++,a[8]++;for(;e<=255;)B[2*e+1]=9,e++,a[9]++;for(;e<=279;)B[2*e+1]=7,e++,a[7]++;for(;e<=287;)B[2*e+1]=8,e++,a[8]++;for(U(B,u+1,a),e=0;e<c;e++)C[2*e+1]=5,C[2*e]=Q(e,5);G=new K(B,k,s+1,u,v),H=new K(C,q,0,c,v),I=new K(new Array(0),z,0,p,x)}function W(e){var t;for(t=0;t<u;t++)e.dyn_ltree[2*t]=0;for(t=0;t<c;t++)e.dyn_dtree[2*t]=0;for(t=0;t<p;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*g]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function X(e){e.bi_valid>8?N(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function Y(t,n,_,r){X(t),r&&(N(t,_),N(t,~_)),e.arraySet(t.pending_buf,t.window,n,_,t.pending),t.pending+=_}function Z(e,t,n,_){var r=2*t,a=2*n;return e[r]<e[a]||e[r]===e[a]&&_[t]<=_[n]}function $(e,t,n){for(var _=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&Z(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!Z(t,_,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=_}function ee(e,t,n){var _,r,a,i,l=0;if(0!==e.last_lit)do{_=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],r=e.pending_buf[e.l_buf+l],l++,0===_?P(e,r,t):(P(e,(a=E[r])+s+1,t),0!==(i=k[a])&&O(e,r-=F[a],i),P(e,a=M(--_),n),0!==(i=q[a])&&O(e,_-=J[a],i))}while(l<e.last_lit);P(e,g,t)}function te(e,t){var n,_,r,a=t.dyn_tree,i=t.stat_desc.static_tree,l=t.stat_desc.has_stree,d=t.stat_desc.elems,f=-1;for(e.heap_len=0,e.heap_max=h,n=0;n<d;n++)0!==a[2*n]?(e.heap[++e.heap_len]=f=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(r=e.heap[++e.heap_len]=f<2?++f:0)]=1,e.depth[r]=0,e.opt_len--,l&&(e.static_len-=i[2*r+1]);for(t.max_code=f,n=e.heap_len>>1;n>=1;n--)$(e,a,n);r=d;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],$(e,a,1),_=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=_,a[2*r]=a[2*n]+a[2*_],e.depth[r]=(e.depth[n]>=e.depth[_]?e.depth[n]:e.depth[_])+1,a[2*n+1]=a[2*_+1]=r,e.heap[1]=r++,$(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],T(e,t),U(a,f,e.bl_count)}function ne(e,t,n){var _,r,a=-1,i=t[1],l=0,d=7,f=4;for(0===i&&(d=138,f=3),t[2*(n+1)+1]=65535,_=0;_<=n;_++)r=i,i=t[2*(_+1)+1],++l<d&&r===i||(l<f?e.bl_tree[2*r]+=l:0!==r?(r!==a&&e.bl_tree[2*r]++,e.bl_tree[2*m]++):l<=10?e.bl_tree[2*w]++:e.bl_tree[2*A]++,l=0,a=r,0===i?(d=138,f=3):r===i?(d=6,f=3):(d=7,f=4))}function _e(e,t,n){var _,r,a=-1,i=t[1],l=0,d=7,f=4;for(0===i&&(d=138,f=3),_=0;_<=n;_++)if(r=i,i=t[2*(_+1)+1],!(++l<d&&r===i)){if(l<f)do{P(e,r,e.bl_tree)}while(0!=--l);else 0!==r?(r!==a&&(P(e,r,e.bl_tree),l--),P(e,m,e.bl_tree),O(e,l-3,2)):l<=10?(P(e,w,e.bl_tree),O(e,l-3,3)):(P(e,A,e.bl_tree),O(e,l-11,7));l=0,a=r,0===i?(d=138,f=3):r===i?(d=6,f=3):(d=7,f=4)}}function re(e){var t;for(ne(e,e.dyn_ltree,e.l_desc.max_code),ne(e,e.dyn_dtree,e.d_desc.max_code),te(e,e.bl_desc),t=p-1;t>=3&&0===e.bl_tree[2*S[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function ae(e,t,n,_){var r;for(O(e,t-257,5),O(e,n-1,5),O(e,_-4,4),r=0;r<_;r++)O(e,e.bl_tree[2*S[r]+1],3);_e(e,e.dyn_ltree,t-1),_e(e,e.dyn_dtree,n-1)}function ie(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return n;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return _;for(t=32;t<s;t++)if(0!==e.dyn_ltree[2*t])return _;return n}a(J);var le=!1;function de(e){le||(V(),le=!0),e.l_desc=new L(e.dyn_ltree,G),e.d_desc=new L(e.dyn_dtree,H),e.bl_desc=new L(e.bl_tree,I),e.bi_buf=0,e.bi_valid=0,W(e)}function fe(e,t,n,_){O(e,(i<<1)+(_?1:0),3),Y(e,t,n,!0)}function oe(e){O(e,l<<1,3),P(e,g,B),R(e)}function be(e,n,_,a){var i,f,o=0;e.level>0?(e.strm.data_type===r&&(e.strm.data_type=ie(e)),te(e,e.l_desc),te(e,e.d_desc),o=re(e),i=e.opt_len+3+7>>>3,(f=e.static_len+3+7>>>3)<=i&&(i=f)):i=f=_+5,_+4<=i&&-1!==n?fe(e,n,_,a):e.strategy===t||f===i?(O(e,(l<<1)+(a?1:0),3),ee(e,B,C)):(O(e,(d<<1)+(a?1:0),3),ae(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),ee(e,e.dyn_ltree,e.dyn_dtree)),W(e),a&&X(e)}function se(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(E[n]+s+1)]++,e.dyn_dtree[2*M(t)]++),e.last_lit===e.lit_bufsize-1}exports._tr_init=de,exports._tr_stored_block=fe,exports._tr_flush_block=be,exports._tr_tally=se,exports._tr_align=oe;
},{"../utils/common":"zPEc"}],"z75u":[function(require,module,exports) {
"use strict";function e(e,r,o,t){for(var u=65535&e|0,i=e>>>16&65535|0,n=0;0!==o;){o-=n=o>2e3?2e3:o;do{i=i+(u=u+r[t++]|0)|0}while(--n);u%=65521,i%=65521}return u|i<<16|0}module.exports=e;
},{}],"q3Pb":[function(require,module,exports) {
"use strict";function r(){for(var r,o=[],t=0;t<256;t++){r=t;for(var n=0;n<8;n++)r=1&r?3988292384^r>>>1:r>>>1;o[t]=r}return o}var o=r();function t(r,t,n,u){var a=o,e=u+n;r^=-1;for(var f=u;f<e;f++)r=r>>>8^a[255&(r^t[f])];return-1^r}module.exports=t;
},{}],"LiTN":[function(require,module,exports) {
"use strict";module.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};
},{}],"d4SE":[function(require,module,exports) {
"use strict";var t,a=require("../utils/common"),e=require("./trees"),s=require("./adler32"),i=require("./crc32"),r=require("./messages"),n=0,h=1,l=3,_=4,d=5,o=0,u=1,g=-2,f=-3,c=-5,p=-1,m=1,w=2,v=3,k=4,z=0,b=2,x=8,y=9,B=15,S=8,q=29,I=256,A=I+1+q,C=30,R=19,j=2*A+1,D=15,E=3,H=258,K=H+E+1,N=32,F=42,G=69,J=73,L=91,M=103,O=113,P=666,Q=1,T=2,U=3,V=4,W=3;function X(t,a){return t.msg=r[a],a}function Y(t){return(t<<1)-(t>4?9:0)}function Z(t){for(var a=t.length;--a>=0;)t[a]=0}function $(t){var e=t.state,s=e.pending;s>t.avail_out&&(s=t.avail_out),0!==s&&(a.arraySet(t.output,e.pending_buf,e.pending_out,s,t.next_out),t.next_out+=s,e.pending_out+=s,t.total_out+=s,t.avail_out-=s,e.pending-=s,0===e.pending&&(e.pending_out=0))}function tt(t,a){e._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,a),t.block_start=t.strstart,$(t.strm)}function at(t,a){t.pending_buf[t.pending++]=a}function et(t,a){t.pending_buf[t.pending++]=a>>>8&255,t.pending_buf[t.pending++]=255&a}function st(t,e,r,n){var h=t.avail_in;return h>n&&(h=n),0===h?0:(t.avail_in-=h,a.arraySet(e,t.input,t.next_in,h,r),1===t.state.wrap?t.adler=s(t.adler,e,h,r):2===t.state.wrap&&(t.adler=i(t.adler,e,h,r)),t.next_in+=h,t.total_in+=h,h)}function it(t,a){var e,s,i=t.max_chain_length,r=t.strstart,n=t.prev_length,h=t.nice_match,l=t.strstart>t.w_size-K?t.strstart-(t.w_size-K):0,_=t.window,d=t.w_mask,o=t.prev,u=t.strstart+H,g=_[r+n-1],f=_[r+n];t.prev_length>=t.good_match&&(i>>=2),h>t.lookahead&&(h=t.lookahead);do{if(_[(e=a)+n]===f&&_[e+n-1]===g&&_[e]===_[r]&&_[++e]===_[r+1]){r+=2,e++;do{}while(_[++r]===_[++e]&&_[++r]===_[++e]&&_[++r]===_[++e]&&_[++r]===_[++e]&&_[++r]===_[++e]&&_[++r]===_[++e]&&_[++r]===_[++e]&&_[++r]===_[++e]&&r<u);if(s=H-(u-r),r=u-H,s>n){if(t.match_start=a,n=s,s>=h)break;g=_[r+n-1],f=_[r+n]}}}while((a=o[a&d])>l&&0!=--i);return n<=t.lookahead?n:t.lookahead}function rt(t){var e,s,i,r,n,h=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=h+(h-K)){a.arraySet(t.window,t.window,h,h,0),t.match_start-=h,t.strstart-=h,t.block_start-=h,e=s=t.hash_size;do{i=t.head[--e],t.head[e]=i>=h?i-h:0}while(--s);e=s=h;do{i=t.prev[--e],t.prev[e]=i>=h?i-h:0}while(--s);r+=h}if(0===t.strm.avail_in)break;if(s=st(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=s,t.lookahead+t.insert>=E)for(n=t.strstart-t.insert,t.ins_h=t.window[n],t.ins_h=(t.ins_h<<t.hash_shift^t.window[n+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[n+E-1])&t.hash_mask,t.prev[n&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=n,n++,t.insert--,!(t.lookahead+t.insert<E)););}while(t.lookahead<K&&0!==t.strm.avail_in)}function nt(t,a){var e=65535;for(e>t.pending_buf_size-5&&(e=t.pending_buf_size-5);;){if(t.lookahead<=1){if(rt(t),0===t.lookahead&&a===n)return Q;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var s=t.block_start+e;if((0===t.strstart||t.strstart>=s)&&(t.lookahead=t.strstart-s,t.strstart=s,tt(t,!1),0===t.strm.avail_out))return Q;if(t.strstart-t.block_start>=t.w_size-K&&(tt(t,!1),0===t.strm.avail_out))return Q}return t.insert=0,a===_?(tt(t,!0),0===t.strm.avail_out?U:V):(t.strstart>t.block_start&&(tt(t,!1),t.strm.avail_out),Q)}function ht(t,a){for(var s,i;;){if(t.lookahead<K){if(rt(t),t.lookahead<K&&a===n)return Q;if(0===t.lookahead)break}if(s=0,t.lookahead>=E&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+E-1])&t.hash_mask,s=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==s&&t.strstart-s<=t.w_size-K&&(t.match_length=it(t,s)),t.match_length>=E)if(i=e._tr_tally(t,t.strstart-t.match_start,t.match_length-E),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=E){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+E-1])&t.hash_mask,s=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=e._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(tt(t,!1),0===t.strm.avail_out))return Q}return t.insert=t.strstart<E-1?t.strstart:E-1,a===_?(tt(t,!0),0===t.strm.avail_out?U:V):t.last_lit&&(tt(t,!1),0===t.strm.avail_out)?Q:T}function lt(t,a){for(var s,i,r;;){if(t.lookahead<K){if(rt(t),t.lookahead<K&&a===n)return Q;if(0===t.lookahead)break}if(s=0,t.lookahead>=E&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+E-1])&t.hash_mask,s=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=E-1,0!==s&&t.prev_length<t.max_lazy_match&&t.strstart-s<=t.w_size-K&&(t.match_length=it(t,s),t.match_length<=5&&(t.strategy===m||t.match_length===E&&t.strstart-t.match_start>4096)&&(t.match_length=E-1)),t.prev_length>=E&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-E,i=e._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-E),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+E-1])&t.hash_mask,s=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=E-1,t.strstart++,i&&(tt(t,!1),0===t.strm.avail_out))return Q}else if(t.match_available){if((i=e._tr_tally(t,0,t.window[t.strstart-1]))&&tt(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return Q}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=e._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<E-1?t.strstart:E-1,a===_?(tt(t,!0),0===t.strm.avail_out?U:V):t.last_lit&&(tt(t,!1),0===t.strm.avail_out)?Q:T}function _t(t,a){for(var s,i,r,h,l=t.window;;){if(t.lookahead<=H){if(rt(t),t.lookahead<=H&&a===n)return Q;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=E&&t.strstart>0&&(i=l[r=t.strstart-1])===l[++r]&&i===l[++r]&&i===l[++r]){h=t.strstart+H;do{}while(i===l[++r]&&i===l[++r]&&i===l[++r]&&i===l[++r]&&i===l[++r]&&i===l[++r]&&i===l[++r]&&i===l[++r]&&r<h);t.match_length=H-(h-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=E?(s=e._tr_tally(t,1,t.match_length-E),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(s=e._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),s&&(tt(t,!1),0===t.strm.avail_out))return Q}return t.insert=0,a===_?(tt(t,!0),0===t.strm.avail_out?U:V):t.last_lit&&(tt(t,!1),0===t.strm.avail_out)?Q:T}function dt(t,a){for(var s;;){if(0===t.lookahead&&(rt(t),0===t.lookahead)){if(a===n)return Q;break}if(t.match_length=0,s=e._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,s&&(tt(t,!1),0===t.strm.avail_out))return Q}return t.insert=0,a===_?(tt(t,!0),0===t.strm.avail_out?U:V):t.last_lit&&(tt(t,!1),0===t.strm.avail_out)?Q:T}function ot(t,a,e,s,i){this.good_length=t,this.max_lazy=a,this.nice_length=e,this.max_chain=s,this.func=i}function ut(a){a.window_size=2*a.w_size,Z(a.head),a.max_lazy_match=t[a.level].max_lazy,a.good_match=t[a.level].good_length,a.nice_match=t[a.level].nice_length,a.max_chain_length=t[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=E-1,a.match_available=0,a.ins_h=0}function gt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*j),this.dyn_dtree=new a.Buf16(2*(2*C+1)),this.bl_tree=new a.Buf16(2*(2*R+1)),Z(this.dyn_ltree),Z(this.dyn_dtree),Z(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(D+1),this.heap=new a.Buf16(2*A+1),Z(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*A+1),Z(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ft(t){var a;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=b,(a=t.state).pending=0,a.pending_out=0,a.wrap<0&&(a.wrap=-a.wrap),a.status=a.wrap?F:O,t.adler=2===a.wrap?0:1,a.last_flush=n,e._tr_init(a),o):X(t,g)}function ct(t){var a=ft(t);return a===o&&ut(t.state),a}function pt(t,a){return t&&t.state?2!==t.state.wrap?g:(t.state.gzhead=a,o):g}function mt(t,e,s,i,r,n){if(!t)return g;var h=1;if(e===p&&(e=6),i<0?(h=0,i=-i):i>15&&(h=2,i-=16),r<1||r>y||s!==x||i<8||i>15||e<0||e>9||n<0||n>k)return X(t,g);8===i&&(i=9);var l=new gt;return t.state=l,l.strm=t,l.wrap=h,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=r+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+E-1)/E),l.window=new a.Buf8(2*l.w_size),l.head=new a.Buf16(l.hash_size),l.prev=new a.Buf16(l.w_size),l.lit_bufsize=1<<r+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new a.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=n,l.method=s,ct(t)}function wt(t,a){return mt(t,a,x,B,S,z)}function vt(a,s){var r,f,p,m;if(!a||!a.state||s>d||s<0)return a?X(a,g):g;if(f=a.state,!a.output||!a.input&&0!==a.avail_in||f.status===P&&s!==_)return X(a,0===a.avail_out?c:g);if(f.strm=a,r=f.last_flush,f.last_flush=s,f.status===F)if(2===f.wrap)a.adler=0,at(f,31),at(f,139),at(f,8),f.gzhead?(at(f,(f.gzhead.text?1:0)+(f.gzhead.hcrc?2:0)+(f.gzhead.extra?4:0)+(f.gzhead.name?8:0)+(f.gzhead.comment?16:0)),at(f,255&f.gzhead.time),at(f,f.gzhead.time>>8&255),at(f,f.gzhead.time>>16&255),at(f,f.gzhead.time>>24&255),at(f,9===f.level?2:f.strategy>=w||f.level<2?4:0),at(f,255&f.gzhead.os),f.gzhead.extra&&f.gzhead.extra.length&&(at(f,255&f.gzhead.extra.length),at(f,f.gzhead.extra.length>>8&255)),f.gzhead.hcrc&&(a.adler=i(a.adler,f.pending_buf,f.pending,0)),f.gzindex=0,f.status=G):(at(f,0),at(f,0),at(f,0),at(f,0),at(f,0),at(f,9===f.level?2:f.strategy>=w||f.level<2?4:0),at(f,W),f.status=O);else{var k=x+(f.w_bits-8<<4)<<8;k|=(f.strategy>=w||f.level<2?0:f.level<6?1:6===f.level?2:3)<<6,0!==f.strstart&&(k|=N),k+=31-k%31,f.status=O,et(f,k),0!==f.strstart&&(et(f,a.adler>>>16),et(f,65535&a.adler)),a.adler=1}if(f.status===G)if(f.gzhead.extra){for(p=f.pending;f.gzindex<(65535&f.gzhead.extra.length)&&(f.pending!==f.pending_buf_size||(f.gzhead.hcrc&&f.pending>p&&(a.adler=i(a.adler,f.pending_buf,f.pending-p,p)),$(a),p=f.pending,f.pending!==f.pending_buf_size));)at(f,255&f.gzhead.extra[f.gzindex]),f.gzindex++;f.gzhead.hcrc&&f.pending>p&&(a.adler=i(a.adler,f.pending_buf,f.pending-p,p)),f.gzindex===f.gzhead.extra.length&&(f.gzindex=0,f.status=J)}else f.status=J;if(f.status===J)if(f.gzhead.name){p=f.pending;do{if(f.pending===f.pending_buf_size&&(f.gzhead.hcrc&&f.pending>p&&(a.adler=i(a.adler,f.pending_buf,f.pending-p,p)),$(a),p=f.pending,f.pending===f.pending_buf_size)){m=1;break}m=f.gzindex<f.gzhead.name.length?255&f.gzhead.name.charCodeAt(f.gzindex++):0,at(f,m)}while(0!==m);f.gzhead.hcrc&&f.pending>p&&(a.adler=i(a.adler,f.pending_buf,f.pending-p,p)),0===m&&(f.gzindex=0,f.status=L)}else f.status=L;if(f.status===L)if(f.gzhead.comment){p=f.pending;do{if(f.pending===f.pending_buf_size&&(f.gzhead.hcrc&&f.pending>p&&(a.adler=i(a.adler,f.pending_buf,f.pending-p,p)),$(a),p=f.pending,f.pending===f.pending_buf_size)){m=1;break}m=f.gzindex<f.gzhead.comment.length?255&f.gzhead.comment.charCodeAt(f.gzindex++):0,at(f,m)}while(0!==m);f.gzhead.hcrc&&f.pending>p&&(a.adler=i(a.adler,f.pending_buf,f.pending-p,p)),0===m&&(f.status=M)}else f.status=M;if(f.status===M&&(f.gzhead.hcrc?(f.pending+2>f.pending_buf_size&&$(a),f.pending+2<=f.pending_buf_size&&(at(f,255&a.adler),at(f,a.adler>>8&255),a.adler=0,f.status=O)):f.status=O),0!==f.pending){if($(a),0===a.avail_out)return f.last_flush=-1,o}else if(0===a.avail_in&&Y(s)<=Y(r)&&s!==_)return X(a,c);if(f.status===P&&0!==a.avail_in)return X(a,c);if(0!==a.avail_in||0!==f.lookahead||s!==n&&f.status!==P){var z=f.strategy===w?dt(f,s):f.strategy===v?_t(f,s):t[f.level].func(f,s);if(z!==U&&z!==V||(f.status=P),z===Q||z===U)return 0===a.avail_out&&(f.last_flush=-1),o;if(z===T&&(s===h?e._tr_align(f):s!==d&&(e._tr_stored_block(f,0,0,!1),s===l&&(Z(f.head),0===f.lookahead&&(f.strstart=0,f.block_start=0,f.insert=0))),$(a),0===a.avail_out))return f.last_flush=-1,o}return s!==_?o:f.wrap<=0?u:(2===f.wrap?(at(f,255&a.adler),at(f,a.adler>>8&255),at(f,a.adler>>16&255),at(f,a.adler>>24&255),at(f,255&a.total_in),at(f,a.total_in>>8&255),at(f,a.total_in>>16&255),at(f,a.total_in>>24&255)):(et(f,a.adler>>>16),et(f,65535&a.adler)),$(a),f.wrap>0&&(f.wrap=-f.wrap),0!==f.pending?o:u)}function kt(t){var a;return t&&t.state?(a=t.state.status)!==F&&a!==G&&a!==J&&a!==L&&a!==M&&a!==O&&a!==P?X(t,g):(t.state=null,a===O?X(t,f):o):g}function zt(t,e){var i,r,n,h,l,_,d,u,f=e.length;if(!t||!t.state)return g;if(2===(h=(i=t.state).wrap)||1===h&&i.status!==F||i.lookahead)return g;for(1===h&&(t.adler=s(t.adler,e,f,0)),i.wrap=0,f>=i.w_size&&(0===h&&(Z(i.head),i.strstart=0,i.block_start=0,i.insert=0),u=new a.Buf8(i.w_size),a.arraySet(u,e,f-i.w_size,i.w_size,0),e=u,f=i.w_size),l=t.avail_in,_=t.next_in,d=t.input,t.avail_in=f,t.next_in=0,t.input=e,rt(i);i.lookahead>=E;){r=i.strstart,n=i.lookahead-(E-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[r+E-1])&i.hash_mask,i.prev[r&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=r,r++}while(--n);i.strstart=r,i.lookahead=E-1,rt(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=E-1,i.match_available=0,t.next_in=_,t.input=d,t.avail_in=l,i.wrap=h,o}t=[new ot(0,0,0,0,nt),new ot(4,4,8,4,ht),new ot(4,5,16,8,ht),new ot(4,6,32,32,ht),new ot(4,4,16,16,lt),new ot(8,16,32,32,lt),new ot(8,16,128,128,lt),new ot(8,32,128,256,lt),new ot(32,128,258,1024,lt),new ot(32,258,258,4096,lt)],exports.deflateInit=wt,exports.deflateInit2=mt,exports.deflateReset=ct,exports.deflateResetKeep=ft,exports.deflateSetHeader=pt,exports.deflate=vt,exports.deflateEnd=kt,exports.deflateSetDictionary=zt,exports.deflateInfo="pako deflate (from Nodeca project)";
},{"../utils/common":"zPEc","./trees":"BpTA","./adler32":"z75u","./crc32":"q3Pb","./messages":"LiTN"}],"txNa":[function(require,module,exports) {
"use strict";var i=30,e=12;module.exports=function(o,a){var t,d,n,l,s,f,r,b,c,u,v,m,w,h,k,_,x,g,p,z,j,q,y,A,B;t=o.state,d=o.next_in,A=o.input,n=d+(o.avail_in-5),l=o.next_out,B=o.output,s=l-(a-o.avail_out),f=l+(o.avail_out-257),r=t.dmax,b=t.wsize,c=t.whave,u=t.wnext,v=t.window,m=t.hold,w=t.bits,h=t.lencode,k=t.distcode,_=(1<<t.lenbits)-1,x=(1<<t.distbits)-1;i:do{w<15&&(m+=A[d++]<<w,w+=8,m+=A[d++]<<w,w+=8),g=h[m&_];e:for(;;){if(m>>>=p=g>>>24,w-=p,0===(p=g>>>16&255))B[l++]=65535&g;else{if(!(16&p)){if(0==(64&p)){g=h[(65535&g)+(m&(1<<p)-1)];continue e}if(32&p){t.mode=e;break i}o.msg="invalid literal/length code",t.mode=i;break i}z=65535&g,(p&=15)&&(w<p&&(m+=A[d++]<<w,w+=8),z+=m&(1<<p)-1,m>>>=p,w-=p),w<15&&(m+=A[d++]<<w,w+=8,m+=A[d++]<<w,w+=8),g=k[m&x];o:for(;;){if(m>>>=p=g>>>24,w-=p,!(16&(p=g>>>16&255))){if(0==(64&p)){g=k[(65535&g)+(m&(1<<p)-1)];continue o}o.msg="invalid distance code",t.mode=i;break i}if(j=65535&g,w<(p&=15)&&(m+=A[d++]<<w,(w+=8)<p&&(m+=A[d++]<<w,w+=8)),(j+=m&(1<<p)-1)>r){o.msg="invalid distance too far back",t.mode=i;break i}if(m>>>=p,w-=p,j>(p=l-s)){if((p=j-p)>c&&t.sane){o.msg="invalid distance too far back",t.mode=i;break i}if(q=0,y=v,0===u){if(q+=b-p,p<z){z-=p;do{B[l++]=v[q++]}while(--p);q=l-j,y=B}}else if(u<p){if(q+=b+u-p,(p-=u)<z){z-=p;do{B[l++]=v[q++]}while(--p);if(q=0,u<z){z-=p=u;do{B[l++]=v[q++]}while(--p);q=l-j,y=B}}}else if(q+=u-p,p<z){z-=p;do{B[l++]=v[q++]}while(--p);q=l-j,y=B}for(;z>2;)B[l++]=y[q++],B[l++]=y[q++],B[l++]=y[q++],z-=3;z&&(B[l++]=y[q++],z>1&&(B[l++]=y[q++]))}else{q=l-j;do{B[l++]=B[q++],B[l++]=B[q++],B[l++]=B[q++],z-=3}while(z>2);z&&(B[l++]=B[q++],z>1&&(B[l++]=B[q++]))}break}}break}}while(d<n&&l<f);d-=z=w>>3,m&=(1<<(w-=z<<3))-1,o.next_in=d,o.next_out=l,o.avail_in=d<n?n-d+5:5-(d-n),o.avail_out=l<f?f-l+257:257-(l-f),t.hold=m,t.bits=w};
},{}],"OtF8":[function(require,module,exports) {
"use strict";var r=require("../utils/common"),f=15,i=852,o=592,e=0,u=1,t=2,n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],b=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];module.exports=function(a,c,m,w,d,v,B,h){var k,p,q,x,g,j,y,z,A,C=h.bits,D=0,E=0,F=0,G=0,H=0,I=0,J=0,K=0,L=0,M=0,N=null,O=0,P=new r.Buf16(f+1),Q=new r.Buf16(f+1),R=null,S=0;for(D=0;D<=f;D++)P[D]=0;for(E=0;E<w;E++)P[c[m+E]]++;for(H=C,G=f;G>=1&&0===P[G];G--);if(H>G&&(H=G),0===G)return d[v++]=20971520,d[v++]=20971520,h.bits=1,0;for(F=1;F<G&&0===P[F];F++);for(H<F&&(H=F),K=1,D=1;D<=f;D++)if(K<<=1,(K-=P[D])<0)return-1;if(K>0&&(a===e||1!==G))return-1;for(Q[1]=0,D=1;D<f;D++)Q[D+1]=Q[D]+P[D];for(E=0;E<w;E++)0!==c[m+E]&&(B[Q[c[m+E]]++]=E);if(a===e?(N=R=B,j=19):a===u?(N=n,O-=257,R=l,S-=257,j=256):(N=s,R=b,j=-1),M=0,E=0,D=F,g=v,I=H,J=0,q=-1,x=(L=1<<H)-1,a===u&&L>i||a===t&&L>o)return 1;for(;;){y=D-J,B[E]<j?(z=0,A=B[E]):B[E]>j?(z=R[S+B[E]],A=N[O+B[E]]):(z=96,A=0),k=1<<D-J,F=p=1<<I;do{d[g+(M>>J)+(p-=k)]=y<<24|z<<16|A|0}while(0!==p);for(k=1<<D-1;M&k;)k>>=1;if(0!==k?(M&=k-1,M+=k):M=0,E++,0==--P[D]){if(D===G)break;D=c[m+B[E]]}if(D>H&&(M&x)!==q){for(0===J&&(J=H),g+=F,K=1<<(I=D-J);I+J<G&&!((K-=P[I+J])<=0);)I++,K<<=1;if(L+=1<<I,a===u&&L>i||a===t&&L>o)return 1;d[q=M&x]=H<<24|I<<16|g-v|0}}return 0!==M&&(d[g+M]=D-J<<24|64<<16|0),h.bits=H,0};
},{"../utils/common":"zPEc"}],"z68e":[function(require,module,exports) {
"use strict";var e=require("../utils/common"),a=require("./adler32"),t=require("./crc32"),i=require("./inffast"),s=require("./inftrees"),n=0,r=1,o=2,d=4,l=5,f=6,c=0,h=1,k=2,b=-2,m=-3,w=-4,u=-5,g=8,v=1,x=2,p=3,_=4,y=5,z=6,B=7,S=8,q=9,C=10,I=11,R=12,j=13,A=14,D=15,E=16,G=17,H=18,K=19,N=20,F=21,J=22,L=23,M=24,O=25,P=26,Q=27,T=28,U=29,V=30,W=31,X=32,Y=852,Z=592,$=15,ee=$;function ae(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function te(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new e.Buf16(320),this.work=new e.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ie(a){var t;return a&&a.state?(t=a.state,a.total_in=a.total_out=t.total=0,a.msg="",t.wrap&&(a.adler=1&t.wrap),t.mode=v,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new e.Buf32(Y),t.distcode=t.distdyn=new e.Buf32(Z),t.sane=1,t.back=-1,c):b}function se(e){var a;return e&&e.state?((a=e.state).wsize=0,a.whave=0,a.wnext=0,ie(e)):b}function ne(e,a){var t,i;return e&&e.state?(i=e.state,a<0?(t=0,a=-a):(t=1+(a>>4),a<48&&(a&=15)),a&&(a<8||a>15)?b:(null!==i.window&&i.wbits!==a&&(i.window=null),i.wrap=t,i.wbits=a,se(e))):b}function re(e,a){var t,i;return e?(i=new te,e.state=i,i.window=null,(t=ne(e,a))!==c&&(e.state=null),t):b}function oe(e){return re(e,ee)}var de,le,fe=!0;function ce(a){if(fe){var t;for(de=new e.Buf32(512),le=new e.Buf32(32),t=0;t<144;)a.lens[t++]=8;for(;t<256;)a.lens[t++]=9;for(;t<280;)a.lens[t++]=7;for(;t<288;)a.lens[t++]=8;for(s(r,a.lens,0,288,de,0,a.work,{bits:9}),t=0;t<32;)a.lens[t++]=5;s(o,a.lens,0,32,le,0,a.work,{bits:5}),fe=!1}a.lencode=de,a.lenbits=9,a.distcode=le,a.distbits=5}function he(a,t,i,s){var n,r=a.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new e.Buf8(r.wsize)),s>=r.wsize?(e.arraySet(r.window,t,i-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):((n=r.wsize-r.wnext)>s&&(n=s),e.arraySet(r.window,t,i-s,n,r.wnext),(s-=n)?(e.arraySet(r.window,t,i-s,s,0),r.wnext=s,r.whave=r.wsize):(r.wnext+=n,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=n))),0}function ke(Y,Z){var $,ee,te,ie,se,ne,re,oe,de,le,fe,ke,be,me,we,ue,ge,ve,xe,pe,_e,ye,ze,Be,Se=0,qe=new e.Buf8(4),Ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Y||!Y.state||!Y.output||!Y.input&&0!==Y.avail_in)return b;($=Y.state).mode===R&&($.mode=j),se=Y.next_out,te=Y.output,re=Y.avail_out,ie=Y.next_in,ee=Y.input,ne=Y.avail_in,oe=$.hold,de=$.bits,le=ne,fe=re,ye=c;e:for(;;)switch($.mode){case v:if(0===$.wrap){$.mode=j;break}for(;de<16;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if(2&$.wrap&&35615===oe){$.check=0,qe[0]=255&oe,qe[1]=oe>>>8&255,$.check=t($.check,qe,2,0),oe=0,de=0,$.mode=x;break}if($.flags=0,$.head&&($.head.done=!1),!(1&$.wrap)||(((255&oe)<<8)+(oe>>8))%31){Y.msg="incorrect header check",$.mode=V;break}if((15&oe)!==g){Y.msg="unknown compression method",$.mode=V;break}if(de-=4,_e=8+(15&(oe>>>=4)),0===$.wbits)$.wbits=_e;else if(_e>$.wbits){Y.msg="invalid window size",$.mode=V;break}$.dmax=1<<_e,Y.adler=$.check=1,$.mode=512&oe?C:R,oe=0,de=0;break;case x:for(;de<16;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if($.flags=oe,(255&$.flags)!==g){Y.msg="unknown compression method",$.mode=V;break}if(57344&$.flags){Y.msg="unknown header flags set",$.mode=V;break}$.head&&($.head.text=oe>>8&1),512&$.flags&&(qe[0]=255&oe,qe[1]=oe>>>8&255,$.check=t($.check,qe,2,0)),oe=0,de=0,$.mode=p;case p:for(;de<32;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}$.head&&($.head.time=oe),512&$.flags&&(qe[0]=255&oe,qe[1]=oe>>>8&255,qe[2]=oe>>>16&255,qe[3]=oe>>>24&255,$.check=t($.check,qe,4,0)),oe=0,de=0,$.mode=_;case _:for(;de<16;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}$.head&&($.head.xflags=255&oe,$.head.os=oe>>8),512&$.flags&&(qe[0]=255&oe,qe[1]=oe>>>8&255,$.check=t($.check,qe,2,0)),oe=0,de=0,$.mode=y;case y:if(1024&$.flags){for(;de<16;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}$.length=oe,$.head&&($.head.extra_len=oe),512&$.flags&&(qe[0]=255&oe,qe[1]=oe>>>8&255,$.check=t($.check,qe,2,0)),oe=0,de=0}else $.head&&($.head.extra=null);$.mode=z;case z:if(1024&$.flags&&((ke=$.length)>ne&&(ke=ne),ke&&($.head&&(_e=$.head.extra_len-$.length,$.head.extra||($.head.extra=new Array($.head.extra_len)),e.arraySet($.head.extra,ee,ie,ke,_e)),512&$.flags&&($.check=t($.check,ee,ke,ie)),ne-=ke,ie+=ke,$.length-=ke),$.length))break e;$.length=0,$.mode=B;case B:if(2048&$.flags){if(0===ne)break e;ke=0;do{_e=ee[ie+ke++],$.head&&_e&&$.length<65536&&($.head.name+=String.fromCharCode(_e))}while(_e&&ke<ne);if(512&$.flags&&($.check=t($.check,ee,ke,ie)),ne-=ke,ie+=ke,_e)break e}else $.head&&($.head.name=null);$.length=0,$.mode=S;case S:if(4096&$.flags){if(0===ne)break e;ke=0;do{_e=ee[ie+ke++],$.head&&_e&&$.length<65536&&($.head.comment+=String.fromCharCode(_e))}while(_e&&ke<ne);if(512&$.flags&&($.check=t($.check,ee,ke,ie)),ne-=ke,ie+=ke,_e)break e}else $.head&&($.head.comment=null);$.mode=q;case q:if(512&$.flags){for(;de<16;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if(oe!==(65535&$.check)){Y.msg="header crc mismatch",$.mode=V;break}oe=0,de=0}$.head&&($.head.hcrc=$.flags>>9&1,$.head.done=!0),Y.adler=$.check=0,$.mode=R;break;case C:for(;de<32;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}Y.adler=$.check=ae(oe),oe=0,de=0,$.mode=I;case I:if(0===$.havedict)return Y.next_out=se,Y.avail_out=re,Y.next_in=ie,Y.avail_in=ne,$.hold=oe,$.bits=de,k;Y.adler=$.check=1,$.mode=R;case R:if(Z===l||Z===f)break e;case j:if($.last){oe>>>=7&de,de-=7&de,$.mode=Q;break}for(;de<3;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}switch($.last=1&oe,de-=1,3&(oe>>>=1)){case 0:$.mode=A;break;case 1:if(ce($),$.mode=N,Z===f){oe>>>=2,de-=2;break e}break;case 2:$.mode=G;break;case 3:Y.msg="invalid block type",$.mode=V}oe>>>=2,de-=2;break;case A:for(oe>>>=7&de,de-=7&de;de<32;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if((65535&oe)!=(oe>>>16^65535)){Y.msg="invalid stored block lengths",$.mode=V;break}if($.length=65535&oe,oe=0,de=0,$.mode=D,Z===f)break e;case D:$.mode=E;case E:if(ke=$.length){if(ke>ne&&(ke=ne),ke>re&&(ke=re),0===ke)break e;e.arraySet(te,ee,ie,ke,se),ne-=ke,ie+=ke,re-=ke,se+=ke,$.length-=ke;break}$.mode=R;break;case G:for(;de<14;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if($.nlen=257+(31&oe),oe>>>=5,de-=5,$.ndist=1+(31&oe),oe>>>=5,de-=5,$.ncode=4+(15&oe),oe>>>=4,de-=4,$.nlen>286||$.ndist>30){Y.msg="too many length or distance symbols",$.mode=V;break}$.have=0,$.mode=H;case H:for(;$.have<$.ncode;){for(;de<3;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}$.lens[Ce[$.have++]]=7&oe,oe>>>=3,de-=3}for(;$.have<19;)$.lens[Ce[$.have++]]=0;if($.lencode=$.lendyn,$.lenbits=7,ze={bits:$.lenbits},ye=s(n,$.lens,0,19,$.lencode,0,$.work,ze),$.lenbits=ze.bits,ye){Y.msg="invalid code lengths set",$.mode=V;break}$.have=0,$.mode=K;case K:for(;$.have<$.nlen+$.ndist;){for(;ue=(Se=$.lencode[oe&(1<<$.lenbits)-1])>>>16&255,ge=65535&Se,!((we=Se>>>24)<=de);){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if(ge<16)oe>>>=we,de-=we,$.lens[$.have++]=ge;else{if(16===ge){for(Be=we+2;de<Be;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if(oe>>>=we,de-=we,0===$.have){Y.msg="invalid bit length repeat",$.mode=V;break}_e=$.lens[$.have-1],ke=3+(3&oe),oe>>>=2,de-=2}else if(17===ge){for(Be=we+3;de<Be;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}de-=we,_e=0,ke=3+(7&(oe>>>=we)),oe>>>=3,de-=3}else{for(Be=we+7;de<Be;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}de-=we,_e=0,ke=11+(127&(oe>>>=we)),oe>>>=7,de-=7}if($.have+ke>$.nlen+$.ndist){Y.msg="invalid bit length repeat",$.mode=V;break}for(;ke--;)$.lens[$.have++]=_e}}if($.mode===V)break;if(0===$.lens[256]){Y.msg="invalid code -- missing end-of-block",$.mode=V;break}if($.lenbits=9,ze={bits:$.lenbits},ye=s(r,$.lens,0,$.nlen,$.lencode,0,$.work,ze),$.lenbits=ze.bits,ye){Y.msg="invalid literal/lengths set",$.mode=V;break}if($.distbits=6,$.distcode=$.distdyn,ze={bits:$.distbits},ye=s(o,$.lens,$.nlen,$.ndist,$.distcode,0,$.work,ze),$.distbits=ze.bits,ye){Y.msg="invalid distances set",$.mode=V;break}if($.mode=N,Z===f)break e;case N:$.mode=F;case F:if(ne>=6&&re>=258){Y.next_out=se,Y.avail_out=re,Y.next_in=ie,Y.avail_in=ne,$.hold=oe,$.bits=de,i(Y,fe),se=Y.next_out,te=Y.output,re=Y.avail_out,ie=Y.next_in,ee=Y.input,ne=Y.avail_in,oe=$.hold,de=$.bits,$.mode===R&&($.back=-1);break}for($.back=0;ue=(Se=$.lencode[oe&(1<<$.lenbits)-1])>>>16&255,ge=65535&Se,!((we=Se>>>24)<=de);){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if(ue&&0==(240&ue)){for(ve=we,xe=ue,pe=ge;ue=(Se=$.lencode[pe+((oe&(1<<ve+xe)-1)>>ve)])>>>16&255,ge=65535&Se,!(ve+(we=Se>>>24)<=de);){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}oe>>>=ve,de-=ve,$.back+=ve}if(oe>>>=we,de-=we,$.back+=we,$.length=ge,0===ue){$.mode=P;break}if(32&ue){$.back=-1,$.mode=R;break}if(64&ue){Y.msg="invalid literal/length code",$.mode=V;break}$.extra=15&ue,$.mode=J;case J:if($.extra){for(Be=$.extra;de<Be;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}$.length+=oe&(1<<$.extra)-1,oe>>>=$.extra,de-=$.extra,$.back+=$.extra}$.was=$.length,$.mode=L;case L:for(;ue=(Se=$.distcode[oe&(1<<$.distbits)-1])>>>16&255,ge=65535&Se,!((we=Se>>>24)<=de);){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if(0==(240&ue)){for(ve=we,xe=ue,pe=ge;ue=(Se=$.distcode[pe+((oe&(1<<ve+xe)-1)>>ve)])>>>16&255,ge=65535&Se,!(ve+(we=Se>>>24)<=de);){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}oe>>>=ve,de-=ve,$.back+=ve}if(oe>>>=we,de-=we,$.back+=we,64&ue){Y.msg="invalid distance code",$.mode=V;break}$.offset=ge,$.extra=15&ue,$.mode=M;case M:if($.extra){for(Be=$.extra;de<Be;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}$.offset+=oe&(1<<$.extra)-1,oe>>>=$.extra,de-=$.extra,$.back+=$.extra}if($.offset>$.dmax){Y.msg="invalid distance too far back",$.mode=V;break}$.mode=O;case O:if(0===re)break e;if(ke=fe-re,$.offset>ke){if((ke=$.offset-ke)>$.whave&&$.sane){Y.msg="invalid distance too far back",$.mode=V;break}ke>$.wnext?(ke-=$.wnext,be=$.wsize-ke):be=$.wnext-ke,ke>$.length&&(ke=$.length),me=$.window}else me=te,be=se-$.offset,ke=$.length;ke>re&&(ke=re),re-=ke,$.length-=ke;do{te[se++]=me[be++]}while(--ke);0===$.length&&($.mode=F);break;case P:if(0===re)break e;te[se++]=$.length,re--,$.mode=F;break;case Q:if($.wrap){for(;de<32;){if(0===ne)break e;ne--,oe|=ee[ie++]<<de,de+=8}if(fe-=re,Y.total_out+=fe,$.total+=fe,fe&&(Y.adler=$.check=$.flags?t($.check,te,fe,se-fe):a($.check,te,fe,se-fe)),fe=re,($.flags?oe:ae(oe))!==$.check){Y.msg="incorrect data check",$.mode=V;break}oe=0,de=0}$.mode=T;case T:if($.wrap&&$.flags){for(;de<32;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if(oe!==(4294967295&$.total)){Y.msg="incorrect length check",$.mode=V;break}oe=0,de=0}$.mode=U;case U:ye=h;break e;case V:ye=m;break e;case W:return w;case X:default:return b}return Y.next_out=se,Y.avail_out=re,Y.next_in=ie,Y.avail_in=ne,$.hold=oe,$.bits=de,($.wsize||fe!==Y.avail_out&&$.mode<V&&($.mode<Q||Z!==d))&&he(Y,Y.output,Y.next_out,fe-Y.avail_out)?($.mode=W,w):(le-=Y.avail_in,fe-=Y.avail_out,Y.total_in+=le,Y.total_out+=fe,$.total+=fe,$.wrap&&fe&&(Y.adler=$.check=$.flags?t($.check,te,fe,Y.next_out-fe):a($.check,te,fe,Y.next_out-fe)),Y.data_type=$.bits+($.last?64:0)+($.mode===R?128:0)+($.mode===N||$.mode===D?256:0),(0===le&&0===fe||Z===d)&&ye===c&&(ye=u),ye)}function be(e){if(!e||!e.state)return b;var a=e.state;return a.window&&(a.window=null),e.state=null,c}function me(e,a){var t;return e&&e.state?0==(2&(t=e.state).wrap)?b:(t.head=a,a.done=!1,c):b}function we(e,t){var i,s=t.length;return e&&e.state?0!==(i=e.state).wrap&&i.mode!==I?b:i.mode===I&&a(1,t,s,0)!==i.check?m:he(e,t,s,s)?(i.mode=W,w):(i.havedict=1,c):b}exports.inflateReset=se,exports.inflateReset2=ne,exports.inflateResetKeep=ie,exports.inflateInit=oe,exports.inflateInit2=re,exports.inflate=ke,exports.inflateEnd=be,exports.inflateGetHeader=me,exports.inflateSetDictionary=we,exports.inflateInfo="pako inflate (from Nodeca project)";
},{"../utils/common":"zPEc","./adler32":"z75u","./crc32":"q3Pb","./inffast":"txNa","./inftrees":"OtF8"}],"r70h":[function(require,module,exports) {
"use strict";module.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};
},{}],"Fjk3":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var process = require("process");
var t=require("buffer").Buffer,e=require("process"),s=require("assert"),r=require("pako/lib/zlib/zstream"),i=require("pako/lib/zlib/deflate.js"),o=require("pako/lib/zlib/inflate.js"),h=require("pako/lib/zlib/constants");for(var n in h)exports[n]=h[n];exports.NONE=0,exports.DEFLATE=1,exports.INFLATE=2,exports.GZIP=3,exports.GUNZIP=4,exports.DEFLATERAW=5,exports.INFLATERAW=6,exports.UNZIP=7;var a=31,p=139;function _(t){if("number"!=typeof t||t<exports.DEFLATE||t>exports.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=t,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}_.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,s(this.init_done,"close before init"),s(this.mode<=exports.UNZIP),this.mode===exports.DEFLATE||this.mode===exports.GZIP||this.mode===exports.DEFLATERAW?i.deflateEnd(this.strm):this.mode!==exports.INFLATE&&this.mode!==exports.GUNZIP&&this.mode!==exports.INFLATERAW&&this.mode!==exports.UNZIP||o.inflateEnd(this.strm),this.mode=exports.NONE,this.dictionary=null)},_.prototype.write=function(t,e,s,r,i,o,h){return this._write(!0,t,e,s,r,i,o,h)},_.prototype.writeSync=function(t,e,s,r,i,o,h){return this._write(!1,t,e,s,r,i,o,h)},_.prototype._write=function(r,i,o,h,n,a,p,_){if(s.equal(arguments.length,8),s(this.init_done,"write before init"),s(this.mode!==exports.NONE,"already finalized"),s.equal(!1,this.write_in_progress,"write already in progress"),s.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,s.equal(!1,void 0===i,"must provide flush value"),this.write_in_progress=!0,i!==exports.Z_NO_FLUSH&&i!==exports.Z_PARTIAL_FLUSH&&i!==exports.Z_SYNC_FLUSH&&i!==exports.Z_FULL_FLUSH&&i!==exports.Z_FINISH&&i!==exports.Z_BLOCK)throw new Error("Invalid flush value");if(null==o&&(o=t.alloc(0),n=0,h=0),this.strm.avail_in=n,this.strm.input=o,this.strm.next_in=h,this.strm.avail_out=_,this.strm.output=a,this.strm.next_out=p,this.flush=i,!r)return this._process(),this._checkError()?this._afterSync():void 0;var l=this;return e.nextTick(function(){l._process(),l._after()}),this},_.prototype._afterSync=function(){var t=this.strm.avail_out,e=this.strm.avail_in;return this.write_in_progress=!1,[e,t]},_.prototype._process=function(){var t=null;switch(this.mode){case exports.DEFLATE:case exports.GZIP:case exports.DEFLATERAW:this.err=i.deflate(this.strm,this.flush);break;case exports.UNZIP:switch(this.strm.avail_in>0&&(t=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===t)break;if(this.strm.input[t]!==a){this.mode=exports.INFLATE;break}if(this.gzip_id_bytes_read=1,t++,1===this.strm.avail_in)break;case 1:if(null===t)break;this.strm.input[t]===p?(this.gzip_id_bytes_read=2,this.mode=exports.GUNZIP):this.mode=exports.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case exports.INFLATE:case exports.GUNZIP:case exports.INFLATERAW:for(this.err=o.inflate(this.strm,this.flush),this.err===exports.Z_NEED_DICT&&this.dictionary&&(this.err=o.inflateSetDictionary(this.strm,this.dictionary),this.err===exports.Z_OK?this.err=o.inflate(this.strm,this.flush):this.err===exports.Z_DATA_ERROR&&(this.err=exports.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===exports.GUNZIP&&this.err===exports.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=o.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},_.prototype._checkError=function(){switch(this.err){case exports.Z_OK:case exports.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===exports.Z_FINISH)return this._error("unexpected end of file"),!1;break;case exports.Z_STREAM_END:break;case exports.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},_.prototype._after=function(){if(this._checkError()){var t=this.strm.avail_out,e=this.strm.avail_in;this.write_in_progress=!1,this.callback(e,t),this.pending_close&&this.close()}},_.prototype._error=function(t){this.strm.msg&&(t=this.strm.msg),this.onerror(t,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},_.prototype.init=function(t,e,r,i,o){s(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),s(t>=8&&t<=15,"invalid windowBits"),s(e>=-1&&e<=9,"invalid compression level"),s(r>=1&&r<=9,"invalid memlevel"),s(i===exports.Z_FILTERED||i===exports.Z_HUFFMAN_ONLY||i===exports.Z_RLE||i===exports.Z_FIXED||i===exports.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(e,t,r,i,o),this._setDictionary()},_.prototype.params=function(){throw new Error("deflateParams Not supported")},_.prototype.reset=function(){this._reset(),this._setDictionary()},_.prototype._init=function(t,e,s,h,n){switch(this.level=t,this.windowBits=e,this.memLevel=s,this.strategy=h,this.flush=exports.Z_NO_FLUSH,this.err=exports.Z_OK,this.mode!==exports.GZIP&&this.mode!==exports.GUNZIP||(this.windowBits+=16),this.mode===exports.UNZIP&&(this.windowBits+=32),this.mode!==exports.DEFLATERAW&&this.mode!==exports.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new r,this.mode){case exports.DEFLATE:case exports.GZIP:case exports.DEFLATERAW:this.err=i.deflateInit2(this.strm,this.level,exports.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case exports.INFLATE:case exports.GUNZIP:case exports.INFLATERAW:case exports.UNZIP:this.err=o.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==exports.Z_OK&&this._error("Init error"),this.dictionary=n,this.write_in_progress=!1,this.init_done=!0},_.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=exports.Z_OK,this.mode){case exports.DEFLATE:case exports.DEFLATERAW:this.err=i.deflateSetDictionary(this.strm,this.dictionary)}this.err!==exports.Z_OK&&this._error("Failed to set dictionary")}},_.prototype._reset=function(){switch(this.err=exports.Z_OK,this.mode){case exports.DEFLATE:case exports.DEFLATERAW:case exports.GZIP:this.err=i.deflateReset(this.strm);break;case exports.INFLATE:case exports.INFLATERAW:case exports.GUNZIP:this.err=o.inflateReset(this.strm)}this.err!==exports.Z_OK&&this._error("Failed to reset stream")},exports.Zlib=_;
},{"assert":"g2FE","pako/lib/zlib/zstream":"uZ6O","pako/lib/zlib/deflate.js":"d4SE","pako/lib/zlib/inflate.js":"z68e","pako/lib/zlib/constants":"r70h","buffer":"aMB2","process":"g5IB"}],"wqTM":[function(require,module,exports) {
var process = require("process");
var e=require("process"),t=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},r=/%[sdj%]/g;exports.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}n=1;for(var o=arguments,u=o.length,s=String(e).replace(r,function(e){if("%%"===e)return"%";if(n>=u)return e;switch(e){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{return JSON.stringify(o[n++])}catch(t){return"[Circular]"}default:return e}}),c=o[n];n<u;c=o[++n])h(c)||!S(c)?s+=" "+c:s+=" "+i(c);return s},exports.deprecate=function(t,r){if(void 0!==e&&!0===e.noDeprecation)return t;if(void 0===e)return function(){return exports.deprecate(t,r).apply(this,arguments)};var n=!1;return function(){if(!n){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),n=!0}return t.apply(this,arguments)}};var n,o={};function i(e,t){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),b(t)?r.showHidden=t:t&&exports._extend(r,t),j(r.showHidden)&&(r.showHidden=!1),j(r.depth)&&(r.depth=2),j(r.colors)&&(r.colors=!1),j(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),p(r,e,r.depth)}function u(e,t){var r=i.styles[t];return r?"["+i.colors[r][0]+"m"+e+"["+i.colors[r][1]+"m":e}function s(e,t){return e}function c(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function p(e,t,r){if(e.customInspect&&t&&P(t.inspect)&&t.inspect!==exports.inspect&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return v(n)||(n=p(e,n,r)),n}var o=l(e,t);if(o)return o;var i=Object.keys(t),u=c(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(t)),E(t)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return f(t);if(0===i.length){if(P(t)){var s=t.name?": "+t.name:"";return e.stylize("[Function"+s+"]","special")}if(w(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(z(t))return e.stylize(Date.prototype.toString.call(t),"date");if(E(t))return f(t)}var b,h="",m=!1,x=["{","}"];(d(t)&&(m=!0,x=["[","]"]),P(t))&&(h=" [Function"+(t.name?": "+t.name:"")+"]");return w(t)&&(h=" "+RegExp.prototype.toString.call(t)),z(t)&&(h=" "+Date.prototype.toUTCString.call(t)),E(t)&&(h=" "+f(t)),0!==i.length||m&&0!=t.length?r<0?w(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),b=m?a(e,t,r,u,i):i.map(function(n){return y(e,t,r,u,n,m)}),e.seen.pop(),g(b,h,x)):x[0]+h+x[1]}function l(e,t){if(j(t))return e.stylize("undefined","undefined");if(v(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return x(t)?e.stylize(""+t,"number"):b(t)?e.stylize(""+t,"boolean"):h(t)?e.stylize("null","null"):void 0}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function a(e,t,r,n,o){for(var i=[],u=0,s=t.length;u<s;++u)A(t,String(u))?i.push(y(e,t,r,n,String(u),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(y(e,t,r,n,o,!0))}),i}function y(e,t,r,n,o,i){var u,s,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),A(n,o)||(u="["+o+"]"),s||(e.seen.indexOf(c.value)<0?(s=h(r)?p(e,c.value,null):p(e,c.value,r-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),j(u)){if(i&&o.match(/^\d+$/))return s;(u=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=e.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=e.stylize(u,"string"))}return u+": "+s}function g(e,t,r){return e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function d(e){return Array.isArray(e)}function b(e){return"boolean"==typeof e}function h(e){return null===e}function m(e){return null==e}function x(e){return"number"==typeof e}function v(e){return"string"==typeof e}function O(e){return"symbol"==typeof e}function j(e){return void 0===e}function w(e){return S(e)&&"[object RegExp]"===T(e)}function S(e){return"object"==typeof e&&null!==e}function z(e){return S(e)&&"[object Date]"===T(e)}function E(e){return S(e)&&("[object Error]"===T(e)||e instanceof Error)}function P(e){return"function"==typeof e}function D(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function T(e){return Object.prototype.toString.call(e)}function N(e){return e<10?"0"+e.toString(10):e.toString(10)}exports.debuglog=function(t){if(j(n)&&(n=""),t=t.toUpperCase(),!o[t])if(new RegExp("\\b"+t+"\\b","i").test(n)){var r=e.pid;o[t]=function(){var e=exports.format.apply(exports,arguments);console.error("%s %d: %s",t,r,e)}}else o[t]=function(){};return o[t]},exports.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=d,exports.isBoolean=b,exports.isNull=h,exports.isNullOrUndefined=m,exports.isNumber=x,exports.isString=v,exports.isSymbol=O,exports.isUndefined=j,exports.isRegExp=w,exports.isObject=S,exports.isDate=z,exports.isError=E,exports.isFunction=P,exports.isPrimitive=D,exports.isBuffer=require("./support/isBuffer");var F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var e=new Date,t=[N(e.getHours()),N(e.getMinutes()),N(e.getSeconds())].join(":");return[e.getDate(),F[e.getMonth()],t].join(" ")}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}exports.log=function(){console.log("%s - %s",k(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(e,t){if(!t||!S(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var J="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function R(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}function H(r){if("function"!=typeof r)throw new TypeError('The "original" argument must be of type Function');function n(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);var o=t.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,u=function(){return o.apply(i,arguments)};r.apply(this,t).then(function(t){e.nextTick(u,null,t)},function(t){e.nextTick(R,t,u)})}return Object.setPrototypeOf(n,Object.getPrototypeOf(r)),Object.defineProperties(n,t(r)),n}exports.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(J&&e[J]){var r;if("function"!=typeof(r=e[J]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,J,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var t,r,n=new Promise(function(e,n){t=e,r=n}),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push(function(e,n){e?r(e):t(n)});try{e.apply(this,o)}catch(u){r(u)}return n}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),J&&Object.defineProperty(r,J,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,t(e))},exports.promisify.custom=J,exports.callbackify=H;
},{"./support/isBuffer":"ebtb","inherits":"Zvxt","process":"g5IB"}],"eZik":[function(require,module,exports) {

var process = require("process");
var e=require("process"),t=require("buffer").Buffer,n=require("stream").Transform,r=require("./binding"),i=require("util"),o=require("assert").ok,s=require("buffer").kMaxLength,f="Cannot create final Buffer. It would be larger than 0x"+s.toString(16)+" bytes";r.Z_MIN_WINDOWBITS=8,r.Z_MAX_WINDOWBITS=15,r.Z_DEFAULT_WINDOWBITS=15,r.Z_MIN_CHUNK=64,r.Z_MAX_CHUNK=1/0,r.Z_DEFAULT_CHUNK=16384,r.Z_MIN_MEMLEVEL=1,r.Z_MAX_MEMLEVEL=9,r.Z_DEFAULT_MEMLEVEL=8,r.Z_MIN_LEVEL=-1,r.Z_MAX_LEVEL=9,r.Z_DEFAULT_LEVEL=r.Z_DEFAULT_COMPRESSION;for(var l=Object.keys(r),_=0;_<l.length;_++){var u=l[_];u.match(/^Z/)&&Object.defineProperty(exports,u,{enumerable:!0,value:r[u],writable:!1})}for(var a={Z_OK:r.Z_OK,Z_STREAM_END:r.Z_STREAM_END,Z_NEED_DICT:r.Z_NEED_DICT,Z_ERRNO:r.Z_ERRNO,Z_STREAM_ERROR:r.Z_STREAM_ERROR,Z_DATA_ERROR:r.Z_DATA_ERROR,Z_MEM_ERROR:r.Z_MEM_ERROR,Z_BUF_ERROR:r.Z_BUF_ERROR,Z_VERSION_ERROR:r.Z_VERSION_ERROR},h=Object.keys(a),c=0;c<h.length;c++){var p=h[c];a[a[p]]=p}function E(e,n,r){var i=[],o=0;function l(){for(var t;null!==(t=e.read());)i.push(t),o+=t.length;e.once("readable",l)}function _(){var n,l=null;o>=s?l=new RangeError(f):n=t.concat(i,o),i=[],e.close(),r(l,n)}e.on("error",function(t){e.removeListener("end",_),e.removeListener("readable",l),r(t)}),e.on("end",_),e.end(n),l()}function d(e,n){if("string"==typeof n&&(n=t.from(n)),!t.isBuffer(n))throw new TypeError("Not a string or buffer");var r=e._finishFlushFlag;return e._processChunk(n,r)}function w(e){if(!(this instanceof w))return new w(e);S.call(this,e,r.DEFLATE)}function Z(e){if(!(this instanceof Z))return new Z(e);S.call(this,e,r.INFLATE)}function L(e){if(!(this instanceof L))return new L(e);S.call(this,e,r.GZIP)}function R(e){if(!(this instanceof R))return new R(e);S.call(this,e,r.GUNZIP)}function v(e){if(!(this instanceof v))return new v(e);S.call(this,e,r.DEFLATERAW)}function x(e){if(!(this instanceof x))return new x(e);S.call(this,e,r.INFLATERAW)}function I(e){if(!(this instanceof I))return new I(e);S.call(this,e,r.UNZIP)}function g(e){return e===r.Z_NO_FLUSH||e===r.Z_PARTIAL_FLUSH||e===r.Z_SYNC_FLUSH||e===r.Z_FULL_FLUSH||e===r.Z_FINISH||e===r.Z_BLOCK}function S(e,i){var o=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||exports.Z_DEFAULT_CHUNK,n.call(this,e),e.flush&&!g(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!g(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||r.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:r.Z_FINISH,e.chunkSize&&(e.chunkSize<exports.Z_MIN_CHUNK||e.chunkSize>exports.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<exports.Z_MIN_WINDOWBITS||e.windowBits>exports.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<exports.Z_MIN_LEVEL||e.level>exports.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<exports.Z_MIN_MEMLEVEL||e.memLevel>exports.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=exports.Z_FILTERED&&e.strategy!=exports.Z_HUFFMAN_ONLY&&e.strategy!=exports.Z_RLE&&e.strategy!=exports.Z_FIXED&&e.strategy!=exports.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!t.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new r.Zlib(i);var s=this;this._hadError=!1,this._handle.onerror=function(e,t){y(s),s._hadError=!0;var n=new Error(e);n.errno=t,n.code=exports.codes[t],s.emit("error",n)};var f=exports.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(f=e.level);var l=exports.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(l=e.strategy),this._handle.init(e.windowBits||exports.Z_DEFAULT_WINDOWBITS,f,e.memLevel||exports.Z_DEFAULT_MEMLEVEL,l,e.dictionary),this._buffer=t.allocUnsafe(this._chunkSize),this._offset=0,this._level=f,this._strategy=l,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!o._handle},configurable:!0,enumerable:!0})}function y(t,n){n&&e.nextTick(n),t._handle&&(t._handle.close(),t._handle=null)}function F(e){e.emit("close")}Object.defineProperty(exports,"codes",{enumerable:!0,value:Object.freeze(a),writable:!1}),exports.Deflate=w,exports.Inflate=Z,exports.Gzip=L,exports.Gunzip=R,exports.DeflateRaw=v,exports.InflateRaw=x,exports.Unzip=I,exports.createDeflate=function(e){return new w(e)},exports.createInflate=function(e){return new Z(e)},exports.createDeflateRaw=function(e){return new v(e)},exports.createInflateRaw=function(e){return new x(e)},exports.createGzip=function(e){return new L(e)},exports.createGunzip=function(e){return new R(e)},exports.createUnzip=function(e){return new I(e)},exports.deflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),E(new w(t),e,n)},exports.deflateSync=function(e,t){return d(new w(t),e)},exports.gzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),E(new L(t),e,n)},exports.gzipSync=function(e,t){return d(new L(t),e)},exports.deflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),E(new v(t),e,n)},exports.deflateRawSync=function(e,t){return d(new v(t),e)},exports.unzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),E(new I(t),e,n)},exports.unzipSync=function(e,t){return d(new I(t),e)},exports.inflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),E(new Z(t),e,n)},exports.inflateSync=function(e,t){return d(new Z(t),e)},exports.gunzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),E(new R(t),e,n)},exports.gunzipSync=function(e,t){return d(new R(t),e)},exports.inflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),E(new x(t),e,n)},exports.inflateRawSync=function(e,t){return d(new x(t),e)},i.inherits(S,n),S.prototype.params=function(t,n,i){if(t<exports.Z_MIN_LEVEL||t>exports.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+t);if(n!=exports.Z_FILTERED&&n!=exports.Z_HUFFMAN_ONLY&&n!=exports.Z_RLE&&n!=exports.Z_FIXED&&n!=exports.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+n);if(this._level!==t||this._strategy!==n){var s=this;this.flush(r.Z_SYNC_FLUSH,function(){o(s._handle,"zlib binding closed"),s._handle.params(t,n),s._hadError||(s._level=t,s._strategy=n,i&&i())})}else e.nextTick(i)},S.prototype.reset=function(){return o(this._handle,"zlib binding closed"),this._handle.reset()},S.prototype._flush=function(e){this._transform(t.alloc(0),"",e)},S.prototype.flush=function(n,i){var o=this,s=this._writableState;("function"==typeof n||void 0===n&&!i)&&(i=n,n=r.Z_FULL_FLUSH),s.ended?i&&e.nextTick(i):s.ending?i&&this.once("end",i):s.needDrain?i&&this.once("drain",function(){return o.flush(n,i)}):(this._flushFlag=n,this.write(t.alloc(0),"",i))},S.prototype.close=function(t){y(this,t),e.nextTick(F,this)},S.prototype._transform=function(e,n,i){var o,s=this._writableState,f=(s.ending||s.ended)&&(!e||s.length===e.length);return null===e||t.isBuffer(e)?this._handle?(f?o=this._finishFlushFlag:(o=this._flushFlag,e.length>=s.length&&(this._flushFlag=this._opts.flush||r.Z_NO_FLUSH)),void this._processChunk(e,o,i)):i(new Error("zlib binding closed")):i(new Error("invalid input"))},S.prototype._processChunk=function(e,n,r){var i=e&&e.length,l=this._chunkSize-this._offset,_=0,u=this,a="function"==typeof r;if(!a){var h,c=[],p=0;this.on("error",function(e){h=e}),o(this._handle,"zlib binding closed");do{var E=this._handle.writeSync(n,e,_,i,this._buffer,this._offset,l)}while(!this._hadError&&Z(E[0],E[1]));if(this._hadError)throw h;if(p>=s)throw y(this),new RangeError(f);var d=t.concat(c,p);return y(this),d}o(this._handle,"zlib binding closed");var w=this._handle.write(n,e,_,i,this._buffer,this._offset,l);function Z(s,f){if(this&&(this.buffer=null,this.callback=null),!u._hadError){var h=l-f;if(o(h>=0,"have should not go down"),h>0){var E=u._buffer.slice(u._offset,u._offset+h);u._offset+=h,a?u.push(E):(c.push(E),p+=E.length)}if((0===f||u._offset>=u._chunkSize)&&(l=u._chunkSize,u._offset=0,u._buffer=t.allocUnsafe(u._chunkSize)),0===f){if(_+=i-s,i=s,!a)return!0;var d=u._handle.write(n,e,_,i,u._buffer,u._offset,u._chunkSize);return d.callback=Z,void(d.buffer=e)}if(!a)return!1;r()}}w.buffer=e,w.callback=Z},i.inherits(w,S),i.inherits(Z,S),i.inherits(L,S),i.inherits(R,S),i.inherits(v,S),i.inherits(x,S),i.inherits(I,S);
},{"buffer":"aMB2","stream":"JMHy","./binding":"Fjk3","util":"wqTM","assert":"g2FE","process":"g5IB"}],"zvoE":[function(require,module,exports) {
var e=function(){"use strict";var r=1,t=2,o=3,n="function"==typeof setImmediate?setImmediate:setTimeout,s=4294967296,i=[4294967295,-s],_=[0,-0x8000000000000000],a=[0,0],c=[1,0];function u(e,r){postMessage({action:o,cbn:r,result:e})}function f(e){var r=[];return r[e-1]=void 0,r}function m(e,r){return h(e[0]+r[0],e[1]+r[1])}function d(e,r){return function(e,r){var t;t=r,r<0&&(t+=s);return[t,e*s]}(~~Math.max(Math.min(e[1]/s,2147483647),-2147483648)&~~Math.max(Math.min(r[1]/s,2147483647),-2147483648),v(e)&v(r))}function p(e,r){var t,o;return e[0]==r[0]&&e[1]==r[1]?0:(t=e[1]<0,o=r[1]<0,t&&!o?-1:!t&&o?1:k(e,r)[1]<0?-1:1)}function h(e,r){var t,o;for(e%=0x10000000000000000,r=(r%=0x10000000000000000)-(t=r%s)+(o=Math.floor(e/s)*s),e=e-o+t;e<0;)e+=s,r-=s;for(;e>4294967295;)e-=s,r+=s;for(r%=0x10000000000000000;r>0x7fffffff00000000;)r-=0x10000000000000000;for(;r<-0x8000000000000000;)r+=0x10000000000000000;return[e,r]}function P(e,r){return e[0]==r[0]&&e[1]==r[1]}function l(e){return e>=0?[e,0]:[e+s,-s]}function v(e){return e[0]>=2147483648?~~Math.max(Math.min(e[0]-s,2147483647),-2147483648):~~Math.max(Math.min(e[0],2147483647),-2147483648)}function B(e){return e<=30?1<<e:B(30)*B(e-30)}function S(e,r){var t,o,n,i;if(r&=63,P(e,_))return r?a:e;if(e[1]<0)throw new Error("Neg");return i=B(r),o=e[1]*i%0x10000000000000000,(o+=t=(n=e[0]*i)-n%s)>=0x8000000000000000&&(o-=0x10000000000000000),[n-=t,o]}function g(e,r){var t;return t=B(r&=63),h(Math.floor(e[0]/t),e[1]/t)}function k(e,r){return h(e[0]-r[0],e[1]-r[1])}function R(e,r){return e.buf=r,e.pos=0,e.count=r.length,e}function M(e){return e.pos>=e.count?-1:255&e.buf[e.pos++]}function D(e,r,t,o){return e.pos>=e.count?-1:(o=Math.min(o,e.count-e.pos),C(e.buf,e.pos,r,t,o),e.pos+=o,o)}function b(e){return e.buf=f(32),e.count=0,e}function w(e){var r=e.buf;return r.length=e.count,r}function E(e,r){e.buf[e.count++]=r<<24>>24}function y(e,r,t,o){C(r,t,e.buf,e.count,o),e.count+=o}function C(e,r,t,o,n){for(var s=0;s<n;++s)t[o+s]=e[r+s]}function L(r,t,o,n,s){var _,c;if(p(n,i)<0)throw new Error("invalid length "+n);for(r.length_0=n,function(e,r){!function(e,r){e._dictionarySize=r;for(var t=0;r>1<<t;++t);e._distTableSize=2*t}(r,1<<e.s),r._numFastBytes=e.f,function(e,r){var t=e._matchFinderType;e._matchFinderType=r,e._matchFinder&&t!=e._matchFinderType&&(e._dictionarySizePrev=-1,e._matchFinder=null)}(r,e.m),r._numLiteralPosStateBits=0,r._numLiteralContextBits=3,r._posStateBits=2,r._posStateMask=3}(s,_=function(e){var r;for(e._repDistances=f(4),e._optimum=[],e._rangeEncoder={},e._isMatch=f(192),e._isRep=f(12),e._isRepG0=f(12),e._isRepG1=f(12),e._isRepG2=f(12),e._isRep0Long=f(192),e._posSlotEncoder=[],e._posEncoders=f(114),e._posAlignEncoder=be({},4),e._lenEncoder=he({}),e._repMatchLenEncoder=he({}),e._literalEncoder={},e._matchDistances=[],e._posSlotPrices=[],e._distancesPrices=[],e._alignPrices=f(16),e.reps=f(4),e.repLens=f(4),e.processedInSize=[a],e.processedOutSize=[a],e.finished=[0],e.properties=f(5),e.tempPrices=f(128),e._longestMatchLength=0,e._matchFinderType=1,e._numDistancePairs=0,e._numFastBytesPrev=-1,e.backRes=0,r=0;r<4096;++r)e._optimum[r]={};for(r=0;r<4;++r)e._posSlotEncoder[r]=be({},6);return e}({})),_._writeEndMark=void 0===e.disableEndMark,function(e,r){e.properties[0]=9*(5*e._posStateBits+e._numLiteralPosStateBits)+e._numLiteralContextBits<<24>>24;for(var t=0;t<4;++t)e.properties[1+t]=e._dictionarySize>>8*t<<24>>24;y(r,e.properties,0,5)}(_,o),c=0;c<64;c+=8)E(o,255&v(g(n,c)));r.chunker=(_._needReleaseMFStream=0,_._inStream=t,_._finished=0,function(e){var r,t;e._matchFinder||(r={},t=4,e._matchFinderType||(t=2),function(e,r){e.HASH_ARRAY=r>2,e.HASH_ARRAY?(e.kNumHashDirectBytes=0,e.kMinMatchCheck=4,e.kFixHashSize=66560):(e.kNumHashDirectBytes=2,e.kMinMatchCheck=3,e.kFixHashSize=0)}(r,t),e._matchFinder=r);if(function(e,r,t){var o,n;if(null==e.m_Coders||e.m_NumPrevBits!=t||e.m_NumPosBits!=r)for(e.m_NumPosBits=r,e.m_PosMask=(1<<r)-1,e.m_NumPrevBits=t,n=1<<e.m_NumPrevBits+e.m_NumPosBits,e.m_Coders=f(n),o=0;o<n;++o)e.m_Coders[o]=ge({})}(e._literalEncoder,e._numLiteralPosStateBits,e._numLiteralContextBits),e._dictionarySize==e._dictionarySizePrev&&e._numFastBytesPrev==e._numFastBytes)return;(function(e,r,t,o,n){var s,i;r<1073741567&&(e._cutValue=16+(o>>1),function(e,r,t,o){var n;e._keepSizeBefore=r,e._keepSizeAfter=t,n=r+t+o,(null==e._bufferBase||e._blockSize!=n)&&(e._bufferBase=null,e._blockSize=n,e._bufferBase=f(e._blockSize));e._pointerToLastSafePosition=e._blockSize-t}(e,r+t,o+n,256+~~((r+t+o+n)/2)),e._matchMaxLen=o,s=r+1,e._cyclicBufferSize!=s&&(e._son=f(2*(e._cyclicBufferSize=s))),i=65536,e.HASH_ARRAY&&(i=r-1,i|=i>>1,i|=i>>2,i|=i>>4,i|=i>>8,i>>=1,(i|=65535)>16777216&&(i>>=1),e._hashMask=i,++i,i+=e.kFixHashSize),i!=e._hashSizeSum&&(e._hash=f(e._hashSizeSum=i)))})(e._matchFinder,e._dictionarySize,4096,e._numFastBytes,274),e._dictionarySizePrev=e._dictionarySize,e._numFastBytesPrev=e._numFastBytes}(_),_._rangeEncoder.Stream=o,function(e){(function(e){e._state=0,e._previousByte=0;for(var r=0;r<4;++r)e._repDistances[r]=0})(e),function(e){e._position=a,e.Low=a,e.Range=-1,e._cacheSize=1,e._cache=0}(e._rangeEncoder),Ie(e._isMatch),Ie(e._isRep0Long),Ie(e._isRep),Ie(e._isRepG0),Ie(e._isRepG1),Ie(e._isRepG2),Ie(e._posEncoders),function(e){var r,t=1<<e.m_NumPrevBits+e.m_NumPosBits;for(r=0;r<t;++r)Ie(e.m_Coders[r].m_Encoders)}(e._literalEncoder);for(var r=0;r<4;++r)Ie(e._posSlotEncoder[r].Models);me(e._lenEncoder,1<<e._posStateBits),me(e._repMatchLenEncoder,1<<e._posStateBits),Ie(e._posAlignEncoder.Models),e._longestMatchWasFound=0,e._optimumEndIndex=0,e._optimumCurrentIndex=0,e._additionalOffset=0}(_),oe(_),te(_),_._lenEncoder._tableSize=_._numFastBytes+1-2,le(_._lenEncoder,1<<_._posStateBits),_._repMatchLenEncoder._tableSize=_._numFastBytes+1-2,le(_._repMatchLenEncoder,1<<_._posStateBits),_.nowPos64=a,function(e,r){return e.encoder=r,e.decoder=null,e.alive=1,e}({},_))}function z(e,r,t){return e.output=b({}),L(e,R({},r),e.output,l(r.length),t),e}function F(e,r,t){var o,n,s,_,c="",u=[];for(n=0;n<5;++n){if(-1==(s=M(r)))throw new Error("truncated input");u[n]=s<<24>>24}if(!function(e,r){var t,o,n,s,i,_,a;if(r.length<5)return 0;for(a=255&r[0],n=a%9,s=(_=~~(a/9))%5,i=~~(_/5),t=0,o=0;o<4;++o)t+=(255&r[1+o])<<8*o;if(t>99999999||!function(e,r,t,o){if(r>8||t>4||o>4)return 0;!function(e,r,t){var o,n;if(null!=e.m_Coders&&e.m_NumPrevBits==t&&e.m_NumPosBits==r)return;for(e.m_NumPosBits=r,e.m_PosMask=(1<<r)-1,e.m_NumPrevBits=t,n=1<<e.m_NumPrevBits+e.m_NumPosBits,e.m_Coders=f(n),o=0;o<n;++o)e.m_Coders[o]=X({})}(e.m_LiteralDecoder,t,r);var n=1<<o;return q(e.m_LenDecoder,n),q(e.m_RepLenDecoder,n),e.m_PosStateMask=n-1,1}(e,n,s,i))return 0;return function(e,r){if(r<0)return 0;e.m_DictionarySize!=r&&(e.m_DictionarySize=r,e.m_DictionarySizeCheck=Math.max(e.m_DictionarySize,1),function(e,r){null!=e._buffer&&e._windowSize==r||(e._buffer=f(r));e._windowSize=r,e._pos=0,e._streamPos=0}(e.m_OutWindow,Math.max(e.m_DictionarySizeCheck,4096)));return 1}(e,t)}(o=function(e){e.m_OutWindow={},e.m_RangeDecoder={},e.m_IsMatchDecoders=f(192),e.m_IsRepDecoders=f(12),e.m_IsRepG0Decoders=f(12),e.m_IsRepG1Decoders=f(12),e.m_IsRepG2Decoders=f(12),e.m_IsRep0LongDecoders=f(192),e.m_PosSlotDecoder=f(4),e.m_PosDecoders=f(114),e.m_PosAlignDecoder=Me({},4),e.m_LenDecoder=Q({}),e.m_RepLenDecoder=Q({}),e.m_LiteralDecoder={};for(var r=0;r<4;++r)e.m_PosSlotDecoder[r]=Me({},6);return e}({}),u))throw new Error("corrupted input");for(n=0;n<64;n+=8){if(-1==(s=M(r)))throw new Error("truncated input");1==(s=s.toString(16)).length&&(s="0"+s),c=s+""+c}/^0+$|^f+$/i.test(c)?e.length_0=i:(_=parseInt(c,16),e.length_0=_>4294967295?i:l(_)),e.chunker=function(e,r,t,o){return e.m_RangeDecoder.Stream=r,j(e.m_OutWindow),e.m_OutWindow._stream=t,function(e){e.m_OutWindow._streamPos=0,e.m_OutWindow._pos=0,Ie(e.m_IsMatchDecoders),Ie(e.m_IsRep0LongDecoders),Ie(e.m_IsRepDecoders),Ie(e.m_IsRepG0Decoders),Ie(e.m_IsRepG1Decoders),Ie(e.m_IsRepG2Decoders),Ie(e.m_PosDecoders),function(e){var r,t;for(t=1<<e.m_NumPrevBits+e.m_NumPosBits,r=0;r<t;++r)Ie(e.m_Coders[r].m_Decoders)}(e.m_LiteralDecoder);for(var r=0;r<4;++r)Ie(e.m_PosSlotDecoder[r].Models);U(e.m_LenDecoder),U(e.m_RepLenDecoder),Ie(e.m_PosAlignDecoder.Models),function(e){e.Code=0,e.Range=-1;for(var r=0;r<5;++r)e.Code=e.Code<<8|M(e.Stream)}(e.m_RangeDecoder)}(e),e.state=0,e.rep0=0,e.rep1=0,e.rep2=0,e.rep3=0,e.outSize=o,e.nowPos64=a,e.prevByte=0,function(e,r){return e.decoder=r,e.encoder=null,e.alive=1,e}({},e)}(o,r,t,e.length_0)}function I(e,r){return e.output=b({}),F(e,R({},r),e.output),e}function x(e,r){return e._bufferBase[e._bufferOffset+e._pos+r]}function N(e,r,t,o){var n,s;for(e._streamEndWasReached&&e._pos+r+o>e._streamPos&&(o=e._streamPos-(e._pos+r)),++t,s=e._bufferOffset+e._pos+r,n=0;n<o&&e._bufferBase[s+n]==e._bufferBase[s+n-t];++n);return n}function O(e){return e._streamPos-e._pos}function A(e){var r,t;if(!e._streamEndWasReached)for(;;){if(!(t=-e._bufferOffset+e._blockSize-e._streamPos))return;if(-1==(r=D(e._stream,e._bufferBase,e._bufferOffset+e._streamPos,t)))return e._posLimit=e._streamPos,e._bufferOffset+e._posLimit>e._pointerToLastSafePosition&&(e._posLimit=e._pointerToLastSafePosition-e._bufferOffset),void(e._streamEndWasReached=1);e._streamPos+=r,e._streamPos>=e._pos+e._keepSizeAfter&&(e._posLimit=e._streamPos-e._keepSizeAfter)}}function H(e,r){e._bufferOffset+=r,e._posLimit-=r,e._pos-=r,e._streamPos-=r}var G=function(){var e,r,t,o=[];for(e=0;e<256;++e){for(t=e,r=0;r<8;++r)0!=(1&t)?t=t>>>1^-306674912:t>>>=1;o[e]=t}return o}();function W(e){var r;++e._cyclicBufferPos>=e._cyclicBufferSize&&(e._cyclicBufferPos=0),function(e){++e._pos,e._pos>e._posLimit&&(e._bufferOffset+e._pos>e._pointerToLastSafePosition&&function(e){var r,t,o;for((o=e._bufferOffset+e._pos-e._keepSizeBefore)>0&&--o,t=e._bufferOffset+e._streamPos-o,r=0;r<t;++r)e._bufferBase[r]=e._bufferBase[o+r];e._bufferOffset-=o}(e),A(e))}(e),1073741823==e._pos&&(r=e._pos-e._cyclicBufferSize,T(e._son,2*e._cyclicBufferSize,r),T(e._hash,e._hashSizeSum,r),H(e,r))}function T(e,r,t){var o,n;for(o=0;o<r;++o)(n=e[o]||0)<=t?n=0:n-=t,e[o]=n}function Y(e){var r=e._pos-e._streamPos;r&&(y(e._stream,e._buffer,e._streamPos,r),e._pos>=e._windowSize&&(e._pos=0),e._streamPos=e._pos)}function V(e,r){var t=e._pos-r-1;return t<0&&(t+=e._windowSize),e._buffer[t]}function j(e){Y(e),e._stream=null}function Z(e){return(e-=2)<4?e:3}function $(e){return e<4?0:e<10?e-3:e-6}function K(e){if(!e.alive)throw new Error("bad state");return e.encoder?function(e){(function(e,r,t,o){var n,s,i,_,u,f,d,h,B,S,g,R,M,D,b;if(r[0]=a,t[0]=a,o[0]=1,e._inStream&&(e._matchFinder._stream=e._inStream,function(e){e._bufferOffset=0,e._pos=0,e._streamPos=0,e._streamEndWasReached=0,A(e),e._cyclicBufferPos=0,H(e,-1)}(e._matchFinder),e._needReleaseMFStream=1,e._inStream=null),!e._finished){if(e._finished=1,D=e.nowPos64,P(e.nowPos64,a)){if(!O(e._matchFinder))return void ne(e,v(e.nowPos64));ce(e),M=v(e.nowPos64)&e._posStateMask,Ne(e._rangeEncoder,e._isMatch,(e._state<<4)+M,0),e._state=$(e._state),i=x(e._matchFinder,-e._additionalOffset),Be(ve(e._literalEncoder,v(e.nowPos64),e._previousByte),e._rangeEncoder,i),e._previousByte=i,--e._additionalOffset,e.nowPos64=m(e.nowPos64,c)}if(O(e._matchFinder))for(;;){if(d=se(e,v(e.nowPos64)),S=e.backRes,M=v(e.nowPos64)&e._posStateMask,s=(e._state<<4)+M,1==d&&-1==S)Ne(e._rangeEncoder,e._isMatch,s,0),i=x(e._matchFinder,-e._additionalOffset),b=ve(e._literalEncoder,v(e.nowPos64),e._previousByte),e._state<7?Be(b,e._rangeEncoder,i):(B=x(e._matchFinder,-e._repDistances[0]-1-e._additionalOffset),Se(b,e._rangeEncoder,B,i)),e._previousByte=i,e._state=$(e._state);else{if(Ne(e._rangeEncoder,e._isMatch,s,1),S<4){if(Ne(e._rangeEncoder,e._isRep,e._state,1),S?(Ne(e._rangeEncoder,e._isRepG0,e._state,1),1==S?Ne(e._rangeEncoder,e._isRepG1,e._state,0):(Ne(e._rangeEncoder,e._isRepG1,e._state,1),Ne(e._rangeEncoder,e._isRepG2,e._state,S-2))):(Ne(e._rangeEncoder,e._isRepG0,e._state,0),Ne(e._rangeEncoder,e._isRep0Long,s,1==d?0:1)),1==d?e._state=e._state<7?9:11:(pe(e._repMatchLenEncoder,e._rangeEncoder,d-2,M),e._state=e._state<7?8:11),_=e._repDistances[S],0!=S){for(f=S;f>=1;--f)e._repDistances[f]=e._repDistances[f-1];e._repDistances[0]=_}}else{for(Ne(e._rangeEncoder,e._isRep,e._state,0),e._state=e._state<7?7:10,pe(e._lenEncoder,e._rangeEncoder,d-2,M),R=fe(S-=4),h=Z(d),we(e._posSlotEncoder[h],e._rangeEncoder,R),R>=4&&(g=S-(n=(2|1&R)<<(u=(R>>1)-1)),R<14?Le(e._posEncoders,n-R-1,e._rangeEncoder,u,g):(Oe(e._rangeEncoder,g>>4,u-4),ye(e._posAlignEncoder,e._rangeEncoder,15&g),++e._alignPriceCount)),_=S,f=3;f>=1;--f)e._repDistances[f]=e._repDistances[f-1];e._repDistances[0]=_,++e._matchPriceCount}e._previousByte=x(e._matchFinder,d-1-e._additionalOffset)}if(e._additionalOffset-=d,e.nowPos64=m(e.nowPos64,l(d)),!e._additionalOffset){if(e._matchPriceCount>=128&&oe(e),e._alignPriceCount>=16&&te(e),r[0]=e.nowPos64,t[0]=Ae(e._rangeEncoder),!O(e._matchFinder))return void ne(e,v(e.nowPos64));if(p(k(e.nowPos64,D),[4096,0])>=0)return e._finished=0,void(o[0]=0)}}else ne(e,v(e.nowPos64))}})(e.encoder,e.encoder.processedInSize,e.encoder.processedOutSize,e.encoder.finished),e.inBytesProcessed=e.encoder.processedInSize[0],e.encoder.finished[0]&&(!function(e){ue(e),e._rangeEncoder.Stream=null}(e.encoder),e.alive=0)}(e):function(e){var r=function(e){var r,t,o,n,s,i;if(i=v(e.nowPos64)&e.m_PosStateMask,Fe(e.m_RangeDecoder,e.m_IsMatchDecoders,(e.state<<4)+i)){if(Fe(e.m_RangeDecoder,e.m_IsRepDecoders,e.state))o=0,Fe(e.m_RangeDecoder,e.m_IsRepG0Decoders,e.state)?(Fe(e.m_RangeDecoder,e.m_IsRepG1Decoders,e.state)?(Fe(e.m_RangeDecoder,e.m_IsRepG2Decoders,e.state)?(t=e.rep3,e.rep3=e.rep2):t=e.rep2,e.rep2=e.rep1):t=e.rep1,e.rep1=e.rep0,e.rep0=t):Fe(e.m_RangeDecoder,e.m_IsRep0LongDecoders,(e.state<<4)+i)||(e.state=e.state<7?9:11,o=1),o||(o=J(e.m_RepLenDecoder,e.m_RangeDecoder,i)+2,e.state=e.state<7?8:11);else if(e.rep3=e.rep2,e.rep2=e.rep1,e.rep1=e.rep0,o=2+J(e.m_LenDecoder,e.m_RangeDecoder,i),e.state=e.state<7?7:10,(s=De(e.m_PosSlotDecoder[Z(o)],e.m_RangeDecoder))>=4){if(n=(s>>1)-1,e.rep0=(2|1&s)<<n,s<14)e.rep0+=function(e,r,t,o){var n,s,i=1,_=0;for(s=0;s<o;++s)n=Fe(t,e,r+i),i<<=1,i+=n,_|=n<<s;return _}(e.m_PosDecoders,e.rep0-s-1,e.m_RangeDecoder,n);else if(e.rep0+=function(e,r){var t,o,n=0;for(t=r;0!=t;--t)e.Range>>>=1,o=e.Code-e.Range>>>31,e.Code-=e.Range&o-1,n=n<<1|1-o,-16777216&e.Range||(e.Code=e.Code<<8|M(e.Stream),e.Range<<=8);return n}(e.m_RangeDecoder,n-4)<<4,e.rep0+=function(e,r){var t,o,n=1,s=0;for(o=0;o<e.NumBitLevels;++o)t=Fe(r,e.Models,n),n<<=1,n+=t,s|=t<<o;return s}(e.m_PosAlignDecoder,e.m_RangeDecoder),e.rep0<0)return-1==e.rep0?1:-1}else e.rep0=s;if(p(l(e.rep0),e.nowPos64)>=0||e.rep0>=e.m_DictionarySizeCheck)return-1;!function(e,r,t){var o=e._pos-r-1;for(o<0&&(o+=e._windowSize);0!=t;--t)o>=e._windowSize&&(o=0),e._buffer[e._pos++]=e._buffer[o++],e._pos>=e._windowSize&&Y(e)}(e.m_OutWindow,e.rep0,o),e.nowPos64=m(e.nowPos64,l(o)),e.prevByte=V(e.m_OutWindow,0)}else r=function(e,r,t){return e.m_Coders[((r&e.m_PosMask)<<e.m_NumPrevBits)+((255&t)>>>8-e.m_NumPrevBits)]}(e.m_LiteralDecoder,v(e.nowPos64),e.prevByte),e.state<7?e.prevByte=function(e,r){var t=1;do{t=t<<1|Fe(r,e.m_Decoders,t)}while(t<256);return t<<24>>24}(r,e.m_RangeDecoder):e.prevByte=function(e,r,t){var o,n,s=1;do{if(n=t>>7&1,t<<=1,o=Fe(r,e.m_Decoders,(1+n<<8)+s),s=s<<1|o,n!=o){for(;s<256;)s=s<<1|Fe(r,e.m_Decoders,s);break}}while(s<256);return s<<24>>24}(r,e.m_RangeDecoder,V(e.m_OutWindow,e.rep0)),function(e,r){e._buffer[e._pos++]=r,e._pos>=e._windowSize&&Y(e)}(e.m_OutWindow,e.prevByte),e.state=$(e.state),e.nowPos64=m(e.nowPos64,c);return 0}(e.decoder);if(-1==r)throw new Error("corrupted input");e.inBytesProcessed=i,e.outBytesProcessed=e.decoder.nowPos64,(r||p(e.decoder.outSize,a)>=0&&p(e.decoder.nowPos64,e.decoder.outSize)>=0)&&(Y(e.decoder.m_OutWindow),j(e.decoder.m_OutWindow),e.decoder.m_RangeDecoder.Stream=null,e.alive=0)}(e),e.alive}function q(e,r){for(;e.m_NumPosStates<r;++e.m_NumPosStates)e.m_LowCoder[e.m_NumPosStates]=Me({},3),e.m_MidCoder[e.m_NumPosStates]=Me({},3)}function J(e,r,t){if(!Fe(r,e.m_Choice,0))return De(e.m_LowCoder[t],r);var o=8;return Fe(r,e.m_Choice,1)?o+=8+De(e.m_HighCoder,r):o+=De(e.m_MidCoder[t],r),o}function Q(e){return e.m_Choice=f(2),e.m_LowCoder=f(16),e.m_MidCoder=f(16),e.m_HighCoder=Me({},8),e.m_NumPosStates=0,e}function U(e){Ie(e.m_Choice);for(var r=0;r<e.m_NumPosStates;++r)Ie(e.m_LowCoder[r].Models),Ie(e.m_MidCoder[r].Models);Ie(e.m_HighCoder.Models)}function X(e){return e.m_Decoders=f(768),e}var ee=function(){var e,r,t,o=2,n=[0,1];for(t=2;t<22;++t)for(r=1<<(t>>1)-1,e=0;e<r;++e,++o)n[o]=t<<24>>24;return n}();function re(e,r){var t,o,n,s;e._optimumEndIndex=r,n=e._optimum[r].PosPrev,o=e._optimum[r].BackPrev;do{e._optimum[r].Prev1IsChar&&(Re(e._optimum[n]),e._optimum[n].PosPrev=n-1,e._optimum[r].Prev2&&(e._optimum[n-1].Prev1IsChar=0,e._optimum[n-1].PosPrev=e._optimum[r].PosPrev2,e._optimum[n-1].BackPrev=e._optimum[r].BackPrev2)),s=n,t=o,o=e._optimum[s].BackPrev,n=e._optimum[s].PosPrev,e._optimum[s].BackPrev=t,e._optimum[s].PosPrev=r,r=s}while(r>0);return e.backRes=e._optimum[0].BackPrev,e._optimumCurrentIndex=e._optimum[0].PosPrev,e._optimumCurrentIndex}function te(e){for(var r=0;r<16;++r)e._alignPrices[r]=Ce(e._posAlignEncoder,r);e._alignPriceCount=0}function oe(e){var r,t,o,n,s,i,_,a;for(n=4;n<128;++n)r=(2|1&(i=fe(n)))<<(o=(i>>1)-1),e.tempPrices[n]=ze(e._posEncoders,r-i-1,o,n-r);for(s=0;s<4;++s){for(t=e._posSlotEncoder[s],_=s<<6,i=0;i<e._distTableSize;++i)e._posSlotPrices[_+i]=Ee(t,i);for(i=14;i<e._distTableSize;++i)e._posSlotPrices[_+i]+=(i>>1)-1-4<<6;for(a=128*s,n=0;n<4;++n)e._distancesPrices[a+n]=e._posSlotPrices[_+n];for(;n<128;++n)e._distancesPrices[a+n]=e._posSlotPrices[_+fe(n)]+e.tempPrices[n]}e._matchPriceCount=0}function ne(e,r){ue(e),function(e,r){if(!e._writeEndMark)return;Ne(e._rangeEncoder,e._isMatch,(e._state<<4)+r,1),Ne(e._rangeEncoder,e._isRep,e._state,0),e._state=e._state<7?7:10,pe(e._lenEncoder,e._rangeEncoder,0,r);var t=Z(2);we(e._posSlotEncoder[t],e._rangeEncoder,63),Oe(e._rangeEncoder,67108863,26),ye(e._posAlignEncoder,e._rangeEncoder,15)}(e,r&e._posStateMask);for(var t=0;t<5;++t)He(e._rangeEncoder)}function se(e,r){var t,o,n,s,i,_,a,c,u,f,m,d,p,h,P,l,v,B,S,g,k,R,M,D,b,w,E,y,C,L,z,F,I,A,H,G,W,T,Y,V,j,Z,K,q;if(e._optimumEndIndex!=e._optimumCurrentIndex)return p=e._optimum[e._optimumCurrentIndex].PosPrev-e._optimumCurrentIndex,e.backRes=e._optimum[e._optimumCurrentIndex].BackPrev,e._optimumCurrentIndex=e._optimum[e._optimumCurrentIndex].PosPrev,p;if(e._optimumCurrentIndex=e._optimumEndIndex=0,e._longestMatchWasFound?(d=e._longestMatchLength,e._longestMatchWasFound=0):d=ce(e),w=e._numDistancePairs,(D=O(e._matchFinder)+1)<2)return e.backRes=-1,1;for(D>273&&(D=273),Y=0,u=0;u<4;++u)e.reps[u]=e._repDistances[u],e.repLens[u]=N(e._matchFinder,-1,e.reps[u],273),e.repLens[u]>e.repLens[Y]&&(Y=u);if(e.repLens[Y]>=e._numFastBytes)return e.backRes=Y,ae(e,(p=e.repLens[Y])-1),p;if(d>=e._numFastBytes)return e.backRes=e._matchDistances[w-1]+4,ae(e,d-1),d;if(a=x(e._matchFinder,-1),v=x(e._matchFinder,-e._repDistances[0]-1-1),d<2&&a!=v&&e.repLens[Y]<2)return e.backRes=-1,1;if(e._optimum[0].State=e._state,I=r&e._posStateMask,e._optimum[1].Price=xe[e._isMatch[(e._state<<4)+I]>>>2]+ke(ve(e._literalEncoder,r,e._previousByte),e._state>=7,v,a),Re(e._optimum[1]),T=(B=xe[2048-e._isMatch[(e._state<<4)+I]>>>2])+xe[2048-e._isRep[e._state]>>>2],v==a&&(V=T+function(e,r,t){return xe[e._isRepG0[r]>>>2]+xe[e._isRep0Long[(r<<4)+t]>>>2]}(e,e._state,I))<e._optimum[1].Price&&(e._optimum[1].Price=V,function(e){e.BackPrev=0,e.Prev1IsChar=0}(e._optimum[1])),(m=d>=e.repLens[Y]?d:e.repLens[Y])<2)return e.backRes=e._optimum[1].BackPrev,1;e._optimum[1].PosPrev=0,e._optimum[0].Backs0=e.reps[0],e._optimum[0].Backs1=e.reps[1],e._optimum[0].Backs2=e.reps[2],e._optimum[0].Backs3=e.reps[3],f=m;do{e._optimum[f--].Price=268435455}while(f>=2);for(u=0;u<4;++u)if(!((W=e.repLens[u])<2)){H=T+_e(e,u,e._state,I);do{(s=H+Pe(e._repMatchLenEncoder,W-2,I))<(L=e._optimum[W]).Price&&(L.Price=s,L.PosPrev=0,L.BackPrev=u,L.Prev1IsChar=0)}while(--W>=2)}if(M=B+xe[e._isRep[e._state]>>>2],(f=e.repLens[0]>=2?e.repLens[0]+1:2)<=d){for(E=0;f>e._matchDistances[E];)E+=2;for(;(s=M+ie(e,c=e._matchDistances[E+1],f,I))<(L=e._optimum[f]).Price&&(L.Price=s,L.PosPrev=0,L.BackPrev=c+4,L.Prev1IsChar=0),f!=e._matchDistances[E]||(E+=2)!=w;++f);}for(t=0;;){if(++t==m)return re(e,t);if(S=ce(e),w=e._numDistancePairs,S>=e._numFastBytes)return e._longestMatchLength=S,e._longestMatchWasFound=1,re(e,t);if(++r,F=e._optimum[t].PosPrev,e._optimum[t].Prev1IsChar?(--F,e._optimum[t].Prev2?(Z=e._optimum[e._optimum[t].PosPrev2].State,Z=e._optimum[t].BackPrev2<4?Z<7?8:11:Z<7?7:10):Z=e._optimum[F].State,Z=$(Z)):Z=e._optimum[F].State,F==t-1?Z=e._optimum[t].BackPrev?$(Z):Z<7?9:11:(e._optimum[t].Prev1IsChar&&e._optimum[t].Prev2?(F=e._optimum[t].PosPrev2,z=e._optimum[t].BackPrev2,Z=Z<7?8:11):Z=(z=e._optimum[t].BackPrev)<4?Z<7?8:11:Z<7?7:10,C=e._optimum[F],z<4?z?1==z?(e.reps[0]=C.Backs1,e.reps[1]=C.Backs0,e.reps[2]=C.Backs2,e.reps[3]=C.Backs3):2==z?(e.reps[0]=C.Backs2,e.reps[1]=C.Backs0,e.reps[2]=C.Backs1,e.reps[3]=C.Backs3):(e.reps[0]=C.Backs3,e.reps[1]=C.Backs0,e.reps[2]=C.Backs1,e.reps[3]=C.Backs2):(e.reps[0]=C.Backs0,e.reps[1]=C.Backs1,e.reps[2]=C.Backs2,e.reps[3]=C.Backs3):(e.reps[0]=z-4,e.reps[1]=C.Backs0,e.reps[2]=C.Backs1,e.reps[3]=C.Backs2)),e._optimum[t].State=Z,e._optimum[t].Backs0=e.reps[0],e._optimum[t].Backs1=e.reps[1],e._optimum[t].Backs2=e.reps[2],e._optimum[t].Backs3=e.reps[3],_=e._optimum[t].Price,a=x(e._matchFinder,-1),v=x(e._matchFinder,-e.reps[0]-1-1),I=r&e._posStateMask,g=0,(o=_+xe[e._isMatch[(Z<<4)+I]>>>2]+ke(ve(e._literalEncoder,r,x(e._matchFinder,-2)),Z>=7,v,a))<(k=e._optimum[t+1]).Price&&(k.Price=o,k.PosPrev=t,k.BackPrev=-1,k.Prev1IsChar=0,g=1),T=(B=_+xe[2048-e._isMatch[(Z<<4)+I]>>>2])+xe[2048-e._isRep[Z]>>>2],v!=a||k.PosPrev<t&&!k.BackPrev||(V=T+(xe[e._isRepG0[Z]>>>2]+xe[e._isRep0Long[(Z<<4)+I]>>>2]))<=k.Price&&(k.Price=V,k.PosPrev=t,k.BackPrev=0,k.Prev1IsChar=0,g=1),!((D=b=4095-t<(b=O(e._matchFinder)+1)?4095-t:b)<2)){if(D>e._numFastBytes&&(D=e._numFastBytes),!g&&v!=a&&(q=Math.min(b-1,e._numFastBytes),(P=N(e._matchFinder,0,e.reps[0],q))>=2)){for(K=$(Z),A=r+1&e._posStateMask,R=o+xe[2048-e._isMatch[(K<<4)+A]>>>2]+xe[2048-e._isRep[K]>>>2],y=t+1+P;m<y;)e._optimum[++m].Price=268435455;(s=R+(Pe(e._repMatchLenEncoder,P-2,A)+_e(e,0,K,A)))<(L=e._optimum[y]).Price&&(L.Price=s,L.PosPrev=t+1,L.BackPrev=0,L.Prev1IsChar=1,L.Prev2=0)}for(j=2,G=0;G<4;++G)if(!((h=N(e._matchFinder,-1,e.reps[G],D))<2)){l=h;do{for(;m<t+h;)e._optimum[++m].Price=268435455;(s=T+(Pe(e._repMatchLenEncoder,h-2,I)+_e(e,G,Z,I)))<(L=e._optimum[t+h]).Price&&(L.Price=s,L.PosPrev=t,L.BackPrev=G,L.Prev1IsChar=0)}while(--h>=2);if(h=l,G||(j=h+1),h<b&&(q=Math.min(b-1-h,e._numFastBytes),(P=N(e._matchFinder,h,e.reps[G],q))>=2)){for(K=Z<7?8:11,A=r+h&e._posStateMask,n=T+(Pe(e._repMatchLenEncoder,h-2,I)+_e(e,G,Z,I))+xe[e._isMatch[(K<<4)+A]>>>2]+ke(ve(e._literalEncoder,r+h,x(e._matchFinder,h-1-1)),1,x(e._matchFinder,h-1-(e.reps[G]+1)),x(e._matchFinder,h-1)),K=$(K),A=r+h+1&e._posStateMask,R=n+xe[2048-e._isMatch[(K<<4)+A]>>>2]+xe[2048-e._isRep[K]>>>2],y=h+1+P;m<t+y;)e._optimum[++m].Price=268435455;(s=R+(Pe(e._repMatchLenEncoder,P-2,A)+_e(e,0,K,A)))<(L=e._optimum[t+y]).Price&&(L.Price=s,L.PosPrev=t+h+1,L.BackPrev=0,L.Prev1IsChar=1,L.Prev2=1,L.PosPrev2=t,L.BackPrev2=G)}}if(S>D){for(S=D,w=0;S>e._matchDistances[w];w+=2);e._matchDistances[w]=S,w+=2}if(S>=j){for(M=B+xe[e._isRep[Z]>>>2];m<t+S;)e._optimum[++m].Price=268435455;for(E=0;j>e._matchDistances[E];)E+=2;for(h=j;;++h)if((s=M+ie(e,i=e._matchDistances[E+1],h,I))<(L=e._optimum[t+h]).Price&&(L.Price=s,L.PosPrev=t,L.BackPrev=i+4,L.Prev1IsChar=0),h==e._matchDistances[E]){if(h<b&&(q=Math.min(b-1-h,e._numFastBytes),(P=N(e._matchFinder,h,i,q))>=2)){for(K=Z<7?7:10,A=r+h&e._posStateMask,n=s+xe[e._isMatch[(K<<4)+A]>>>2]+ke(ve(e._literalEncoder,r+h,x(e._matchFinder,h-1-1)),1,x(e._matchFinder,h-(i+1)-1),x(e._matchFinder,h-1)),K=$(K),A=r+h+1&e._posStateMask,R=n+xe[2048-e._isMatch[(K<<4)+A]>>>2]+xe[2048-e._isRep[K]>>>2],y=h+1+P;m<t+y;)e._optimum[++m].Price=268435455;(s=R+(Pe(e._repMatchLenEncoder,P-2,A)+_e(e,0,K,A)))<(L=e._optimum[t+y]).Price&&(L.Price=s,L.PosPrev=t+h+1,L.BackPrev=0,L.Prev1IsChar=1,L.Prev2=1,L.PosPrev2=t,L.BackPrev2=i+4)}if((E+=2)==w)break}}}}}function ie(e,r,t,o){var n=Z(t);return(r<128?e._distancesPrices[128*n+r]:e._posSlotPrices[(n<<6)+function(e){if(e<131072)return ee[e>>6]+12;if(e<134217728)return ee[e>>16]+32;return ee[e>>26]+52}(r)]+e._alignPrices[15&r])+Pe(e._lenEncoder,t-2,o)}function _e(e,r,t,o){var n;return r?(n=xe[2048-e._isRepG0[t]>>>2],1==r?n+=xe[e._isRepG1[t]>>>2]:(n+=xe[2048-e._isRepG1[t]>>>2],n+=Ge(e._isRepG2[t],r-2))):(n=xe[e._isRepG0[t]>>>2],n+=xe[2048-e._isRep0Long[(t<<4)+o]>>>2]),n}function ae(e,r){r>0&&(!function(e,r){var t,o,n,s,i,_,a,c,u,f,m,d,p,h,P,l,v;do{if(e._pos+e._matchMaxLen<=e._streamPos)d=e._matchMaxLen;else if((d=e._streamPos-e._pos)<e.kMinMatchCheck){W(e);continue}for(p=e._pos>e._cyclicBufferSize?e._pos-e._cyclicBufferSize:0,o=e._bufferOffset+e._pos,e.HASH_ARRAY?(_=1023&(v=G[255&e._bufferBase[o]]^255&e._bufferBase[o+1]),e._hash[_]=e._pos,a=65535&(v^=(255&e._bufferBase[o+2])<<8),e._hash[1024+a]=e._pos,c=(v^G[255&e._bufferBase[o+3]]<<5)&e._hashMask):c=255&e._bufferBase[o]^(255&e._bufferBase[o+1])<<8,n=e._hash[e.kFixHashSize+c],e._hash[e.kFixHashSize+c]=e._pos,P=1+(e._cyclicBufferPos<<1),l=e._cyclicBufferPos<<1,f=m=e.kNumHashDirectBytes,t=e._cutValue;;){if(n<=p||0==t--){e._son[P]=e._son[l]=0;break}if(s=((i=e._pos-n)<=e._cyclicBufferPos?e._cyclicBufferPos-i:e._cyclicBufferPos-i+e._cyclicBufferSize)<<1,h=e._bufferOffset+n,u=f<m?f:m,e._bufferBase[h+u]==e._bufferBase[o+u]){for(;++u!=d&&e._bufferBase[h+u]==e._bufferBase[o+u];);if(u==d){e._son[l]=e._son[s],e._son[P]=e._son[s+1];break}}(255&e._bufferBase[h+u])<(255&e._bufferBase[o+u])?(e._son[l]=n,l=s+1,n=e._son[l],m=u):(e._son[P]=n,P=s,n=e._son[P],f=u)}W(e)}while(0!=--r)}(e._matchFinder,r),e._additionalOffset+=r)}function ce(e){var r=0;return e._numDistancePairs=function(e,r){var t,o,n,s,i,_,a,c,u,f,m,d,p,h,P,l,v,B,S,g,k;if(e._pos+e._matchMaxLen<=e._streamPos)h=e._matchMaxLen;else if((h=e._streamPos-e._pos)<e.kMinMatchCheck)return W(e),0;for(v=0,P=e._pos>e._cyclicBufferSize?e._pos-e._cyclicBufferSize:0,o=e._bufferOffset+e._pos,l=1,c=0,u=0,e.HASH_ARRAY?(c=1023&(k=G[255&e._bufferBase[o]]^255&e._bufferBase[o+1]),u=65535&(k^=(255&e._bufferBase[o+2])<<8),f=(k^G[255&e._bufferBase[o+3]]<<5)&e._hashMask):f=255&e._bufferBase[o]^(255&e._bufferBase[o+1])<<8,n=e._hash[e.kFixHashSize+f]||0,e.HASH_ARRAY&&(s=e._hash[c]||0,i=e._hash[1024+u]||0,e._hash[c]=e._pos,e._hash[1024+u]=e._pos,s>P&&e._bufferBase[e._bufferOffset+s]==e._bufferBase[o]&&(r[v++]=l=2,r[v++]=e._pos-s-1),i>P&&e._bufferBase[e._bufferOffset+i]==e._bufferBase[o]&&(i==s&&(v-=2),r[v++]=l=3,r[v++]=e._pos-i-1,s=i),0!=v&&s==n&&(v-=2,l=1)),e._hash[e.kFixHashSize+f]=e._pos,S=1+(e._cyclicBufferPos<<1),g=e._cyclicBufferPos<<1,d=p=e.kNumHashDirectBytes,0!=e.kNumHashDirectBytes&&n>P&&e._bufferBase[e._bufferOffset+n+e.kNumHashDirectBytes]!=e._bufferBase[o+e.kNumHashDirectBytes]&&(r[v++]=l=e.kNumHashDirectBytes,r[v++]=e._pos-n-1),t=e._cutValue;;){if(n<=P||0==t--){e._son[S]=e._son[g]=0;break}if(_=((a=e._pos-n)<=e._cyclicBufferPos?e._cyclicBufferPos-a:e._cyclicBufferPos-a+e._cyclicBufferSize)<<1,B=e._bufferOffset+n,m=d<p?d:p,e._bufferBase[B+m]==e._bufferBase[o+m]){for(;++m!=h&&e._bufferBase[B+m]==e._bufferBase[o+m];);if(l<m&&(r[v++]=l=m,r[v++]=a-1,m==h)){e._son[g]=e._son[_],e._son[S]=e._son[_+1];break}}(255&e._bufferBase[B+m])<(255&e._bufferBase[o+m])?(e._son[g]=n,g=_+1,n=e._son[g],p=m):(e._son[S]=n,S=_,n=e._son[S],d=m)}return W(e),v}(e._matchFinder,e._matchDistances),e._numDistancePairs>0&&(r=e._matchDistances[e._numDistancePairs-2])==e._numFastBytes&&(r+=N(e._matchFinder,r-1,e._matchDistances[e._numDistancePairs-1],273-r)),++e._additionalOffset,r}function ue(e){e._matchFinder&&e._needReleaseMFStream&&(e._matchFinder._stream=null,e._needReleaseMFStream=0)}function fe(e){return e<2048?ee[e]:e<2097152?ee[e>>10]+20:ee[e>>20]+40}function me(e,r){Ie(e._choice);for(var t=0;t<r;++t)Ie(e._lowCoder[t].Models),Ie(e._midCoder[t].Models);Ie(e._highCoder.Models)}function de(e,r,t,o,n){var s,i,_,a,c;for(s=xe[e._choice[0]>>>2],_=(i=xe[2048-e._choice[0]>>>2])+xe[e._choice[1]>>>2],a=i+xe[2048-e._choice[1]>>>2],c=0,c=0;c<8;++c){if(c>=t)return;o[n+c]=s+Ee(e._lowCoder[r],c)}for(;c<16;++c){if(c>=t)return;o[n+c]=_+Ee(e._midCoder[r],c-8)}for(;c<t;++c)o[n+c]=a+Ee(e._highCoder,c-8-8)}function pe(e,r,t,o){!function(e,r,t,o){t<8?(Ne(r,e._choice,0,0),we(e._lowCoder[o],r,t)):(t-=8,Ne(r,e._choice,0,1),t<8?(Ne(r,e._choice,1,0),we(e._midCoder[o],r,t)):(Ne(r,e._choice,1,1),we(e._highCoder,r,t-8)))}(e,r,t,o),0==--e._counters[o]&&(de(e,o,e._tableSize,e._prices,272*o),e._counters[o]=e._tableSize)}function he(e){return function(e){e._choice=f(2),e._lowCoder=f(16),e._midCoder=f(16),e._highCoder=be({},8);for(var r=0;r<16;++r)e._lowCoder[r]=be({},3),e._midCoder[r]=be({},3)}(e),e._prices=[],e._counters=[],e}function Pe(e,r,t){return e._prices[272*t+r]}function le(e,r){for(var t=0;t<r;++t)de(e,t,e._tableSize,e._prices,272*t),e._counters[t]=e._tableSize}function ve(e,r,t){return e.m_Coders[((r&e.m_PosMask)<<e.m_NumPrevBits)+((255&t)>>>8-e.m_NumPrevBits)]}function Be(e,r,t){var o,n,s=1;for(n=7;n>=0;--n)o=t>>n&1,Ne(r,e.m_Encoders,s,o),s=s<<1|o}function Se(e,r,t,o){var n,s,i,_,a=1,c=1;for(s=7;s>=0;--s)n=o>>s&1,_=c,a&&(_+=1+(i=t>>s&1)<<8,a=i==n),Ne(r,e.m_Encoders,_,n),c=c<<1|n}function ge(e){return e.m_Encoders=f(768),e}function ke(e,r,t,o){var n,s,i=1,_=7,a=0;if(r)for(;_>=0;--_)if(s=t>>_&1,n=o>>_&1,a+=Ge(e.m_Encoders[(1+s<<8)+i],n),i=i<<1|n,s!=n){--_;break}for(;_>=0;--_)n=o>>_&1,a+=Ge(e.m_Encoders[i],n),i=i<<1|n;return a}function Re(e){e.BackPrev=-1,e.Prev1IsChar=0}function Me(e,r){return e.NumBitLevels=r,e.Models=f(1<<r),e}function De(e,r){var t,o=1;for(t=e.NumBitLevels;0!=t;--t)o=(o<<1)+Fe(r,e.Models,o);return o-(1<<e.NumBitLevels)}function be(e,r){return e.NumBitLevels=r,e.Models=f(1<<r),e}function we(e,r,t){var o,n,s=1;for(n=e.NumBitLevels;0!=n;)o=t>>>--n&1,Ne(r,e.Models,s,o),s=s<<1|o}function Ee(e,r){var t,o,n=1,s=0;for(o=e.NumBitLevels;0!=o;)t=r>>>--o&1,s+=Ge(e.Models[n],t),n=(n<<1)+t;return s}function ye(e,r,t){var o,n,s=1;for(n=0;n<e.NumBitLevels;++n)o=1&t,Ne(r,e.Models,s,o),s=s<<1|o,t>>=1}function Ce(e,r){var t,o,n=1,s=0;for(o=e.NumBitLevels;0!=o;--o)t=1&r,r>>>=1,s+=Ge(e.Models[n],t),n=n<<1|t;return s}function Le(e,r,t,o,n){var s,i,_=1;for(i=0;i<o;++i)Ne(t,e,r+_,s=1&n),_=_<<1|s,n>>=1}function ze(e,r,t,o){var n,s,i=1,_=0;for(s=t;0!=s;--s)n=1&o,o>>>=1,_+=xe[(2047&(e[r+i]-n^-n))>>>2],i=i<<1|n;return _}function Fe(e,r,t){var o,n=r[t];return o=(e.Range>>>11)*n,(-2147483648^e.Code)<(-2147483648^o)?(e.Range=o,r[t]=n+(2048-n>>>5)<<16>>16,-16777216&e.Range||(e.Code=e.Code<<8|M(e.Stream),e.Range<<=8),0):(e.Range-=o,e.Code-=o,r[t]=n-(n>>>5)<<16>>16,-16777216&e.Range||(e.Code=e.Code<<8|M(e.Stream),e.Range<<=8),1)}function Ie(e){for(var r=e.length-1;r>=0;--r)e[r]=1024}var xe=function(){var e,r,t,o=[];for(r=8;r>=0;--r)for(e=1<<9-r,t=1<<9-r-1;t<e;++t)o[t]=(r<<6)+(e-t<<6>>>9-r-1);return o}();function Ne(e,r,t,o){var n,s=r[t];n=(e.Range>>>11)*s,o?(e.Low=m(e.Low,d(l(n),[4294967295,0])),e.Range-=n,r[t]=s-(s>>>5)<<16>>16):(e.Range=n,r[t]=s+(2048-s>>>5)<<16>>16),-16777216&e.Range||(e.Range<<=8,He(e))}function Oe(e,r,t){for(var o=t-1;o>=0;--o)e.Range>>>=1,1==(r>>>o&1)&&(e.Low=m(e.Low,l(e.Range))),-16777216&e.Range||(e.Range<<=8,He(e))}function Ae(e){return m(m(l(e._cacheSize),e._position),[4,0])}function He(e){var r,t,o,n,s=v((t=e.Low,o=32,n=g(t,o&=63),t[1]<0&&(n=m(n,S([2,0],63-o))),n));if(0!=s||p(e.Low,[4278190080,0])<0){e._position=m(e._position,l(e._cacheSize)),r=e._cache;do{E(e.Stream,r+s),r=255}while(0!=--e._cacheSize);e._cache=v(e.Low)>>>24}++e._cacheSize,e.Low=S(d(e.Low,[16777215,0]),8)}function Ge(e,r){return xe[(2047&(e-r^-r))>>>2]}function We(e){for(var r,t,o,n=0,s=0,i=e.length,_=[],a=[];n<i;++n,++s){if(128&(r=255&e[n]))if(192==(224&r)){if(n+1>=i)return e;if(128!=(192&(t=255&e[++n])))return e;a[s]=(31&r)<<6|63&t}else{if(224!=(240&r))return e;if(n+2>=i)return e;if(128!=(192&(t=255&e[++n])))return e;if(128!=(192&(o=255&e[++n])))return e;a[s]=(15&r)<<12|(63&t)<<6|63&o}else{if(!r)return e;a[s]=r}16383==s&&(_.push(String.fromCharCode.apply(String,a)),s=-1)}return s>0&&(a.length=s,_.push(String.fromCharCode.apply(String,a))),_.join("")}function Te(e){var r,t,o,n=[],s=0,i=e.length;if("object"==typeof e)return e;for(function(e,r,t,o,n){var s;for(s=r;s<t;++s)o[n++]=e.charCodeAt(s)}(e,0,i,n,0),o=0;o<i;++o)(r=n[o])>=1&&r<=127?++s:s+=!r||r>=128&&r<=2047?2:3;for(t=[],s=0,o=0;o<i;++o)(r=n[o])>=1&&r<=127?t[s++]=r<<24>>24:!r||r>=128&&r<=2047?(t[s++]=(192|r>>6&31)<<24>>24,t[s++]=(128|63&r)<<24>>24):(t[s++]=(224|r>>12&15)<<24>>24,t[s++]=(128|r>>6&63)<<24>>24,t[s++]=(128|63&r)<<24>>24);return t}function Ye(e){return e[1]+e[0]}var Ve,je=(Ve=[{s:16,f:64,m:0},{s:20,f:64,m:0},{s:19,f:64,m:1},{s:20,f:64,m:1},{s:21,f:128,m:1},{s:22,f:128,m:1},{s:23,f:128,m:1},{s:24,f:255,m:1},{s:25,f:255,m:1}],function(e){return Ve[e-1]||Ve[6]});return"undefined"==typeof onmessage||"undefined"!=typeof window&&void 0!==window.document||(onmessage=function(o){o&&o.data&&(o.data.action==t?e.decompress(o.data.data,o.data.cbn):o.data.action==r&&e.compress(o.data.data,o.data.mode,o.data.cbn))}),{compress:function(e,t,o,s){var i,_,a={},c=void 0===o&&void 0===s;if("function"!=typeof o&&(_=o,o=s=0),s=s||function(e){if(void 0!==_)return u(e,_)},o=o||function(e,t){if(void 0!==_)return postMessage({action:r,cbn:_,result:e,error:t})},c){for(a.c=z({},Te(e),je(t));K(a.c.chunker););return w(a.c.output)}try{a.c=z({},Te(e),je(t)),s(0)}catch(f){return o(null,f)}n(function e(){try{for(var r,t=(new Date).getTime();K(a.c.chunker);)if(i=Ye(a.c.chunker.inBytesProcessed)/Ye(a.c.length_0),(new Date).getTime()-t>200)return s(i),n(e,0),0;s(1),r=w(a.c.output),n(o.bind(null,r),0)}catch(f){o(null,f)}},0)},decompress:function(e,r,o){var s,i,_,a,c={},f=void 0===r&&void 0===o;if("function"!=typeof r&&(i=r,r=o=0),o=o||function(e){if(void 0!==i)return u(_?e:-1,i)},r=r||function(e,r){if(void 0!==i)return postMessage({action:t,cbn:i,result:e,error:r})},f){for(c.d=I({},e);K(c.d.chunker););return We(w(c.d.output))}try{c.d=I({},e),a=Ye(c.d.length_0),_=a>-1,o(0)}catch(m){return r(null,m)}n(function e(){try{for(var t,i=0,u=(new Date).getTime();K(c.d.chunker);)if(++i%1e3==0&&(new Date).getTime()-u>200)return _&&(s=Ye(c.d.chunker.decoder.nowPos64)/a,o(s)),n(e,0),0;o(1),t=We(w(c.d.output)),n(r.bind(null,t),0)}catch(m){r(null,m)}},0)}}}();this.LZMA=this.LZMA_WORKER=e;
},{}],"IVbQ":[function(require,module,exports) {

var process = require("process");
var e,r=require("process"),t=require("buffer"),n=t.Buffer,o={};for(e in t)t.hasOwnProperty(e)&&"SlowBuffer"!==e&&"Buffer"!==e&&(o[e]=t[e]);var f=o.Buffer={};for(e in n)n.hasOwnProperty(e)&&"allocUnsafe"!==e&&"allocUnsafeSlow"!==e&&(f[e]=n[e]);if(o.Buffer.prototype=n.prototype,f.from&&f.from!==Uint8Array.from||(f.from=function(e,r,t){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return n(e,r,t)}),f.alloc||(f.alloc=function(e,r,t){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var o=n(e);return r&&0!==r.length?"string"==typeof t?o.fill(r,t):o.fill(r):o.fill(0),o}),!o.kStringMaxLength)try{o.kStringMaxLength=r.binding("buffer").kStringMaxLength}catch(i){}o.constants||(o.constants={MAX_LENGTH:o.kMaxLength},o.kStringMaxLength&&(o.constants.MAX_STRING_LENGTH=o.kStringMaxLength)),module.exports=o;
},{"buffer":"aMB2","process":"g5IB"}],"eain":[function(require,module,exports) {
"use strict";var t="\ufeff";function e(t,e){this.encoder=t,this.addBOM=!0}function i(t,e){this.decoder=t,this.pass=!1,this.options=e||{}}exports.PrependBOM=e,e.prototype.write=function(e){return this.addBOM&&(e=t+e,this.addBOM=!1),this.encoder.write(e)},e.prototype.end=function(){return this.encoder.end()},exports.StripBOM=i,i.prototype.write=function(e){var i=this.decoder.write(e);return this.pass||!i?i:(i[0]===t&&(i=i.slice(1),"function"==typeof this.options.stripBOM&&this.options.stripBOM()),this.pass=!0,i)},i.prototype.end=function(){return this.decoder.end()};
},{}],"S9sr":[function(require,module,exports) {

"use strict";var t=require("safer-buffer").Buffer;function e(e,r){this.enc=e.encodingName,this.bomAware=e.bomAware,"base64"===this.enc?this.encoder=i:"cesu8"===this.enc&&(this.enc="utf8",this.encoder=c,"💩"!==t.from("eda0bdedb2a9","hex").toString()&&(this.decoder=a,this.defaultCharUnicode=r.defaultCharUnicode))}module.exports={utf8:{type:"_internal",bomAware:!0},cesu8:{type:"_internal",bomAware:!0},unicode11utf8:"utf8",ucs2:{type:"_internal",bomAware:!0},utf16le:"ucs2",binary:{type:"_internal"},base64:{type:"_internal"},hex:{type:"_internal"},_internal:e},e.prototype.encoder=o,e.prototype.decoder=n;var r=require("string_decoder").StringDecoder;function n(t,e){this.decoder=new r(e.enc)}function o(t,e){this.enc=e.enc}function i(t,e){this.prevStr=""}function c(t,e){}function a(t,e){this.acc=0,this.contBytes=0,this.accBytes=0,this.defaultCharUnicode=e.defaultCharUnicode}r.prototype.end||(r.prototype.end=function(){}),n.prototype.write=function(e){return t.isBuffer(e)||(e=t.from(e)),this.decoder.write(e)},n.prototype.end=function(){return this.decoder.end()},o.prototype.write=function(e){return t.from(e,this.enc)},o.prototype.end=function(){},i.prototype.write=function(e){var r=(e=this.prevStr+e).length-e.length%4;return this.prevStr=e.slice(r),e=e.slice(0,r),t.from(e,"base64")},i.prototype.end=function(){return t.from(this.prevStr,"base64")},c.prototype.write=function(e){for(var r=t.alloc(3*e.length),n=0,o=0;o<e.length;o++){var i=e.charCodeAt(o);i<128?r[n++]=i:i<2048?(r[n++]=192+(i>>>6),r[n++]=128+(63&i)):(r[n++]=224+(i>>>12),r[n++]=128+(i>>>6&63),r[n++]=128+(63&i))}return r.slice(0,n)},c.prototype.end=function(){},a.prototype.write=function(t){for(var e=this.acc,r=this.contBytes,n=this.accBytes,o="",i=0;i<t.length;i++){var c=t[i];128!=(192&c)?(r>0&&(o+=this.defaultCharUnicode,r=0),c<128?o+=String.fromCharCode(c):c<224?(e=31&c,r=1,n=1):c<240?(e=15&c,r=2,n=1):o+=this.defaultCharUnicode):r>0?(e=e<<6|63&c,n++,0===--r&&(o+=2===n&&e<128&&e>0?this.defaultCharUnicode:3===n&&e<2048?this.defaultCharUnicode:String.fromCharCode(e))):o+=this.defaultCharUnicode}return this.acc=e,this.contBytes=r,this.accBytes=n,o},a.prototype.end=function(){var t=0;return this.contBytes>0&&(t+=this.defaultCharUnicode),t};
},{"safer-buffer":"IVbQ","string_decoder":"ikue"}],"hz8t":[function(require,module,exports) {

"use strict";var t=require("safer-buffer").Buffer;function i(t,i){this.iconv=i,this.bomAware=!0,this.isLE=t.isLE}function e(t,i){this.isLE=i.isLE,this.highSurrogate=0}function r(t,i){this.isLE=i.isLE,this.badChar=i.iconv.defaultCharUnicode.charCodeAt(0),this.overflow=[]}function n(t,i,e,r){if((e<0||e>1114111)&&(e=r),e>=65536){var n=55296|(e-=65536)>>10;t[i++]=255&n,t[i++]=n>>8;e=56320|1023&e}return t[i++]=255&e,t[i++]=e>>8,i}function o(t,i){this.iconv=i}function h(t,i){void 0===(t=t||{}).addBOM&&(t.addBOM=!0),this.encoder=i.iconv.getEncoder(t.defaultEncoding||"utf-32le",t)}function s(t,i){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=t||{},this.iconv=i.iconv}function u(t,i){var e=[],r=0,n=0,o=0,h=0,s=0;t:for(var u=0;u<t.length;u++)for(var f=t[u],l=0;l<f.length;l++)if(e.push(f[l]),4===e.length){if(0===r){if(255===e[0]&&254===e[1]&&0===e[2]&&0===e[3])return"utf-32le";if(0===e[0]&&0===e[1]&&254===e[2]&&255===e[3])return"utf-32be"}if((0!==e[0]||e[1]>16)&&o++,(0!==e[3]||e[2]>16)&&n++,0!==e[0]||0!==e[1]||0===e[2]&&0===e[3]||s++,0===e[0]&&0===e[1]||0!==e[2]||0!==e[3]||h++,e.length=0,++r>=100)break t}return s-o>h-n?"utf-32be":s-o<h-n?"utf-32le":i||"utf-32le"}exports._utf32=i,exports.utf32le={type:"_utf32",isLE:!0},exports.utf32be={type:"_utf32",isLE:!1},exports.ucs4le="utf32le",exports.ucs4be="utf32be",i.prototype.encoder=e,i.prototype.decoder=r,e.prototype.write=function(i){for(var e=t.from(i,"ucs2"),r=t.alloc(2*e.length),n=this.isLE?r.writeUInt32LE:r.writeUInt32BE,o=0,h=0;h<e.length;h+=2){var s=e.readUInt16LE(h),u=55296<=s&&s<56320,f=56320<=s&&s<57344;if(this.highSurrogate){if(!u&&f){var l=65536+(this.highSurrogate-55296<<10|s-56320);n.call(r,l,o),o+=4,this.highSurrogate=0;continue}n.call(r,this.highSurrogate,o),o+=4}u?this.highSurrogate=s:(n.call(r,s,o),o+=4,this.highSurrogate=0)}return o<r.length&&(r=r.slice(0,o)),r},e.prototype.end=function(){if(this.highSurrogate){var i=t.alloc(4);return this.isLE?i.writeUInt32LE(this.highSurrogate,0):i.writeUInt32BE(this.highSurrogate,0),this.highSurrogate=0,i}},r.prototype.write=function(i){if(0===i.length)return"";var e=0,r=0,o=t.alloc(i.length+4),h=0,s=this.isLE,u=this.overflow,f=this.badChar;if(u.length>0){for(;e<i.length&&u.length<4;e++)u.push(i[e]);4===u.length&&(r=s?u[e]|u[e+1]<<8|u[e+2]<<16|u[e+3]<<24:u[e+3]|u[e+2]<<8|u[e+1]<<16|u[e]<<24,u.length=0,h=n(o,h,r,f))}for(;e<i.length-3;e+=4)h=n(o,h,r=s?i[e]|i[e+1]<<8|i[e+2]<<16|i[e+3]<<24:i[e+3]|i[e+2]<<8|i[e+1]<<16|i[e]<<24,f);for(;e<i.length;e++)u.push(i[e]);return o.slice(0,h).toString("ucs2")},r.prototype.end=function(){this.overflow.length=0},exports.utf32=o,exports.ucs4="utf32",o.prototype.encoder=h,o.prototype.decoder=s,h.prototype.write=function(t){return this.encoder.write(t)},h.prototype.end=function(){return this.encoder.end()},s.prototype.write=function(t){if(!this.decoder){if(this.initialBufs.push(t),this.initialBufsLen+=t.length,this.initialBufsLen<32)return"";var i=u(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(i,this.options);for(var e="",r=0;r<this.initialBufs.length;r++)e+=this.decoder.write(this.initialBufs[r]);return this.initialBufs.length=this.initialBufsLen=0,e}return this.decoder.write(t)},s.prototype.end=function(){if(!this.decoder){var t=u(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options);for(var i="",e=0;e<this.initialBufs.length;e++)i+=this.decoder.write(this.initialBufs[e]);var r=this.decoder.end();return r&&(i+=r),this.initialBufs.length=this.initialBufsLen=0,i}return this.decoder.end()};
},{"safer-buffer":"IVbQ"}],"zVdI":[function(require,module,exports) {

"use strict";var t=require("safer-buffer").Buffer;function i(){}function e(){}function n(){this.overflowByte=-1}function o(t,i){this.iconv=i}function r(t,i){void 0===(t=t||{}).addBOM&&(t.addBOM=!0),this.encoder=i.iconv.getEncoder("utf-16le",t)}function s(t,i){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=t||{},this.iconv=i.iconv}function f(t,i){var e=[],n=0,o=0,r=0;t:for(var s=0;s<t.length;s++)for(var f=t[s],u=0;u<f.length;u++)if(e.push(f[u]),2===e.length){if(0===n){if(255===e[0]&&254===e[1])return"utf-16le";if(254===e[0]&&255===e[1])return"utf-16be"}if(0===e[0]&&0!==e[1]&&r++,0!==e[0]&&0===e[1]&&o++,e.length=0,++n>=100)break t}return r>o?"utf-16be":r<o?"utf-16le":i||"utf-16le"}exports.utf16be=i,i.prototype.encoder=e,i.prototype.decoder=n,i.prototype.bomAware=!0,e.prototype.write=function(i){for(var e=t.from(i,"ucs2"),n=0;n<e.length;n+=2){var o=e[n];e[n]=e[n+1],e[n+1]=o}return e},e.prototype.end=function(){},n.prototype.write=function(i){if(0==i.length)return"";var e=t.alloc(i.length+1),n=0,o=0;for(-1!==this.overflowByte&&(e[0]=i[0],e[1]=this.overflowByte,n=1,o=2);n<i.length-1;n+=2,o+=2)e[o]=i[n+1],e[o+1]=i[n];return this.overflowByte=n==i.length-1?i[i.length-1]:-1,e.slice(0,o).toString("ucs2")},n.prototype.end=function(){this.overflowByte=-1},exports.utf16=o,o.prototype.encoder=r,o.prototype.decoder=s,r.prototype.write=function(t){return this.encoder.write(t)},r.prototype.end=function(){return this.encoder.end()},s.prototype.write=function(t){if(!this.decoder){if(this.initialBufs.push(t),this.initialBufsLen+=t.length,this.initialBufsLen<16)return"";var i=f(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(i,this.options);for(var e="",n=0;n<this.initialBufs.length;n++)e+=this.decoder.write(this.initialBufs[n]);return this.initialBufs.length=this.initialBufsLen=0,e}return this.decoder.write(t)},s.prototype.end=function(){if(!this.decoder){var t=f(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options);for(var i="",e=0;e<this.initialBufs.length;e++)i+=this.decoder.write(this.initialBufs[e]);var n=this.decoder.end();return n&&(i+=n),this.initialBufs.length=this.initialBufsLen=0,i}return this.decoder.end()};
},{"safer-buffer":"IVbQ"}],"t45t":[function(require,module,exports) {

"use strict";var e=require("safer-buffer").Buffer;function i(e,i){this.iconv=i}exports.utf7=i,exports.unicode11utf7="utf7",i.prototype.encoder=c,i.prototype.decoder=s,i.prototype.bomAware=!0;var t=/[^A-Za-z0-9'\(\),-\.\/:\? \n\r\t]+/g;function c(e,i){this.iconv=i.iconv}function s(e,i){this.iconv=i.iconv,this.inBase64=!1,this.base64Accum=""}c.prototype.write=function(i){return e.from(i.replace(t,function(e){return"+"+("+"===e?"":this.iconv.encode(e,"utf16-be").toString("base64").replace(/=+$/,""))+"-"}.bind(this)))},c.prototype.end=function(){};for(var o=/[A-Za-z0-9\/+]/,n=[],r=0;r<256;r++)n[r]=o.test(String.fromCharCode(r));var a="+".charCodeAt(0),h="-".charCodeAt(0),u="&".charCodeAt(0);function d(e,i){this.iconv=i}function f(i,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=e.alloc(6),this.base64AccumIdx=0}function l(e,i){this.iconv=i.iconv,this.inBase64=!1,this.base64Accum=""}s.prototype.write=function(i){for(var t="",c=0,s=this.inBase64,o=this.base64Accum,r=0;r<i.length;r++)if(s){if(!n[i[r]]){if(r==c&&i[r]==h)t+="+";else{var u=o+this.iconv.decode(i.slice(c,r),"ascii");t+=this.iconv.decode(e.from(u,"base64"),"utf16-be")}i[r]!=h&&r--,c=r+1,s=!1,o=""}}else i[r]==a&&(t+=this.iconv.decode(i.slice(c,r),"ascii"),c=r+1,s=!0);if(s){var d=(u=o+this.iconv.decode(i.slice(c),"ascii")).length-u.length%8;o=u.slice(d),u=u.slice(0,d),t+=this.iconv.decode(e.from(u,"base64"),"utf16-be")}else t+=this.iconv.decode(i.slice(c),"ascii");return this.inBase64=s,this.base64Accum=o,t},s.prototype.end=function(){var i="";return this.inBase64&&this.base64Accum.length>0&&(i=this.iconv.decode(e.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",i},exports.utf7imap=d,d.prototype.encoder=f,d.prototype.decoder=l,d.prototype.bomAware=!0,f.prototype.write=function(i){for(var t=this.inBase64,c=this.base64Accum,s=this.base64AccumIdx,o=e.alloc(5*i.length+10),n=0,r=0;r<i.length;r++){var a=i.charCodeAt(r);32<=a&&a<=126?(t&&(s>0&&(n+=o.write(c.slice(0,s).toString("base64").replace(/\//g,",").replace(/=+$/,""),n),s=0),o[n++]=h,t=!1),t||(o[n++]=a,a===u&&(o[n++]=h))):(t||(o[n++]=u,t=!0),t&&(c[s++]=a>>8,c[s++]=255&a,s==c.length&&(n+=o.write(c.toString("base64").replace(/\//g,","),n),s=0)))}return this.inBase64=t,this.base64AccumIdx=s,o.slice(0,n)},f.prototype.end=function(){var i=e.alloc(10),t=0;return this.inBase64&&(this.base64AccumIdx>0&&(t+=i.write(this.base64Accum.slice(0,this.base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),t),this.base64AccumIdx=0),i[t++]=h,this.inBase64=!1),i.slice(0,t)};var b=n.slice();b[",".charCodeAt(0)]=!0,l.prototype.write=function(i){for(var t="",c=0,s=this.inBase64,o=this.base64Accum,n=0;n<i.length;n++)if(s){if(!b[i[n]]){if(n==c&&i[n]==h)t+="&";else{var r=o+this.iconv.decode(i.slice(c,n),"ascii").replace(/,/g,"/");t+=this.iconv.decode(e.from(r,"base64"),"utf16-be")}i[n]!=h&&n--,c=n+1,s=!1,o=""}}else i[n]==u&&(t+=this.iconv.decode(i.slice(c,n),"ascii"),c=n+1,s=!0);if(s){var a=(r=o+this.iconv.decode(i.slice(c),"ascii").replace(/,/g,"/")).length-r.length%8;o=r.slice(a),r=r.slice(0,a),t+=this.iconv.decode(e.from(r,"base64"),"utf16-be")}else t+=this.iconv.decode(i.slice(c),"ascii");return this.inBase64=s,this.base64Accum=o,t},l.prototype.end=function(){var i="";return this.inBase64&&this.base64Accum.length>0&&(i=this.iconv.decode(e.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",i};
},{"safer-buffer":"IVbQ"}],"a7zs":[function(require,module,exports) {

"use strict";var e=require("safer-buffer").Buffer;function r(r,t){if(!r)throw new Error("SBCS codec is called without the data.");if(!r.chars||128!==r.chars.length&&256!==r.chars.length)throw new Error("Encoding '"+r.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(128===r.chars.length){for(var o="",c=0;c<128;c++)o+=String.fromCharCode(c);r.chars=o+r.chars}this.decodeBuf=e.from(r.chars,"ucs2");var n=e.alloc(65536,t.defaultCharSingleByte.charCodeAt(0));for(c=0;c<r.chars.length;c++)n[r.chars.charCodeAt(c)]=c;this.encodeBuf=n}function t(e,r){this.encodeBuf=r.encodeBuf}function o(e,r){this.decodeBuf=r.decodeBuf}exports._sbcs=r,r.prototype.encoder=t,r.prototype.decoder=o,t.prototype.write=function(r){for(var t=e.alloc(r.length),o=0;o<r.length;o++)t[o]=this.encodeBuf[r.charCodeAt(o)];return t},t.prototype.end=function(){},o.prototype.write=function(r){for(var t=this.decodeBuf,o=e.alloc(2*r.length),c=0,n=0,h=0;h<r.length;h++)c=2*r[h],o[n=2*h]=t[c],o[n+1]=t[c+1];return o.toString("ucs2")},o.prototype.end=function(){};
},{"safer-buffer":"IVbQ"}],"mUs1":[function(require,module,exports) {
"use strict";module.exports={10029:"maccenteuro",maccenteuro:{type:"_sbcs",chars:"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ"},808:"cp808",ibm808:"cp808",cp808:{type:"_sbcs",chars:"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмноп░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀рстуфхцчшщъыьэюяЁёЄєЇїЎў°∙·√№€■ "},mik:{type:"_sbcs",chars:"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмнопрстуфхцчшщъыьэюя└┴┬├─┼╣║╚╔╩╦╠═╬┐░▒▓│┤№§╗╝┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ "},cp720:{type:"_sbcs",chars:"éâàçêëèïîّْô¤ـûùءآأؤ£إئابةتثجحخدذرزسشص«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀ضطظعغفµقكلمنهوىي≡ًٌٍَُِ≈°∙·√ⁿ²■ "},ascii8bit:"ascii",usascii:"ascii",ansix34:"ascii",ansix341968:"ascii",ansix341986:"ascii",csascii:"ascii",cp367:"ascii",ibm367:"ascii",isoir6:"ascii",iso646us:"ascii",iso646irv:"ascii",us:"ascii",latin1:"iso88591",latin2:"iso88592",latin3:"iso88593",latin4:"iso88594",latin5:"iso88599",latin6:"iso885910",latin7:"iso885913",latin8:"iso885914",latin9:"iso885915",latin10:"iso885916",csisolatin1:"iso88591",csisolatin2:"iso88592",csisolatin3:"iso88593",csisolatin4:"iso88594",csisolatincyrillic:"iso88595",csisolatinarabic:"iso88596",csisolatingreek:"iso88597",csisolatinhebrew:"iso88598",csisolatin5:"iso88599",csisolatin6:"iso885910",l1:"iso88591",l2:"iso88592",l3:"iso88593",l4:"iso88594",l5:"iso88599",l6:"iso885910",l7:"iso885913",l8:"iso885914",l9:"iso885915",l10:"iso885916",isoir14:"iso646jp",isoir57:"iso646cn",isoir100:"iso88591",isoir101:"iso88592",isoir109:"iso88593",isoir110:"iso88594",isoir144:"iso88595",isoir127:"iso88596",isoir126:"iso88597",isoir138:"iso88598",isoir148:"iso88599",isoir157:"iso885910",isoir166:"tis620",isoir179:"iso885913",isoir199:"iso885914",isoir203:"iso885915",isoir226:"iso885916",cp819:"iso88591",ibm819:"iso88591",cyrillic:"iso88595",arabic:"iso88596",arabic8:"iso88596",ecma114:"iso88596",asmo708:"iso88596",greek:"iso88597",greek8:"iso88597",ecma118:"iso88597",elot928:"iso88597",hebrew:"iso88598",hebrew8:"iso88598",turkish:"iso88599",turkish8:"iso88599",thai:"iso885911",thai8:"iso885911",celtic:"iso885914",celtic8:"iso885914",isoceltic:"iso885914",tis6200:"tis620",tis62025291:"tis620",tis62025330:"tis620",10000:"macroman",10006:"macgreek",10007:"maccyrillic",10079:"maciceland",10081:"macturkish",cspc8codepage437:"cp437",cspc775baltic:"cp775",cspc850multilingual:"cp850",cspcp852:"cp852",cspc862latinhebrew:"cp862",cpgr:"cp869",msee:"cp1250",mscyrl:"cp1251",msansi:"cp1252",msgreek:"cp1253",msturk:"cp1254",mshebr:"cp1255",msarab:"cp1256",winbaltrim:"cp1257",cp20866:"koi8r",20866:"koi8r",ibm878:"koi8r",cskoi8r:"koi8r",cp21866:"koi8u",21866:"koi8u",ibm1168:"koi8u",strk10482002:"rk1048",tcvn5712:"tcvn",tcvn57121:"tcvn",gb198880:"iso646cn",cn:"iso646cn",csiso14jisc6220ro:"iso646jp",jisc62201969ro:"iso646jp",jp:"iso646jp",cshproman8:"hproman8",r8:"hproman8",roman8:"hproman8",xroman8:"hproman8",ibm1051:"hproman8",mac:"macintosh",csmacintosh:"macintosh"};
},{}],"GYsD":[function(require,module,exports) {
"use strict";module.exports={437:"cp437",737:"cp737",775:"cp775",850:"cp850",852:"cp852",855:"cp855",856:"cp856",857:"cp857",858:"cp858",860:"cp860",861:"cp861",862:"cp862",863:"cp863",864:"cp864",865:"cp865",866:"cp866",869:"cp869",874:"windows874",922:"cp922",1046:"cp1046",1124:"cp1124",1125:"cp1125",1129:"cp1129",1133:"cp1133",1161:"cp1161",1162:"cp1162",1163:"cp1163",1250:"windows1250",1251:"windows1251",1252:"windows1252",1253:"windows1253",1254:"windows1254",1255:"windows1255",1256:"windows1256",1257:"windows1257",1258:"windows1258",28591:"iso88591",28592:"iso88592",28593:"iso88593",28594:"iso88594",28595:"iso88595",28596:"iso88596",28597:"iso88597",28598:"iso88598",28599:"iso88599",28600:"iso885910",28601:"iso885911",28603:"iso885913",28604:"iso885914",28605:"iso885915",28606:"iso885916",windows874:{type:"_sbcs",chars:"€����…�����������‘’“”•–—�������� กขฃคฅฆงจฉชซฌญฎฏฐฑฒณดตถทธนบปผฝพฟภมยรฤลฦวศษสหฬอฮฯะัาำิีึืฺุู����฿เแโใไๅๆ็่้๊๋์ํ๎๏๐๑๒๓๔๕๖๗๘๙๚๛����"},win874:"windows874",cp874:"windows874",windows1250:{type:"_sbcs",chars:"€�‚�„…†‡�‰Š‹ŚŤŽŹ�‘’“”•–—�™š›śťžź ˇ˘Ł¤Ą¦§¨©Ş«¬­®Ż°±˛ł´µ¶·¸ąş»Ľ˝ľżŔÁÂĂÄĹĆÇČÉĘËĚÍÎĎĐŃŇÓÔŐÖ×ŘŮÚŰÜÝŢßŕáâăäĺćçčéęëěíîďđńňóôőö÷řůúűüýţ˙"},win1250:"windows1250",cp1250:"windows1250",windows1251:{type:"_sbcs",chars:"ЂЃ‚ѓ„…†‡€‰Љ‹ЊЌЋЏђ‘’“”•–—�™љ›њќћџ ЎўЈ¤Ґ¦§Ё©Є«¬­®Ї°±Ііґµ¶·ё№є»јЅѕїАБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмнопрстуфхцчшщъыьэюя"},win1251:"windows1251",cp1251:"windows1251",windows1252:{type:"_sbcs",chars:"€�‚ƒ„…†‡ˆ‰Š‹Œ�Ž��‘’“”•–—˜™š›œ�žŸ ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖ×ØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõö÷øùúûüýþÿ"},win1252:"windows1252",cp1252:"windows1252",windows1253:{type:"_sbcs",chars:"€�‚ƒ„…†‡�‰�‹�����‘’“”•–—�™�›���� ΅Ά£¤¥¦§¨©�«¬­®―°±²³΄µ¶·ΈΉΊ»Ό½ΎΏΐΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡ�ΣΤΥΦΧΨΩΪΫάέήίΰαβγδεζηθικλμνξοπρςστυφχψωϊϋόύώ�"},win1253:"windows1253",cp1253:"windows1253",windows1254:{type:"_sbcs",chars:"€�‚ƒ„…†‡ˆ‰Š‹Œ����‘’“”•–—˜™š›œ��Ÿ ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏĞÑÒÓÔÕÖ×ØÙÚÛÜİŞßàáâãäåæçèéêëìíîïğñòóôõö÷øùúûüışÿ"},win1254:"windows1254",cp1254:"windows1254",windows1255:{type:"_sbcs",chars:"€�‚ƒ„…†‡ˆ‰�‹�����‘’“”•–—˜™�›���� ¡¢£₪¥¦§¨©×«¬­®¯°±²³´µ¶·¸¹÷»¼½¾¿ְֱֲֳִֵֶַָֹֺֻּֽ־ֿ׀ׁׂ׃װױײ׳״�������אבגדהוזחטיךכלםמןנסעףפץצקרשת��‎‏�"},win1255:"windows1255",cp1255:"windows1255",windows1256:{type:"_sbcs",chars:"€پ‚ƒ„…†‡ˆ‰ٹ‹Œچژڈگ‘’“”•–—ک™ڑ›œ‌‍ں ،¢£¤¥¦§¨©ھ«¬­®¯°±²³´µ¶·¸¹؛»¼½¾؟ہءآأؤإئابةتثجحخدذرزسشصض×طظعغـفقكàلâمنهوçèéêëىيîïًٌٍَôُِ÷ّùْûü‎‏ے"},win1256:"windows1256",cp1256:"windows1256",windows1257:{type:"_sbcs",chars:"€�‚�„…†‡�‰�‹�¨ˇ¸�‘’“”•–—�™�›�¯˛� �¢£¤�¦§Ø©Ŗ«¬­®Æ°±²³´µ¶·ø¹ŗ»¼½¾æĄĮĀĆÄÅĘĒČÉŹĖĢĶĪĻŠŃŅÓŌÕÖ×ŲŁŚŪÜŻŽßąįāćäåęēčéźėģķīļšńņóōõö÷ųłśūüżž˙"},win1257:"windows1257",cp1257:"windows1257",windows1258:{type:"_sbcs",chars:"€�‚ƒ„…†‡ˆ‰�‹Œ����‘’“”•–—˜™�›œ��Ÿ ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂĂÄÅÆÇÈÉÊË̀ÍÎÏĐÑ̉ÓÔƠÖ×ØÙÚÛÜỮßàáâăäåæçèéêë́íîïđṇ̃óôơö÷øùúûüư₫ÿ"},win1258:"windows1258",cp1258:"windows1258",iso88591:{type:"_sbcs",chars:" ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖ×ØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõö÷øùúûüýþÿ"},cp28591:"iso88591",iso88592:{type:"_sbcs",chars:" Ą˘Ł¤ĽŚ§¨ŠŞŤŹ­ŽŻ°ą˛ł´ľśˇ¸šşťź˝žżŔÁÂĂÄĹĆÇČÉĘËĚÍÎĎĐŃŇÓÔŐÖ×ŘŮÚŰÜÝŢßŕáâăäĺćçčéęëěíîďđńňóôőö÷řůúűüýţ˙"},cp28592:"iso88592",iso88593:{type:"_sbcs",chars:" Ħ˘£¤�Ĥ§¨İŞĞĴ­�Ż°ħ²³´µĥ·¸ışğĵ½�żÀÁÂ�ÄĊĈÇÈÉÊËÌÍÎÏ�ÑÒÓÔĠÖ×ĜÙÚÛÜŬŜßàáâ�äċĉçèéêëìíîï�ñòóôġö÷ĝùúûüŭŝ˙"},cp28593:"iso88593",iso88594:{type:"_sbcs",chars:" ĄĸŖ¤ĨĻ§¨ŠĒĢŦ­Ž¯°ą˛ŗ´ĩļˇ¸šēģŧŊžŋĀÁÂÃÄÅÆĮČÉĘËĖÍÎĪĐŅŌĶÔÕÖ×ØŲÚÛÜŨŪßāáâãäåæįčéęëėíîīđņōķôõö÷øųúûüũū˙"},cp28594:"iso88594",iso88595:{type:"_sbcs",chars:" ЁЂЃЄЅІЇЈЉЊЋЌ­ЎЏАБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмнопрстуфхцчшщъыьэюя№ёђѓєѕіїјљњћќ§ўџ"},cp28595:"iso88595",iso88596:{type:"_sbcs",chars:" ���¤�������،­�������������؛���؟�ءآأؤإئابةتثجحخدذرزسشصضطظعغ�����ـفقكلمنهوىيًٌٍَُِّْ�������������"},cp28596:"iso88596",iso88597:{type:"_sbcs",chars:" ‘’£€₯¦§¨©ͺ«¬­�―°±²³΄΅Ά·ΈΉΊ»Ό½ΎΏΐΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡ�ΣΤΥΦΧΨΩΪΫάέήίΰαβγδεζηθικλμνξοπρςστυφχψωϊϋόύώ�"},cp28597:"iso88597",iso88598:{type:"_sbcs",chars:" �¢£¤¥¦§¨©×«¬­®¯°±²³´µ¶·¸¹÷»¼½¾��������������������������������‗אבגדהוזחטיךכלםמןנסעףפץצקרשת��‎‏�"},cp28598:"iso88598",iso88599:{type:"_sbcs",chars:" ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏĞÑÒÓÔÕÖ×ØÙÚÛÜİŞßàáâãäåæçèéêëìíîïğñòóôõö÷øùúûüışÿ"},cp28599:"iso88599",iso885910:{type:"_sbcs",chars:" ĄĒĢĪĨĶ§ĻĐŠŦŽ­ŪŊ°ąēģīĩķ·ļđšŧž―ūŋĀÁÂÃÄÅÆĮČÉĘËĖÍÎÏÐŅŌÓÔÕÖŨØŲÚÛÜÝÞßāáâãäåæįčéęëėíîïðņōóôõöũøųúûüýþĸ"},cp28600:"iso885910",iso885911:{type:"_sbcs",chars:" กขฃคฅฆงจฉชซฌญฎฏฐฑฒณดตถทธนบปผฝพฟภมยรฤลฦวศษสหฬอฮฯะัาำิีึืฺุู����฿เแโใไๅๆ็่้๊๋์ํ๎๏๐๑๒๓๔๕๖๗๘๙๚๛����"},cp28601:"iso885911",iso885913:{type:"_sbcs",chars:" ”¢£¤„¦§Ø©Ŗ«¬­®Æ°±²³“µ¶·ø¹ŗ»¼½¾æĄĮĀĆÄÅĘĒČÉŹĖĢĶĪĻŠŃŅÓŌÕÖ×ŲŁŚŪÜŻŽßąįāćäåęēčéźėģķīļšńņóōõö÷ųłśūüżž’"},cp28603:"iso885913",iso885914:{type:"_sbcs",chars:" Ḃḃ£ĊċḊ§Ẁ©ẂḋỲ­®ŸḞḟĠġṀṁ¶ṖẁṗẃṠỳẄẅṡÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏŴÑÒÓÔÕÖṪØÙÚÛÜÝŶßàáâãäåæçèéêëìíîïŵñòóôõöṫøùúûüýŷÿ"},cp28604:"iso885914",iso885915:{type:"_sbcs",chars:" ¡¢£€¥Š§š©ª«¬­®¯°±²³Žµ¶·ž¹º»ŒœŸ¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖ×ØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõö÷øùúûüýþÿ"},cp28605:"iso885915",iso885916:{type:"_sbcs",chars:" ĄąŁ€„Š§š©Ș«Ź­źŻ°±ČłŽ”¶·žčș»ŒœŸżÀÁÂĂÄĆÆÇÈÉÊËÌÍÎÏĐŃÒÓÔŐÖŚŰÙÚÛÜĘȚßàáâăäćæçèéêëìíîïđńòóôőöśűùúûüęțÿ"},cp28606:"iso885916",cp437:{type:"_sbcs",chars:"ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ "},ibm437:"cp437",csibm437:"cp437",cp737:{type:"_sbcs",chars:"ΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩαβγδεζηθικλμνξοπρσςτυφχψ░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀ωάέήϊίόύϋώΆΈΉΊΌΎΏ±≥≤ΪΫ÷≈°∙·√ⁿ²■ "},ibm737:"cp737",csibm737:"cp737",cp775:{type:"_sbcs",chars:"ĆüéāäģåćłēŖŗīŹÄÅÉæÆōöĢ¢ŚśÖÜø£Ø×¤ĀĪóŻżź”¦©®¬½¼Ł«»░▒▓│┤ĄČĘĖ╣║╗╝ĮŠ┐└┴┬├─┼ŲŪ╚╔╩╦╠═╬Žąčęėįšųūž┘┌█▄▌▐▀ÓßŌŃõÕµńĶķĻļņĒŅ’­±“¾¶§÷„°∙·¹³²■ "},ibm775:"cp775",csibm775:"cp775",cp850:{type:"_sbcs",chars:"ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜø£Ø×ƒáíóúñÑªº¿®¬½¼¡«»░▒▓│┤ÁÂÀ©╣║╗╝¢¥┐└┴┬├─┼ãÃ╚╔╩╦╠═╬¤ðÐÊËÈıÍÎÏ┘┌█▄¦Ì▀ÓßÔÒõÕµþÞÚÛÙýÝ¯´­±‗¾¶§÷¸°¨·¹³²■ "},ibm850:"cp850",csibm850:"cp850",cp852:{type:"_sbcs",chars:"ÇüéâäůćçłëŐőîŹÄĆÉĹĺôöĽľŚśÖÜŤťŁ×čáíóúĄąŽžĘę¬źČş«»░▒▓│┤ÁÂĚŞ╣║╗╝Żż┐└┴┬├─┼Ăă╚╔╩╦╠═╬¤đĐĎËďŇÍÎě┘┌█▄ŢŮ▀ÓßÔŃńňŠšŔÚŕŰýÝţ´­˝˛ˇ˘§÷¸°¨˙űŘř■ "},ibm852:"cp852",csibm852:"cp852",cp855:{type:"_sbcs",chars:"ђЂѓЃёЁєЄѕЅіІїЇјЈљЉњЊћЋќЌўЎџЏюЮъЪаАбБцЦдДеЕфФгГ«»░▒▓│┤хХиИ╣║╗╝йЙ┐└┴┬├─┼кК╚╔╩╦╠═╬¤лЛмМнНоОп┘┌█▄Пя▀ЯрРсСтТуУжЖвВьЬ№­ыЫзЗшШэЭщЩчЧ§■ "},ibm855:"cp855",csibm855:"cp855",cp856:{type:"_sbcs",chars:"אבגדהוזחטיךכלםמןנסעףפץצקרשת�£�×����������®¬½¼�«»░▒▓│┤���©╣║╗╝¢¥┐└┴┬├─┼��╚╔╩╦╠═╬¤���������┘┌█▄¦�▀������µ�������¯´­±‗¾¶§÷¸°¨·¹³²■ "},ibm856:"cp856",csibm856:"cp856",cp857:{type:"_sbcs",chars:"ÇüéâäàåçêëèïîıÄÅÉæÆôöòûùİÖÜø£ØŞşáíóúñÑĞğ¿®¬½¼¡«»░▒▓│┤ÁÂÀ©╣║╗╝¢¥┐└┴┬├─┼ãÃ╚╔╩╦╠═╬¤ºªÊËÈ�ÍÎÏ┘┌█▄¦Ì▀ÓßÔÒõÕµ�×ÚÛÙìÿ¯´­±�¾¶§÷¸°¨·¹³²■ "},ibm857:"cp857",csibm857:"cp857",cp858:{type:"_sbcs",chars:"ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜø£Ø×ƒáíóúñÑªº¿®¬½¼¡«»░▒▓│┤ÁÂÀ©╣║╗╝¢¥┐└┴┬├─┼ãÃ╚╔╩╦╠═╬¤ðÐÊËÈ€ÍÎÏ┘┌█▄¦Ì▀ÓßÔÒõÕµþÞÚÛÙýÝ¯´­±‗¾¶§÷¸°¨·¹³²■ "},ibm858:"cp858",csibm858:"cp858",cp860:{type:"_sbcs",chars:"ÇüéâãàÁçêÊèÍÔìÃÂÉÀÈôõòÚùÌÕÜ¢£Ù₧ÓáíóúñÑªº¿Ò¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ "},ibm860:"cp860",csibm860:"cp860",cp861:{type:"_sbcs",chars:"ÇüéâäàåçêëèÐðÞÄÅÉæÆôöþûÝýÖÜø£Ø₧ƒáíóúÁÍÓÚ¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ "},ibm861:"cp861",csibm861:"cp861",cp862:{type:"_sbcs",chars:"אבגדהוזחטיךכלםמןנסעףפץצקרשת¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ "},ibm862:"cp862",csibm862:"cp862",cp863:{type:"_sbcs",chars:"ÇüéâÂà¶çêëèïî‗À§ÉÈÊôËÏûù¤ÔÜ¢£ÙÛƒ¦´óú¨¸³¯Î⌐¬½¼¾«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ "},ibm863:"cp863",csibm863:"cp863",cp864:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$٪&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~°·∙√▒─│┼┤┬├┴┐┌└┘β∞φ±½¼≈«»ﻷﻸ��ﻻﻼ� ­ﺂ£¤ﺄ��ﺎﺏﺕﺙ،ﺝﺡﺥ٠١٢٣٤٥٦٧٨٩ﻑ؛ﺱﺵﺹ؟¢ﺀﺁﺃﺅﻊﺋﺍﺑﺓﺗﺛﺟﺣﺧﺩﺫﺭﺯﺳﺷﺻﺿﻁﻅﻋﻏ¦¬÷×ﻉـﻓﻗﻛﻟﻣﻧﻫﻭﻯﻳﺽﻌﻎﻍﻡﹽّﻥﻩﻬﻰﻲﻐﻕﻵﻶﻝﻙﻱ■�"},ibm864:"cp864",csibm864:"cp864",cp865:{type:"_sbcs",chars:"ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜø£Ø₧ƒáíóúñÑªº¿⌐¬½¼¡«¤░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ "},ibm865:"cp865",csibm865:"cp865",cp866:{type:"_sbcs",chars:"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмноп░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀рстуфхцчшщъыьэюяЁёЄєЇїЎў°∙·√№¤■ "},ibm866:"cp866",csibm866:"cp866",cp869:{type:"_sbcs",chars:"������Ά�·¬¦‘’Έ―ΉΊΪΌ��ΎΫ©Ώ²³ά£έήίϊΐόύΑΒΓΔΕΖΗ½ΘΙ«»░▒▓│┤ΚΛΜΝ╣║╗╝ΞΟ┐└┴┬├─┼ΠΡ╚╔╩╦╠═╬ΣΤΥΦΧΨΩαβγ┘┌█▄δε▀ζηθικλμνξοπρσςτ΄­±υφχ§ψ΅°¨ωϋΰώ■ "},ibm869:"cp869",csibm869:"cp869",cp922:{type:"_sbcs",chars:" ¡¢£¤¥¦§¨©ª«¬­®‾°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏŠÑÒÓÔÕÖ×ØÙÚÛÜÝŽßàáâãäåæçèéêëìíîïšñòóôõö÷øùúûüýžÿ"},ibm922:"cp922",csibm922:"cp922",cp1046:{type:"_sbcs",chars:"ﺈ×÷ﹱ■│─┐┌└┘ﹹﹻﹽﹿﹷﺊﻰﻳﻲﻎﻏﻐﻶﻸﻺﻼ ¤ﺋﺑﺗﺛﺟﺣ،­ﺧﺳ٠١٢٣٤٥٦٧٨٩ﺷ؛ﺻﺿﻊ؟ﻋءآأؤإئابةتثجحخدذرزسشصضطﻇعغﻌﺂﺄﺎﻓـفقكلمنهوىيًٌٍَُِّْﻗﻛﻟﻵﻷﻹﻻﻣﻧﻬﻩ�"},ibm1046:"cp1046",csibm1046:"cp1046",cp1124:{type:"_sbcs",chars:" ЁЂҐЄЅІЇЈЉЊЋЌ­ЎЏАБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмнопрстуфхцчшщъыьэюя№ёђґєѕіїјљњћќ§ўџ"},ibm1124:"cp1124",csibm1124:"cp1124",cp1125:{type:"_sbcs",chars:"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмноп░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀рстуфхцчшщъыьэюяЁёҐґЄєІіЇї·√№¤■ "},ibm1125:"cp1125",csibm1125:"cp1125",cp1129:{type:"_sbcs",chars:" ¡¢£¤¥¦§œ©ª«¬­®¯°±²³Ÿµ¶·Œ¹º»¼½¾¿ÀÁÂĂÄÅÆÇÈÉÊË̀ÍÎÏĐÑ̉ÓÔƠÖ×ØÙÚÛÜỮßàáâăäåæçèéêë́íîïđṇ̃óôơö÷øùúûüư₫ÿ"},ibm1129:"cp1129",csibm1129:"cp1129",cp1133:{type:"_sbcs",chars:" ກຂຄງຈສຊຍດຕຖທນບປຜຝພຟມຢຣລວຫອຮ���ຯະາຳິີຶືຸູຼັົຽ���ເແໂໃໄ່້໊໋໌ໍໆ�ໜໝ₭����������������໐໑໒໓໔໕໖໗໘໙��¢¬¦�"},ibm1133:"cp1133",csibm1133:"cp1133",cp1161:{type:"_sbcs",chars:"��������������������������������่กขฃคฅฆงจฉชซฌญฎฏฐฑฒณดตถทธนบปผฝพฟภมยรฤลฦวศษสหฬอฮฯะัาำิีึืฺุู้๊๋€฿เแโใไๅๆ็่้๊๋์ํ๎๏๐๑๒๓๔๕๖๗๘๙๚๛¢¬¦ "},ibm1161:"cp1161",csibm1161:"cp1161",cp1162:{type:"_sbcs",chars:"€…‘’“”•–— กขฃคฅฆงจฉชซฌญฎฏฐฑฒณดตถทธนบปผฝพฟภมยรฤลฦวศษสหฬอฮฯะัาำิีึืฺุู����฿เแโใไๅๆ็่้๊๋์ํ๎๏๐๑๒๓๔๕๖๗๘๙๚๛����"},ibm1162:"cp1162",csibm1162:"cp1162",cp1163:{type:"_sbcs",chars:" ¡¢£€¥¦§œ©ª«¬­®¯°±²³Ÿµ¶·Œ¹º»¼½¾¿ÀÁÂĂÄÅÆÇÈÉÊË̀ÍÎÏĐÑ̉ÓÔƠÖ×ØÙÚÛÜỮßàáâăäåæçèéêë́íîïđṇ̃óôơö÷øùúûüư₫ÿ"},ibm1163:"cp1163",csibm1163:"cp1163",maccroatian:{type:"_sbcs",chars:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊�©⁄¤‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ"},maccyrillic:{type:"_sbcs",chars:"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°¢£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµ∂ЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю¤"},macgreek:{type:"_sbcs",chars:"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦­ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ�"},maciceland:{type:"_sbcs",chars:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄¤ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔ�ÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ"},macroman:{type:"_sbcs",chars:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄¤‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔ�ÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ"},macromania:{type:"_sbcs",chars:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂŞ∞±≤≥¥µ∂∑∏π∫ªºΩăş¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄¤‹›Ţţ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔ�ÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ"},macthai:{type:"_sbcs",chars:"«»…“”�•‘’� กขฃคฅฆงจฉชซฌญฎฏฐฑฒณดตถทธนบปผฝพฟภมยรฤลฦวศษสหฬอฮฯะัาำิีึืฺุู\ufeff​–—฿เแโใไๅๆ็่้๊๋์ํ™๏๐๑๒๓๔๕๖๗๘๙®©����"},macturkish:{type:"_sbcs",chars:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔ�ÒÚÛÙ�ˆ˜¯˘˙˚¸˝˛ˇ"},macukraine:{type:"_sbcs",chars:"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю¤"},koi8r:{type:"_sbcs",chars:"─│┌┐└┘├┤┬┴┼▀▄█▌▐░▒▓⌠■∙√≈≤≥ ⌡°²·÷═║╒ё╓╔╕╖╗╘╙╚╛╜╝╞╟╠╡Ё╢╣╤╥╦╧╨╩╪╫╬©юабцдефгхийклмнопярстужвьызшэщчъЮАБЦДЕФГХИЙКЛМНОПЯРСТУЖВЬЫЗШЭЩЧЪ"},koi8u:{type:"_sbcs",chars:"─│┌┐└┘├┤┬┴┼▀▄█▌▐░▒▓⌠■∙√≈≤≥ ⌡°²·÷═║╒ёє╔ії╗╘╙╚╛ґ╝╞╟╠╡ЁЄ╣ІЇ╦╧╨╩╪Ґ╬©юабцдефгхийклмнопярстужвьызшэщчъЮАБЦДЕФГХИЙКЛМНОПЯРСТУЖВЬЫЗШЭЩЧЪ"},koi8ru:{type:"_sbcs",chars:"─│┌┐└┘├┤┬┴┼▀▄█▌▐░▒▓⌠■∙√≈≤≥ ⌡°²·÷═║╒ёє╔ії╗╘╙╚╛ґў╞╟╠╡ЁЄ╣ІЇ╦╧╨╩╪ҐЎ©юабцдефгхийклмнопярстужвьызшэщчъЮАБЦДЕФГХИЙКЛМНОПЯРСТУЖВЬЫЗШЭЩЧЪ"},koi8t:{type:"_sbcs",chars:"қғ‚Ғ„…†‡�‰ҳ‹ҲҷҶ�Қ‘’“”•–—�™�›�����ӯӮё¤ӣ¦§���«¬­®�°±²Ё�Ӣ¶·�№�»���©юабцдефгхийклмнопярстужвьызшэщчъЮАБЦДЕФГХИЙКЛМНОПЯРСТУЖВЬЫЗШЭЩЧЪ"},armscii8:{type:"_sbcs",chars:" �և։)(»«—.՝,-֊…՜՛՞ԱաԲբԳգԴդԵեԶզԷէԸըԹթԺժԻիԼլԽխԾծԿկՀհՁձՂղՃճՄմՅյՆնՇշՈոՉչՊպՋջՌռՍսՎվՏտՐրՑցՒւՓփՔքՕօՖֆ՚�"},rk1048:{type:"_sbcs",chars:"ЂЃ‚ѓ„…†‡€‰Љ‹ЊҚҺЏђ‘’“”•–—�™љ›њқһџ ҰұӘ¤Ө¦§Ё©Ғ«¬­®Ү°±Ііөµ¶·ё№ғ»әҢңүАБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмнопрстуфхцчшщъыьэюя"},tcvn:{type:"_sbcs",chars:"\0ÚỤỪỬỮ\b\t\n\v\f\rỨỰỲỶỸÝỴ !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ÀẢÃÁẠẶẬÈẺẼÉẸỆÌỈĨÍỊÒỎÕÓỌỘỜỞỠỚỢÙỦŨ ĂÂÊÔƠƯĐăâêôơưđẶ̀̀̉̃́àảãáạẲằẳẵắẴẮẦẨẪẤỀặầẩẫấậèỂẻẽéẹềểễếệìỉỄẾỒĩíịòỔỏõóọồổỗốộờởỡớợùỖủũúụừửữứựỳỷỹýỵỐ"},georgianacademy:{type:"_sbcs",chars:"‚ƒ„…†‡ˆ‰Š‹Œ‘’“”•–—˜™š›œŸ ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿აბგდევზთიკლმნოპჟრსტუფქღყშჩცძწჭხჯჰჱჲჳჴჵჶçèéêëìíîïðñòóôõö÷øùúûüýþÿ"},georgianps:{type:"_sbcs",chars:"‚ƒ„…†‡ˆ‰Š‹Œ‘’“”•–—˜™š›œŸ ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿აბგდევზჱთიკლმნჲოპჟრსტჳუფქღყშჩცძწჭხჴჯჰჵæçèéêëìíîïðñòóôõö÷øùúûüýþÿ"},pt154:{type:"_sbcs",chars:"ҖҒӮғ„…ҶҮҲүҠӢҢҚҺҸҗ‘’“”•–—ҳҷҡӣңқһҹ ЎўЈӨҘҰ§Ё©Ә«¬ӯ®Ҝ°ұІіҙө¶·ё№ә»јҪҫҝАБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмнопрстуфхцчшщъыьэюя"},viscii:{type:"_sbcs",chars:"\0ẲẴẪ\b\t\n\v\f\rỶỸỴ !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ẠẮẰẶẤẦẨẬẼẸẾỀỂỄỆỐỒỔỖỘỢỚỜỞỊỎỌỈỦŨỤỲÕắằặấầẩậẽẹếềểễệốồổỗỠƠộờởịỰỨỪỬơớƯÀÁÂÃẢĂẳẵÈÉÊẺÌÍĨỳĐứÒÓÔạỷừửÙÚỹỵÝỡưàáâãảăữẫèéêẻìíĩỉđựòóôõỏọụùúũủýợỮ"},iso646cn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#¥%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}‾��������������������������������������������������������������������������������������������������������������������������������"},iso646jp:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[¥]^_`abcdefghijklmnopqrstuvwxyz{|}‾��������������������������������������������������������������������������������������������������������������������������������"},hproman8:{type:"_sbcs",chars:" ÀÂÈÊËÎÏ´ˋˆ¨˜ÙÛ₤¯Ýý°ÇçÑñ¡¿¤£¥§ƒ¢âêôûáéóúàèòùäëöüÅîØÆåíøæÄìÖÜÉïßÔÁÃãÐðÍÌÓÒÕõŠšÚŸÿÞþ·µ¶¾—¼½ªº«■»±�"},macintosh:{type:"_sbcs",chars:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄¤‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔ�ÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ"},ascii:{type:"_sbcs",chars:"��������������������������������������������������������������������������������������������������������������������������������"},tis620:{type:"_sbcs",chars:"���������������������������������กขฃคฅฆงจฉชซฌญฎฏฐฑฒณดตถทธนบปผฝพฟภมยรฤลฦวศษสหฬอฮฯะัาำิีึืฺุู����฿เแโใไๅๆ็่้๊๋์ํ๎๏๐๑๒๓๔๕๖๗๘๙๚๛����"}};
},{}],"b7qe":[function(require,module,exports) {

"use strict";var e=require("safer-buffer").Buffer;exports._dbcs=h;for(var t=-1,r=-2,o=-10,i=-1e3,a=new Array(256),s=-1,d=0;d<256;d++)a[d]=t;function h(e,o){if(this.encodingName=e.encodingName,!e)throw new Error("DBCS codec is called without the data.");if(!e.table)throw new Error("Encoding '"+this.encodingName+"' has no data.");var s=e.table();this.decodeTables=[],this.decodeTables[0]=a.slice(0),this.decodeTableSeq=[];for(var d=0;d<s.length;d++)this._addDecodeChunk(s[d]);if("function"==typeof e.gb18030){this.gb18030=e.gb18030();var h=this.decodeTables.length;this.decodeTables.push(a.slice(0));var n=this.decodeTables.length;this.decodeTables.push(a.slice(0));var c=this.decodeTables[0];for(d=129;d<=254;d++)for(var l=this.decodeTables[i-c[d]],f=48;f<=57;f++){if(l[f]===t)l[f]=i-h;else if(l[f]>i)throw new Error("gb18030 decode tables conflict at byte 2");for(var b=this.decodeTables[i-l[f]],u=129;u<=254;u++){if(b[u]===t)b[u]=i-n;else{if(b[u]===i-n)continue;if(b[u]>i)throw new Error("gb18030 decode tables conflict at byte 3")}for(var v=this.decodeTables[i-b[u]],g=48;g<=57;g++)v[g]===t&&(v[g]=r)}}}this.defaultCharUnicode=o.defaultCharUnicode,this.encodeTable=[],this.encodeTableSeq=[];var p={};if(e.encodeSkipVals)for(d=0;d<e.encodeSkipVals.length;d++){var T=e.encodeSkipVals[d];if("number"==typeof T)p[T]=!0;else for(f=T.from;f<=T.to;f++)p[f]=!0}if(this._fillEncodeTable(0,0,p),e.encodeAdd)for(var y in e.encodeAdd)Object.prototype.hasOwnProperty.call(e.encodeAdd,y)&&this._setEncodeChar(y.charCodeAt(0),e.encodeAdd[y]);this.defCharSB=this.encodeTable[0][o.defaultCharSingleByte.charCodeAt(0)],this.defCharSB===t&&(this.defCharSB=this.encodeTable[0]["?"]),this.defCharSB===t&&(this.defCharSB="?".charCodeAt(0))}function n(e,t){this.leadSurrogate=-1,this.seqObj=void 0,this.encodeTable=t.encodeTable,this.encodeTableSeq=t.encodeTableSeq,this.defaultCharSingleByte=t.defCharSB,this.gb18030=t.gb18030}function c(e,t){this.nodeIdx=0,this.prevBytes=[],this.decodeTables=t.decodeTables,this.decodeTableSeq=t.decodeTableSeq,this.defaultCharUnicode=t.defaultCharUnicode,this.gb18030=t.gb18030}function l(e,t){if(e[0]>t)return-1;for(var r=0,o=e.length;r<o-1;){var i=r+(o-r+1>>1);e[i]<=t?r=i:o=i}return r}h.prototype.encoder=n,h.prototype.decoder=c,h.prototype._getDecodeTrieNode=function(e){for(var r=[];e>0;e>>>=8)r.push(255&e);0==r.length&&r.push(0);for(var o=this.decodeTables[0],s=r.length-1;s>0;s--){var d=o[r[s]];if(d==t)o[r[s]]=i-this.decodeTables.length,this.decodeTables.push(o=a.slice(0));else{if(!(d<=i))throw new Error("Overwrite byte in "+this.encodingName+", addr: "+e.toString(16));o=this.decodeTables[i-d]}}return o},h.prototype._addDecodeChunk=function(e){var t=parseInt(e[0],16),r=this._getDecodeTrieNode(t);t&=255;for(var i=1;i<e.length;i++){var a=e[i];if("string"==typeof a)for(var s=0;s<a.length;){var d=a.charCodeAt(s++);if(55296<=d&&d<56320){var h=a.charCodeAt(s++);if(!(56320<=h&&h<57344))throw new Error("Incorrect surrogate pair in "+this.encodingName+" at chunk "+e[0]);r[t++]=65536+1024*(d-55296)+(h-56320)}else if(4080<d&&d<=4095){for(var n=4095-d+2,c=[],l=0;l<n;l++)c.push(a.charCodeAt(s++));r[t++]=o-this.decodeTableSeq.length,this.decodeTableSeq.push(c)}else r[t++]=d}else{if("number"!=typeof a)throw new Error("Incorrect type '"+typeof a+"' given in "+this.encodingName+" at chunk "+e[0]);var f=r[t-1]+1;for(s=0;s<a;s++)r[t++]=f++}}if(t>255)throw new Error("Incorrect chunk in "+this.encodingName+" at addr "+e[0]+": too long"+t)},h.prototype._getEncodeBucket=function(e){var t=e>>8;return void 0===this.encodeTable[t]&&(this.encodeTable[t]=a.slice(0)),this.encodeTable[t]},h.prototype._setEncodeChar=function(e,r){var i=this._getEncodeBucket(e),a=255&e;i[a]<=o?this.encodeTableSeq[o-i[a]][s]=r:i[a]==t&&(i[a]=r)},h.prototype._setEncodeSequence=function(e,r){var i,a=e[0],d=this._getEncodeBucket(a),h=255&a;d[h]<=o?i=this.encodeTableSeq[o-d[h]]:(i={},d[h]!==t&&(i[s]=d[h]),d[h]=o-this.encodeTableSeq.length,this.encodeTableSeq.push(i));for(var n=1;n<e.length-1;n++){var c=i[a];"object"==typeof c?i=c:(i=i[a]={},void 0!==c&&(i[s]=c))}i[a=e[e.length-1]]=r},h.prototype._fillEncodeTable=function(e,t,r){for(var a=this.decodeTables[e],s=!1,d={},h=0;h<256;h++){var n=a[h],c=t+h;if(!r[c])if(n>=0)this._setEncodeChar(n,c),s=!0;else if(n<=i){var l=i-n;if(!d[l]){var f=c<<8>>>0;this._fillEncodeTable(l,f,r)?s=!0:d[l]=!0}}else n<=o&&(this._setEncodeSequence(this.decodeTableSeq[o-n],c),s=!0)}return s},n.prototype.write=function(r){for(var i=e.alloc(r.length*(this.gb18030?4:3)),a=this.leadSurrogate,d=this.seqObj,h=-1,n=0,c=0;;){if(-1===h){if(n==r.length)break;var f=r.charCodeAt(n++)}else{f=h;h=-1}if(55296<=f&&f<57344)if(f<56320){if(-1===a){a=f;continue}a=f,f=t}else-1!==a?(f=65536+1024*(a-55296)+(f-56320),a=-1):f=t;else-1!==a&&(h=f,f=t,a=-1);var b=t;if(void 0!==d&&f!=t){var u=d[f];if("object"==typeof u){d=u;continue}"number"==typeof u?b=u:null==u&&void 0!==(u=d[s])&&(b=u,h=f),d=void 0}else if(f>=0){var v=this.encodeTable[f>>8];if(void 0!==v&&(b=v[255&f]),b<=o){d=this.encodeTableSeq[o-b];continue}if(b==t&&this.gb18030){var g=l(this.gb18030.uChars,f);if(-1!=g){b=this.gb18030.gbChars[g]+(f-this.gb18030.uChars[g]);i[c++]=129+Math.floor(b/12600),b%=12600,i[c++]=48+Math.floor(b/1260),b%=1260,i[c++]=129+Math.floor(b/10),b%=10,i[c++]=48+b;continue}}}b===t&&(b=this.defaultCharSingleByte),b<256?i[c++]=b:b<65536?(i[c++]=b>>8,i[c++]=255&b):b<16777216?(i[c++]=b>>16,i[c++]=b>>8&255,i[c++]=255&b):(i[c++]=b>>>24,i[c++]=b>>>16&255,i[c++]=b>>>8&255,i[c++]=255&b)}return this.seqObj=d,this.leadSurrogate=a,i.slice(0,c)},n.prototype.end=function(){if(-1!==this.leadSurrogate||void 0!==this.seqObj){var t=e.alloc(10),r=0;if(this.seqObj){var o=this.seqObj[s];void 0!==o&&(o<256?t[r++]=o:(t[r++]=o>>8,t[r++]=255&o)),this.seqObj=void 0}return-1!==this.leadSurrogate&&(t[r++]=this.defaultCharSingleByte,this.leadSurrogate=-1),t.slice(0,r)}},n.prototype.findIdx=l,c.prototype.write=function(a){for(var s=e.alloc(2*a.length),d=this.nodeIdx,h=this.prevBytes,n=this.prevBytes.length,c=-this.prevBytes.length,f=0,b=0;f<a.length;f++){var u,v=f>=0?a[f]:h[f+n];if((u=this.decodeTables[d][v])>=0);else if(u===t)u=this.defaultCharUnicode.charCodeAt(0),f=c;else if(u===r){if(f>=3)var g=12600*(a[f-3]-129)+1260*(a[f-2]-48)+10*(a[f-1]-129)+(v-48);else g=12600*(h[f-3+n]-129)+1260*((f-2>=0?a[f-2]:h[f-2+n])-48)+10*((f-1>=0?a[f-1]:h[f-1+n])-129)+(v-48);var p=l(this.gb18030.gbChars,g);u=this.gb18030.uChars[p]+g-this.gb18030.gbChars[p]}else{if(u<=i){d=i-u;continue}if(!(u<=o))throw new Error("iconv-lite internal error: invalid decoding table value "+u+" at "+d+"/"+v);for(var T=this.decodeTableSeq[o-u],y=0;y<T.length-1;y++)u=T[y],s[b++]=255&u,s[b++]=u>>8;u=T[T.length-1]}if(u>=65536){var S=55296|(u-=65536)>>10;s[b++]=255&S,s[b++]=S>>8,u=56320|1023&u}s[b++]=255&u,s[b++]=u>>8,d=0,c=f+1}return this.nodeIdx=d,this.prevBytes=c>=0?Array.prototype.slice.call(a,c):h.slice(c+n).concat(Array.prototype.slice.call(a)),s.slice(0,b).toString("ucs2")},c.prototype.end=function(){for(var e="";this.prevBytes.length>0;){e+=this.defaultCharUnicode;var t=this.prevBytes.slice(1);this.prevBytes=[],this.nodeIdx=0,t.length>0&&(e+=this.write(t))}return this.prevBytes=[],this.nodeIdx=0,e};
},{"safer-buffer":"IVbQ"}],"P0Ww":[function(require,module,exports) {
module.exports=[["0","\0",128],["a1","｡",62],["8140","　、。，．・：；？！゛゜´｀¨＾￣＿ヽヾゝゞ〃仝々〆〇ー―‐／＼～∥｜…‥‘’“”（）〔〕［］｛｝〈",9,"＋－±×"],["8180","÷＝≠＜＞≦≧∞∴♂♀°′″℃￥＄￠￡％＃＆＊＠§☆★○●◎◇◆□■△▲▽▼※〒→←↑↓〓"],["81b8","∈∋⊆⊇⊂⊃∪∩"],["81c8","∧∨￢⇒⇔∀∃"],["81da","∠⊥⌒∂∇≡≒≪≫√∽∝∵∫∬"],["81f0","Å‰♯♭♪†‡¶"],["81fc","◯"],["824f","０",9],["8260","Ａ",25],["8281","ａ",25],["829f","ぁ",82],["8340","ァ",62],["8380","ム",22],["839f","Α",16,"Σ",6],["83bf","α",16,"σ",6],["8440","А",5,"ЁЖ",25],["8470","а",5,"ёж",7],["8480","о",17],["849f","─│┌┐┘└├┬┤┴┼━┃┏┓┛┗┣┳┫┻╋┠┯┨┷┿┝┰┥┸╂"],["8740","①",19,"Ⅰ",9],["875f","㍉㌔㌢㍍㌘㌧㌃㌶㍑㍗㌍㌦㌣㌫㍊㌻㎜㎝㎞㎎㎏㏄㎡"],["877e","㍻"],["8780","〝〟№㏍℡㊤",4,"㈱㈲㈹㍾㍽㍼≒≡∫∮∑√⊥∠∟⊿∵∩∪"],["889f","亜唖娃阿哀愛挨姶逢葵茜穐悪握渥旭葦芦鯵梓圧斡扱宛姐虻飴絢綾鮎或粟袷安庵按暗案闇鞍杏以伊位依偉囲夷委威尉惟意慰易椅為畏異移維緯胃萎衣謂違遺医井亥域育郁磯一壱溢逸稲茨芋鰯允印咽員因姻引飲淫胤蔭"],["8940","院陰隠韻吋右宇烏羽迂雨卯鵜窺丑碓臼渦嘘唄欝蔚鰻姥厩浦瓜閏噂云運雲荏餌叡営嬰影映曳栄永泳洩瑛盈穎頴英衛詠鋭液疫益駅悦謁越閲榎厭円"],["8980","園堰奄宴延怨掩援沿演炎焔煙燕猿縁艶苑薗遠鉛鴛塩於汚甥凹央奥往応押旺横欧殴王翁襖鴬鴎黄岡沖荻億屋憶臆桶牡乙俺卸恩温穏音下化仮何伽価佳加可嘉夏嫁家寡科暇果架歌河火珂禍禾稼箇花苛茄荷華菓蝦課嘩貨迦過霞蚊俄峨我牙画臥芽蛾賀雅餓駕介会解回塊壊廻快怪悔恢懐戒拐改"],["8a40","魁晦械海灰界皆絵芥蟹開階貝凱劾外咳害崖慨概涯碍蓋街該鎧骸浬馨蛙垣柿蛎鈎劃嚇各廓拡撹格核殻獲確穫覚角赫較郭閣隔革学岳楽額顎掛笠樫"],["8a80","橿梶鰍潟割喝恰括活渇滑葛褐轄且鰹叶椛樺鞄株兜竃蒲釜鎌噛鴨栢茅萱粥刈苅瓦乾侃冠寒刊勘勧巻喚堪姦完官寛干幹患感慣憾換敢柑桓棺款歓汗漢澗潅環甘監看竿管簡緩缶翰肝艦莞観諌貫還鑑間閑関陥韓館舘丸含岸巌玩癌眼岩翫贋雁頑顔願企伎危喜器基奇嬉寄岐希幾忌揮机旗既期棋棄"],["8b40","機帰毅気汽畿祈季稀紀徽規記貴起軌輝飢騎鬼亀偽儀妓宜戯技擬欺犠疑祇義蟻誼議掬菊鞠吉吃喫桔橘詰砧杵黍却客脚虐逆丘久仇休及吸宮弓急救"],["8b80","朽求汲泣灸球究窮笈級糾給旧牛去居巨拒拠挙渠虚許距鋸漁禦魚亨享京供侠僑兇競共凶協匡卿叫喬境峡強彊怯恐恭挟教橋況狂狭矯胸脅興蕎郷鏡響饗驚仰凝尭暁業局曲極玉桐粁僅勤均巾錦斤欣欽琴禁禽筋緊芹菌衿襟謹近金吟銀九倶句区狗玖矩苦躯駆駈駒具愚虞喰空偶寓遇隅串櫛釧屑屈"],["8c40","掘窟沓靴轡窪熊隈粂栗繰桑鍬勲君薫訓群軍郡卦袈祁係傾刑兄啓圭珪型契形径恵慶慧憩掲携敬景桂渓畦稽系経継繋罫茎荊蛍計詣警軽頚鶏芸迎鯨"],["8c80","劇戟撃激隙桁傑欠決潔穴結血訣月件倹倦健兼券剣喧圏堅嫌建憲懸拳捲検権牽犬献研硯絹県肩見謙賢軒遣鍵険顕験鹸元原厳幻弦減源玄現絃舷言諺限乎個古呼固姑孤己庫弧戸故枯湖狐糊袴股胡菰虎誇跨鈷雇顧鼓五互伍午呉吾娯後御悟梧檎瑚碁語誤護醐乞鯉交佼侯候倖光公功効勾厚口向"],["8d40","后喉坑垢好孔孝宏工巧巷幸広庚康弘恒慌抗拘控攻昂晃更杭校梗構江洪浩港溝甲皇硬稿糠紅紘絞綱耕考肯肱腔膏航荒行衡講貢購郊酵鉱砿鋼閤降"],["8d80","項香高鴻剛劫号合壕拷濠豪轟麹克刻告国穀酷鵠黒獄漉腰甑忽惚骨狛込此頃今困坤墾婚恨懇昏昆根梱混痕紺艮魂些佐叉唆嵯左差査沙瑳砂詐鎖裟坐座挫債催再最哉塞妻宰彩才採栽歳済災采犀砕砦祭斎細菜裁載際剤在材罪財冴坂阪堺榊肴咲崎埼碕鷺作削咋搾昨朔柵窄策索錯桜鮭笹匙冊刷"],["8e40","察拶撮擦札殺薩雑皐鯖捌錆鮫皿晒三傘参山惨撒散桟燦珊産算纂蚕讃賛酸餐斬暫残仕仔伺使刺司史嗣四士始姉姿子屍市師志思指支孜斯施旨枝止"],["8e80","死氏獅祉私糸紙紫肢脂至視詞詩試誌諮資賜雌飼歯事似侍児字寺慈持時次滋治爾璽痔磁示而耳自蒔辞汐鹿式識鴫竺軸宍雫七叱執失嫉室悉湿漆疾質実蔀篠偲柴芝屡蕊縞舎写射捨赦斜煮社紗者謝車遮蛇邪借勺尺杓灼爵酌釈錫若寂弱惹主取守手朱殊狩珠種腫趣酒首儒受呪寿授樹綬需囚収周"],["8f40","宗就州修愁拾洲秀秋終繍習臭舟蒐衆襲讐蹴輯週酋酬集醜什住充十従戎柔汁渋獣縦重銃叔夙宿淑祝縮粛塾熟出術述俊峻春瞬竣舜駿准循旬楯殉淳"],["8f80","準潤盾純巡遵醇順処初所暑曙渚庶緒署書薯藷諸助叙女序徐恕鋤除傷償勝匠升召哨商唱嘗奨妾娼宵将小少尚庄床廠彰承抄招掌捷昇昌昭晶松梢樟樵沼消渉湘焼焦照症省硝礁祥称章笑粧紹肖菖蒋蕉衝裳訟証詔詳象賞醤鉦鍾鐘障鞘上丈丞乗冗剰城場壌嬢常情擾条杖浄状畳穣蒸譲醸錠嘱埴飾"],["9040","拭植殖燭織職色触食蝕辱尻伸信侵唇娠寝審心慎振新晋森榛浸深申疹真神秦紳臣芯薪親診身辛進針震人仁刃塵壬尋甚尽腎訊迅陣靭笥諏須酢図厨"],["9080","逗吹垂帥推水炊睡粋翠衰遂酔錐錘随瑞髄崇嵩数枢趨雛据杉椙菅頗雀裾澄摺寸世瀬畝是凄制勢姓征性成政整星晴棲栖正清牲生盛精聖声製西誠誓請逝醒青静斉税脆隻席惜戚斥昔析石積籍績脊責赤跡蹟碩切拙接摂折設窃節説雪絶舌蝉仙先千占宣専尖川戦扇撰栓栴泉浅洗染潜煎煽旋穿箭線"],["9140","繊羨腺舛船薦詮賎践選遷銭銑閃鮮前善漸然全禅繕膳糎噌塑岨措曾曽楚狙疏疎礎祖租粗素組蘇訴阻遡鼠僧創双叢倉喪壮奏爽宋層匝惣想捜掃挿掻"],["9180","操早曹巣槍槽漕燥争痩相窓糟総綜聡草荘葬蒼藻装走送遭鎗霜騒像増憎臓蔵贈造促側則即息捉束測足速俗属賊族続卒袖其揃存孫尊損村遜他多太汰詑唾堕妥惰打柁舵楕陀駄騨体堆対耐岱帯待怠態戴替泰滞胎腿苔袋貸退逮隊黛鯛代台大第醍題鷹滝瀧卓啄宅托択拓沢濯琢託鐸濁諾茸凧蛸只"],["9240","叩但達辰奪脱巽竪辿棚谷狸鱈樽誰丹単嘆坦担探旦歎淡湛炭短端箪綻耽胆蛋誕鍛団壇弾断暖檀段男談値知地弛恥智池痴稚置致蜘遅馳築畜竹筑蓄"],["9280","逐秩窒茶嫡着中仲宙忠抽昼柱注虫衷註酎鋳駐樗瀦猪苧著貯丁兆凋喋寵帖帳庁弔張彫徴懲挑暢朝潮牒町眺聴脹腸蝶調諜超跳銚長頂鳥勅捗直朕沈珍賃鎮陳津墜椎槌追鎚痛通塚栂掴槻佃漬柘辻蔦綴鍔椿潰坪壷嬬紬爪吊釣鶴亭低停偵剃貞呈堤定帝底庭廷弟悌抵挺提梯汀碇禎程締艇訂諦蹄逓"],["9340","邸鄭釘鼎泥摘擢敵滴的笛適鏑溺哲徹撤轍迭鉄典填天展店添纏甜貼転顛点伝殿澱田電兎吐堵塗妬屠徒斗杜渡登菟賭途都鍍砥砺努度土奴怒倒党冬"],["9380","凍刀唐塔塘套宕島嶋悼投搭東桃梼棟盗淘湯涛灯燈当痘祷等答筒糖統到董蕩藤討謄豆踏逃透鐙陶頭騰闘働動同堂導憧撞洞瞳童胴萄道銅峠鴇匿得徳涜特督禿篤毒独読栃橡凸突椴届鳶苫寅酉瀞噸屯惇敦沌豚遁頓呑曇鈍奈那内乍凪薙謎灘捺鍋楢馴縄畷南楠軟難汝二尼弐迩匂賑肉虹廿日乳入"],["9440","如尿韮任妊忍認濡禰祢寧葱猫熱年念捻撚燃粘乃廼之埜嚢悩濃納能脳膿農覗蚤巴把播覇杷波派琶破婆罵芭馬俳廃拝排敗杯盃牌背肺輩配倍培媒梅"],["9480","楳煤狽買売賠陪這蝿秤矧萩伯剥博拍柏泊白箔粕舶薄迫曝漠爆縛莫駁麦函箱硲箸肇筈櫨幡肌畑畠八鉢溌発醗髪伐罰抜筏閥鳩噺塙蛤隼伴判半反叛帆搬斑板氾汎版犯班畔繁般藩販範釆煩頒飯挽晩番盤磐蕃蛮匪卑否妃庇彼悲扉批披斐比泌疲皮碑秘緋罷肥被誹費避非飛樋簸備尾微枇毘琵眉美"],["9540","鼻柊稗匹疋髭彦膝菱肘弼必畢筆逼桧姫媛紐百謬俵彪標氷漂瓢票表評豹廟描病秒苗錨鋲蒜蛭鰭品彬斌浜瀕貧賓頻敏瓶不付埠夫婦富冨布府怖扶敷"],["9580","斧普浮父符腐膚芙譜負賦赴阜附侮撫武舞葡蕪部封楓風葺蕗伏副復幅服福腹複覆淵弗払沸仏物鮒分吻噴墳憤扮焚奮粉糞紛雰文聞丙併兵塀幣平弊柄並蔽閉陛米頁僻壁癖碧別瞥蔑箆偏変片篇編辺返遍便勉娩弁鞭保舗鋪圃捕歩甫補輔穂募墓慕戊暮母簿菩倣俸包呆報奉宝峰峯崩庖抱捧放方朋"],["9640","法泡烹砲縫胞芳萌蓬蜂褒訪豊邦鋒飽鳳鵬乏亡傍剖坊妨帽忘忙房暴望某棒冒紡肪膨謀貌貿鉾防吠頬北僕卜墨撲朴牧睦穆釦勃没殆堀幌奔本翻凡盆"],["9680","摩磨魔麻埋妹昧枚毎哩槙幕膜枕鮪柾鱒桝亦俣又抹末沫迄侭繭麿万慢満漫蔓味未魅巳箕岬密蜜湊蓑稔脈妙粍民眠務夢無牟矛霧鵡椋婿娘冥名命明盟迷銘鳴姪牝滅免棉綿緬面麺摸模茂妄孟毛猛盲網耗蒙儲木黙目杢勿餅尤戻籾貰問悶紋門匁也冶夜爺耶野弥矢厄役約薬訳躍靖柳薮鑓愉愈油癒"],["9740","諭輸唯佑優勇友宥幽悠憂揖有柚湧涌猶猷由祐裕誘遊邑郵雄融夕予余与誉輿預傭幼妖容庸揚揺擁曜楊様洋溶熔用窯羊耀葉蓉要謡踊遥陽養慾抑欲"],["9780","沃浴翌翼淀羅螺裸来莱頼雷洛絡落酪乱卵嵐欄濫藍蘭覧利吏履李梨理璃痢裏裡里離陸律率立葎掠略劉流溜琉留硫粒隆竜龍侶慮旅虜了亮僚両凌寮料梁涼猟療瞭稜糧良諒遼量陵領力緑倫厘林淋燐琳臨輪隣鱗麟瑠塁涙累類令伶例冷励嶺怜玲礼苓鈴隷零霊麗齢暦歴列劣烈裂廉恋憐漣煉簾練聯"],["9840","蓮連錬呂魯櫓炉賂路露労婁廊弄朗楼榔浪漏牢狼篭老聾蝋郎六麓禄肋録論倭和話歪賄脇惑枠鷲亙亘鰐詫藁蕨椀湾碗腕"],["989f","弌丐丕个丱丶丼丿乂乖乘亂亅豫亊舒弍于亞亟亠亢亰亳亶从仍仄仆仂仗仞仭仟价伉佚估佛佝佗佇佶侈侏侘佻佩佰侑佯來侖儘俔俟俎俘俛俑俚俐俤俥倚倨倔倪倥倅伜俶倡倩倬俾俯們倆偃假會偕偐偈做偖偬偸傀傚傅傴傲"],["9940","僉僊傳僂僖僞僥僭僣僮價僵儉儁儂儖儕儔儚儡儺儷儼儻儿兀兒兌兔兢竸兩兪兮冀冂囘册冉冏冑冓冕冖冤冦冢冩冪冫决冱冲冰况冽凅凉凛几處凩凭"],["9980","凰凵凾刄刋刔刎刧刪刮刳刹剏剄剋剌剞剔剪剴剩剳剿剽劍劔劒剱劈劑辨辧劬劭劼劵勁勍勗勞勣勦飭勠勳勵勸勹匆匈甸匍匐匏匕匚匣匯匱匳匸區卆卅丗卉卍凖卞卩卮夘卻卷厂厖厠厦厥厮厰厶參簒雙叟曼燮叮叨叭叺吁吽呀听吭吼吮吶吩吝呎咏呵咎呟呱呷呰咒呻咀呶咄咐咆哇咢咸咥咬哄哈咨"],["9a40","咫哂咤咾咼哘哥哦唏唔哽哮哭哺哢唹啀啣啌售啜啅啖啗唸唳啝喙喀咯喊喟啻啾喘喞單啼喃喩喇喨嗚嗅嗟嗄嗜嗤嗔嘔嗷嘖嗾嗽嘛嗹噎噐營嘴嘶嘲嘸"],["9a80","噫噤嘯噬噪嚆嚀嚊嚠嚔嚏嚥嚮嚶嚴囂嚼囁囃囀囈囎囑囓囗囮囹圀囿圄圉圈國圍圓團圖嗇圜圦圷圸坎圻址坏坩埀垈坡坿垉垓垠垳垤垪垰埃埆埔埒埓堊埖埣堋堙堝塲堡塢塋塰毀塒堽塹墅墹墟墫墺壞墻墸墮壅壓壑壗壙壘壥壜壤壟壯壺壹壻壼壽夂夊夐夛梦夥夬夭夲夸夾竒奕奐奎奚奘奢奠奧奬奩"],["9b40","奸妁妝佞侫妣妲姆姨姜妍姙姚娥娟娑娜娉娚婀婬婉娵娶婢婪媚媼媾嫋嫂媽嫣嫗嫦嫩嫖嫺嫻嬌嬋嬖嬲嫐嬪嬶嬾孃孅孀孑孕孚孛孥孩孰孳孵學斈孺宀"],["9b80","它宦宸寃寇寉寔寐寤實寢寞寥寫寰寶寳尅將專對尓尠尢尨尸尹屁屆屎屓屐屏孱屬屮乢屶屹岌岑岔妛岫岻岶岼岷峅岾峇峙峩峽峺峭嶌峪崋崕崗嵜崟崛崑崔崢崚崙崘嵌嵒嵎嵋嵬嵳嵶嶇嶄嶂嶢嶝嶬嶮嶽嶐嶷嶼巉巍巓巒巖巛巫已巵帋帚帙帑帛帶帷幄幃幀幎幗幔幟幢幤幇幵并幺麼广庠廁廂廈廐廏"],["9c40","廖廣廝廚廛廢廡廨廩廬廱廳廰廴廸廾弃弉彝彜弋弑弖弩弭弸彁彈彌彎弯彑彖彗彙彡彭彳彷徃徂彿徊很徑徇從徙徘徠徨徭徼忖忻忤忸忱忝悳忿怡恠"],["9c80","怙怐怩怎怱怛怕怫怦怏怺恚恁恪恷恟恊恆恍恣恃恤恂恬恫恙悁悍惧悃悚悄悛悖悗悒悧悋惡悸惠惓悴忰悽惆悵惘慍愕愆惶惷愀惴惺愃愡惻惱愍愎慇愾愨愧慊愿愼愬愴愽慂慄慳慷慘慙慚慫慴慯慥慱慟慝慓慵憙憖憇憬憔憚憊憑憫憮懌懊應懷懈懃懆憺懋罹懍懦懣懶懺懴懿懽懼懾戀戈戉戍戌戔戛"],["9d40","戞戡截戮戰戲戳扁扎扞扣扛扠扨扼抂抉找抒抓抖拔抃抔拗拑抻拏拿拆擔拈拜拌拊拂拇抛拉挌拮拱挧挂挈拯拵捐挾捍搜捏掖掎掀掫捶掣掏掉掟掵捫"],["9d80","捩掾揩揀揆揣揉插揶揄搖搴搆搓搦搶攝搗搨搏摧摯摶摎攪撕撓撥撩撈撼據擒擅擇撻擘擂擱擧舉擠擡抬擣擯攬擶擴擲擺攀擽攘攜攅攤攣攫攴攵攷收攸畋效敖敕敍敘敞敝敲數斂斃變斛斟斫斷旃旆旁旄旌旒旛旙无旡旱杲昊昃旻杳昵昶昴昜晏晄晉晁晞晝晤晧晨晟晢晰暃暈暎暉暄暘暝曁暹曉暾暼"],["9e40","曄暸曖曚曠昿曦曩曰曵曷朏朖朞朦朧霸朮朿朶杁朸朷杆杞杠杙杣杤枉杰枩杼杪枌枋枦枡枅枷柯枴柬枳柩枸柤柞柝柢柮枹柎柆柧檜栞框栩桀桍栲桎"],["9e80","梳栫桙档桷桿梟梏梭梔條梛梃檮梹桴梵梠梺椏梍桾椁棊椈棘椢椦棡椌棍棔棧棕椶椒椄棗棣椥棹棠棯椨椪椚椣椡棆楹楷楜楸楫楔楾楮椹楴椽楙椰楡楞楝榁楪榲榮槐榿槁槓榾槎寨槊槝榻槃榧樮榑榠榜榕榴槞槨樂樛槿權槹槲槧樅榱樞槭樔槫樊樒櫁樣樓橄樌橲樶橸橇橢橙橦橈樸樢檐檍檠檄檢檣"],["9f40","檗蘗檻櫃櫂檸檳檬櫞櫑櫟檪櫚櫪櫻欅蘖櫺欒欖鬱欟欸欷盜欹飮歇歃歉歐歙歔歛歟歡歸歹歿殀殄殃殍殘殕殞殤殪殫殯殲殱殳殷殼毆毋毓毟毬毫毳毯"],["9f80","麾氈氓气氛氤氣汞汕汢汪沂沍沚沁沛汾汨汳沒沐泄泱泓沽泗泅泝沮沱沾沺泛泯泙泪洟衍洶洫洽洸洙洵洳洒洌浣涓浤浚浹浙涎涕濤涅淹渕渊涵淇淦涸淆淬淞淌淨淒淅淺淙淤淕淪淮渭湮渮渙湲湟渾渣湫渫湶湍渟湃渺湎渤滿渝游溂溪溘滉溷滓溽溯滄溲滔滕溏溥滂溟潁漑灌滬滸滾漿滲漱滯漲滌"],["e040","漾漓滷澆潺潸澁澀潯潛濳潭澂潼潘澎澑濂潦澳澣澡澤澹濆澪濟濕濬濔濘濱濮濛瀉瀋濺瀑瀁瀏濾瀛瀚潴瀝瀘瀟瀰瀾瀲灑灣炙炒炯烱炬炸炳炮烟烋烝"],["e080","烙焉烽焜焙煥煕熈煦煢煌煖煬熏燻熄熕熨熬燗熹熾燒燉燔燎燠燬燧燵燼燹燿爍爐爛爨爭爬爰爲爻爼爿牀牆牋牘牴牾犂犁犇犒犖犢犧犹犲狃狆狄狎狒狢狠狡狹狷倏猗猊猜猖猝猴猯猩猥猾獎獏默獗獪獨獰獸獵獻獺珈玳珎玻珀珥珮珞璢琅瑯琥珸琲琺瑕琿瑟瑙瑁瑜瑩瑰瑣瑪瑶瑾璋璞璧瓊瓏瓔珱"],["e140","瓠瓣瓧瓩瓮瓲瓰瓱瓸瓷甄甃甅甌甎甍甕甓甞甦甬甼畄畍畊畉畛畆畚畩畤畧畫畭畸當疆疇畴疊疉疂疔疚疝疥疣痂疳痃疵疽疸疼疱痍痊痒痙痣痞痾痿"],["e180","痼瘁痰痺痲痳瘋瘍瘉瘟瘧瘠瘡瘢瘤瘴瘰瘻癇癈癆癜癘癡癢癨癩癪癧癬癰癲癶癸發皀皃皈皋皎皖皓皙皚皰皴皸皹皺盂盍盖盒盞盡盥盧盪蘯盻眈眇眄眩眤眞眥眦眛眷眸睇睚睨睫睛睥睿睾睹瞎瞋瞑瞠瞞瞰瞶瞹瞿瞼瞽瞻矇矍矗矚矜矣矮矼砌砒礦砠礪硅碎硴碆硼碚碌碣碵碪碯磑磆磋磔碾碼磅磊磬"],["e240","磧磚磽磴礇礒礑礙礬礫祀祠祗祟祚祕祓祺祿禊禝禧齋禪禮禳禹禺秉秕秧秬秡秣稈稍稘稙稠稟禀稱稻稾稷穃穗穉穡穢穩龝穰穹穽窈窗窕窘窖窩竈窰"],["e280","窶竅竄窿邃竇竊竍竏竕竓站竚竝竡竢竦竭竰笂笏笊笆笳笘笙笞笵笨笶筐筺笄筍笋筌筅筵筥筴筧筰筱筬筮箝箘箟箍箜箚箋箒箏筝箙篋篁篌篏箴篆篝篩簑簔篦篥籠簀簇簓篳篷簗簍篶簣簧簪簟簷簫簽籌籃籔籏籀籐籘籟籤籖籥籬籵粃粐粤粭粢粫粡粨粳粲粱粮粹粽糀糅糂糘糒糜糢鬻糯糲糴糶糺紆"],["e340","紂紜紕紊絅絋紮紲紿紵絆絳絖絎絲絨絮絏絣經綉絛綏絽綛綺綮綣綵緇綽綫總綢綯緜綸綟綰緘緝緤緞緻緲緡縅縊縣縡縒縱縟縉縋縢繆繦縻縵縹繃縷"],["e380","縲縺繧繝繖繞繙繚繹繪繩繼繻纃緕繽辮繿纈纉續纒纐纓纔纖纎纛纜缸缺罅罌罍罎罐网罕罔罘罟罠罨罩罧罸羂羆羃羈羇羌羔羞羝羚羣羯羲羹羮羶羸譱翅翆翊翕翔翡翦翩翳翹飜耆耄耋耒耘耙耜耡耨耿耻聊聆聒聘聚聟聢聨聳聲聰聶聹聽聿肄肆肅肛肓肚肭冐肬胛胥胙胝胄胚胖脉胯胱脛脩脣脯腋"],["e440","隋腆脾腓腑胼腱腮腥腦腴膃膈膊膀膂膠膕膤膣腟膓膩膰膵膾膸膽臀臂膺臉臍臑臙臘臈臚臟臠臧臺臻臾舁舂舅與舊舍舐舖舩舫舸舳艀艙艘艝艚艟艤"],["e480","艢艨艪艫舮艱艷艸艾芍芒芫芟芻芬苡苣苟苒苴苳苺莓范苻苹苞茆苜茉苙茵茴茖茲茱荀茹荐荅茯茫茗茘莅莚莪莟莢莖茣莎莇莊荼莵荳荵莠莉莨菴萓菫菎菽萃菘萋菁菷萇菠菲萍萢萠莽萸蔆菻葭萪萼蕚蒄葷葫蒭葮蒂葩葆萬葯葹萵蓊葢蒹蒿蒟蓙蓍蒻蓚蓐蓁蓆蓖蒡蔡蓿蓴蔗蔘蔬蔟蔕蔔蓼蕀蕣蕘蕈"],["e540","蕁蘂蕋蕕薀薤薈薑薊薨蕭薔薛藪薇薜蕷蕾薐藉薺藏薹藐藕藝藥藜藹蘊蘓蘋藾藺蘆蘢蘚蘰蘿虍乕虔號虧虱蚓蚣蚩蚪蚋蚌蚶蚯蛄蛆蚰蛉蠣蚫蛔蛞蛩蛬"],["e580","蛟蛛蛯蜒蜆蜈蜀蜃蛻蜑蜉蜍蛹蜊蜴蜿蜷蜻蜥蜩蜚蝠蝟蝸蝌蝎蝴蝗蝨蝮蝙蝓蝣蝪蠅螢螟螂螯蟋螽蟀蟐雖螫蟄螳蟇蟆螻蟯蟲蟠蠏蠍蟾蟶蟷蠎蟒蠑蠖蠕蠢蠡蠱蠶蠹蠧蠻衄衂衒衙衞衢衫袁衾袞衵衽袵衲袂袗袒袮袙袢袍袤袰袿袱裃裄裔裘裙裝裹褂裼裴裨裲褄褌褊褓襃褞褥褪褫襁襄褻褶褸襌褝襠襞"],["e640","襦襤襭襪襯襴襷襾覃覈覊覓覘覡覩覦覬覯覲覺覽覿觀觚觜觝觧觴觸訃訖訐訌訛訝訥訶詁詛詒詆詈詼詭詬詢誅誂誄誨誡誑誥誦誚誣諄諍諂諚諫諳諧"],["e680","諤諱謔諠諢諷諞諛謌謇謚諡謖謐謗謠謳鞫謦謫謾謨譁譌譏譎證譖譛譚譫譟譬譯譴譽讀讌讎讒讓讖讙讚谺豁谿豈豌豎豐豕豢豬豸豺貂貉貅貊貍貎貔豼貘戝貭貪貽貲貳貮貶賈賁賤賣賚賽賺賻贄贅贊贇贏贍贐齎贓賍贔贖赧赭赱赳趁趙跂趾趺跏跚跖跌跛跋跪跫跟跣跼踈踉跿踝踞踐踟蹂踵踰踴蹊"],["e740","蹇蹉蹌蹐蹈蹙蹤蹠踪蹣蹕蹶蹲蹼躁躇躅躄躋躊躓躑躔躙躪躡躬躰軆躱躾軅軈軋軛軣軼軻軫軾輊輅輕輒輙輓輜輟輛輌輦輳輻輹轅轂輾轌轉轆轎轗轜"],["e780","轢轣轤辜辟辣辭辯辷迚迥迢迪迯邇迴逅迹迺逑逕逡逍逞逖逋逧逶逵逹迸遏遐遑遒逎遉逾遖遘遞遨遯遶隨遲邂遽邁邀邊邉邏邨邯邱邵郢郤扈郛鄂鄒鄙鄲鄰酊酖酘酣酥酩酳酲醋醉醂醢醫醯醪醵醴醺釀釁釉釋釐釖釟釡釛釼釵釶鈞釿鈔鈬鈕鈑鉞鉗鉅鉉鉤鉈銕鈿鉋鉐銜銖銓銛鉚鋏銹銷鋩錏鋺鍄錮"],["e840","錙錢錚錣錺錵錻鍜鍠鍼鍮鍖鎰鎬鎭鎔鎹鏖鏗鏨鏥鏘鏃鏝鏐鏈鏤鐚鐔鐓鐃鐇鐐鐶鐫鐵鐡鐺鑁鑒鑄鑛鑠鑢鑞鑪鈩鑰鑵鑷鑽鑚鑼鑾钁鑿閂閇閊閔閖閘閙"],["e880","閠閨閧閭閼閻閹閾闊濶闃闍闌闕闔闖關闡闥闢阡阨阮阯陂陌陏陋陷陜陞陝陟陦陲陬隍隘隕隗險隧隱隲隰隴隶隸隹雎雋雉雍襍雜霍雕雹霄霆霈霓霎霑霏霖霙霤霪霰霹霽霾靄靆靈靂靉靜靠靤靦靨勒靫靱靹鞅靼鞁靺鞆鞋鞏鞐鞜鞨鞦鞣鞳鞴韃韆韈韋韜韭齏韲竟韶韵頏頌頸頤頡頷頽顆顏顋顫顯顰"],["e940","顱顴顳颪颯颱颶飄飃飆飩飫餃餉餒餔餘餡餝餞餤餠餬餮餽餾饂饉饅饐饋饑饒饌饕馗馘馥馭馮馼駟駛駝駘駑駭駮駱駲駻駸騁騏騅駢騙騫騷驅驂驀驃"],["e980","騾驕驍驛驗驟驢驥驤驩驫驪骭骰骼髀髏髑髓體髞髟髢髣髦髯髫髮髴髱髷髻鬆鬘鬚鬟鬢鬣鬥鬧鬨鬩鬪鬮鬯鬲魄魃魏魍魎魑魘魴鮓鮃鮑鮖鮗鮟鮠鮨鮴鯀鯊鮹鯆鯏鯑鯒鯣鯢鯤鯔鯡鰺鯲鯱鯰鰕鰔鰉鰓鰌鰆鰈鰒鰊鰄鰮鰛鰥鰤鰡鰰鱇鰲鱆鰾鱚鱠鱧鱶鱸鳧鳬鳰鴉鴈鳫鴃鴆鴪鴦鶯鴣鴟鵄鴕鴒鵁鴿鴾鵆鵈"],["ea40","鵝鵞鵤鵑鵐鵙鵲鶉鶇鶫鵯鵺鶚鶤鶩鶲鷄鷁鶻鶸鶺鷆鷏鷂鷙鷓鷸鷦鷭鷯鷽鸚鸛鸞鹵鹹鹽麁麈麋麌麒麕麑麝麥麩麸麪麭靡黌黎黏黐黔黜點黝黠黥黨黯"],["ea80","黴黶黷黹黻黼黽鼇鼈皷鼕鼡鼬鼾齊齒齔齣齟齠齡齦齧齬齪齷齲齶龕龜龠堯槇遙瑤凜熙"],["ed40","纊褜鍈銈蓜俉炻昱棈鋹曻彅丨仡仼伀伃伹佖侒侊侚侔俍偀倢俿倞偆偰偂傔僴僘兊兤冝冾凬刕劜劦勀勛匀匇匤卲厓厲叝﨎咜咊咩哿喆坙坥垬埈埇﨏"],["ed80","塚增墲夋奓奛奝奣妤妺孖寀甯寘寬尞岦岺峵崧嵓﨑嵂嵭嶸嶹巐弡弴彧德忞恝悅悊惞惕愠惲愑愷愰憘戓抦揵摠撝擎敎昀昕昻昉昮昞昤晥晗晙晴晳暙暠暲暿曺朎朗杦枻桒柀栁桄棏﨓楨﨔榘槢樰橫橆橳橾櫢櫤毖氿汜沆汯泚洄涇浯涖涬淏淸淲淼渹湜渧渼溿澈澵濵瀅瀇瀨炅炫焏焄煜煆煇凞燁燾犱"],["ee40","犾猤猪獷玽珉珖珣珒琇珵琦琪琩琮瑢璉璟甁畯皂皜皞皛皦益睆劯砡硎硤硺礰礼神祥禔福禛竑竧靖竫箞精絈絜綷綠緖繒罇羡羽茁荢荿菇菶葈蒴蕓蕙"],["ee80","蕫﨟薰蘒﨡蠇裵訒訷詹誧誾諟諸諶譓譿賰賴贒赶﨣軏﨤逸遧郞都鄕鄧釚釗釞釭釮釤釥鈆鈐鈊鈺鉀鈼鉎鉙鉑鈹鉧銧鉷鉸鋧鋗鋙鋐﨧鋕鋠鋓錥錡鋻﨨錞鋿錝錂鍰鍗鎤鏆鏞鏸鐱鑅鑈閒隆﨩隝隯霳霻靃靍靏靑靕顗顥飯飼餧館馞驎髙髜魵魲鮏鮱鮻鰀鵰鵫鶴鸙黑"],["eeef","ⅰ",9,"￢￤＇＂"],["f040","",62],["f080","",124],["f140","",62],["f180","",124],["f240","",62],["f280","",124],["f340","",62],["f380","",124],["f440","",62],["f480","",124],["f540","",62],["f580","",124],["f640","",62],["f680","",124],["f740","",62],["f780","",124],["f840","",62],["f880","",124],["f940",""],["fa40","ⅰ",9,"Ⅰ",9,"￢￤＇＂㈱№℡∵纊褜鍈銈蓜俉炻昱棈鋹曻彅丨仡仼伀伃伹佖侒侊侚侔俍偀倢俿倞偆偰偂傔僴僘兊"],["fa80","兤冝冾凬刕劜劦勀勛匀匇匤卲厓厲叝﨎咜咊咩哿喆坙坥垬埈埇﨏塚增墲夋奓奛奝奣妤妺孖寀甯寘寬尞岦岺峵崧嵓﨑嵂嵭嶸嶹巐弡弴彧德忞恝悅悊惞惕愠惲愑愷愰憘戓抦揵摠撝擎敎昀昕昻昉昮昞昤晥晗晙晴晳暙暠暲暿曺朎朗杦枻桒柀栁桄棏﨓楨﨔榘槢樰橫橆橳橾櫢櫤毖氿汜沆汯泚洄涇浯"],["fb40","涖涬淏淸淲淼渹湜渧渼溿澈澵濵瀅瀇瀨炅炫焏焄煜煆煇凞燁燾犱犾猤猪獷玽珉珖珣珒琇珵琦琪琩琮瑢璉璟甁畯皂皜皞皛皦益睆劯砡硎硤硺礰礼神"],["fb80","祥禔福禛竑竧靖竫箞精絈絜綷綠緖繒罇羡羽茁荢荿菇菶葈蒴蕓蕙蕫﨟薰蘒﨡蠇裵訒訷詹誧誾諟諸諶譓譿賰賴贒赶﨣軏﨤逸遧郞都鄕鄧釚釗釞釭釮釤釥鈆鈐鈊鈺鉀鈼鉎鉙鉑鈹鉧銧鉷鉸鋧鋗鋙鋐﨧鋕鋠鋓錥錡鋻﨨錞鋿錝錂鍰鍗鎤鏆鏞鏸鐱鑅鑈閒隆﨩隝隯霳霻靃靍靏靑靕顗顥飯飼餧館馞驎髙"],["fc40","髜魵魲鮏鮱鮻鰀鵰鵫鶴鸙黑"]];
},{}],"F831":[function(require,module,exports) {
module.exports=[["0","\0",127],["8ea1","｡",62],["a1a1","　、。，．・：；？！゛゜´｀¨＾￣＿ヽヾゝゞ〃仝々〆〇ー―‐／＼～∥｜…‥‘’“”（）〔〕［］｛｝〈",9,"＋－±×÷＝≠＜＞≦≧∞∴♂♀°′″℃￥＄￠￡％＃＆＊＠§☆★○●◎◇"],["a2a1","◆□■△▲▽▼※〒→←↑↓〓"],["a2ba","∈∋⊆⊇⊂⊃∪∩"],["a2ca","∧∨￢⇒⇔∀∃"],["a2dc","∠⊥⌒∂∇≡≒≪≫√∽∝∵∫∬"],["a2f2","Å‰♯♭♪†‡¶"],["a2fe","◯"],["a3b0","０",9],["a3c1","Ａ",25],["a3e1","ａ",25],["a4a1","ぁ",82],["a5a1","ァ",85],["a6a1","Α",16,"Σ",6],["a6c1","α",16,"σ",6],["a7a1","А",5,"ЁЖ",25],["a7d1","а",5,"ёж",25],["a8a1","─│┌┐┘└├┬┤┴┼━┃┏┓┛┗┣┳┫┻╋┠┯┨┷┿┝┰┥┸╂"],["ada1","①",19,"Ⅰ",9],["adc0","㍉㌔㌢㍍㌘㌧㌃㌶㍑㍗㌍㌦㌣㌫㍊㌻㎜㎝㎞㎎㎏㏄㎡"],["addf","㍻〝〟№㏍℡㊤",4,"㈱㈲㈹㍾㍽㍼≒≡∫∮∑√⊥∠∟⊿∵∩∪"],["b0a1","亜唖娃阿哀愛挨姶逢葵茜穐悪握渥旭葦芦鯵梓圧斡扱宛姐虻飴絢綾鮎或粟袷安庵按暗案闇鞍杏以伊位依偉囲夷委威尉惟意慰易椅為畏異移維緯胃萎衣謂違遺医井亥域育郁磯一壱溢逸稲茨芋鰯允印咽員因姻引飲淫胤蔭"],["b1a1","院陰隠韻吋右宇烏羽迂雨卯鵜窺丑碓臼渦嘘唄欝蔚鰻姥厩浦瓜閏噂云運雲荏餌叡営嬰影映曳栄永泳洩瑛盈穎頴英衛詠鋭液疫益駅悦謁越閲榎厭円園堰奄宴延怨掩援沿演炎焔煙燕猿縁艶苑薗遠鉛鴛塩於汚甥凹央奥往応"],["b2a1","押旺横欧殴王翁襖鴬鴎黄岡沖荻億屋憶臆桶牡乙俺卸恩温穏音下化仮何伽価佳加可嘉夏嫁家寡科暇果架歌河火珂禍禾稼箇花苛茄荷華菓蝦課嘩貨迦過霞蚊俄峨我牙画臥芽蛾賀雅餓駕介会解回塊壊廻快怪悔恢懐戒拐改"],["b3a1","魁晦械海灰界皆絵芥蟹開階貝凱劾外咳害崖慨概涯碍蓋街該鎧骸浬馨蛙垣柿蛎鈎劃嚇各廓拡撹格核殻獲確穫覚角赫較郭閣隔革学岳楽額顎掛笠樫橿梶鰍潟割喝恰括活渇滑葛褐轄且鰹叶椛樺鞄株兜竃蒲釜鎌噛鴨栢茅萱"],["b4a1","粥刈苅瓦乾侃冠寒刊勘勧巻喚堪姦完官寛干幹患感慣憾換敢柑桓棺款歓汗漢澗潅環甘監看竿管簡緩缶翰肝艦莞観諌貫還鑑間閑関陥韓館舘丸含岸巌玩癌眼岩翫贋雁頑顔願企伎危喜器基奇嬉寄岐希幾忌揮机旗既期棋棄"],["b5a1","機帰毅気汽畿祈季稀紀徽規記貴起軌輝飢騎鬼亀偽儀妓宜戯技擬欺犠疑祇義蟻誼議掬菊鞠吉吃喫桔橘詰砧杵黍却客脚虐逆丘久仇休及吸宮弓急救朽求汲泣灸球究窮笈級糾給旧牛去居巨拒拠挙渠虚許距鋸漁禦魚亨享京"],["b6a1","供侠僑兇競共凶協匡卿叫喬境峡強彊怯恐恭挟教橋況狂狭矯胸脅興蕎郷鏡響饗驚仰凝尭暁業局曲極玉桐粁僅勤均巾錦斤欣欽琴禁禽筋緊芹菌衿襟謹近金吟銀九倶句区狗玖矩苦躯駆駈駒具愚虞喰空偶寓遇隅串櫛釧屑屈"],["b7a1","掘窟沓靴轡窪熊隈粂栗繰桑鍬勲君薫訓群軍郡卦袈祁係傾刑兄啓圭珪型契形径恵慶慧憩掲携敬景桂渓畦稽系経継繋罫茎荊蛍計詣警軽頚鶏芸迎鯨劇戟撃激隙桁傑欠決潔穴結血訣月件倹倦健兼券剣喧圏堅嫌建憲懸拳捲"],["b8a1","検権牽犬献研硯絹県肩見謙賢軒遣鍵険顕験鹸元原厳幻弦減源玄現絃舷言諺限乎個古呼固姑孤己庫弧戸故枯湖狐糊袴股胡菰虎誇跨鈷雇顧鼓五互伍午呉吾娯後御悟梧檎瑚碁語誤護醐乞鯉交佼侯候倖光公功効勾厚口向"],["b9a1","后喉坑垢好孔孝宏工巧巷幸広庚康弘恒慌抗拘控攻昂晃更杭校梗構江洪浩港溝甲皇硬稿糠紅紘絞綱耕考肯肱腔膏航荒行衡講貢購郊酵鉱砿鋼閤降項香高鴻剛劫号合壕拷濠豪轟麹克刻告国穀酷鵠黒獄漉腰甑忽惚骨狛込"],["baa1","此頃今困坤墾婚恨懇昏昆根梱混痕紺艮魂些佐叉唆嵯左差査沙瑳砂詐鎖裟坐座挫債催再最哉塞妻宰彩才採栽歳済災采犀砕砦祭斎細菜裁載際剤在材罪財冴坂阪堺榊肴咲崎埼碕鷺作削咋搾昨朔柵窄策索錯桜鮭笹匙冊刷"],["bba1","察拶撮擦札殺薩雑皐鯖捌錆鮫皿晒三傘参山惨撒散桟燦珊産算纂蚕讃賛酸餐斬暫残仕仔伺使刺司史嗣四士始姉姿子屍市師志思指支孜斯施旨枝止死氏獅祉私糸紙紫肢脂至視詞詩試誌諮資賜雌飼歯事似侍児字寺慈持時"],["bca1","次滋治爾璽痔磁示而耳自蒔辞汐鹿式識鴫竺軸宍雫七叱執失嫉室悉湿漆疾質実蔀篠偲柴芝屡蕊縞舎写射捨赦斜煮社紗者謝車遮蛇邪借勺尺杓灼爵酌釈錫若寂弱惹主取守手朱殊狩珠種腫趣酒首儒受呪寿授樹綬需囚収周"],["bda1","宗就州修愁拾洲秀秋終繍習臭舟蒐衆襲讐蹴輯週酋酬集醜什住充十従戎柔汁渋獣縦重銃叔夙宿淑祝縮粛塾熟出術述俊峻春瞬竣舜駿准循旬楯殉淳準潤盾純巡遵醇順処初所暑曙渚庶緒署書薯藷諸助叙女序徐恕鋤除傷償"],["bea1","勝匠升召哨商唱嘗奨妾娼宵将小少尚庄床廠彰承抄招掌捷昇昌昭晶松梢樟樵沼消渉湘焼焦照症省硝礁祥称章笑粧紹肖菖蒋蕉衝裳訟証詔詳象賞醤鉦鍾鐘障鞘上丈丞乗冗剰城場壌嬢常情擾条杖浄状畳穣蒸譲醸錠嘱埴飾"],["bfa1","拭植殖燭織職色触食蝕辱尻伸信侵唇娠寝審心慎振新晋森榛浸深申疹真神秦紳臣芯薪親診身辛進針震人仁刃塵壬尋甚尽腎訊迅陣靭笥諏須酢図厨逗吹垂帥推水炊睡粋翠衰遂酔錐錘随瑞髄崇嵩数枢趨雛据杉椙菅頗雀裾"],["c0a1","澄摺寸世瀬畝是凄制勢姓征性成政整星晴棲栖正清牲生盛精聖声製西誠誓請逝醒青静斉税脆隻席惜戚斥昔析石積籍績脊責赤跡蹟碩切拙接摂折設窃節説雪絶舌蝉仙先千占宣専尖川戦扇撰栓栴泉浅洗染潜煎煽旋穿箭線"],["c1a1","繊羨腺舛船薦詮賎践選遷銭銑閃鮮前善漸然全禅繕膳糎噌塑岨措曾曽楚狙疏疎礎祖租粗素組蘇訴阻遡鼠僧創双叢倉喪壮奏爽宋層匝惣想捜掃挿掻操早曹巣槍槽漕燥争痩相窓糟総綜聡草荘葬蒼藻装走送遭鎗霜騒像増憎"],["c2a1","臓蔵贈造促側則即息捉束測足速俗属賊族続卒袖其揃存孫尊損村遜他多太汰詑唾堕妥惰打柁舵楕陀駄騨体堆対耐岱帯待怠態戴替泰滞胎腿苔袋貸退逮隊黛鯛代台大第醍題鷹滝瀧卓啄宅托択拓沢濯琢託鐸濁諾茸凧蛸只"],["c3a1","叩但達辰奪脱巽竪辿棚谷狸鱈樽誰丹単嘆坦担探旦歎淡湛炭短端箪綻耽胆蛋誕鍛団壇弾断暖檀段男談値知地弛恥智池痴稚置致蜘遅馳築畜竹筑蓄逐秩窒茶嫡着中仲宙忠抽昼柱注虫衷註酎鋳駐樗瀦猪苧著貯丁兆凋喋寵"],["c4a1","帖帳庁弔張彫徴懲挑暢朝潮牒町眺聴脹腸蝶調諜超跳銚長頂鳥勅捗直朕沈珍賃鎮陳津墜椎槌追鎚痛通塚栂掴槻佃漬柘辻蔦綴鍔椿潰坪壷嬬紬爪吊釣鶴亭低停偵剃貞呈堤定帝底庭廷弟悌抵挺提梯汀碇禎程締艇訂諦蹄逓"],["c5a1","邸鄭釘鼎泥摘擢敵滴的笛適鏑溺哲徹撤轍迭鉄典填天展店添纏甜貼転顛点伝殿澱田電兎吐堵塗妬屠徒斗杜渡登菟賭途都鍍砥砺努度土奴怒倒党冬凍刀唐塔塘套宕島嶋悼投搭東桃梼棟盗淘湯涛灯燈当痘祷等答筒糖統到"],["c6a1","董蕩藤討謄豆踏逃透鐙陶頭騰闘働動同堂導憧撞洞瞳童胴萄道銅峠鴇匿得徳涜特督禿篤毒独読栃橡凸突椴届鳶苫寅酉瀞噸屯惇敦沌豚遁頓呑曇鈍奈那内乍凪薙謎灘捺鍋楢馴縄畷南楠軟難汝二尼弐迩匂賑肉虹廿日乳入"],["c7a1","如尿韮任妊忍認濡禰祢寧葱猫熱年念捻撚燃粘乃廼之埜嚢悩濃納能脳膿農覗蚤巴把播覇杷波派琶破婆罵芭馬俳廃拝排敗杯盃牌背肺輩配倍培媒梅楳煤狽買売賠陪這蝿秤矧萩伯剥博拍柏泊白箔粕舶薄迫曝漠爆縛莫駁麦"],["c8a1","函箱硲箸肇筈櫨幡肌畑畠八鉢溌発醗髪伐罰抜筏閥鳩噺塙蛤隼伴判半反叛帆搬斑板氾汎版犯班畔繁般藩販範釆煩頒飯挽晩番盤磐蕃蛮匪卑否妃庇彼悲扉批披斐比泌疲皮碑秘緋罷肥被誹費避非飛樋簸備尾微枇毘琵眉美"],["c9a1","鼻柊稗匹疋髭彦膝菱肘弼必畢筆逼桧姫媛紐百謬俵彪標氷漂瓢票表評豹廟描病秒苗錨鋲蒜蛭鰭品彬斌浜瀕貧賓頻敏瓶不付埠夫婦富冨布府怖扶敷斧普浮父符腐膚芙譜負賦赴阜附侮撫武舞葡蕪部封楓風葺蕗伏副復幅服"],["caa1","福腹複覆淵弗払沸仏物鮒分吻噴墳憤扮焚奮粉糞紛雰文聞丙併兵塀幣平弊柄並蔽閉陛米頁僻壁癖碧別瞥蔑箆偏変片篇編辺返遍便勉娩弁鞭保舗鋪圃捕歩甫補輔穂募墓慕戊暮母簿菩倣俸包呆報奉宝峰峯崩庖抱捧放方朋"],["cba1","法泡烹砲縫胞芳萌蓬蜂褒訪豊邦鋒飽鳳鵬乏亡傍剖坊妨帽忘忙房暴望某棒冒紡肪膨謀貌貿鉾防吠頬北僕卜墨撲朴牧睦穆釦勃没殆堀幌奔本翻凡盆摩磨魔麻埋妹昧枚毎哩槙幕膜枕鮪柾鱒桝亦俣又抹末沫迄侭繭麿万慢満"],["cca1","漫蔓味未魅巳箕岬密蜜湊蓑稔脈妙粍民眠務夢無牟矛霧鵡椋婿娘冥名命明盟迷銘鳴姪牝滅免棉綿緬面麺摸模茂妄孟毛猛盲網耗蒙儲木黙目杢勿餅尤戻籾貰問悶紋門匁也冶夜爺耶野弥矢厄役約薬訳躍靖柳薮鑓愉愈油癒"],["cda1","諭輸唯佑優勇友宥幽悠憂揖有柚湧涌猶猷由祐裕誘遊邑郵雄融夕予余与誉輿預傭幼妖容庸揚揺擁曜楊様洋溶熔用窯羊耀葉蓉要謡踊遥陽養慾抑欲沃浴翌翼淀羅螺裸来莱頼雷洛絡落酪乱卵嵐欄濫藍蘭覧利吏履李梨理璃"],["cea1","痢裏裡里離陸律率立葎掠略劉流溜琉留硫粒隆竜龍侶慮旅虜了亮僚両凌寮料梁涼猟療瞭稜糧良諒遼量陵領力緑倫厘林淋燐琳臨輪隣鱗麟瑠塁涙累類令伶例冷励嶺怜玲礼苓鈴隷零霊麗齢暦歴列劣烈裂廉恋憐漣煉簾練聯"],["cfa1","蓮連錬呂魯櫓炉賂路露労婁廊弄朗楼榔浪漏牢狼篭老聾蝋郎六麓禄肋録論倭和話歪賄脇惑枠鷲亙亘鰐詫藁蕨椀湾碗腕"],["d0a1","弌丐丕个丱丶丼丿乂乖乘亂亅豫亊舒弍于亞亟亠亢亰亳亶从仍仄仆仂仗仞仭仟价伉佚估佛佝佗佇佶侈侏侘佻佩佰侑佯來侖儘俔俟俎俘俛俑俚俐俤俥倚倨倔倪倥倅伜俶倡倩倬俾俯們倆偃假會偕偐偈做偖偬偸傀傚傅傴傲"],["d1a1","僉僊傳僂僖僞僥僭僣僮價僵儉儁儂儖儕儔儚儡儺儷儼儻儿兀兒兌兔兢竸兩兪兮冀冂囘册冉冏冑冓冕冖冤冦冢冩冪冫决冱冲冰况冽凅凉凛几處凩凭凰凵凾刄刋刔刎刧刪刮刳刹剏剄剋剌剞剔剪剴剩剳剿剽劍劔劒剱劈劑辨"],["d2a1","辧劬劭劼劵勁勍勗勞勣勦飭勠勳勵勸勹匆匈甸匍匐匏匕匚匣匯匱匳匸區卆卅丗卉卍凖卞卩卮夘卻卷厂厖厠厦厥厮厰厶參簒雙叟曼燮叮叨叭叺吁吽呀听吭吼吮吶吩吝呎咏呵咎呟呱呷呰咒呻咀呶咄咐咆哇咢咸咥咬哄哈咨"],["d3a1","咫哂咤咾咼哘哥哦唏唔哽哮哭哺哢唹啀啣啌售啜啅啖啗唸唳啝喙喀咯喊喟啻啾喘喞單啼喃喩喇喨嗚嗅嗟嗄嗜嗤嗔嘔嗷嘖嗾嗽嘛嗹噎噐營嘴嘶嘲嘸噫噤嘯噬噪嚆嚀嚊嚠嚔嚏嚥嚮嚶嚴囂嚼囁囃囀囈囎囑囓囗囮囹圀囿圄圉"],["d4a1","圈國圍圓團圖嗇圜圦圷圸坎圻址坏坩埀垈坡坿垉垓垠垳垤垪垰埃埆埔埒埓堊埖埣堋堙堝塲堡塢塋塰毀塒堽塹墅墹墟墫墺壞墻墸墮壅壓壑壗壙壘壥壜壤壟壯壺壹壻壼壽夂夊夐夛梦夥夬夭夲夸夾竒奕奐奎奚奘奢奠奧奬奩"],["d5a1","奸妁妝佞侫妣妲姆姨姜妍姙姚娥娟娑娜娉娚婀婬婉娵娶婢婪媚媼媾嫋嫂媽嫣嫗嫦嫩嫖嫺嫻嬌嬋嬖嬲嫐嬪嬶嬾孃孅孀孑孕孚孛孥孩孰孳孵學斈孺宀它宦宸寃寇寉寔寐寤實寢寞寥寫寰寶寳尅將專對尓尠尢尨尸尹屁屆屎屓"],["d6a1","屐屏孱屬屮乢屶屹岌岑岔妛岫岻岶岼岷峅岾峇峙峩峽峺峭嶌峪崋崕崗嵜崟崛崑崔崢崚崙崘嵌嵒嵎嵋嵬嵳嵶嶇嶄嶂嶢嶝嶬嶮嶽嶐嶷嶼巉巍巓巒巖巛巫已巵帋帚帙帑帛帶帷幄幃幀幎幗幔幟幢幤幇幵并幺麼广庠廁廂廈廐廏"],["d7a1","廖廣廝廚廛廢廡廨廩廬廱廳廰廴廸廾弃弉彝彜弋弑弖弩弭弸彁彈彌彎弯彑彖彗彙彡彭彳彷徃徂彿徊很徑徇從徙徘徠徨徭徼忖忻忤忸忱忝悳忿怡恠怙怐怩怎怱怛怕怫怦怏怺恚恁恪恷恟恊恆恍恣恃恤恂恬恫恙悁悍惧悃悚"],["d8a1","悄悛悖悗悒悧悋惡悸惠惓悴忰悽惆悵惘慍愕愆惶惷愀惴惺愃愡惻惱愍愎慇愾愨愧慊愿愼愬愴愽慂慄慳慷慘慙慚慫慴慯慥慱慟慝慓慵憙憖憇憬憔憚憊憑憫憮懌懊應懷懈懃懆憺懋罹懍懦懣懶懺懴懿懽懼懾戀戈戉戍戌戔戛"],["d9a1","戞戡截戮戰戲戳扁扎扞扣扛扠扨扼抂抉找抒抓抖拔抃抔拗拑抻拏拿拆擔拈拜拌拊拂拇抛拉挌拮拱挧挂挈拯拵捐挾捍搜捏掖掎掀掫捶掣掏掉掟掵捫捩掾揩揀揆揣揉插揶揄搖搴搆搓搦搶攝搗搨搏摧摯摶摎攪撕撓撥撩撈撼"],["daa1","據擒擅擇撻擘擂擱擧舉擠擡抬擣擯攬擶擴擲擺攀擽攘攜攅攤攣攫攴攵攷收攸畋效敖敕敍敘敞敝敲數斂斃變斛斟斫斷旃旆旁旄旌旒旛旙无旡旱杲昊昃旻杳昵昶昴昜晏晄晉晁晞晝晤晧晨晟晢晰暃暈暎暉暄暘暝曁暹曉暾暼"],["dba1","曄暸曖曚曠昿曦曩曰曵曷朏朖朞朦朧霸朮朿朶杁朸朷杆杞杠杙杣杤枉杰枩杼杪枌枋枦枡枅枷柯枴柬枳柩枸柤柞柝柢柮枹柎柆柧檜栞框栩桀桍栲桎梳栫桙档桷桿梟梏梭梔條梛梃檮梹桴梵梠梺椏梍桾椁棊椈棘椢椦棡椌棍"],["dca1","棔棧棕椶椒椄棗棣椥棹棠棯椨椪椚椣椡棆楹楷楜楸楫楔楾楮椹楴椽楙椰楡楞楝榁楪榲榮槐榿槁槓榾槎寨槊槝榻槃榧樮榑榠榜榕榴槞槨樂樛槿權槹槲槧樅榱樞槭樔槫樊樒櫁樣樓橄樌橲樶橸橇橢橙橦橈樸樢檐檍檠檄檢檣"],["dda1","檗蘗檻櫃櫂檸檳檬櫞櫑櫟檪櫚櫪櫻欅蘖櫺欒欖鬱欟欸欷盜欹飮歇歃歉歐歙歔歛歟歡歸歹歿殀殄殃殍殘殕殞殤殪殫殯殲殱殳殷殼毆毋毓毟毬毫毳毯麾氈氓气氛氤氣汞汕汢汪沂沍沚沁沛汾汨汳沒沐泄泱泓沽泗泅泝沮沱沾"],["dea1","沺泛泯泙泪洟衍洶洫洽洸洙洵洳洒洌浣涓浤浚浹浙涎涕濤涅淹渕渊涵淇淦涸淆淬淞淌淨淒淅淺淙淤淕淪淮渭湮渮渙湲湟渾渣湫渫湶湍渟湃渺湎渤滿渝游溂溪溘滉溷滓溽溯滄溲滔滕溏溥滂溟潁漑灌滬滸滾漿滲漱滯漲滌"],["dfa1","漾漓滷澆潺潸澁澀潯潛濳潭澂潼潘澎澑濂潦澳澣澡澤澹濆澪濟濕濬濔濘濱濮濛瀉瀋濺瀑瀁瀏濾瀛瀚潴瀝瀘瀟瀰瀾瀲灑灣炙炒炯烱炬炸炳炮烟烋烝烙焉烽焜焙煥煕熈煦煢煌煖煬熏燻熄熕熨熬燗熹熾燒燉燔燎燠燬燧燵燼"],["e0a1","燹燿爍爐爛爨爭爬爰爲爻爼爿牀牆牋牘牴牾犂犁犇犒犖犢犧犹犲狃狆狄狎狒狢狠狡狹狷倏猗猊猜猖猝猴猯猩猥猾獎獏默獗獪獨獰獸獵獻獺珈玳珎玻珀珥珮珞璢琅瑯琥珸琲琺瑕琿瑟瑙瑁瑜瑩瑰瑣瑪瑶瑾璋璞璧瓊瓏瓔珱"],["e1a1","瓠瓣瓧瓩瓮瓲瓰瓱瓸瓷甄甃甅甌甎甍甕甓甞甦甬甼畄畍畊畉畛畆畚畩畤畧畫畭畸當疆疇畴疊疉疂疔疚疝疥疣痂疳痃疵疽疸疼疱痍痊痒痙痣痞痾痿痼瘁痰痺痲痳瘋瘍瘉瘟瘧瘠瘡瘢瘤瘴瘰瘻癇癈癆癜癘癡癢癨癩癪癧癬癰"],["e2a1","癲癶癸發皀皃皈皋皎皖皓皙皚皰皴皸皹皺盂盍盖盒盞盡盥盧盪蘯盻眈眇眄眩眤眞眥眦眛眷眸睇睚睨睫睛睥睿睾睹瞎瞋瞑瞠瞞瞰瞶瞹瞿瞼瞽瞻矇矍矗矚矜矣矮矼砌砒礦砠礪硅碎硴碆硼碚碌碣碵碪碯磑磆磋磔碾碼磅磊磬"],["e3a1","磧磚磽磴礇礒礑礙礬礫祀祠祗祟祚祕祓祺祿禊禝禧齋禪禮禳禹禺秉秕秧秬秡秣稈稍稘稙稠稟禀稱稻稾稷穃穗穉穡穢穩龝穰穹穽窈窗窕窘窖窩竈窰窶竅竄窿邃竇竊竍竏竕竓站竚竝竡竢竦竭竰笂笏笊笆笳笘笙笞笵笨笶筐"],["e4a1","筺笄筍笋筌筅筵筥筴筧筰筱筬筮箝箘箟箍箜箚箋箒箏筝箙篋篁篌篏箴篆篝篩簑簔篦篥籠簀簇簓篳篷簗簍篶簣簧簪簟簷簫簽籌籃籔籏籀籐籘籟籤籖籥籬籵粃粐粤粭粢粫粡粨粳粲粱粮粹粽糀糅糂糘糒糜糢鬻糯糲糴糶糺紆"],["e5a1","紂紜紕紊絅絋紮紲紿紵絆絳絖絎絲絨絮絏絣經綉絛綏絽綛綺綮綣綵緇綽綫總綢綯緜綸綟綰緘緝緤緞緻緲緡縅縊縣縡縒縱縟縉縋縢繆繦縻縵縹繃縷縲縺繧繝繖繞繙繚繹繪繩繼繻纃緕繽辮繿纈纉續纒纐纓纔纖纎纛纜缸缺"],["e6a1","罅罌罍罎罐网罕罔罘罟罠罨罩罧罸羂羆羃羈羇羌羔羞羝羚羣羯羲羹羮羶羸譱翅翆翊翕翔翡翦翩翳翹飜耆耄耋耒耘耙耜耡耨耿耻聊聆聒聘聚聟聢聨聳聲聰聶聹聽聿肄肆肅肛肓肚肭冐肬胛胥胙胝胄胚胖脉胯胱脛脩脣脯腋"],["e7a1","隋腆脾腓腑胼腱腮腥腦腴膃膈膊膀膂膠膕膤膣腟膓膩膰膵膾膸膽臀臂膺臉臍臑臙臘臈臚臟臠臧臺臻臾舁舂舅與舊舍舐舖舩舫舸舳艀艙艘艝艚艟艤艢艨艪艫舮艱艷艸艾芍芒芫芟芻芬苡苣苟苒苴苳苺莓范苻苹苞茆苜茉苙"],["e8a1","茵茴茖茲茱荀茹荐荅茯茫茗茘莅莚莪莟莢莖茣莎莇莊荼莵荳荵莠莉莨菴萓菫菎菽萃菘萋菁菷萇菠菲萍萢萠莽萸蔆菻葭萪萼蕚蒄葷葫蒭葮蒂葩葆萬葯葹萵蓊葢蒹蒿蒟蓙蓍蒻蓚蓐蓁蓆蓖蒡蔡蓿蓴蔗蔘蔬蔟蔕蔔蓼蕀蕣蕘蕈"],["e9a1","蕁蘂蕋蕕薀薤薈薑薊薨蕭薔薛藪薇薜蕷蕾薐藉薺藏薹藐藕藝藥藜藹蘊蘓蘋藾藺蘆蘢蘚蘰蘿虍乕虔號虧虱蚓蚣蚩蚪蚋蚌蚶蚯蛄蛆蚰蛉蠣蚫蛔蛞蛩蛬蛟蛛蛯蜒蜆蜈蜀蜃蛻蜑蜉蜍蛹蜊蜴蜿蜷蜻蜥蜩蜚蝠蝟蝸蝌蝎蝴蝗蝨蝮蝙"],["eaa1","蝓蝣蝪蠅螢螟螂螯蟋螽蟀蟐雖螫蟄螳蟇蟆螻蟯蟲蟠蠏蠍蟾蟶蟷蠎蟒蠑蠖蠕蠢蠡蠱蠶蠹蠧蠻衄衂衒衙衞衢衫袁衾袞衵衽袵衲袂袗袒袮袙袢袍袤袰袿袱裃裄裔裘裙裝裹褂裼裴裨裲褄褌褊褓襃褞褥褪褫襁襄褻褶褸襌褝襠襞"],["eba1","襦襤襭襪襯襴襷襾覃覈覊覓覘覡覩覦覬覯覲覺覽覿觀觚觜觝觧觴觸訃訖訐訌訛訝訥訶詁詛詒詆詈詼詭詬詢誅誂誄誨誡誑誥誦誚誣諄諍諂諚諫諳諧諤諱謔諠諢諷諞諛謌謇謚諡謖謐謗謠謳鞫謦謫謾謨譁譌譏譎證譖譛譚譫"],["eca1","譟譬譯譴譽讀讌讎讒讓讖讙讚谺豁谿豈豌豎豐豕豢豬豸豺貂貉貅貊貍貎貔豼貘戝貭貪貽貲貳貮貶賈賁賤賣賚賽賺賻贄贅贊贇贏贍贐齎贓賍贔贖赧赭赱赳趁趙跂趾趺跏跚跖跌跛跋跪跫跟跣跼踈踉跿踝踞踐踟蹂踵踰踴蹊"],["eda1","蹇蹉蹌蹐蹈蹙蹤蹠踪蹣蹕蹶蹲蹼躁躇躅躄躋躊躓躑躔躙躪躡躬躰軆躱躾軅軈軋軛軣軼軻軫軾輊輅輕輒輙輓輜輟輛輌輦輳輻輹轅轂輾轌轉轆轎轗轜轢轣轤辜辟辣辭辯辷迚迥迢迪迯邇迴逅迹迺逑逕逡逍逞逖逋逧逶逵逹迸"],["eea1","遏遐遑遒逎遉逾遖遘遞遨遯遶隨遲邂遽邁邀邊邉邏邨邯邱邵郢郤扈郛鄂鄒鄙鄲鄰酊酖酘酣酥酩酳酲醋醉醂醢醫醯醪醵醴醺釀釁釉釋釐釖釟釡釛釼釵釶鈞釿鈔鈬鈕鈑鉞鉗鉅鉉鉤鉈銕鈿鉋鉐銜銖銓銛鉚鋏銹銷鋩錏鋺鍄錮"],["efa1","錙錢錚錣錺錵錻鍜鍠鍼鍮鍖鎰鎬鎭鎔鎹鏖鏗鏨鏥鏘鏃鏝鏐鏈鏤鐚鐔鐓鐃鐇鐐鐶鐫鐵鐡鐺鑁鑒鑄鑛鑠鑢鑞鑪鈩鑰鑵鑷鑽鑚鑼鑾钁鑿閂閇閊閔閖閘閙閠閨閧閭閼閻閹閾闊濶闃闍闌闕闔闖關闡闥闢阡阨阮阯陂陌陏陋陷陜陞"],["f0a1","陝陟陦陲陬隍隘隕隗險隧隱隲隰隴隶隸隹雎雋雉雍襍雜霍雕雹霄霆霈霓霎霑霏霖霙霤霪霰霹霽霾靄靆靈靂靉靜靠靤靦靨勒靫靱靹鞅靼鞁靺鞆鞋鞏鞐鞜鞨鞦鞣鞳鞴韃韆韈韋韜韭齏韲竟韶韵頏頌頸頤頡頷頽顆顏顋顫顯顰"],["f1a1","顱顴顳颪颯颱颶飄飃飆飩飫餃餉餒餔餘餡餝餞餤餠餬餮餽餾饂饉饅饐饋饑饒饌饕馗馘馥馭馮馼駟駛駝駘駑駭駮駱駲駻駸騁騏騅駢騙騫騷驅驂驀驃騾驕驍驛驗驟驢驥驤驩驫驪骭骰骼髀髏髑髓體髞髟髢髣髦髯髫髮髴髱髷"],["f2a1","髻鬆鬘鬚鬟鬢鬣鬥鬧鬨鬩鬪鬮鬯鬲魄魃魏魍魎魑魘魴鮓鮃鮑鮖鮗鮟鮠鮨鮴鯀鯊鮹鯆鯏鯑鯒鯣鯢鯤鯔鯡鰺鯲鯱鯰鰕鰔鰉鰓鰌鰆鰈鰒鰊鰄鰮鰛鰥鰤鰡鰰鱇鰲鱆鰾鱚鱠鱧鱶鱸鳧鳬鳰鴉鴈鳫鴃鴆鴪鴦鶯鴣鴟鵄鴕鴒鵁鴿鴾鵆鵈"],["f3a1","鵝鵞鵤鵑鵐鵙鵲鶉鶇鶫鵯鵺鶚鶤鶩鶲鷄鷁鶻鶸鶺鷆鷏鷂鷙鷓鷸鷦鷭鷯鷽鸚鸛鸞鹵鹹鹽麁麈麋麌麒麕麑麝麥麩麸麪麭靡黌黎黏黐黔黜點黝黠黥黨黯黴黶黷黹黻黼黽鼇鼈皷鼕鼡鼬鼾齊齒齔齣齟齠齡齦齧齬齪齷齲齶龕龜龠"],["f4a1","堯槇遙瑤凜熙"],["f9a1","纊褜鍈銈蓜俉炻昱棈鋹曻彅丨仡仼伀伃伹佖侒侊侚侔俍偀倢俿倞偆偰偂傔僴僘兊兤冝冾凬刕劜劦勀勛匀匇匤卲厓厲叝﨎咜咊咩哿喆坙坥垬埈埇﨏塚增墲夋奓奛奝奣妤妺孖寀甯寘寬尞岦岺峵崧嵓﨑嵂嵭嶸嶹巐弡弴彧德"],["faa1","忞恝悅悊惞惕愠惲愑愷愰憘戓抦揵摠撝擎敎昀昕昻昉昮昞昤晥晗晙晴晳暙暠暲暿曺朎朗杦枻桒柀栁桄棏﨓楨﨔榘槢樰橫橆橳橾櫢櫤毖氿汜沆汯泚洄涇浯涖涬淏淸淲淼渹湜渧渼溿澈澵濵瀅瀇瀨炅炫焏焄煜煆煇凞燁燾犱"],["fba1","犾猤猪獷玽珉珖珣珒琇珵琦琪琩琮瑢璉璟甁畯皂皜皞皛皦益睆劯砡硎硤硺礰礼神祥禔福禛竑竧靖竫箞精絈絜綷綠緖繒罇羡羽茁荢荿菇菶葈蒴蕓蕙蕫﨟薰蘒﨡蠇裵訒訷詹誧誾諟諸諶譓譿賰賴贒赶﨣軏﨤逸遧郞都鄕鄧釚"],["fca1","釗釞釭釮釤釥鈆鈐鈊鈺鉀鈼鉎鉙鉑鈹鉧銧鉷鉸鋧鋗鋙鋐﨧鋕鋠鋓錥錡鋻﨨錞鋿錝錂鍰鍗鎤鏆鏞鏸鐱鑅鑈閒隆﨩隝隯霳霻靃靍靏靑靕顗顥飯飼餧館馞驎髙髜魵魲鮏鮱鮻鰀鵰鵫鶴鸙黑"],["fcf1","ⅰ",9,"￢￤＇＂"],["8fa2af","˘ˇ¸˙˝¯˛˚～΄΅"],["8fa2c2","¡¦¿"],["8fa2eb","ºª©®™¤№"],["8fa6e1","ΆΈΉΊΪ"],["8fa6e7","Ό"],["8fa6e9","ΎΫ"],["8fa6ec","Ώ"],["8fa6f1","άέήίϊΐόςύϋΰώ"],["8fa7c2","Ђ",10,"ЎЏ"],["8fa7f2","ђ",10,"ўџ"],["8fa9a1","ÆĐ"],["8fa9a4","Ħ"],["8fa9a6","Ĳ"],["8fa9a8","ŁĿ"],["8fa9ab","ŊØŒ"],["8fa9af","ŦÞ"],["8fa9c1","æđðħıĳĸłŀŉŋøœßŧþ"],["8faaa1","ÁÀÄÂĂǍĀĄÅÃĆĈČÇĊĎÉÈËÊĚĖĒĘ"],["8faaba","ĜĞĢĠĤÍÌÏÎǏİĪĮĨĴĶĹĽĻŃŇŅÑÓÒÖÔǑŐŌÕŔŘŖŚŜŠŞŤŢÚÙÜÛŬǓŰŪŲŮŨǗǛǙǕŴÝŸŶŹŽŻ"],["8faba1","áàäâăǎāąåãćĉčçċďéèëêěėēęǵĝğ"],["8fabbd","ġĥíìïîǐ"],["8fabc5","īįĩĵķĺľļńňņñóòöôǒőōõŕřŗśŝšşťţúùüûŭǔűūųůũǘǜǚǖŵýÿŷźžż"],["8fb0a1","丂丄丅丌丒丟丣两丨丫丮丯丰丵乀乁乄乇乑乚乜乣乨乩乴乵乹乿亍亖亗亝亯亹仃仐仚仛仠仡仢仨仯仱仳仵份仾仿伀伂伃伈伋伌伒伕伖众伙伮伱你伳伵伷伹伻伾佀佂佈佉佋佌佒佔佖佘佟佣佪佬佮佱佷佸佹佺佽佾侁侂侄"],["8fb1a1","侅侉侊侌侎侐侒侓侔侗侙侚侞侟侲侷侹侻侼侽侾俀俁俅俆俈俉俋俌俍俏俒俜俠俢俰俲俼俽俿倀倁倄倇倊倌倎倐倓倗倘倛倜倝倞倢倧倮倰倲倳倵偀偁偂偅偆偊偌偎偑偒偓偗偙偟偠偢偣偦偧偪偭偰偱倻傁傃傄傆傊傎傏傐"],["8fb2a1","傒傓傔傖傛傜傞",4,"傪傯傰傹傺傽僀僃僄僇僌僎僐僓僔僘僜僝僟僢僤僦僨僩僯僱僶僺僾儃儆儇儈儋儌儍儎僲儐儗儙儛儜儝儞儣儧儨儬儭儯儱儳儴儵儸儹兂兊兏兓兕兗兘兟兤兦兾冃冄冋冎冘冝冡冣冭冸冺冼冾冿凂"],["8fb3a1","凈减凑凒凓凕凘凞凢凥凮凲凳凴凷刁刂刅划刓刕刖刘刢刨刱刲刵刼剅剉剕剗剘剚剜剟剠剡剦剮剷剸剹劀劂劅劊劌劓劕劖劗劘劚劜劤劥劦劧劯劰劶劷劸劺劻劽勀勄勆勈勌勏勑勔勖勛勜勡勥勨勩勪勬勰勱勴勶勷匀匃匊匋"],["8fb4a1","匌匑匓匘匛匜匞匟匥匧匨匩匫匬匭匰匲匵匼匽匾卂卌卋卙卛卡卣卥卬卭卲卹卾厃厇厈厎厓厔厙厝厡厤厪厫厯厲厴厵厷厸厺厽叀叅叏叒叓叕叚叝叞叠另叧叵吂吓吚吡吧吨吪启吱吴吵呃呄呇呍呏呞呢呤呦呧呩呫呭呮呴呿"],["8fb5a1","咁咃咅咈咉咍咑咕咖咜咟咡咦咧咩咪咭咮咱咷咹咺咻咿哆哊响哎哠哪哬哯哶哼哾哿唀唁唅唈唉唌唍唎唕唪唫唲唵唶唻唼唽啁啇啉啊啍啐啑啘啚啛啞啠啡啤啦啿喁喂喆喈喎喏喑喒喓喔喗喣喤喭喲喿嗁嗃嗆嗉嗋嗌嗎嗑嗒"],["8fb6a1","嗓嗗嗘嗛嗞嗢嗩嗶嗿嘅嘈嘊嘍",5,"嘙嘬嘰嘳嘵嘷嘹嘻嘼嘽嘿噀噁噃噄噆噉噋噍噏噔噞噠噡噢噣噦噩噭噯噱噲噵嚄嚅嚈嚋嚌嚕嚙嚚嚝嚞嚟嚦嚧嚨嚩嚫嚬嚭嚱嚳嚷嚾囅囉囊囋囏囐囌囍囙囜囝囟囡囤",4,"囱囫园"],["8fb7a1","囶囷圁圂圇圊圌圑圕圚圛圝圠圢圣圤圥圩圪圬圮圯圳圴圽圾圿坅坆坌坍坒坢坥坧坨坫坭",4,"坳坴坵坷坹坺坻坼坾垁垃垌垔垗垙垚垜垝垞垟垡垕垧垨垩垬垸垽埇埈埌埏埕埝埞埤埦埧埩埭埰埵埶埸埽埾埿堃堄堈堉埡"],["8fb8a1","堌堍堛堞堟堠堦堧堭堲堹堿塉塌塍塏塐塕塟塡塤塧塨塸塼塿墀墁墇墈墉墊墌墍墏墐墔墖墝墠墡墢墦墩墱墲壄墼壂壈壍壎壐壒壔壖壚壝壡壢壩壳夅夆夋夌夒夓夔虁夝夡夣夤夨夯夰夳夵夶夿奃奆奒奓奙奛奝奞奟奡奣奫奭"],["8fb9a1","奯奲奵奶她奻奼妋妌妎妒妕妗妟妤妧妭妮妯妰妳妷妺妼姁姃姄姈姊姍姒姝姞姟姣姤姧姮姯姱姲姴姷娀娄娌娍娎娒娓娞娣娤娧娨娪娭娰婄婅婇婈婌婐婕婞婣婥婧婭婷婺婻婾媋媐媓媖媙媜媞媟媠媢媧媬媱媲媳媵媸媺媻媿"],["8fbaa1","嫄嫆嫈嫏嫚嫜嫠嫥嫪嫮嫵嫶嫽嬀嬁嬈嬗嬴嬙嬛嬝嬡嬥嬭嬸孁孋孌孒孖孞孨孮孯孼孽孾孿宁宄宆宊宎宐宑宓宔宖宨宩宬宭宯宱宲宷宺宼寀寁寍寏寖",4,"寠寯寱寴寽尌尗尞尟尣尦尩尫尬尮尰尲尵尶屙屚屜屢屣屧屨屩"],["8fbba1","屭屰屴屵屺屻屼屽岇岈岊岏岒岝岟岠岢岣岦岪岲岴岵岺峉峋峒峝峗峮峱峲峴崁崆崍崒崫崣崤崦崧崱崴崹崽崿嵂嵃嵆嵈嵕嵑嵙嵊嵟嵠嵡嵢嵤嵪嵭嵰嵹嵺嵾嵿嶁嶃嶈嶊嶒嶓嶔嶕嶙嶛嶟嶠嶧嶫嶰嶴嶸嶹巃巇巋巐巎巘巙巠巤"],["8fbca1","巩巸巹帀帇帍帒帔帕帘帟帠帮帨帲帵帾幋幐幉幑幖幘幛幜幞幨幪",4,"幰庀庋庎庢庤庥庨庪庬庱庳庽庾庿廆廌廋廎廑廒廔廕廜廞廥廫异弆弇弈弎弙弜弝弡弢弣弤弨弫弬弮弰弴弶弻弽弿彀彄彅彇彍彐彔彘彛彠彣彤彧"],["8fbda1","彯彲彴彵彸彺彽彾徉徍徏徖徜徝徢徧徫徤徬徯徰徱徸忄忇忈忉忋忐",4,"忞忡忢忨忩忪忬忭忮忯忲忳忶忺忼怇怊怍怓怔怗怘怚怟怤怭怳怵恀恇恈恉恌恑恔恖恗恝恡恧恱恾恿悂悆悈悊悎悑悓悕悘悝悞悢悤悥您悰悱悷"],["8fbea1","悻悾惂惄惈惉惊惋惎惏惔惕惙惛惝惞惢惥惲惵惸惼惽愂愇愊愌愐",4,"愖愗愙愜愞愢愪愫愰愱愵愶愷愹慁慅慆慉慞慠慬慲慸慻慼慿憀憁憃憄憋憍憒憓憗憘憜憝憟憠憥憨憪憭憸憹憼懀懁懂懎懏懕懜懝懞懟懡懢懧懩懥"],["8fbfa1","懬懭懯戁戃戄戇戓戕戜戠戢戣戧戩戫戹戽扂扃扄扆扌扐扑扒扔扖扚扜扤扭扯扳扺扽抍抎抏抐抦抨抳抶抷抺抾抿拄拎拕拖拚拪拲拴拼拽挃挄挊挋挍挐挓挖挘挩挪挭挵挶挹挼捁捂捃捄捆捊捋捎捒捓捔捘捛捥捦捬捭捱捴捵"],["8fc0a1","捸捼捽捿掂掄掇掊掐掔掕掙掚掞掤掦掭掮掯掽揁揅揈揎揑揓揔揕揜揠揥揪揬揲揳揵揸揹搉搊搐搒搔搘搞搠搢搤搥搩搪搯搰搵搽搿摋摏摑摒摓摔摚摛摜摝摟摠摡摣摭摳摴摻摽撅撇撏撐撑撘撙撛撝撟撡撣撦撨撬撳撽撾撿"],["8fc1a1","擄擉擊擋擌擎擐擑擕擗擤擥擩擪擭擰擵擷擻擿攁攄攈攉攊攏攓攔攖攙攛攞攟攢攦攩攮攱攺攼攽敃敇敉敐敒敔敟敠敧敫敺敽斁斅斊斒斕斘斝斠斣斦斮斲斳斴斿旂旈旉旎旐旔旖旘旟旰旲旴旵旹旾旿昀昄昈昉昍昑昒昕昖昝"],["8fc2a1","昞昡昢昣昤昦昩昪昫昬昮昰昱昳昹昷晀晅晆晊晌晑晎晗晘晙晛晜晠晡曻晪晫晬晾晳晵晿晷晸晹晻暀晼暋暌暍暐暒暙暚暛暜暟暠暤暭暱暲暵暻暿曀曂曃曈曌曎曏曔曛曟曨曫曬曮曺朅朇朎朓朙朜朠朢朳朾杅杇杈杌杔杕杝"],["8fc3a1","杦杬杮杴杶杻极构枎枏枑枓枖枘枙枛枰枱枲枵枻枼枽柹柀柂柃柅柈柉柒柗柙柜柡柦柰柲柶柷桒栔栙栝栟栨栧栬栭栯栰栱栳栻栿桄桅桊桌桕桗桘桛桫桮",4,"桵桹桺桻桼梂梄梆梈梖梘梚梜梡梣梥梩梪梮梲梻棅棈棌棏"],["8fc4a1","棐棑棓棖棙棜棝棥棨棪棫棬棭棰棱棵棶棻棼棽椆椉椊椐椑椓椖椗椱椳椵椸椻楂楅楉楎楗楛楣楤楥楦楨楩楬楰楱楲楺楻楿榀榍榒榖榘榡榥榦榨榫榭榯榷榸榺榼槅槈槑槖槗槢槥槮槯槱槳槵槾樀樁樃樏樑樕樚樝樠樤樨樰樲"],["8fc5a1","樴樷樻樾樿橅橆橉橊橎橐橑橒橕橖橛橤橧橪橱橳橾檁檃檆檇檉檋檑檛檝檞檟檥檫檯檰檱檴檽檾檿櫆櫉櫈櫌櫐櫔櫕櫖櫜櫝櫤櫧櫬櫰櫱櫲櫼櫽欂欃欆欇欉欏欐欑欗欛欞欤欨欫欬欯欵欶欻欿歆歊歍歒歖歘歝歠歧歫歮歰歵歽"],["8fc6a1","歾殂殅殗殛殟殠殢殣殨殩殬殭殮殰殸殹殽殾毃毄毉毌毖毚毡毣毦毧毮毱毷毹毿氂氄氅氉氍氎氐氒氙氟氦氧氨氬氮氳氵氶氺氻氿汊汋汍汏汒汔汙汛汜汫汭汯汴汶汸汹汻沅沆沇沉沔沕沗沘沜沟沰沲沴泂泆泍泏泐泑泒泔泖"],["8fc7a1","泚泜泠泧泩泫泬泮泲泴洄洇洊洎洏洑洓洚洦洧洨汧洮洯洱洹洼洿浗浞浟浡浥浧浯浰浼涂涇涑涒涔涖涗涘涪涬涴涷涹涽涿淄淈淊淎淏淖淛淝淟淠淢淥淩淯淰淴淶淼渀渄渞渢渧渲渶渹渻渼湄湅湈湉湋湏湑湒湓湔湗湜湝湞"],["8fc8a1","湢湣湨湳湻湽溍溓溙溠溧溭溮溱溳溻溿滀滁滃滇滈滊滍滎滏滫滭滮滹滻滽漄漈漊漌漍漖漘漚漛漦漩漪漯漰漳漶漻漼漭潏潑潒潓潗潙潚潝潞潡潢潨潬潽潾澃澇澈澋澌澍澐澒澓澔澖澚澟澠澥澦澧澨澮澯澰澵澶澼濅濇濈濊"],["8fc9a1","濚濞濨濩濰濵濹濼濽瀀瀅瀆瀇瀍瀗瀠瀣瀯瀴瀷瀹瀼灃灄灈灉灊灋灔灕灝灞灎灤灥灬灮灵灶灾炁炅炆炔",4,"炛炤炫炰炱炴炷烊烑烓烔烕烖烘烜烤烺焃",4,"焋焌焏焞焠焫焭焯焰焱焸煁煅煆煇煊煋煐煒煗煚煜煞煠"],["8fcaa1","煨煹熀熅熇熌熒熚熛熠熢熯熰熲熳熺熿燀燁燄燋燌燓燖燙燚燜燸燾爀爇爈爉爓爗爚爝爟爤爫爯爴爸爹牁牂牃牅牎牏牐牓牕牖牚牜牞牠牣牨牫牮牯牱牷牸牻牼牿犄犉犍犎犓犛犨犭犮犱犴犾狁狇狉狌狕狖狘狟狥狳狴狺狻"],["8fcba1","狾猂猄猅猇猋猍猒猓猘猙猞猢猤猧猨猬猱猲猵猺猻猽獃獍獐獒獖獘獝獞獟獠獦獧獩獫獬獮獯獱獷獹獼玀玁玃玅玆玎玐玓玕玗玘玜玞玟玠玢玥玦玪玫玭玵玷玹玼玽玿珅珆珉珋珌珏珒珓珖珙珝珡珣珦珧珩珴珵珷珹珺珻珽"],["8fcca1","珿琀琁琄琇琊琑琚琛琤琦琨",9,"琹瑀瑃瑄瑆瑇瑋瑍瑑瑒瑗瑝瑢瑦瑧瑨瑫瑭瑮瑱瑲璀璁璅璆璇璉璏璐璑璒璘璙璚璜璟璠璡璣璦璨璩璪璫璮璯璱璲璵璹璻璿瓈瓉瓌瓐瓓瓘瓚瓛瓞瓟瓤瓨瓪瓫瓯瓴瓺瓻瓼瓿甆"],["8fcda1","甒甖甗甠甡甤甧甩甪甯甶甹甽甾甿畀畃畇畈畎畐畒畗畞畟畡畯畱畹",5,"疁疅疐疒疓疕疙疜疢疤疴疺疿痀痁痄痆痌痎痏痗痜痟痠痡痤痧痬痮痯痱痹瘀瘂瘃瘄瘇瘈瘊瘌瘏瘒瘓瘕瘖瘙瘛瘜瘝瘞瘣瘥瘦瘩瘭瘲瘳瘵瘸瘹"],["8fcea1","瘺瘼癊癀癁癃癄癅癉癋癕癙癟癤癥癭癮癯癱癴皁皅皌皍皕皛皜皝皟皠皢",6,"皪皭皽盁盅盉盋盌盎盔盙盠盦盨盬盰盱盶盹盼眀眆眊眎眒眔眕眗眙眚眜眢眨眭眮眯眴眵眶眹眽眾睂睅睆睊睍睎睏睒睖睗睜睞睟睠睢"],["8fcfa1","睤睧睪睬睰睲睳睴睺睽瞀瞄瞌瞍瞔瞕瞖瞚瞟瞢瞧瞪瞮瞯瞱瞵瞾矃矉矑矒矕矙矞矟矠矤矦矪矬矰矱矴矸矻砅砆砉砍砎砑砝砡砢砣砭砮砰砵砷硃硄硇硈硌硎硒硜硞硠硡硣硤硨硪确硺硾碊碏碔碘碡碝碞碟碤碨碬碭碰碱碲碳"],["8fd0a1","碻碽碿磇磈磉磌磎磒磓磕磖磤磛磟磠磡磦磪磲磳礀磶磷磺磻磿礆礌礐礚礜礞礟礠礥礧礩礭礱礴礵礻礽礿祄祅祆祊祋祏祑祔祘祛祜祧祩祫祲祹祻祼祾禋禌禑禓禔禕禖禘禛禜禡禨禩禫禯禱禴禸离秂秄秇秈秊秏秔秖秚秝秞"],["8fd1a1","秠秢秥秪秫秭秱秸秼稂稃稇稉稊稌稑稕稛稞稡稧稫稭稯稰稴稵稸稹稺穄穅穇穈穌穕穖穙穜穝穟穠穥穧穪穭穵穸穾窀窂窅窆窊窋窐窑窔窞窠窣窬窳窵窹窻窼竆竉竌竎竑竛竨竩竫竬竱竴竻竽竾笇笔笟笣笧笩笪笫笭笮笯笰"],["8fd2a1","笱笴笽笿筀筁筇筎筕筠筤筦筩筪筭筯筲筳筷箄箉箎箐箑箖箛箞箠箥箬箯箰箲箵箶箺箻箼箽篂篅篈篊篔篖篗篙篚篛篨篪篲篴篵篸篹篺篼篾簁簂簃簄簆簉簋簌簎簏簙簛簠簥簦簨簬簱簳簴簶簹簺籆籊籕籑籒籓籙",5],["8fd3a1","籡籣籧籩籭籮籰籲籹籼籽粆粇粏粔粞粠粦粰粶粷粺粻粼粿糄糇糈糉糍糏糓糔糕糗糙糚糝糦糩糫糵紃紇紈紉紏紑紒紓紖紝紞紣紦紪紭紱紼紽紾絀絁絇絈絍絑絓絗絙絚絜絝絥絧絪絰絸絺絻絿綁綂綃綅綆綈綋綌綍綑綖綗綝"],["8fd4a1","綞綦綧綪綳綶綷綹緂",4,"緌緍緎緗緙縀緢緥緦緪緫緭緱緵緶緹緺縈縐縑縕縗縜縝縠縧縨縬縭縯縳縶縿繄繅繇繎繐繒繘繟繡繢繥繫繮繯繳繸繾纁纆纇纊纍纑纕纘纚纝纞缼缻缽缾缿罃罄罇罏罒罓罛罜罝罡罣罤罥罦罭"],["8fd5a1","罱罽罾罿羀羋羍羏羐羑羖羗羜羡羢羦羪羭羴羼羿翀翃翈翎翏翛翟翣翥翨翬翮翯翲翺翽翾翿耇耈耊耍耎耏耑耓耔耖耝耞耟耠耤耦耬耮耰耴耵耷耹耺耼耾聀聄聠聤聦聭聱聵肁肈肎肜肞肦肧肫肸肹胈胍胏胒胔胕胗胘胠胭胮"],["8fd6a1","胰胲胳胶胹胺胾脃脋脖脗脘脜脞脠脤脧脬脰脵脺脼腅腇腊腌腒腗腠腡腧腨腩腭腯腷膁膐膄膅膆膋膎膖膘膛膞膢膮膲膴膻臋臃臅臊臎臏臕臗臛臝臞臡臤臫臬臰臱臲臵臶臸臹臽臿舀舃舏舓舔舙舚舝舡舢舨舲舴舺艃艄艅艆"],["8fd7a1","艋艎艏艑艖艜艠艣艧艭艴艻艽艿芀芁芃芄芇芉芊芎芑芔芖芘芚芛芠芡芣芤芧芨芩芪芮芰芲芴芷芺芼芾芿苆苐苕苚苠苢苤苨苪苭苯苶苷苽苾茀茁茇茈茊茋荔茛茝茞茟茡茢茬茭茮茰茳茷茺茼茽荂荃荄荇荍荎荑荕荖荗荰荸"],["8fd8a1","荽荿莀莂莄莆莍莒莔莕莘莙莛莜莝莦莧莩莬莾莿菀菇菉菏菐菑菔菝荓菨菪菶菸菹菼萁萆萊萏萑萕萙莭萯萹葅葇葈葊葍葏葑葒葖葘葙葚葜葠葤葥葧葪葰葳葴葶葸葼葽蒁蒅蒒蒓蒕蒞蒦蒨蒩蒪蒯蒱蒴蒺蒽蒾蓀蓂蓇蓈蓌蓏蓓"],["8fd9a1","蓜蓧蓪蓯蓰蓱蓲蓷蔲蓺蓻蓽蔂蔃蔇蔌蔎蔐蔜蔞蔢蔣蔤蔥蔧蔪蔫蔯蔳蔴蔶蔿蕆蕏",4,"蕖蕙蕜",6,"蕤蕫蕯蕹蕺蕻蕽蕿薁薅薆薉薋薌薏薓薘薝薟薠薢薥薧薴薶薷薸薼薽薾薿藂藇藊藋藎薭藘藚藟藠藦藨藭藳藶藼"],["8fdaa1","藿蘀蘄蘅蘍蘎蘐蘑蘒蘘蘙蘛蘞蘡蘧蘩蘶蘸蘺蘼蘽虀虂虆虒虓虖虗虘虙虝虠",4,"虩虬虯虵虶虷虺蚍蚑蚖蚘蚚蚜蚡蚦蚧蚨蚭蚱蚳蚴蚵蚷蚸蚹蚿蛀蛁蛃蛅蛑蛒蛕蛗蛚蛜蛠蛣蛥蛧蚈蛺蛼蛽蜄蜅蜇蜋蜎蜏蜐蜓蜔蜙蜞蜟蜡蜣"],["8fdba1","蜨蜮蜯蜱蜲蜹蜺蜼蜽蜾蝀蝃蝅蝍蝘蝝蝡蝤蝥蝯蝱蝲蝻螃",6,"螋螌螐螓螕螗螘螙螞螠螣螧螬螭螮螱螵螾螿蟁蟈蟉蟊蟎蟕蟖蟙蟚蟜蟟蟢蟣蟤蟪蟫蟭蟱蟳蟸蟺蟿蠁蠃蠆蠉蠊蠋蠐蠙蠒蠓蠔蠘蠚蠛蠜蠞蠟蠨蠭蠮蠰蠲蠵"],["8fdca1","蠺蠼衁衃衅衈衉衊衋衎衑衕衖衘衚衜衟衠衤衩衱衹衻袀袘袚袛袜袟袠袨袪袺袽袾裀裊",4,"裑裒裓裛裞裧裯裰裱裵裷褁褆褍褎褏褕褖褘褙褚褜褠褦褧褨褰褱褲褵褹褺褾襀襂襅襆襉襏襒襗襚襛襜襡襢襣襫襮襰襳襵襺"],["8fdda1","襻襼襽覉覍覐覔覕覛覜覟覠覥覰覴覵覶覷覼觔",4,"觥觩觫觭觱觳觶觹觽觿訄訅訇訏訑訒訔訕訞訠訢訤訦訫訬訯訵訷訽訾詀詃詅詇詉詍詎詓詖詗詘詜詝詡詥詧詵詶詷詹詺詻詾詿誀誃誆誋誏誐誒誖誗誙誟誧誩誮誯誳"],["8fdea1","誶誷誻誾諃諆諈諉諊諑諓諔諕諗諝諟諬諰諴諵諶諼諿謅謆謋謑謜謞謟謊謭謰謷謼譂",4,"譈譒譓譔譙譍譞譣譭譶譸譹譼譾讁讄讅讋讍讏讔讕讜讞讟谸谹谽谾豅豇豉豋豏豑豓豔豗豘豛豝豙豣豤豦豨豩豭豳豵豶豻豾貆"],["8fdfa1","貇貋貐貒貓貙貛貜貤貹貺賅賆賉賋賏賖賕賙賝賡賨賬賯賰賲賵賷賸賾賿贁贃贉贒贗贛赥赩赬赮赿趂趄趈趍趐趑趕趞趟趠趦趫趬趯趲趵趷趹趻跀跅跆跇跈跊跎跑跔跕跗跙跤跥跧跬跰趼跱跲跴跽踁踄踅踆踋踑踔踖踠踡踢"],["8fe0a1","踣踦踧踱踳踶踷踸踹踽蹀蹁蹋蹍蹎蹏蹔蹛蹜蹝蹞蹡蹢蹩蹬蹭蹯蹰蹱蹹蹺蹻躂躃躉躐躒躕躚躛躝躞躢躧躩躭躮躳躵躺躻軀軁軃軄軇軏軑軔軜軨軮軰軱軷軹軺軭輀輂輇輈輏輐輖輗輘輞輠輡輣輥輧輨輬輭輮輴輵輶輷輺轀轁"],["8fe1a1","轃轇轏轑",4,"轘轝轞轥辝辠辡辤辥辦辵辶辸达迀迁迆迊迋迍运迒迓迕迠迣迤迨迮迱迵迶迻迾适逄逈逌逘逛逨逩逯逪逬逭逳逴逷逿遃遄遌遛遝遢遦遧遬遰遴遹邅邈邋邌邎邐邕邗邘邙邛邠邡邢邥邰邲邳邴邶邽郌邾郃"],["8fe2a1","郄郅郇郈郕郗郘郙郜郝郟郥郒郶郫郯郰郴郾郿鄀鄄鄅鄆鄈鄍鄐鄔鄖鄗鄘鄚鄜鄞鄠鄥鄢鄣鄧鄩鄮鄯鄱鄴鄶鄷鄹鄺鄼鄽酃酇酈酏酓酗酙酚酛酡酤酧酭酴酹酺酻醁醃醅醆醊醎醑醓醔醕醘醞醡醦醨醬醭醮醰醱醲醳醶醻醼醽醿"],["8fe3a1","釂釃釅釓釔釗釙釚釞釤釥釩釪釬",5,"釷釹釻釽鈀鈁鈄鈅鈆鈇鈉鈊鈌鈐鈒鈓鈖鈘鈜鈝鈣鈤鈥鈦鈨鈮鈯鈰鈳鈵鈶鈸鈹鈺鈼鈾鉀鉂鉃鉆鉇鉊鉍鉎鉏鉑鉘鉙鉜鉝鉠鉡鉥鉧鉨鉩鉮鉯鉰鉵",4,"鉻鉼鉽鉿銈銉銊銍銎銒銗"],["8fe4a1","銙銟銠銤銥銧銨銫銯銲銶銸銺銻銼銽銿",4,"鋅鋆鋇鋈鋋鋌鋍鋎鋐鋓鋕鋗鋘鋙鋜鋝鋟鋠鋡鋣鋥鋧鋨鋬鋮鋰鋹鋻鋿錀錂錈錍錑錔錕錜錝錞錟錡錤錥錧錩錪錳錴錶錷鍇鍈鍉鍐鍑鍒鍕鍗鍘鍚鍞鍤鍥鍧鍩鍪鍭鍯鍰鍱鍳鍴鍶"],["8fe5a1","鍺鍽鍿鎀鎁鎂鎈鎊鎋鎍鎏鎒鎕鎘鎛鎞鎡鎣鎤鎦鎨鎫鎴鎵鎶鎺鎩鏁鏄鏅鏆鏇鏉",4,"鏓鏙鏜鏞鏟鏢鏦鏧鏹鏷鏸鏺鏻鏽鐁鐂鐄鐈鐉鐍鐎鐏鐕鐖鐗鐟鐮鐯鐱鐲鐳鐴鐻鐿鐽鑃鑅鑈鑊鑌鑕鑙鑜鑟鑡鑣鑨鑫鑭鑮鑯鑱鑲钄钃镸镹"],["8fe6a1","镾閄閈閌閍閎閝閞閟閡閦閩閫閬閴閶閺閽閿闆闈闉闋闐闑闒闓闙闚闝闞闟闠闤闦阝阞阢阤阥阦阬阱阳阷阸阹阺阼阽陁陒陔陖陗陘陡陮陴陻陼陾陿隁隂隃隄隉隑隖隚隝隟隤隥隦隩隮隯隳隺雊雒嶲雘雚雝雞雟雩雯雱雺霂"],["8fe7a1","霃霅霉霚霛霝霡霢霣霨霱霳靁靃靊靎靏靕靗靘靚靛靣靧靪靮靳靶靷靸靻靽靿鞀鞉鞕鞖鞗鞙鞚鞞鞟鞢鞬鞮鞱鞲鞵鞶鞸鞹鞺鞼鞾鞿韁韄韅韇韉韊韌韍韎韐韑韔韗韘韙韝韞韠韛韡韤韯韱韴韷韸韺頇頊頙頍頎頔頖頜頞頠頣頦"],["8fe8a1","頫頮頯頰頲頳頵頥頾顄顇顊顑顒顓顖顗顙顚顢顣顥顦顪顬颫颭颮颰颴颷颸颺颻颿飂飅飈飌飡飣飥飦飧飪飳飶餂餇餈餑餕餖餗餚餛餜餟餢餦餧餫餱",4,"餹餺餻餼饀饁饆饇饈饍饎饔饘饙饛饜饞饟饠馛馝馟馦馰馱馲馵"],["8fe9a1","馹馺馽馿駃駉駓駔駙駚駜駞駧駪駫駬駰駴駵駹駽駾騂騃騄騋騌騐騑騖騞騠騢騣騤騧騭騮騳騵騶騸驇驁驄驊驋驌驎驑驔驖驝骪骬骮骯骲骴骵骶骹骻骾骿髁髃髆髈髎髐髒髕髖髗髛髜髠髤髥髧髩髬髲髳髵髹髺髽髿",4],["8feaa1","鬄鬅鬈鬉鬋鬌鬍鬎鬐鬒鬖鬙鬛鬜鬠鬦鬫鬭鬳鬴鬵鬷鬹鬺鬽魈魋魌魕魖魗魛魞魡魣魥魦魨魪",4,"魳魵魷魸魹魿鮀鮄鮅鮆鮇鮉鮊鮋鮍鮏鮐鮔鮚鮝鮞鮦鮧鮩鮬鮰鮱鮲鮷鮸鮻鮼鮾鮿鯁鯇鯈鯎鯐鯗鯘鯝鯟鯥鯧鯪鯫鯯鯳鯷鯸"],["8feba1","鯹鯺鯽鯿鰀鰂鰋鰏鰑鰖鰘鰙鰚鰜鰞鰢鰣鰦",4,"鰱鰵鰶鰷鰽鱁鱃鱄鱅鱉鱊鱎鱏鱐鱓鱔鱖鱘鱛鱝鱞鱟鱣鱩鱪鱜鱫鱨鱮鱰鱲鱵鱷鱻鳦鳲鳷鳹鴋鴂鴑鴗鴘鴜鴝鴞鴯鴰鴲鴳鴴鴺鴼鵅鴽鵂鵃鵇鵊鵓鵔鵟鵣鵢鵥鵩鵪鵫鵰鵶鵷鵻"],["8feca1","鵼鵾鶃鶄鶆鶊鶍鶎鶒鶓鶕鶖鶗鶘鶡鶪鶬鶮鶱鶵鶹鶼鶿鷃鷇鷉鷊鷔鷕鷖鷗鷚鷞鷟鷠鷥鷧鷩鷫鷮鷰鷳鷴鷾鸊鸂鸇鸎鸐鸑鸒鸕鸖鸙鸜鸝鹺鹻鹼麀麂麃麄麅麇麎麏麖麘麛麞麤麨麬麮麯麰麳麴麵黆黈黋黕黟黤黧黬黭黮黰黱黲黵"],["8feda1","黸黿鼂鼃鼉鼏鼐鼑鼒鼔鼖鼗鼙鼚鼛鼟鼢鼦鼪鼫鼯鼱鼲鼴鼷鼹鼺鼼鼽鼿齁齃",4,"齓齕齖齗齘齚齝齞齨齩齭",4,"齳齵齺齽龏龐龑龒龔龖龗龞龡龢龣龥"]];
},{}],"DHI4":[function(require,module,exports) {
module.exports=[["0","\0",127,"€"],["8140","丂丄丅丆丏丒丗丟丠両丣並丩丮丯丱丳丵丷丼乀乁乂乄乆乊乑乕乗乚乛乢乣乤乥乧乨乪",5,"乲乴",9,"乿",6,"亇亊"],["8180","亐亖亗亙亜亝亞亣亪亯亰亱亴亶亷亸亹亼亽亾仈仌仏仐仒仚仛仜仠仢仦仧仩仭仮仯仱仴仸仹仺仼仾伀伂",6,"伋伌伒",4,"伜伝伡伣伨伩伬伭伮伱伳伵伷伹伻伾",4,"佄佅佇",5,"佒佔佖佡佢佦佨佪佫佭佮佱佲併佷佸佹佺佽侀侁侂侅來侇侊侌侎侐侒侓侕侖侘侙侚侜侞侟価侢"],["8240","侤侫侭侰",4,"侶",8,"俀俁係俆俇俈俉俋俌俍俒",4,"俙俛俠俢俤俥俧俫俬俰俲俴俵俶俷俹俻俼俽俿",11],["8280","個倎倐們倓倕倖倗倛倝倞倠倢倣値倧倫倯",10,"倻倽倿偀偁偂偄偅偆偉偊偋偍偐",4,"偖偗偘偙偛偝",7,"偦",5,"偭",8,"偸偹偺偼偽傁傂傃傄傆傇傉傊傋傌傎",20,"傤傦傪傫傭",4,"傳",6,"傼"],["8340","傽",17,"僐",5,"僗僘僙僛",10,"僨僩僪僫僯僰僱僲僴僶",4,"僼",9,"儈"],["8380","儉儊儌",5,"儓",13,"儢",28,"兂兇兊兌兎兏児兒兓兗兘兙兛兝",4,"兣兤兦內兩兪兯兲兺兾兿冃冄円冇冊冋冎冏冐冑冓冔冘冚冝冞冟冡冣冦",4,"冭冮冴冸冹冺冾冿凁凂凃凅凈凊凍凎凐凒",5],["8440","凘凙凚凜凞凟凢凣凥",5,"凬凮凱凲凴凷凾刄刅刉刋刌刏刐刓刔刕刜刞刟刡刢刣別刦刧刪刬刯刱刲刴刵刼刾剄",5,"剋剎剏剒剓剕剗剘"],["8480","剙剚剛剝剟剠剢剣剤剦剨剫剬剭剮剰剱剳",9,"剾劀劃",4,"劉",6,"劑劒劔",6,"劜劤劥劦劧劮劯劰労",9,"勀勁勂勄勅勆勈勊勌勍勎勏勑勓勔動勗務",5,"勠勡勢勣勥",10,"勱",7,"勻勼勽匁匂匃匄匇匉匊匋匌匎"],["8540","匑匒匓匔匘匛匜匞匟匢匤匥匧匨匩匫匬匭匯",9,"匼匽區卂卄卆卋卌卍卐協単卙卛卝卥卨卪卬卭卲卶卹卻卼卽卾厀厁厃厇厈厊厎厏"],["8580","厐",4,"厖厗厙厛厜厞厠厡厤厧厪厫厬厭厯",6,"厷厸厹厺厼厽厾叀參",4,"収叏叐叒叓叕叚叜叝叞叡叢叧叴叺叾叿吀吂吅吇吋吔吘吙吚吜吢吤吥吪吰吳吶吷吺吽吿呁呂呄呅呇呉呌呍呎呏呑呚呝",4,"呣呥呧呩",7,"呴呹呺呾呿咁咃咅咇咈咉咊咍咑咓咗咘咜咞咟咠咡"],["8640","咢咥咮咰咲咵咶咷咹咺咼咾哃哅哊哋哖哘哛哠",4,"哫哬哯哰哱哴",5,"哻哾唀唂唃唄唅唈唊",4,"唒唓唕",5,"唜唝唞唟唡唥唦"],["8680","唨唩唫唭唲唴唵唶唸唹唺唻唽啀啂啅啇啈啋",4,"啑啒啓啔啗",4,"啝啞啟啠啢啣啨啩啫啯",5,"啹啺啽啿喅喆喌喍喎喐喒喓喕喖喗喚喛喞喠",6,"喨",8,"喲喴営喸喺喼喿",4,"嗆嗇嗈嗊嗋嗎嗏嗐嗕嗗",4,"嗞嗠嗢嗧嗩嗭嗮嗰嗱嗴嗶嗸",4,"嗿嘂嘃嘄嘅"],["8740","嘆嘇嘊嘋嘍嘐",7,"嘙嘚嘜嘝嘠嘡嘢嘥嘦嘨嘩嘪嘫嘮嘯嘰嘳嘵嘷嘸嘺嘼嘽嘾噀",11,"噏",4,"噕噖噚噛噝",4],["8780","噣噥噦噧噭噮噯噰噲噳噴噵噷噸噹噺噽",7,"嚇",6,"嚐嚑嚒嚔",14,"嚤",10,"嚰",6,"嚸嚹嚺嚻嚽",12,"囋",8,"囕囖囘囙囜団囥",5,"囬囮囯囲図囶囷囸囻囼圀圁圂圅圇國",6],["8840","園",9,"圝圞圠圡圢圤圥圦圧圫圱圲圴",4,"圼圽圿坁坃坄坅坆坈坉坋坒",4,"坘坙坢坣坥坧坬坮坰坱坲坴坵坸坹坺坽坾坿垀"],["8880","垁垇垈垉垊垍",4,"垔",6,"垜垝垞垟垥垨垪垬垯垰垱垳垵垶垷垹",8,"埄",6,"埌埍埐埑埓埖埗埛埜埞埡埢埣埥",7,"埮埰埱埲埳埵埶執埻埼埾埿堁堃堄堅堈堉堊堌堎堏堐堒堓堔堖堗堘堚堛堜堝堟堢堣堥",4,"堫",4,"報堲堳場堶",7],["8940","堾",5,"塅",6,"塎塏塐塒塓塕塖塗塙",4,"塟",5,"塦",4,"塭",16,"塿墂墄墆墇墈墊墋墌"],["8980","墍",4,"墔",4,"墛墜墝墠",7,"墪",17,"墽墾墿壀壂壃壄壆",10,"壒壓壔壖",13,"壥",5,"壭壯壱売壴壵壷壸壺",7,"夃夅夆夈",4,"夎夐夑夒夓夗夘夛夝夞夠夡夢夣夦夨夬夰夲夳夵夶夻"],["8a40","夽夾夿奀奃奅奆奊奌奍奐奒奓奙奛",4,"奡奣奤奦",12,"奵奷奺奻奼奾奿妀妅妉妋妌妎妏妐妑妔妕妘妚妛妜妝妟妠妡妢妦"],["8a80","妧妬妭妰妱妳",5,"妺妼妽妿",6,"姇姈姉姌姍姎姏姕姖姙姛姞",4,"姤姦姧姩姪姫姭",11,"姺姼姽姾娀娂娊娋娍娎娏娐娒娔娕娖娗娙娚娛娝娞娡娢娤娦娧娨娪",6,"娳娵娷",4,"娽娾娿婁",4,"婇婈婋",9,"婖婗婘婙婛",5],["8b40","婡婣婤婥婦婨婩婫",8,"婸婹婻婼婽婾媀",17,"媓",6,"媜",13,"媫媬"],["8b80","媭",4,"媴媶媷媹",4,"媿嫀嫃",5,"嫊嫋嫍",4,"嫓嫕嫗嫙嫚嫛嫝嫞嫟嫢嫤嫥嫧嫨嫪嫬",4,"嫲",22,"嬊",11,"嬘",25,"嬳嬵嬶嬸",7,"孁",6],["8c40","孈",7,"孒孖孞孠孡孧孨孫孭孮孯孲孴孶孷學孹孻孼孾孿宂宆宊宍宎宐宑宒宔宖実宧宨宩宬宭宮宯宱宲宷宺宻宼寀寁寃寈寉寊寋寍寎寏"],["8c80","寑寔",8,"寠寢寣實寧審",4,"寯寱",6,"寽対尀専尃尅將專尋尌對導尐尒尓尗尙尛尞尟尠尡尣尦尨尩尪尫尭尮尯尰尲尳尵尶尷屃屄屆屇屌屍屒屓屔屖屗屘屚屛屜屝屟屢層屧",6,"屰屲",6,"屻屼屽屾岀岃",4,"岉岊岋岎岏岒岓岕岝",4,"岤",4],["8d40","岪岮岯岰岲岴岶岹岺岻岼岾峀峂峃峅",5,"峌",5,"峓",5,"峚",6,"峢峣峧峩峫峬峮峯峱",9,"峼",4],["8d80","崁崄崅崈",5,"崏",4,"崕崗崘崙崚崜崝崟",4,"崥崨崪崫崬崯",4,"崵",7,"崿",7,"嵈嵉嵍",10,"嵙嵚嵜嵞",10,"嵪嵭嵮嵰嵱嵲嵳嵵",12,"嶃",21,"嶚嶛嶜嶞嶟嶠"],["8e40","嶡",21,"嶸",12,"巆",6,"巎",12,"巜巟巠巣巤巪巬巭"],["8e80","巰巵巶巸",4,"巿帀帄帇帉帊帋帍帎帒帓帗帞",7,"帨",4,"帯帰帲",4,"帹帺帾帿幀幁幃幆",5,"幍",6,"幖",4,"幜幝幟幠幣",14,"幵幷幹幾庁庂広庅庈庉庌庍庎庒庘庛庝庡庢庣庤庨",4,"庮",4,"庴庺庻庼庽庿",6],["8f40","廆廇廈廋",5,"廔廕廗廘廙廚廜",11,"廩廫",8,"廵廸廹廻廼廽弅弆弇弉弌弍弎弐弒弔弖弙弚弜弝弞弡弢弣弤"],["8f80","弨弫弬弮弰弲",6,"弻弽弾弿彁",14,"彑彔彙彚彛彜彞彟彠彣彥彧彨彫彮彯彲彴彵彶彸彺彽彾彿徃徆徍徎徏徑従徔徖徚徛徝從徟徠徢",5,"復徫徬徯",5,"徶徸徹徺徻徾",4,"忇忈忊忋忎忓忔忕忚忛応忞忟忢忣忥忦忨忩忬忯忰忲忳忴忶忷忹忺忼怇"],["9040","怈怉怋怌怐怑怓怗怘怚怞怟怢怣怤怬怭怮怰",4,"怶",4,"怽怾恀恄",6,"恌恎恏恑恓恔恖恗恘恛恜恞恟恠恡恥恦恮恱恲恴恵恷恾悀"],["9080","悁悂悅悆悇悈悊悋悎悏悐悑悓悕悗悘悙悜悞悡悢悤悥悧悩悪悮悰悳悵悶悷悹悺悽",7,"惇惈惉惌",4,"惒惓惔惖惗惙惛惞惡",4,"惪惱惲惵惷惸惻",4,"愂愃愄愅愇愊愋愌愐",4,"愖愗愘愙愛愜愝愞愡愢愥愨愩愪愬",18,"慀",6],["9140","慇慉態慍慏慐慒慓慔慖",6,"慞慟慠慡慣慤慥慦慩",6,"慱慲慳慴慶慸",18,"憌憍憏",4,"憕"],["9180","憖",6,"憞",8,"憪憫憭",9,"憸",5,"憿懀懁懃",4,"應懌",4,"懓懕",16,"懧",13,"懶",8,"戀",5,"戇戉戓戔戙戜戝戞戠戣戦戧戨戩戫戭戯戰戱戲戵戶戸",4,"扂扄扅扆扊"],["9240","扏扐払扖扗扙扚扜",6,"扤扥扨扱扲扴扵扷扸扺扻扽抁抂抃抅抆抇抈抋",5,"抔抙抜抝択抣抦抧抩抪抭抮抯抰抲抳抴抶抷抸抺抾拀拁"],["9280","拃拋拏拑拕拝拞拠拡拤拪拫拰拲拵拸拹拺拻挀挃挄挅挆挊挋挌挍挏挐挒挓挔挕挗挘挙挜挦挧挩挬挭挮挰挱挳",5,"挻挼挾挿捀捁捄捇捈捊捑捒捓捔捖",7,"捠捤捥捦捨捪捫捬捯捰捲捳捴捵捸捹捼捽捾捿掁掃掄掅掆掋掍掑掓掔掕掗掙",6,"採掤掦掫掯掱掲掵掶掹掻掽掿揀"],["9340","揁揂揃揅揇揈揊揋揌揑揓揔揕揗",6,"揟揢揤",4,"揫揬揮揯揰揱揳揵揷揹揺揻揼揾搃搄搆",4,"損搎搑搒搕",5,"搝搟搢搣搤"],["9380","搥搧搨搩搫搮",5,"搵",4,"搻搼搾摀摂摃摉摋",6,"摓摕摖摗摙",4,"摟",7,"摨摪摫摬摮",9,"摻",6,"撃撆撈",8,"撓撔撗撘撚撛撜撝撟",4,"撥撦撧撨撪撫撯撱撲撳撴撶撹撻撽撾撿擁擃擄擆",6,"擏擑擓擔擕擖擙據"],["9440","擛擜擝擟擠擡擣擥擧",24,"攁",7,"攊",7,"攓",4,"攙",8],["9480","攢攣攤攦",4,"攬攭攰攱攲攳攷攺攼攽敀",4,"敆敇敊敋敍敎敐敒敓敔敗敘敚敜敟敠敡敤敥敧敨敩敪敭敮敯敱敳敵敶數",14,"斈斉斊斍斎斏斒斔斕斖斘斚斝斞斠斢斣斦斨斪斬斮斱",7,"斺斻斾斿旀旂旇旈旉旊旍旐旑旓旔旕旘",7,"旡旣旤旪旫"],["9540","旲旳旴旵旸旹旻",4,"昁昄昅昇昈昉昋昍昐昑昒昖昗昘昚昛昜昞昡昢昣昤昦昩昪昫昬昮昰昲昳昷",4,"昽昿晀時晄",6,"晍晎晐晑晘"],["9580","晙晛晜晝晞晠晢晣晥晧晩",4,"晱晲晳晵晸晹晻晼晽晿暀暁暃暅暆暈暉暊暋暍暎暏暐暒暓暔暕暘",4,"暞",8,"暩",4,"暯",4,"暵暶暷暸暺暻暼暽暿",25,"曚曞",7,"曧曨曪",5,"曱曵曶書曺曻曽朁朂會"],["9640","朄朅朆朇朌朎朏朑朒朓朖朘朙朚朜朞朠",5,"朧朩朮朰朲朳朶朷朸朹朻朼朾朿杁杄杅杇杊杋杍杒杔杕杗",4,"杝杢杣杤杦杧杫杬杮東杴杶"],["9680","杸杹杺杻杽枀枂枃枅枆枈枊枌枍枎枏枑枒枓枔枖枙枛枟枠枡枤枦枩枬枮枱枲枴枹",7,"柂柅",9,"柕柖柗柛柟柡柣柤柦柧柨柪柫柭柮柲柵",7,"柾栁栂栃栄栆栍栐栒栔栕栘",4,"栞栟栠栢",6,"栫",6,"栴栵栶栺栻栿桇桋桍桏桒桖",5],["9740","桜桝桞桟桪桬",7,"桵桸",8,"梂梄梇",7,"梐梑梒梔梕梖梘",9,"梣梤梥梩梪梫梬梮梱梲梴梶梷梸"],["9780","梹",6,"棁棃",5,"棊棌棎棏棐棑棓棔棖棗棙棛",4,"棡棢棤",9,"棯棲棳棴棶棷棸棻棽棾棿椀椂椃椄椆",4,"椌椏椑椓",11,"椡椢椣椥",7,"椮椯椱椲椳椵椶椷椸椺椻椼椾楀楁楃",16,"楕楖楘楙楛楜楟"],["9840","楡楢楤楥楧楨楩楪楬業楯楰楲",4,"楺楻楽楾楿榁榃榅榊榋榌榎",5,"榖榗榙榚榝",9,"榩榪榬榮榯榰榲榳榵榶榸榹榺榼榽"],["9880","榾榿槀槂",7,"構槍槏槑槒槓槕",5,"槜槝槞槡",11,"槮槯槰槱槳",9,"槾樀",9,"樋",11,"標",5,"樠樢",5,"権樫樬樭樮樰樲樳樴樶",6,"樿",4,"橅橆橈",7,"橑",6,"橚"],["9940","橜",4,"橢橣橤橦",10,"橲",6,"橺橻橽橾橿檁檂檃檅",8,"檏檒",4,"檘",7,"檡",5],["9980","檧檨檪檭",114,"欥欦欨",6],["9a40","欯欰欱欳欴欵欶欸欻欼欽欿歀歁歂歄歅歈歊歋歍",11,"歚",7,"歨歩歫",13,"歺歽歾歿殀殅殈"],["9a80","殌殎殏殐殑殔殕殗殘殙殜",4,"殢",7,"殫",7,"殶殸",6,"毀毃毄毆",4,"毌毎毐毑毘毚毜",4,"毢",7,"毬毭毮毰毱毲毴毶毷毸毺毻毼毾",6,"氈",4,"氎氒気氜氝氞氠氣氥氫氬氭氱氳氶氷氹氺氻氼氾氿汃汄汅汈汋",4,"汑汒汓汖汘"],["9b40","汙汚汢汣汥汦汧汫",4,"汱汳汵汷汸決汻汼汿沀沄沇沊沋沍沎沑沒沕沖沗沘沚沜沝沞沠沢沨沬沯沰沴沵沶沷沺泀況泂泃泆泇泈泋泍泎泏泑泒泘"],["9b80","泙泚泜泝泟泤泦泧泩泬泭泲泴泹泿洀洂洃洅洆洈洉洊洍洏洐洑洓洔洕洖洘洜洝洟",5,"洦洨洩洬洭洯洰洴洶洷洸洺洿浀浂浄浉浌浐浕浖浗浘浛浝浟浡浢浤浥浧浨浫浬浭浰浱浲浳浵浶浹浺浻浽",4,"涃涄涆涇涊涋涍涏涐涒涖",4,"涜涢涥涬涭涰涱涳涴涶涷涹",5,"淁淂淃淈淉淊"],["9c40","淍淎淏淐淒淓淔淕淗淚淛淜淟淢淣淥淧淨淩淪淭淯淰淲淴淵淶淸淺淽",7,"渆渇済渉渋渏渒渓渕渘渙減渜渞渟渢渦渧渨渪測渮渰渱渳渵"],["9c80","渶渷渹渻",7,"湅",7,"湏湐湑湒湕湗湙湚湜湝湞湠",10,"湬湭湯",14,"満溁溂溄溇溈溊",4,"溑",6,"溙溚溛溝溞溠溡溣溤溦溨溩溫溬溭溮溰溳溵溸溹溼溾溿滀滃滄滅滆滈滉滊滌滍滎滐滒滖滘滙滛滜滝滣滧滪",5],["9d40","滰滱滲滳滵滶滷滸滺",7,"漃漄漅漇漈漊",4,"漐漑漒漖",9,"漡漢漣漥漦漧漨漬漮漰漲漴漵漷",6,"漿潀潁潂"],["9d80","潃潄潅潈潉潊潌潎",9,"潙潚潛潝潟潠潡潣潤潥潧",5,"潯潰潱潳潵潶潷潹潻潽",6,"澅澆澇澊澋澏",12,"澝澞澟澠澢",4,"澨",10,"澴澵澷澸澺",5,"濁濃",5,"濊",6,"濓",10,"濟濢濣濤濥"],["9e40","濦",7,"濰",32,"瀒",7,"瀜",6,"瀤",6],["9e80","瀫",9,"瀶瀷瀸瀺",17,"灍灎灐",13,"灟",11,"灮灱灲灳灴灷灹灺灻災炁炂炃炄炆炇炈炋炌炍炏炐炑炓炗炘炚炛炞",12,"炰炲炴炵炶為炾炿烄烅烆烇烉烋",12,"烚"],["9f40","烜烝烞烠烡烢烣烥烪烮烰",6,"烸烺烻烼烾",10,"焋",4,"焑焒焔焗焛",10,"焧",7,"焲焳焴"],["9f80","焵焷",13,"煆煇煈煉煋煍煏",12,"煝煟",4,"煥煩",4,"煯煰煱煴煵煶煷煹煻煼煾",5,"熅",4,"熋熌熍熎熐熑熒熓熕熖熗熚",4,"熡",6,"熩熪熫熭",5,"熴熶熷熸熺",8,"燄",9,"燏",4],["a040","燖",9,"燡燢燣燤燦燨",5,"燯",9,"燺",11,"爇",19],["a080","爛爜爞",9,"爩爫爭爮爯爲爳爴爺爼爾牀",6,"牉牊牋牎牏牐牑牓牔牕牗牘牚牜牞牠牣牤牥牨牪牫牬牭牰牱牳牴牶牷牸牻牼牽犂犃犅",4,"犌犎犐犑犓",11,"犠",11,"犮犱犲犳犵犺",6,"狅狆狇狉狊狋狌狏狑狓狔狕狖狘狚狛"],["a1a1","　、。·ˉˇ¨〃々—～‖…‘’“”〔〕〈",7,"〖〗【】±×÷∶∧∨∑∏∪∩∈∷√⊥∥∠⌒⊙∫∮≡≌≈∽∝≠≮≯≤≥∞∵∴♂♀°′″℃＄¤￠￡‰§№☆★○●◎◇◆□■△▲※→←↑↓〓"],["a2a1","ⅰ",9],["a2b1","⒈",19,"⑴",19,"①",9],["a2e5","㈠",9],["a2f1","Ⅰ",11],["a3a1","！＂＃￥％",88,"￣"],["a4a1","ぁ",82],["a5a1","ァ",85],["a6a1","Α",16,"Σ",6],["a6c1","α",16,"σ",6],["a6e0","︵︶︹︺︿﹀︽︾﹁﹂﹃﹄"],["a6ee","︻︼︷︸︱"],["a6f4","︳︴"],["a7a1","А",5,"ЁЖ",25],["a7d1","а",5,"ёж",25],["a840","ˊˋ˙–―‥‵℅℉↖↗↘↙∕∟∣≒≦≧⊿═",35,"▁",6],["a880","█",7,"▓▔▕▼▽◢◣◤◥☉⊕〒〝〞"],["a8a1","āáǎàēéěèīíǐìōóǒòūúǔùǖǘǚǜüêɑ"],["a8bd","ńň"],["a8c0","ɡ"],["a8c5","ㄅ",36],["a940","〡",8,"㊣㎎㎏㎜㎝㎞㎡㏄㏎㏑㏒㏕︰￢￤"],["a959","℡㈱"],["a95c","‐"],["a960","ー゛゜ヽヾ〆ゝゞ﹉",9,"﹔﹕﹖﹗﹙",8],["a980","﹢",4,"﹨﹩﹪﹫"],["a996","〇"],["a9a4","─",75],["aa40","狜狝狟狢",5,"狪狫狵狶狹狽狾狿猀猂猄",5,"猋猌猍猏猐猑猒猔猘猙猚猟猠猣猤猦猧猨猭猯猰猲猳猵猶猺猻猼猽獀",8],["aa80","獉獊獋獌獎獏獑獓獔獕獖獘",7,"獡",10,"獮獰獱"],["ab40","獲",11,"獿",4,"玅玆玈玊玌玍玏玐玒玓玔玕玗玘玙玚玜玝玞玠玡玣",5,"玪玬玭玱玴玵玶玸玹玼玽玾玿珁珃",4],["ab80","珋珌珎珒",6,"珚珛珜珝珟珡珢珣珤珦珨珪珫珬珮珯珰珱珳",4],["ac40","珸",10,"琄琇琈琋琌琍琎琑",8,"琜",5,"琣琤琧琩琫琭琯琱琲琷",4,"琽琾琿瑀瑂",11],["ac80","瑎",6,"瑖瑘瑝瑠",12,"瑮瑯瑱",4,"瑸瑹瑺"],["ad40","瑻瑼瑽瑿璂璄璅璆璈璉璊璌璍璏璑",10,"璝璟",7,"璪",15,"璻",12],["ad80","瓈",9,"瓓",8,"瓝瓟瓡瓥瓧",6,"瓰瓱瓲"],["ae40","瓳瓵瓸",6,"甀甁甂甃甅",7,"甎甐甒甔甕甖甗甛甝甞甠",4,"甦甧甪甮甴甶甹甼甽甿畁畂畃畄畆畇畉畊畍畐畑畒畓畕畖畗畘"],["ae80","畝",7,"畧畨畩畫",6,"畳畵當畷畺",4,"疀疁疂疄疅疇"],["af40","疈疉疊疌疍疎疐疓疕疘疛疜疞疢疦",4,"疭疶疷疺疻疿痀痁痆痋痌痎痏痐痑痓痗痙痚痜痝痟痠痡痥痩痬痭痮痯痲痳痵痶痷痸痺痻痽痾瘂瘄瘆瘇"],["af80","瘈瘉瘋瘍瘎瘏瘑瘒瘓瘔瘖瘚瘜瘝瘞瘡瘣瘧瘨瘬瘮瘯瘱瘲瘶瘷瘹瘺瘻瘽癁療癄"],["b040","癅",6,"癎",5,"癕癗",4,"癝癟癠癡癢癤",6,"癬癭癮癰",7,"癹発發癿皀皁皃皅皉皊皌皍皏皐皒皔皕皗皘皚皛"],["b080","皜",7,"皥",8,"皯皰皳皵",9,"盀盁盃啊阿埃挨哎唉哀皑癌蔼矮艾碍爱隘鞍氨安俺按暗岸胺案肮昂盎凹敖熬翱袄傲奥懊澳芭捌扒叭吧笆八疤巴拔跋靶把耙坝霸罢爸白柏百摆佰败拜稗斑班搬扳般颁板版扮拌伴瓣半办绊邦帮梆榜膀绑棒磅蚌镑傍谤苞胞包褒剥"],["b140","盄盇盉盋盌盓盕盙盚盜盝盞盠",4,"盦",7,"盰盳盵盶盷盺盻盽盿眀眂眃眅眆眊県眎",10,"眛眜眝眞眡眣眤眥眧眪眫"],["b180","眬眮眰",4,"眹眻眽眾眿睂睄睅睆睈",7,"睒",7,"睜薄雹保堡饱宝抱报暴豹鲍爆杯碑悲卑北辈背贝钡倍狈备惫焙被奔苯本笨崩绷甭泵蹦迸逼鼻比鄙笔彼碧蓖蔽毕毙毖币庇痹闭敝弊必辟壁臂避陛鞭边编贬扁便变卞辨辩辫遍标彪膘表鳖憋别瘪彬斌濒滨宾摈兵冰柄丙秉饼炳"],["b240","睝睞睟睠睤睧睩睪睭",11,"睺睻睼瞁瞂瞃瞆",5,"瞏瞐瞓",11,"瞡瞣瞤瞦瞨瞫瞭瞮瞯瞱瞲瞴瞶",4],["b280","瞼瞾矀",12,"矎",8,"矘矙矚矝",4,"矤病并玻菠播拨钵波博勃搏铂箔伯帛舶脖膊渤泊驳捕卜哺补埠不布步簿部怖擦猜裁材才财睬踩采彩菜蔡餐参蚕残惭惨灿苍舱仓沧藏操糙槽曹草厕策侧册测层蹭插叉茬茶查碴搽察岔差诧拆柴豺搀掺蝉馋谗缠铲产阐颤昌猖"],["b340","矦矨矪矯矰矱矲矴矵矷矹矺矻矼砃",5,"砊砋砎砏砐砓砕砙砛砞砠砡砢砤砨砪砫砮砯砱砲砳砵砶砽砿硁硂硃硄硆硈硉硊硋硍硏硑硓硔硘硙硚"],["b380","硛硜硞",11,"硯",7,"硸硹硺硻硽",6,"场尝常长偿肠厂敞畅唱倡超抄钞朝嘲潮巢吵炒车扯撤掣彻澈郴臣辰尘晨忱沉陈趁衬撑称城橙成呈乘程惩澄诚承逞骋秤吃痴持匙池迟弛驰耻齿侈尺赤翅斥炽充冲虫崇宠抽酬畴踌稠愁筹仇绸瞅丑臭初出橱厨躇锄雏滁除楚"],["b440","碄碅碆碈碊碋碏碐碒碔碕碖碙碝碞碠碢碤碦碨",7,"碵碶碷碸確碻碼碽碿磀磂磃磄磆磇磈磌磍磎磏磑磒磓磖磗磘磚",9],["b480","磤磥磦磧磩磪磫磭",4,"磳磵磶磸磹磻",5,"礂礃礄礆",6,"础储矗搐触处揣川穿椽传船喘串疮窗幢床闯创吹炊捶锤垂春椿醇唇淳纯蠢戳绰疵茨磁雌辞慈瓷词此刺赐次聪葱囱匆从丛凑粗醋簇促蹿篡窜摧崔催脆瘁粹淬翠村存寸磋撮搓措挫错搭达答瘩打大呆歹傣戴带殆代贷袋待逮"],["b540","礍",5,"礔",9,"礟",4,"礥",14,"礵",4,"礽礿祂祃祄祅祇祊",8,"祔祕祘祙祡祣"],["b580","祤祦祩祪祫祬祮祰",6,"祹祻",4,"禂禃禆禇禈禉禋禌禍禎禐禑禒怠耽担丹单郸掸胆旦氮但惮淡诞弹蛋当挡党荡档刀捣蹈倒岛祷导到稻悼道盗德得的蹬灯登等瞪凳邓堤低滴迪敌笛狄涤翟嫡抵底地蒂第帝弟递缔颠掂滇碘点典靛垫电佃甸店惦奠淀殿碉叼雕凋刁掉吊钓调跌爹碟蝶迭谍叠"],["b640","禓",6,"禛",11,"禨",10,"禴",4,"禼禿秂秄秅秇秈秊秌秎秏秐秓秔秖秗秙",5,"秠秡秢秥秨秪"],["b680","秬秮秱",6,"秹秺秼秾秿稁稄稅稇稈稉稊稌稏",4,"稕稖稘稙稛稜丁盯叮钉顶鼎锭定订丢东冬董懂动栋侗恫冻洞兜抖斗陡豆逗痘都督毒犊独读堵睹赌杜镀肚度渡妒端短锻段断缎堆兑队对墩吨蹲敦顿囤钝盾遁掇哆多夺垛躲朵跺舵剁惰堕蛾峨鹅俄额讹娥恶厄扼遏鄂饿恩而儿耳尔饵洱二"],["b740","稝稟稡稢稤",14,"稴稵稶稸稺稾穀",5,"穇",9,"穒",4,"穘",16],["b780","穩",6,"穱穲穳穵穻穼穽穾窂窅窇窉窊窋窌窎窏窐窓窔窙窚窛窞窡窢贰发罚筏伐乏阀法珐藩帆番翻樊矾钒繁凡烦反返范贩犯饭泛坊芳方肪房防妨仿访纺放菲非啡飞肥匪诽吠肺废沸费芬酚吩氛分纷坟焚汾粉奋份忿愤粪丰封枫蜂峰锋风疯烽逢冯缝讽奉凤佛否夫敷肤孵扶拂辐幅氟符伏俘服"],["b840","窣窤窧窩窪窫窮",4,"窴",10,"竀",10,"竌",9,"竗竘竚竛竜竝竡竢竤竧",5,"竮竰竱竲竳"],["b880","竴",4,"竻竼竾笀笁笂笅笇笉笌笍笎笐笒笓笖笗笘笚笜笝笟笡笢笣笧笩笭浮涪福袱弗甫抚辅俯釜斧脯腑府腐赴副覆赋复傅付阜父腹负富讣附妇缚咐噶嘎该改概钙盖溉干甘杆柑竿肝赶感秆敢赣冈刚钢缸肛纲岗港杠篙皋高膏羔糕搞镐稿告哥歌搁戈鸽胳疙割革葛格蛤阁隔铬个各给根跟耕更庚羹"],["b940","笯笰笲笴笵笶笷笹笻笽笿",5,"筆筈筊筍筎筓筕筗筙筜筞筟筡筣",10,"筯筰筳筴筶筸筺筼筽筿箁箂箃箄箆",6,"箎箏"],["b980","箑箒箓箖箘箙箚箛箞箟箠箣箤箥箮箯箰箲箳箵箶箷箹",7,"篂篃範埂耿梗工攻功恭龚供躬公宫弓巩汞拱贡共钩勾沟苟狗垢构购够辜菇咕箍估沽孤姑鼓古蛊骨谷股故顾固雇刮瓜剐寡挂褂乖拐怪棺关官冠观管馆罐惯灌贯光广逛瑰规圭硅归龟闺轨鬼诡癸桂柜跪贵刽辊滚棍锅郭国果裹过哈"],["ba40","篅篈築篊篋篍篎篏篐篒篔",4,"篛篜篞篟篠篢篣篤篧篨篩篫篬篭篯篰篲",4,"篸篹篺篻篽篿",7,"簈簉簊簍簎簐",5,"簗簘簙"],["ba80","簚",4,"簠",5,"簨簩簫",12,"簹",5,"籂骸孩海氦亥害骇酣憨邯韩含涵寒函喊罕翰撼捍旱憾悍焊汗汉夯杭航壕嚎豪毫郝好耗号浩呵喝荷菏核禾和何合盒貉阂河涸赫褐鹤贺嘿黑痕很狠恨哼亨横衡恒轰哄烘虹鸿洪宏弘红喉侯猴吼厚候后呼乎忽瑚壶葫胡蝴狐糊湖"],["bb40","籃",9,"籎",36,"籵",5,"籾",9],["bb80","粈粊",6,"粓粔粖粙粚粛粠粡粣粦粧粨粩粫粬粭粯粰粴",4,"粺粻弧虎唬护互沪户花哗华猾滑画划化话槐徊怀淮坏欢环桓还缓换患唤痪豢焕涣宦幻荒慌黄磺蝗簧皇凰惶煌晃幌恍谎灰挥辉徽恢蛔回毁悔慧卉惠晦贿秽会烩汇讳诲绘荤昏婚魂浑混豁活伙火获或惑霍货祸击圾基机畸稽积箕"],["bc40","粿糀糂糃糄糆糉糋糎",6,"糘糚糛糝糞糡",6,"糩",5,"糰",7,"糹糺糼",13,"紋",5],["bc80","紑",14,"紡紣紤紥紦紨紩紪紬紭紮細",6,"肌饥迹激讥鸡姬绩缉吉极棘辑籍集及急疾汲即嫉级挤几脊己蓟技冀季伎祭剂悸济寄寂计记既忌际妓继纪嘉枷夹佳家加荚颊贾甲钾假稼价架驾嫁歼监坚尖笺间煎兼肩艰奸缄茧检柬碱硷拣捡简俭剪减荐槛鉴践贱见键箭件"],["bd40","紷",54,"絯",7],["bd80","絸",32,"健舰剑饯渐溅涧建僵姜将浆江疆蒋桨奖讲匠酱降蕉椒礁焦胶交郊浇骄娇嚼搅铰矫侥脚狡角饺缴绞剿教酵轿较叫窖揭接皆秸街阶截劫节桔杰捷睫竭洁结解姐戒藉芥界借介疥诫届巾筋斤金今津襟紧锦仅谨进靳晋禁近烬浸"],["be40","継",12,"綧",6,"綯",42],["be80","線",32,"尽劲荆兢茎睛晶鲸京惊精粳经井警景颈静境敬镜径痉靖竟竞净炯窘揪究纠玖韭久灸九酒厩救旧臼舅咎就疚鞠拘狙疽居驹菊局咀矩举沮聚拒据巨具距踞锯俱句惧炬剧捐鹃娟倦眷卷绢撅攫抉掘倔爵觉决诀绝均菌钧军君峻"],["bf40","緻",62],["bf80","縺縼",4,"繂",4,"繈",21,"俊竣浚郡骏喀咖卡咯开揩楷凯慨刊堪勘坎砍看康慷糠扛抗亢炕考拷烤靠坷苛柯棵磕颗科壳咳可渴克刻客课肯啃垦恳坑吭空恐孔控抠口扣寇枯哭窟苦酷库裤夸垮挎跨胯块筷侩快宽款匡筐狂框矿眶旷况亏盔岿窥葵奎魁傀"],["c040","繞",35,"纃",23,"纜纝纞"],["c080","纮纴纻纼绖绤绬绹缊缐缞缷缹缻",6,"罃罆",9,"罒罓馈愧溃坤昆捆困括扩廓阔垃拉喇蜡腊辣啦莱来赖蓝婪栏拦篮阑兰澜谰揽览懒缆烂滥琅榔狼廊郎朗浪捞劳牢老佬姥酪烙涝勒乐雷镭蕾磊累儡垒擂肋类泪棱楞冷厘梨犁黎篱狸离漓理李里鲤礼莉荔吏栗丽厉励砾历利傈例俐"],["c140","罖罙罛罜罝罞罠罣",4,"罫罬罭罯罰罳罵罶罷罸罺罻罼罽罿羀羂",7,"羋羍羏",4,"羕",4,"羛羜羠羢羣羥羦羨",6,"羱"],["c180","羳",4,"羺羻羾翀翂翃翄翆翇翈翉翋翍翏",4,"翖翗翙",5,"翢翣痢立粒沥隶力璃哩俩联莲连镰廉怜涟帘敛脸链恋炼练粮凉梁粱良两辆量晾亮谅撩聊僚疗燎寥辽潦了撂镣廖料列裂烈劣猎琳林磷霖临邻鳞淋凛赁吝拎玲菱零龄铃伶羚凌灵陵岭领另令溜琉榴硫馏留刘瘤流柳六龙聋咙笼窿"],["c240","翤翧翨翪翫翬翭翯翲翴",6,"翽翾翿耂耇耈耉耊耎耏耑耓耚耛耝耞耟耡耣耤耫",5,"耲耴耹耺耼耾聀聁聄聅聇聈聉聎聏聐聑聓聕聖聗"],["c280","聙聛",13,"聫",5,"聲",11,"隆垄拢陇楼娄搂篓漏陋芦卢颅庐炉掳卤虏鲁麓碌露路赂鹿潞禄录陆戮驴吕铝侣旅履屡缕虑氯律率滤绿峦挛孪滦卵乱掠略抡轮伦仑沦纶论萝螺罗逻锣箩骡裸落洛骆络妈麻玛码蚂马骂嘛吗埋买麦卖迈脉瞒馒蛮满蔓曼慢漫"],["c340","聾肁肂肅肈肊肍",5,"肔肕肗肙肞肣肦肧肨肬肰肳肵肶肸肹肻胅胇",4,"胏",6,"胘胟胠胢胣胦胮胵胷胹胻胾胿脀脁脃脄脅脇脈脋"],["c380","脌脕脗脙脛脜脝脟",12,"脭脮脰脳脴脵脷脹",4,"脿谩芒茫盲氓忙莽猫茅锚毛矛铆卯茂冒帽貌贸么玫枚梅酶霉煤没眉媒镁每美昧寐妹媚门闷们萌蒙檬盟锰猛梦孟眯醚靡糜迷谜弥米秘觅泌蜜密幂棉眠绵冕免勉娩缅面苗描瞄藐秒渺庙妙蔑灭民抿皿敏悯闽明螟鸣铭名命谬摸"],["c440","腀",5,"腇腉腍腎腏腒腖腗腘腛",4,"腡腢腣腤腦腨腪腫腬腯腲腳腵腶腷腸膁膃",4,"膉膋膌膍膎膐膒",5,"膙膚膞",4,"膤膥"],["c480","膧膩膫",7,"膴",5,"膼膽膾膿臄臅臇臈臉臋臍",6,"摹蘑模膜磨摩魔抹末莫墨默沫漠寞陌谋牟某拇牡亩姆母墓暮幕募慕木目睦牧穆拿哪呐钠那娜纳氖乃奶耐奈南男难囊挠脑恼闹淖呢馁内嫩能妮霓倪泥尼拟你匿腻逆溺蔫拈年碾撵捻念娘酿鸟尿捏聂孽啮镊镍涅您柠狞凝宁"],["c540","臔",14,"臤臥臦臨臩臫臮",4,"臵",5,"臽臿舃與",4,"舎舏舑舓舕",5,"舝舠舤舥舦舧舩舮舲舺舼舽舿"],["c580","艀艁艂艃艅艆艈艊艌艍艎艐",7,"艙艛艜艝艞艠",7,"艩拧泞牛扭钮纽脓浓农弄奴努怒女暖虐疟挪懦糯诺哦欧鸥殴藕呕偶沤啪趴爬帕怕琶拍排牌徘湃派攀潘盘磐盼畔判叛乓庞旁耪胖抛咆刨炮袍跑泡呸胚培裴赔陪配佩沛喷盆砰抨烹澎彭蓬棚硼篷膨朋鹏捧碰坯砒霹批披劈琵毗"],["c640","艪艫艬艭艱艵艶艷艸艻艼芀芁芃芅芆芇芉芌芐芓芔芕芖芚芛芞芠芢芣芧芲芵芶芺芻芼芿苀苂苃苅苆苉苐苖苙苚苝苢苧苨苩苪苬苭苮苰苲苳苵苶苸"],["c680","苺苼",4,"茊茋茍茐茒茓茖茘茙茝",9,"茩茪茮茰茲茷茻茽啤脾疲皮匹痞僻屁譬篇偏片骗飘漂瓢票撇瞥拼频贫品聘乒坪苹萍平凭瓶评屏坡泼颇婆破魄迫粕剖扑铺仆莆葡菩蒲埔朴圃普浦谱曝瀑期欺栖戚妻七凄漆柒沏其棋奇歧畦崎脐齐旗祈祁骑起岂乞企启契砌器气迄弃汽泣讫掐"],["c740","茾茿荁荂荄荅荈荊",4,"荓荕",4,"荝荢荰",6,"荹荺荾",6,"莇莈莊莋莌莍莏莐莑莔莕莖莗莙莚莝莟莡",6,"莬莭莮"],["c780","莯莵莻莾莿菂菃菄菆菈菉菋菍菎菐菑菒菓菕菗菙菚菛菞菢菣菤菦菧菨菫菬菭恰洽牵扦钎铅千迁签仟谦乾黔钱钳前潜遣浅谴堑嵌欠歉枪呛腔羌墙蔷强抢橇锹敲悄桥瞧乔侨巧鞘撬翘峭俏窍切茄且怯窃钦侵亲秦琴勤芹擒禽寝沁青轻氢倾卿清擎晴氰情顷请庆琼穷秋丘邱球求囚酋泅趋区蛆曲躯屈驱渠"],["c840","菮華菳",4,"菺菻菼菾菿萀萂萅萇萈萉萊萐萒",5,"萙萚萛萞",5,"萩",7,"萲",5,"萹萺萻萾",7,"葇葈葉"],["c880","葊",6,"葒",4,"葘葝葞葟葠葢葤",4,"葪葮葯葰葲葴葷葹葻葼取娶龋趣去圈颧权醛泉全痊拳犬券劝缺炔瘸却鹊榷确雀裙群然燃冉染瓤壤攘嚷让饶扰绕惹热壬仁人忍韧任认刃妊纫扔仍日戎茸蓉荣融熔溶容绒冗揉柔肉茹蠕儒孺如辱乳汝入褥软阮蕊瑞锐闰润若弱撒洒萨腮鳃塞赛三叁"],["c940","葽",4,"蒃蒄蒅蒆蒊蒍蒏",7,"蒘蒚蒛蒝蒞蒟蒠蒢",12,"蒰蒱蒳蒵蒶蒷蒻蒼蒾蓀蓂蓃蓅蓆蓇蓈蓋蓌蓎蓏蓒蓔蓕蓗"],["c980","蓘",4,"蓞蓡蓢蓤蓧",4,"蓭蓮蓯蓱",10,"蓽蓾蔀蔁蔂伞散桑嗓丧搔骚扫嫂瑟色涩森僧莎砂杀刹沙纱傻啥煞筛晒珊苫杉山删煽衫闪陕擅赡膳善汕扇缮墒伤商赏晌上尚裳梢捎稍烧芍勺韶少哨邵绍奢赊蛇舌舍赦摄射慑涉社设砷申呻伸身深娠绅神沈审婶甚肾慎渗声生甥牲升绳"],["ca40","蔃",8,"蔍蔎蔏蔐蔒蔔蔕蔖蔘蔙蔛蔜蔝蔞蔠蔢",8,"蔭",9,"蔾",4,"蕄蕅蕆蕇蕋",10],["ca80","蕗蕘蕚蕛蕜蕝蕟",4,"蕥蕦蕧蕩",8,"蕳蕵蕶蕷蕸蕼蕽蕿薀薁省盛剩胜圣师失狮施湿诗尸虱十石拾时什食蚀实识史矢使屎驶始式示士世柿事拭誓逝势是嗜噬适仕侍释饰氏市恃室视试收手首守寿授售受瘦兽蔬枢梳殊抒输叔舒淑疏书赎孰熟薯暑曙署蜀黍鼠属术述树束戍竖墅庶数漱"],["cb40","薂薃薆薈",6,"薐",10,"薝",6,"薥薦薧薩薫薬薭薱",5,"薸薺",6,"藂",6,"藊",4,"藑藒"],["cb80","藔藖",5,"藝",6,"藥藦藧藨藪",14,"恕刷耍摔衰甩帅栓拴霜双爽谁水睡税吮瞬顺舜说硕朔烁斯撕嘶思私司丝死肆寺嗣四伺似饲巳松耸怂颂送宋讼诵搜艘擞嗽苏酥俗素速粟僳塑溯宿诉肃酸蒜算虽隋随绥髓碎岁穗遂隧祟孙损笋蓑梭唆缩琐索锁所塌他它她塔"],["cc40","藹藺藼藽藾蘀",4,"蘆",10,"蘒蘓蘔蘕蘗",15,"蘨蘪",13,"蘹蘺蘻蘽蘾蘿虀"],["cc80","虁",11,"虒虓處",4,"虛虜虝號虠虡虣",7,"獭挞蹋踏胎苔抬台泰酞太态汰坍摊贪瘫滩坛檀痰潭谭谈坦毯袒碳探叹炭汤塘搪堂棠膛唐糖倘躺淌趟烫掏涛滔绦萄桃逃淘陶讨套特藤腾疼誊梯剔踢锑提题蹄啼体替嚏惕涕剃屉天添填田甜恬舔腆挑条迢眺跳贴铁帖厅听烃"],["cd40","虭虯虰虲",6,"蚃",6,"蚎",4,"蚔蚖",5,"蚞",4,"蚥蚦蚫蚭蚮蚲蚳蚷蚸蚹蚻",4,"蛁蛂蛃蛅蛈蛌蛍蛒蛓蛕蛖蛗蛚蛜"],["cd80","蛝蛠蛡蛢蛣蛥蛦蛧蛨蛪蛫蛬蛯蛵蛶蛷蛺蛻蛼蛽蛿蜁蜄蜅蜆蜋蜌蜎蜏蜐蜑蜔蜖汀廷停亭庭挺艇通桐酮瞳同铜彤童桶捅筒统痛偷投头透凸秃突图徒途涂屠土吐兔湍团推颓腿蜕褪退吞屯臀拖托脱鸵陀驮驼椭妥拓唾挖哇蛙洼娃瓦袜歪外豌弯湾玩顽丸烷完碗挽晚皖惋宛婉万腕汪王亡枉网往旺望忘妄威"],["ce40","蜙蜛蜝蜟蜠蜤蜦蜧蜨蜪蜫蜬蜭蜯蜰蜲蜳蜵蜶蜸蜹蜺蜼蜽蝀",6,"蝊蝋蝍蝏蝐蝑蝒蝔蝕蝖蝘蝚",5,"蝡蝢蝦",7,"蝯蝱蝲蝳蝵"],["ce80","蝷蝸蝹蝺蝿螀螁螄螆螇螉螊螌螎",4,"螔螕螖螘",6,"螠",4,"巍微危韦违桅围唯惟为潍维苇萎委伟伪尾纬未蔚味畏胃喂魏位渭谓尉慰卫瘟温蚊文闻纹吻稳紊问嗡翁瓮挝蜗涡窝我斡卧握沃巫呜钨乌污诬屋无芜梧吾吴毋武五捂午舞伍侮坞戊雾晤物勿务悟误昔熙析西硒矽晰嘻吸锡牺"],["cf40","螥螦螧螩螪螮螰螱螲螴螶螷螸螹螻螼螾螿蟁",4,"蟇蟈蟉蟌",4,"蟔",6,"蟜蟝蟞蟟蟡蟢蟣蟤蟦蟧蟨蟩蟫蟬蟭蟯",9],["cf80","蟺蟻蟼蟽蟿蠀蠁蠂蠄",5,"蠋",7,"蠔蠗蠘蠙蠚蠜",4,"蠣稀息希悉膝夕惜熄烯溪汐犀檄袭席习媳喜铣洗系隙戏细瞎虾匣霞辖暇峡侠狭下厦夏吓掀锨先仙鲜纤咸贤衔舷闲涎弦嫌显险现献县腺馅羡宪陷限线相厢镶香箱襄湘乡翔祥详想响享项巷橡像向象萧硝霄削哮嚣销消宵淆晓"],["d040","蠤",13,"蠳",5,"蠺蠻蠽蠾蠿衁衂衃衆",5,"衎",5,"衕衖衘衚",6,"衦衧衪衭衯衱衳衴衵衶衸衹衺"],["d080","衻衼袀袃袆袇袉袊袌袎袏袐袑袓袔袕袗",4,"袝",4,"袣袥",5,"小孝校肖啸笑效楔些歇蝎鞋协挟携邪斜胁谐写械卸蟹懈泄泻谢屑薪芯锌欣辛新忻心信衅星腥猩惺兴刑型形邢行醒幸杏性姓兄凶胸匈汹雄熊休修羞朽嗅锈秀袖绣墟戌需虚嘘须徐许蓄酗叙旭序畜恤絮婿绪续轩喧宣悬旋玄"],["d140","袬袮袯袰袲",4,"袸袹袺袻袽袾袿裀裃裄裇裈裊裋裌裍裏裐裑裓裖裗裚",4,"裠裡裦裧裩",6,"裲裵裶裷裺裻製裿褀褁褃",5],["d180","褉褋",4,"褑褔",4,"褜",4,"褢褣褤褦褧褨褩褬褭褮褯褱褲褳褵褷选癣眩绚靴薛学穴雪血勋熏循旬询寻驯巡殉汛训讯逊迅压押鸦鸭呀丫芽牙蚜崖衙涯雅哑亚讶焉咽阉烟淹盐严研蜒岩延言颜阎炎沿奄掩眼衍演艳堰燕厌砚雁唁彦焰宴谚验殃央鸯秧杨扬佯疡羊洋阳氧仰痒养样漾邀腰妖瑶"],["d240","褸",8,"襂襃襅",24,"襠",5,"襧",19,"襼"],["d280","襽襾覀覂覄覅覇",26,"摇尧遥窑谣姚咬舀药要耀椰噎耶爷野冶也页掖业叶曳腋夜液一壹医揖铱依伊衣颐夷遗移仪胰疑沂宜姨彝椅蚁倚已乙矣以艺抑易邑屹亿役臆逸肄疫亦裔意毅忆义益溢诣议谊译异翼翌绎茵荫因殷音阴姻吟银淫寅饮尹引隐"],["d340","覢",30,"觃觍觓觔觕觗觘觙觛觝觟觠觡觢觤觧觨觩觪觬觭觮觰觱觲觴",6],["d380","觻",4,"訁",5,"計",21,"印英樱婴鹰应缨莹萤营荧蝇迎赢盈影颖硬映哟拥佣臃痈庸雍踊蛹咏泳涌永恿勇用幽优悠忧尤由邮铀犹油游酉有友右佑釉诱又幼迂淤于盂榆虞愚舆余俞逾鱼愉渝渔隅予娱雨与屿禹宇语羽玉域芋郁吁遇喻峪御愈欲狱育誉"],["d440","訞",31,"訿",8,"詉",21],["d480","詟",25,"詺",6,"浴寓裕预豫驭鸳渊冤元垣袁原援辕园员圆猿源缘远苑愿怨院曰约越跃钥岳粤月悦阅耘云郧匀陨允运蕴酝晕韵孕匝砸杂栽哉灾宰载再在咱攒暂赞赃脏葬遭糟凿藻枣早澡蚤躁噪造皂灶燥责择则泽贼怎增憎曾赠扎喳渣札轧"],["d540","誁",7,"誋",7,"誔",46],["d580","諃",32,"铡闸眨栅榨咋乍炸诈摘斋宅窄债寨瞻毡詹粘沾盏斩辗崭展蘸栈占战站湛绽樟章彰漳张掌涨杖丈帐账仗胀瘴障招昭找沼赵照罩兆肇召遮折哲蛰辙者锗蔗这浙珍斟真甄砧臻贞针侦枕疹诊震振镇阵蒸挣睁征狰争怔整拯正政"],["d640","諤",34,"謈",27],["d680","謤謥謧",30,"帧症郑证芝枝支吱蜘知肢脂汁之织职直植殖执值侄址指止趾只旨纸志挚掷至致置帜峙制智秩稚质炙痔滞治窒中盅忠钟衷终种肿重仲众舟周州洲诌粥轴肘帚咒皱宙昼骤珠株蛛朱猪诸诛逐竹烛煮拄瞩嘱主著柱助蛀贮铸筑"],["d740","譆",31,"譧",4,"譭",25],["d780","讇",24,"讬讱讻诇诐诪谉谞住注祝驻抓爪拽专砖转撰赚篆桩庄装妆撞壮状椎锥追赘坠缀谆准捉拙卓桌琢茁酌啄着灼浊兹咨资姿滋淄孜紫仔籽滓子自渍字鬃棕踪宗综总纵邹走奏揍租足卒族祖诅阻组钻纂嘴醉最罪尊遵昨左佐柞做作坐座"],["d840","谸",8,"豂豃豄豅豈豊豋豍",7,"豖豗豘豙豛",5,"豣",6,"豬",6,"豴豵豶豷豻",6,"貃貄貆貇"],["d880","貈貋貍",6,"貕貖貗貙",20,"亍丌兀丐廿卅丕亘丞鬲孬噩丨禺丿匕乇夭爻卮氐囟胤馗毓睾鼗丶亟鼐乜乩亓芈孛啬嘏仄厍厝厣厥厮靥赝匚叵匦匮匾赜卦卣刂刈刎刭刳刿剀剌剞剡剜蒯剽劂劁劐劓冂罔亻仃仉仂仨仡仫仞伛仳伢佤仵伥伧伉伫佞佧攸佚佝"],["d940","貮",62],["d980","賭",32,"佟佗伲伽佶佴侑侉侃侏佾佻侪佼侬侔俦俨俪俅俚俣俜俑俟俸倩偌俳倬倏倮倭俾倜倌倥倨偾偃偕偈偎偬偻傥傧傩傺僖儆僭僬僦僮儇儋仝氽佘佥俎龠汆籴兮巽黉馘冁夔勹匍訇匐凫夙兕亠兖亳衮袤亵脔裒禀嬴蠃羸冫冱冽冼"],["da40","贎",14,"贠赑赒赗赟赥赨赩赪赬赮赯赱赲赸",8,"趂趃趆趇趈趉趌",4,"趒趓趕",9,"趠趡"],["da80","趢趤",12,"趲趶趷趹趻趽跀跁跂跅跇跈跉跊跍跐跒跓跔凇冖冢冥讠讦讧讪讴讵讷诂诃诋诏诎诒诓诔诖诘诙诜诟诠诤诨诩诮诰诳诶诹诼诿谀谂谄谇谌谏谑谒谔谕谖谙谛谘谝谟谠谡谥谧谪谫谮谯谲谳谵谶卩卺阝阢阡阱阪阽阼陂陉陔陟陧陬陲陴隈隍隗隰邗邛邝邙邬邡邴邳邶邺"],["db40","跕跘跙跜跠跡跢跥跦跧跩跭跮跰跱跲跴跶跼跾",6,"踆踇踈踋踍踎踐踑踒踓踕",7,"踠踡踤",4,"踫踭踰踲踳踴踶踷踸踻踼踾"],["db80","踿蹃蹅蹆蹌",4,"蹓",5,"蹚",11,"蹧蹨蹪蹫蹮蹱邸邰郏郅邾郐郄郇郓郦郢郜郗郛郫郯郾鄄鄢鄞鄣鄱鄯鄹酃酆刍奂劢劬劭劾哿勐勖勰叟燮矍廴凵凼鬯厶弁畚巯坌垩垡塾墼壅壑圩圬圪圳圹圮圯坜圻坂坩垅坫垆坼坻坨坭坶坳垭垤垌垲埏垧垴垓垠埕埘埚埙埒垸埴埯埸埤埝"],["dc40","蹳蹵蹷",4,"蹽蹾躀躂躃躄躆躈",6,"躑躒躓躕",6,"躝躟",11,"躭躮躰躱躳",6,"躻",7],["dc80","軃",10,"軏",21,"堋堍埽埭堀堞堙塄堠塥塬墁墉墚墀馨鼙懿艹艽艿芏芊芨芄芎芑芗芙芫芸芾芰苈苊苣芘芷芮苋苌苁芩芴芡芪芟苄苎芤苡茉苷苤茏茇苜苴苒苘茌苻苓茑茚茆茔茕苠苕茜荑荛荜茈莒茼茴茱莛荞茯荏荇荃荟荀茗荠茭茺茳荦荥"],["dd40","軥",62],["dd80","輤",32,"荨茛荩荬荪荭荮莰荸莳莴莠莪莓莜莅荼莶莩荽莸荻莘莞莨莺莼菁萁菥菘堇萘萋菝菽菖萜萸萑萆菔菟萏萃菸菹菪菅菀萦菰菡葜葑葚葙葳蒇蒈葺蒉葸萼葆葩葶蒌蒎萱葭蓁蓍蓐蓦蒽蓓蓊蒿蒺蓠蒡蒹蒴蒗蓥蓣蔌甍蔸蓰蔹蔟蔺"],["de40","轅",32,"轪辀辌辒辝辠辡辢辤辥辦辧辪辬辭辮辯農辳辴辵辷辸辺辻込辿迀迃迆"],["de80","迉",4,"迏迒迖迗迚迠迡迣迧迬迯迱迲迴迵迶迺迻迼迾迿逇逈逌逎逓逕逘蕖蔻蓿蓼蕙蕈蕨蕤蕞蕺瞢蕃蕲蕻薤薨薇薏蕹薮薜薅薹薷薰藓藁藜藿蘧蘅蘩蘖蘼廾弈夼奁耷奕奚奘匏尢尥尬尴扌扪抟抻拊拚拗拮挢拶挹捋捃掭揶捱捺掎掴捭掬掊捩掮掼揲揸揠揿揄揞揎摒揆掾摅摁搋搛搠搌搦搡摞撄摭撖"],["df40","這逜連逤逥逧",5,"逰",4,"逷逹逺逽逿遀遃遅遆遈",4,"過達違遖遙遚遜",5,"遤遦遧適遪遫遬遯",4,"遶",6,"遾邁"],["df80","還邅邆邇邉邊邌",4,"邒邔邖邘邚邜邞邟邠邤邥邧邨邩邫邭邲邷邼邽邿郀摺撷撸撙撺擀擐擗擤擢攉攥攮弋忒甙弑卟叱叽叩叨叻吒吖吆呋呒呓呔呖呃吡呗呙吣吲咂咔呷呱呤咚咛咄呶呦咝哐咭哂咴哒咧咦哓哔呲咣哕咻咿哌哙哚哜咩咪咤哝哏哞唛哧唠哽唔哳唢唣唏唑唧唪啧喏喵啉啭啁啕唿啐唼"],["e040","郂郃郆郈郉郋郌郍郒郔郕郖郘郙郚郞郟郠郣郤郥郩郪郬郮郰郱郲郳郵郶郷郹郺郻郼郿鄀鄁鄃鄅",19,"鄚鄛鄜"],["e080","鄝鄟鄠鄡鄤",10,"鄰鄲",6,"鄺",8,"酄唷啖啵啶啷唳唰啜喋嗒喃喱喹喈喁喟啾嗖喑啻嗟喽喾喔喙嗪嗷嗉嘟嗑嗫嗬嗔嗦嗝嗄嗯嗥嗲嗳嗌嗍嗨嗵嗤辔嘞嘈嘌嘁嘤嘣嗾嘀嘧嘭噘嘹噗嘬噍噢噙噜噌噔嚆噤噱噫噻噼嚅嚓嚯囔囗囝囡囵囫囹囿圄圊圉圜帏帙帔帑帱帻帼"],["e140","酅酇酈酑酓酔酕酖酘酙酛酜酟酠酦酧酨酫酭酳酺酻酼醀",4,"醆醈醊醎醏醓",6,"醜",5,"醤",5,"醫醬醰醱醲醳醶醷醸醹醻"],["e180","醼",10,"釈釋釐釒",9,"針",8,"帷幄幔幛幞幡岌屺岍岐岖岈岘岙岑岚岜岵岢岽岬岫岱岣峁岷峄峒峤峋峥崂崃崧崦崮崤崞崆崛嵘崾崴崽嵬嵛嵯嵝嵫嵋嵊嵩嵴嶂嶙嶝豳嶷巅彳彷徂徇徉後徕徙徜徨徭徵徼衢彡犭犰犴犷犸狃狁狎狍狒狨狯狩狲狴狷猁狳猃狺"],["e240","釦",62],["e280","鈥",32,"狻猗猓猡猊猞猝猕猢猹猥猬猸猱獐獍獗獠獬獯獾舛夥飧夤夂饣饧",5,"饴饷饽馀馄馇馊馍馐馑馓馔馕庀庑庋庖庥庠庹庵庾庳赓廒廑廛廨廪膺忄忉忖忏怃忮怄忡忤忾怅怆忪忭忸怙怵怦怛怏怍怩怫怊怿怡恸恹恻恺恂"],["e340","鉆",45,"鉵",16],["e380","銆",7,"銏",24,"恪恽悖悚悭悝悃悒悌悛惬悻悱惝惘惆惚悴愠愦愕愣惴愀愎愫慊慵憬憔憧憷懔懵忝隳闩闫闱闳闵闶闼闾阃阄阆阈阊阋阌阍阏阒阕阖阗阙阚丬爿戕氵汔汜汊沣沅沐沔沌汨汩汴汶沆沩泐泔沭泷泸泱泗沲泠泖泺泫泮沱泓泯泾"],["e440","銨",5,"銯",24,"鋉",31],["e480","鋩",32,"洹洧洌浃浈洇洄洙洎洫浍洮洵洚浏浒浔洳涑浯涞涠浞涓涔浜浠浼浣渚淇淅淞渎涿淠渑淦淝淙渖涫渌涮渫湮湎湫溲湟溆湓湔渲渥湄滟溱溘滠漭滢溥溧溽溻溷滗溴滏溏滂溟潢潆潇漤漕滹漯漶潋潴漪漉漩澉澍澌潸潲潼潺濑"],["e540","錊",51,"錿",10],["e580","鍊",31,"鍫濉澧澹澶濂濡濮濞濠濯瀚瀣瀛瀹瀵灏灞宀宄宕宓宥宸甯骞搴寤寮褰寰蹇謇辶迓迕迥迮迤迩迦迳迨逅逄逋逦逑逍逖逡逵逶逭逯遄遑遒遐遨遘遢遛暹遴遽邂邈邃邋彐彗彖彘尻咫屐屙孱屣屦羼弪弩弭艴弼鬻屮妁妃妍妩妪妣"],["e640","鍬",34,"鎐",27],["e680","鎬",29,"鏋鏌鏍妗姊妫妞妤姒妲妯姗妾娅娆姝娈姣姘姹娌娉娲娴娑娣娓婀婧婊婕娼婢婵胬媪媛婷婺媾嫫媲嫒嫔媸嫠嫣嫱嫖嫦嫘嫜嬉嬗嬖嬲嬷孀尕尜孚孥孳孑孓孢驵驷驸驺驿驽骀骁骅骈骊骐骒骓骖骘骛骜骝骟骠骢骣骥骧纟纡纣纥纨纩"],["e740","鏎",7,"鏗",54],["e780","鐎",32,"纭纰纾绀绁绂绉绋绌绐绔绗绛绠绡绨绫绮绯绱绲缍绶绺绻绾缁缂缃缇缈缋缌缏缑缒缗缙缜缛缟缡",6,"缪缫缬缭缯",4,"缵幺畿巛甾邕玎玑玮玢玟珏珂珑玷玳珀珉珈珥珙顼琊珩珧珞玺珲琏琪瑛琦琥琨琰琮琬"],["e840","鐯",14,"鐿",43,"鑬鑭鑮鑯"],["e880","鑰",20,"钑钖钘铇铏铓铔铚铦铻锜锠琛琚瑁瑜瑗瑕瑙瑷瑭瑾璜璎璀璁璇璋璞璨璩璐璧瓒璺韪韫韬杌杓杞杈杩枥枇杪杳枘枧杵枨枞枭枋杷杼柰栉柘栊柩枰栌柙枵柚枳柝栀柃枸柢栎柁柽栲栳桠桡桎桢桄桤梃栝桕桦桁桧桀栾桊桉栩梵梏桴桷梓桫棂楮棼椟椠棹"],["e940","锧锳锽镃镈镋镕镚镠镮镴镵長",7,"門",42],["e980","閫",32,"椤棰椋椁楗棣椐楱椹楠楂楝榄楫榀榘楸椴槌榇榈槎榉楦楣楹榛榧榻榫榭槔榱槁槊槟榕槠榍槿樯槭樗樘橥槲橄樾檠橐橛樵檎橹樽樨橘橼檑檐檩檗檫猷獒殁殂殇殄殒殓殍殚殛殡殪轫轭轱轲轳轵轶轸轷轹轺轼轾辁辂辄辇辋"],["ea40","闌",27,"闬闿阇阓阘阛阞阠阣",6,"阫阬阭阯阰阷阸阹阺阾陁陃陊陎陏陑陒陓陖陗"],["ea80","陘陙陚陜陝陞陠陣陥陦陫陭",4,"陳陸",12,"隇隉隊辍辎辏辘辚軎戋戗戛戟戢戡戥戤戬臧瓯瓴瓿甏甑甓攴旮旯旰昊昙杲昃昕昀炅曷昝昴昱昶昵耆晟晔晁晏晖晡晗晷暄暌暧暝暾曛曜曦曩贲贳贶贻贽赀赅赆赈赉赇赍赕赙觇觊觋觌觎觏觐觑牮犟牝牦牯牾牿犄犋犍犏犒挈挲掰"],["eb40","隌階隑隒隓隕隖隚際隝",9,"隨",7,"隱隲隴隵隷隸隺隻隿雂雃雈雊雋雐雑雓雔雖",9,"雡",6,"雫"],["eb80","雬雭雮雰雱雲雴雵雸雺電雼雽雿霂霃霅霊霋霌霐霑霒霔霕霗",4,"霝霟霠搿擘耄毪毳毽毵毹氅氇氆氍氕氘氙氚氡氩氤氪氲攵敕敫牍牒牖爰虢刖肟肜肓肼朊肽肱肫肭肴肷胧胨胩胪胛胂胄胙胍胗朐胝胫胱胴胭脍脎胲胼朕脒豚脶脞脬脘脲腈腌腓腴腙腚腱腠腩腼腽腭腧塍媵膈膂膑滕膣膪臌朦臊膻"],["ec40","霡",8,"霫霬霮霯霱霳",4,"霺霻霼霽霿",18,"靔靕靗靘靚靜靝靟靣靤靦靧靨靪",7],["ec80","靲靵靷",4,"靽",7,"鞆",4,"鞌鞎鞏鞐鞓鞕鞖鞗鞙",4,"臁膦欤欷欹歃歆歙飑飒飓飕飙飚殳彀毂觳斐齑斓於旆旄旃旌旎旒旖炀炜炖炝炻烀炷炫炱烨烊焐焓焖焯焱煳煜煨煅煲煊煸煺熘熳熵熨熠燠燔燧燹爝爨灬焘煦熹戾戽扃扈扉礻祀祆祉祛祜祓祚祢祗祠祯祧祺禅禊禚禧禳忑忐"],["ed40","鞞鞟鞡鞢鞤",6,"鞬鞮鞰鞱鞳鞵",46],["ed80","韤韥韨韮",4,"韴韷",23,"怼恝恚恧恁恙恣悫愆愍慝憩憝懋懑戆肀聿沓泶淼矶矸砀砉砗砘砑斫砭砜砝砹砺砻砟砼砥砬砣砩硎硭硖硗砦硐硇硌硪碛碓碚碇碜碡碣碲碹碥磔磙磉磬磲礅磴礓礤礞礴龛黹黻黼盱眄眍盹眇眈眚眢眙眭眦眵眸睐睑睇睃睚睨"],["ee40","頏",62],["ee80","顎",32,"睢睥睿瞍睽瞀瞌瞑瞟瞠瞰瞵瞽町畀畎畋畈畛畲畹疃罘罡罟詈罨罴罱罹羁罾盍盥蠲钅钆钇钋钊钌钍钏钐钔钗钕钚钛钜钣钤钫钪钭钬钯钰钲钴钶",4,"钼钽钿铄铈",6,"铐铑铒铕铖铗铙铘铛铞铟铠铢铤铥铧铨铪"],["ef40","顯",5,"颋颎颒颕颙颣風",37,"飏飐飔飖飗飛飜飝飠",4],["ef80","飥飦飩",30,"铩铫铮铯铳铴铵铷铹铼铽铿锃锂锆锇锉锊锍锎锏锒",4,"锘锛锝锞锟锢锪锫锩锬锱锲锴锶锷锸锼锾锿镂锵镄镅镆镉镌镎镏镒镓镔镖镗镘镙镛镞镟镝镡镢镤",8,"镯镱镲镳锺矧矬雉秕秭秣秫稆嵇稃稂稞稔"],["f040","餈",4,"餎餏餑",28,"餯",26],["f080","饊",9,"饖",12,"饤饦饳饸饹饻饾馂馃馉稹稷穑黏馥穰皈皎皓皙皤瓞瓠甬鸠鸢鸨",4,"鸲鸱鸶鸸鸷鸹鸺鸾鹁鹂鹄鹆鹇鹈鹉鹋鹌鹎鹑鹕鹗鹚鹛鹜鹞鹣鹦",6,"鹱鹭鹳疒疔疖疠疝疬疣疳疴疸痄疱疰痃痂痖痍痣痨痦痤痫痧瘃痱痼痿瘐瘀瘅瘌瘗瘊瘥瘘瘕瘙"],["f140","馌馎馚",10,"馦馧馩",47],["f180","駙",32,"瘛瘼瘢瘠癀瘭瘰瘿瘵癃瘾瘳癍癞癔癜癖癫癯翊竦穸穹窀窆窈窕窦窠窬窨窭窳衤衩衲衽衿袂袢裆袷袼裉裢裎裣裥裱褚裼裨裾裰褡褙褓褛褊褴褫褶襁襦襻疋胥皲皴矜耒耔耖耜耠耢耥耦耧耩耨耱耋耵聃聆聍聒聩聱覃顸颀颃"],["f240","駺",62],["f280","騹",32,"颉颌颍颏颔颚颛颞颟颡颢颥颦虍虔虬虮虿虺虼虻蚨蚍蚋蚬蚝蚧蚣蚪蚓蚩蚶蛄蚵蛎蚰蚺蚱蚯蛉蛏蚴蛩蛱蛲蛭蛳蛐蜓蛞蛴蛟蛘蛑蜃蜇蛸蜈蜊蜍蜉蜣蜻蜞蜥蜮蜚蜾蝈蜴蜱蜩蜷蜿螂蜢蝽蝾蝻蝠蝰蝌蝮螋蝓蝣蝼蝤蝙蝥螓螯螨蟒"],["f340","驚",17,"驲骃骉骍骎骔骕骙骦骩",6,"骲骳骴骵骹骻骽骾骿髃髄髆",4,"髍髎髏髐髒體髕髖髗髙髚髛髜"],["f380","髝髞髠髢髣髤髥髧髨髩髪髬髮髰",8,"髺髼",6,"鬄鬅鬆蟆螈螅螭螗螃螫蟥螬螵螳蟋蟓螽蟑蟀蟊蟛蟪蟠蟮蠖蠓蟾蠊蠛蠡蠹蠼缶罂罄罅舐竺竽笈笃笄笕笊笫笏筇笸笪笙笮笱笠笥笤笳笾笞筘筚筅筵筌筝筠筮筻筢筲筱箐箦箧箸箬箝箨箅箪箜箢箫箴篑篁篌篝篚篥篦篪簌篾篼簏簖簋"],["f440","鬇鬉",5,"鬐鬑鬒鬔",10,"鬠鬡鬢鬤",10,"鬰鬱鬳",7,"鬽鬾鬿魀魆魊魋魌魎魐魒魓魕",5],["f480","魛",32,"簟簪簦簸籁籀臾舁舂舄臬衄舡舢舣舭舯舨舫舸舻舳舴舾艄艉艋艏艚艟艨衾袅袈裘裟襞羝羟羧羯羰羲籼敉粑粝粜粞粢粲粼粽糁糇糌糍糈糅糗糨艮暨羿翎翕翥翡翦翩翮翳糸絷綦綮繇纛麸麴赳趄趔趑趱赧赭豇豉酊酐酎酏酤"],["f540","魼",62],["f580","鮻",32,"酢酡酰酩酯酽酾酲酴酹醌醅醐醍醑醢醣醪醭醮醯醵醴醺豕鹾趸跫踅蹙蹩趵趿趼趺跄跖跗跚跞跎跏跛跆跬跷跸跣跹跻跤踉跽踔踝踟踬踮踣踯踺蹀踹踵踽踱蹉蹁蹂蹑蹒蹊蹰蹶蹼蹯蹴躅躏躔躐躜躞豸貂貊貅貘貔斛觖觞觚觜"],["f640","鯜",62],["f680","鰛",32,"觥觫觯訾謦靓雩雳雯霆霁霈霏霎霪霭霰霾龀龃龅",5,"龌黾鼋鼍隹隼隽雎雒瞿雠銎銮鋈錾鍪鏊鎏鐾鑫鱿鲂鲅鲆鲇鲈稣鲋鲎鲐鲑鲒鲔鲕鲚鲛鲞",5,"鲥",4,"鲫鲭鲮鲰",7,"鲺鲻鲼鲽鳄鳅鳆鳇鳊鳋"],["f740","鰼",62],["f780","鱻鱽鱾鲀鲃鲄鲉鲊鲌鲏鲓鲖鲗鲘鲙鲝鲪鲬鲯鲹鲾",4,"鳈鳉鳑鳒鳚鳛鳠鳡鳌",4,"鳓鳔鳕鳗鳘鳙鳜鳝鳟鳢靼鞅鞑鞒鞔鞯鞫鞣鞲鞴骱骰骷鹘骶骺骼髁髀髅髂髋髌髑魅魃魇魉魈魍魑飨餍餮饕饔髟髡髦髯髫髻髭髹鬈鬏鬓鬟鬣麽麾縻麂麇麈麋麒鏖麝麟黛黜黝黠黟黢黩黧黥黪黯鼢鼬鼯鼹鼷鼽鼾齄"],["f840","鳣",62],["f880","鴢",32],["f940","鵃",62],["f980","鶂",32],["fa40","鶣",62],["fa80","鷢",32],["fb40","鸃",27,"鸤鸧鸮鸰鸴鸻鸼鹀鹍鹐鹒鹓鹔鹖鹙鹝鹟鹠鹡鹢鹥鹮鹯鹲鹴",9,"麀"],["fb80","麁麃麄麅麆麉麊麌",5,"麔",8,"麞麠",5,"麧麨麩麪"],["fc40","麫",8,"麵麶麷麹麺麼麿",4,"黅黆黇黈黊黋黌黐黒黓黕黖黗黙黚點黡黣黤黦黨黫黬黭黮黰",8,"黺黽黿",6],["fc80","鼆",4,"鼌鼏鼑鼒鼔鼕鼖鼘鼚",5,"鼡鼣",8,"鼭鼮鼰鼱"],["fd40","鼲",4,"鼸鼺鼼鼿",4,"齅",10,"齒",38],["fd80","齹",5,"龁龂龍",11,"龜龝龞龡",4,"郎凉秊裏隣"],["fe40","兀嗀﨎﨏﨑﨓﨔礼﨟蘒﨡﨣﨤﨧﨨﨩"]];
},{}],"p4xS":[function(require,module,exports) {
module.exports=[["a140","",62],["a180","",32],["a240","",62],["a280","",32],["a2ab","",5],["a2e3","€"],["a2ef",""],["a2fd",""],["a340","",62],["a380","",31,"　"],["a440","",62],["a480","",32],["a4f4","",10],["a540","",62],["a580","",32],["a5f7","",7],["a640","",62],["a680","",32],["a6b9","",7],["a6d9","",6],["a6ec",""],["a6f3",""],["a6f6","",8],["a740","",62],["a780","",32],["a7c2","",14],["a7f2","",12],["a896","",10],["a8bc","ḿ"],["a8bf","ǹ"],["a8c1",""],["a8ea","",20],["a958",""],["a95b",""],["a95d",""],["a989","〾⿰",11],["a997","",12],["a9f0","",14],["aaa1","",93],["aba1","",93],["aca1","",93],["ada1","",93],["aea1","",93],["afa1","",93],["d7fa","",4],["f8a1","",93],["f9a1","",93],["faa1","",93],["fba1","",93],["fca1","",93],["fda1","",93],["fe50","⺁⺄㑳㑇⺈⺋㖞㘚㘎⺌⺗㥮㤘㧏㧟㩳㧐㭎㱮㳠⺧⺪䁖䅟⺮䌷⺳⺶⺷䎱䎬⺻䏝䓖䙡䙌"],["fe80","䜣䜩䝼䞍⻊䥇䥺䥽䦂䦃䦅䦆䦟䦛䦷䦶䲣䲟䲠䲡䱷䲢䴓",6,"䶮",93],["8135f437",""]];
},{}],"UacA":[function(require,module,exports) {
module.exports={uChars:[128,165,169,178,184,216,226,235,238,244,248,251,253,258,276,284,300,325,329,334,364,463,465,467,469,471,473,475,477,506,594,610,712,716,730,930,938,962,970,1026,1104,1106,8209,8215,8218,8222,8231,8241,8244,8246,8252,8365,8452,8454,8458,8471,8482,8556,8570,8596,8602,8713,8720,8722,8726,8731,8737,8740,8742,8748,8751,8760,8766,8777,8781,8787,8802,8808,8816,8854,8858,8870,8896,8979,9322,9372,9548,9588,9616,9622,9634,9652,9662,9672,9676,9680,9702,9735,9738,9793,9795,11906,11909,11913,11917,11928,11944,11947,11951,11956,11960,11964,11979,12284,12292,12312,12319,12330,12351,12436,12447,12535,12543,12586,12842,12850,12964,13200,13215,13218,13253,13263,13267,13270,13384,13428,13727,13839,13851,14617,14703,14801,14816,14964,15183,15471,15585,16471,16736,17208,17325,17330,17374,17623,17997,18018,18212,18218,18301,18318,18760,18811,18814,18820,18823,18844,18848,18872,19576,19620,19738,19887,40870,59244,59336,59367,59413,59417,59423,59431,59437,59443,59452,59460,59478,59493,63789,63866,63894,63976,63986,64016,64018,64021,64025,64034,64037,64042,65074,65093,65107,65112,65127,65132,65375,65510,65536],gbChars:[0,36,38,45,50,81,89,95,96,100,103,104,105,109,126,133,148,172,175,179,208,306,307,308,309,310,311,312,313,341,428,443,544,545,558,741,742,749,750,805,819,820,7922,7924,7925,7927,7934,7943,7944,7945,7950,8062,8148,8149,8152,8164,8174,8236,8240,8262,8264,8374,8380,8381,8384,8388,8390,8392,8393,8394,8396,8401,8406,8416,8419,8424,8437,8439,8445,8482,8485,8496,8521,8603,8936,8946,9046,9050,9063,9066,9076,9092,9100,9108,9111,9113,9131,9162,9164,9218,9219,11329,11331,11334,11336,11346,11361,11363,11366,11370,11372,11375,11389,11682,11686,11687,11692,11694,11714,11716,11723,11725,11730,11736,11982,11989,12102,12336,12348,12350,12384,12393,12395,12397,12510,12553,12851,12962,12973,13738,13823,13919,13933,14080,14298,14585,14698,15583,15847,16318,16434,16438,16481,16729,17102,17122,17315,17320,17402,17418,17859,17909,17911,17915,17916,17936,17939,17961,18664,18703,18814,18962,19043,33469,33470,33471,33484,33485,33490,33497,33501,33505,33513,33520,33536,33550,37845,37921,37948,38029,38038,38064,38065,38066,38069,38075,38076,38078,39108,39109,39113,39114,39115,39116,39265,39394,189e3]};
},{}],"BZv6":[function(require,module,exports) {
module.exports=[["0","\0",127],["8141","갂갃갅갆갋",4,"갘갞갟갡갢갣갥",6,"갮갲갳갴"],["8161","갵갶갷갺갻갽갾갿걁",9,"걌걎",5,"걕"],["8181","걖걗걙걚걛걝",18,"걲걳걵걶걹걻",4,"겂겇겈겍겎겏겑겒겓겕",6,"겞겢",5,"겫겭겮겱",6,"겺겾겿곀곂곃곅곆곇곉곊곋곍",7,"곖곘",7,"곢곣곥곦곩곫곭곮곲곴곷",4,"곾곿괁괂괃괅괇",4,"괎괐괒괓"],["8241","괔괕괖괗괙괚괛괝괞괟괡",7,"괪괫괮",5],["8261","괶괷괹괺괻괽",6,"굆굈굊",5,"굑굒굓굕굖굗"],["8281","굙",7,"굢굤",7,"굮굯굱굲굷굸굹굺굾궀궃",4,"궊궋궍궎궏궑",10,"궞",5,"궥",17,"궸",7,"귂귃귅귆귇귉",6,"귒귔",7,"귝귞귟귡귢귣귥",18],["8341","귺귻귽귾긂",5,"긊긌긎",5,"긕",7],["8361","긝",18,"긲긳긵긶긹긻긼"],["8381","긽긾긿깂깄깇깈깉깋깏깑깒깓깕깗",4,"깞깢깣깤깦깧깪깫깭깮깯깱",6,"깺깾",5,"꺆",5,"꺍",46,"꺿껁껂껃껅",6,"껎껒",5,"껚껛껝",8],["8441","껦껧껩껪껬껮",5,"껵껶껷껹껺껻껽",8],["8461","꼆꼉꼊꼋꼌꼎꼏꼑",18],["8481","꼤",7,"꼮꼯꼱꼳꼵",6,"꼾꽀꽄꽅꽆꽇꽊",5,"꽑",10,"꽞",5,"꽦",18,"꽺",5,"꾁꾂꾃꾅꾆꾇꾉",6,"꾒꾓꾔꾖",5,"꾝",26,"꾺꾻꾽꾾"],["8541","꾿꿁",5,"꿊꿌꿏",4,"꿕",6,"꿝",4],["8561","꿢",5,"꿪",5,"꿲꿳꿵꿶꿷꿹",6,"뀂뀃"],["8581","뀅",6,"뀍뀎뀏뀑뀒뀓뀕",6,"뀞",9,"뀩",26,"끆끇끉끋끍끏끐끑끒끖끘끚끛끜끞",29,"끾끿낁낂낃낅",6,"낎낐낒",5,"낛낝낞낣낤"],["8641","낥낦낧낪낰낲낶낷낹낺낻낽",6,"냆냊",5,"냒"],["8661","냓냕냖냗냙",6,"냡냢냣냤냦",10],["8681","냱",22,"넊넍넎넏넑넔넕넖넗넚넞",4,"넦넧넩넪넫넭",6,"넶넺",5,"녂녃녅녆녇녉",6,"녒녓녖녗녙녚녛녝녞녟녡",22,"녺녻녽녾녿놁놃",4,"놊놌놎놏놐놑놕놖놗놙놚놛놝"],["8741","놞",9,"놩",15],["8761","놹",18,"뇍뇎뇏뇑뇒뇓뇕"],["8781","뇖",5,"뇞뇠",7,"뇪뇫뇭뇮뇯뇱",7,"뇺뇼뇾",5,"눆눇눉눊눍",6,"눖눘눚",5,"눡",18,"눵",6,"눽",26,"뉙뉚뉛뉝뉞뉟뉡",6,"뉪",4],["8841","뉯",4,"뉶",5,"뉽",6,"늆늇늈늊",4],["8861","늏늒늓늕늖늗늛",4,"늢늤늧늨늩늫늭늮늯늱늲늳늵늶늷"],["8881","늸",15,"닊닋닍닎닏닑닓",4,"닚닜닞닟닠닡닣닧닩닪닰닱닲닶닼닽닾댂댃댅댆댇댉",6,"댒댖",5,"댝",54,"덗덙덚덝덠덡덢덣"],["8941","덦덨덪덬덭덯덲덳덵덶덷덹",6,"뎂뎆",5,"뎍"],["8961","뎎뎏뎑뎒뎓뎕",10,"뎢",5,"뎩뎪뎫뎭"],["8981","뎮",21,"돆돇돉돊돍돏돑돒돓돖돘돚돜돞돟돡돢돣돥돦돧돩",18,"돽",18,"됑",6,"됙됚됛됝됞됟됡",6,"됪됬",7,"됵",15],["8a41","둅",10,"둒둓둕둖둗둙",6,"둢둤둦"],["8a61","둧",4,"둭",18,"뒁뒂"],["8a81","뒃",4,"뒉",19,"뒞",5,"뒥뒦뒧뒩뒪뒫뒭",7,"뒶뒸뒺",5,"듁듂듃듅듆듇듉",6,"듑듒듓듔듖",5,"듞듟듡듢듥듧",4,"듮듰듲",5,"듹",26,"딖딗딙딚딝"],["8b41","딞",5,"딦딫",4,"딲딳딵딶딷딹",6,"땂땆"],["8b61","땇땈땉땊땎땏땑땒땓땕",6,"땞땢",8],["8b81","땫",52,"떢떣떥떦떧떩떬떭떮떯떲떶",4,"떾떿뗁뗂뗃뗅",6,"뗎뗒",5,"뗙",18,"뗭",18],["8c41","똀",15,"똒똓똕똖똗똙",4],["8c61","똞",6,"똦",5,"똭",6,"똵",5],["8c81","똻",12,"뙉",26,"뙥뙦뙧뙩",50,"뚞뚟뚡뚢뚣뚥",5,"뚭뚮뚯뚰뚲",16],["8d41","뛃",16,"뛕",8],["8d61","뛞",17,"뛱뛲뛳뛵뛶뛷뛹뛺"],["8d81","뛻",4,"뜂뜃뜄뜆",33,"뜪뜫뜭뜮뜱",6,"뜺뜼",7,"띅띆띇띉띊띋띍",6,"띖",9,"띡띢띣띥띦띧띩",6,"띲띴띶",5,"띾띿랁랂랃랅",6,"랎랓랔랕랚랛랝랞"],["8e41","랟랡",6,"랪랮",5,"랶랷랹",8],["8e61","럂",4,"럈럊",19],["8e81","럞",13,"럮럯럱럲럳럵",6,"럾렂",4,"렊렋렍렎렏렑",6,"렚렜렞",5,"렦렧렩렪렫렭",6,"렶렺",5,"롁롂롃롅",11,"롒롔",7,"롞롟롡롢롣롥",6,"롮롰롲",5,"롹롺롻롽",7],["8f41","뢅",7,"뢎",17],["8f61","뢠",7,"뢩",6,"뢱뢲뢳뢵뢶뢷뢹",4],["8f81","뢾뢿룂룄룆",5,"룍룎룏룑룒룓룕",7,"룞룠룢",5,"룪룫룭룮룯룱",6,"룺룼룾",5,"뤅",18,"뤙",6,"뤡",26,"뤾뤿륁륂륃륅",6,"륍륎륐륒",5],["9041","륚륛륝륞륟륡",6,"륪륬륮",5,"륶륷륹륺륻륽"],["9061","륾",5,"릆릈릋릌릏",15],["9081","릟",12,"릮릯릱릲릳릵",6,"릾맀맂",5,"맊맋맍맓",4,"맚맜맟맠맢맦맧맩맪맫맭",6,"맶맻",4,"먂",5,"먉",11,"먖",33,"먺먻먽먾먿멁멃멄멅멆"],["9141","멇멊멌멏멐멑멒멖멗멙멚멛멝",6,"멦멪",5],["9161","멲멳멵멶멷멹",9,"몆몈몉몊몋몍",5],["9181","몓",20,"몪몭몮몯몱몳",4,"몺몼몾",5,"뫅뫆뫇뫉",14,"뫚",33,"뫽뫾뫿묁묂묃묅",7,"묎묐묒",5,"묙묚묛묝묞묟묡",6],["9241","묨묪묬",7,"묷묹묺묿",4,"뭆뭈뭊뭋뭌뭎뭑뭒"],["9261","뭓뭕뭖뭗뭙",7,"뭢뭤",7,"뭭",4],["9281","뭲",21,"뮉뮊뮋뮍뮎뮏뮑",18,"뮥뮦뮧뮩뮪뮫뮭",6,"뮵뮶뮸",7,"믁믂믃믅믆믇믉",6,"믑믒믔",35,"믺믻믽믾밁"],["9341","밃",4,"밊밎밐밒밓밙밚밠밡밢밣밦밨밪밫밬밮밯밲밳밵"],["9361","밶밷밹",6,"뱂뱆뱇뱈뱊뱋뱎뱏뱑",8],["9381","뱚뱛뱜뱞",37,"벆벇벉벊벍벏",4,"벖벘벛",4,"벢벣벥벦벩",6,"벲벶",5,"벾벿볁볂볃볅",7,"볎볒볓볔볖볗볙볚볛볝",22,"볷볹볺볻볽"],["9441","볾",5,"봆봈봊",5,"봑봒봓봕",8],["9461","봞",5,"봥",6,"봭",12],["9481","봺",5,"뵁",6,"뵊뵋뵍뵎뵏뵑",6,"뵚",9,"뵥뵦뵧뵩",22,"붂붃붅붆붋",4,"붒붔붖붗붘붛붝",6,"붥",10,"붱",6,"붹",24],["9541","뷒뷓뷖뷗뷙뷚뷛뷝",11,"뷪",5,"뷱"],["9561","뷲뷳뷵뷶뷷뷹",6,"븁븂븄븆",5,"븎븏븑븒븓"],["9581","븕",6,"븞븠",35,"빆빇빉빊빋빍빏",4,"빖빘빜빝빞빟빢빣빥빦빧빩빫",4,"빲빶",4,"빾빿뺁뺂뺃뺅",6,"뺎뺒",5,"뺚",13,"뺩",14],["9641","뺸",23,"뻒뻓"],["9661","뻕뻖뻙",6,"뻡뻢뻦",5,"뻭",8],["9681","뻶",10,"뼂",5,"뼊",13,"뼚뼞",33,"뽂뽃뽅뽆뽇뽉",6,"뽒뽓뽔뽖",44],["9741","뾃",16,"뾕",8],["9761","뾞",17,"뾱",7],["9781","뾹",11,"뿆",5,"뿎뿏뿑뿒뿓뿕",6,"뿝뿞뿠뿢",89,"쀽쀾쀿"],["9841","쁀",16,"쁒",5,"쁙쁚쁛"],["9861","쁝쁞쁟쁡",6,"쁪",15],["9881","쁺",21,"삒삓삕삖삗삙",6,"삢삤삦",5,"삮삱삲삷",4,"삾샂샃샄샆샇샊샋샍샎샏샑",6,"샚샞",5,"샦샧샩샪샫샭",6,"샶샸샺",5,"섁섂섃섅섆섇섉",6,"섑섒섓섔섖",5,"섡섢섥섨섩섪섫섮"],["9941","섲섳섴섵섷섺섻섽섾섿셁",6,"셊셎",5,"셖셗"],["9961","셙셚셛셝",6,"셦셪",5,"셱셲셳셵셶셷셹셺셻"],["9981","셼",8,"솆",5,"솏솑솒솓솕솗",4,"솞솠솢솣솤솦솧솪솫솭솮솯솱",11,"솾",5,"쇅쇆쇇쇉쇊쇋쇍",6,"쇕쇖쇙",6,"쇡쇢쇣쇥쇦쇧쇩",6,"쇲쇴",7,"쇾쇿숁숂숃숅",6,"숎숐숒",5,"숚숛숝숞숡숢숣"],["9a41","숤숥숦숧숪숬숮숰숳숵",16],["9a61","쉆쉇쉉",6,"쉒쉓쉕쉖쉗쉙",6,"쉡쉢쉣쉤쉦"],["9a81","쉧",4,"쉮쉯쉱쉲쉳쉵",6,"쉾슀슂",5,"슊",5,"슑",6,"슙슚슜슞",5,"슦슧슩슪슫슮",5,"슶슸슺",33,"싞싟싡싢싥",5,"싮싰싲싳싴싵싷싺싽싾싿쌁",6,"쌊쌋쌎쌏"],["9b41","쌐쌑쌒쌖쌗쌙쌚쌛쌝",6,"쌦쌧쌪",8],["9b61","쌳",17,"썆",7],["9b81","썎",25,"썪썫썭썮썯썱썳",4,"썺썻썾",5,"쎅쎆쎇쎉쎊쎋쎍",50,"쏁",22,"쏚"],["9c41","쏛쏝쏞쏡쏣",4,"쏪쏫쏬쏮",5,"쏶쏷쏹",5],["9c61","쏿",8,"쐉",6,"쐑",9],["9c81","쐛",8,"쐥",6,"쐭쐮쐯쐱쐲쐳쐵",6,"쐾",9,"쑉",26,"쑦쑧쑩쑪쑫쑭",6,"쑶쑷쑸쑺",5,"쒁",18,"쒕",6,"쒝",12],["9d41","쒪",13,"쒹쒺쒻쒽",8],["9d61","쓆",25],["9d81","쓠",8,"쓪",5,"쓲쓳쓵쓶쓷쓹쓻쓼쓽쓾씂",9,"씍씎씏씑씒씓씕",6,"씝",10,"씪씫씭씮씯씱",6,"씺씼씾",5,"앆앇앋앏앐앑앒앖앚앛앜앟앢앣앥앦앧앩",6,"앲앶",5,"앾앿얁얂얃얅얆얈얉얊얋얎얐얒얓얔"],["9e41","얖얙얚얛얝얞얟얡",7,"얪",9,"얶"],["9e61","얷얺얿",4,"엋엍엏엒엓엕엖엗엙",6,"엢엤엦엧"],["9e81","엨엩엪엫엯엱엲엳엵엸엹엺엻옂옃옄옉옊옋옍옎옏옑",6,"옚옝",6,"옦옧옩옪옫옯옱옲옶옸옺옼옽옾옿왂왃왅왆왇왉",6,"왒왖",5,"왞왟왡",10,"왭왮왰왲",5,"왺왻왽왾왿욁",6,"욊욌욎",5,"욖욗욙욚욛욝",6,"욦"],["9f41","욨욪",5,"욲욳욵욶욷욻",4,"웂웄웆",5,"웎"],["9f61","웏웑웒웓웕",6,"웞웟웢",5,"웪웫웭웮웯웱웲"],["9f81","웳",4,"웺웻웼웾",5,"윆윇윉윊윋윍",6,"윖윘윚",5,"윢윣윥윦윧윩",6,"윲윴윶윸윹윺윻윾윿읁읂읃읅",4,"읋읎읐읙읚읛읝읞읟읡",6,"읩읪읬",7,"읶읷읹읺읻읿잀잁잂잆잋잌잍잏잒잓잕잙잛",4,"잢잧",4,"잮잯잱잲잳잵잶잷"],["a041","잸잹잺잻잾쟂",5,"쟊쟋쟍쟏쟑",6,"쟙쟚쟛쟜"],["a061","쟞",5,"쟥쟦쟧쟩쟪쟫쟭",13],["a081","쟻",4,"젂젃젅젆젇젉젋",4,"젒젔젗",4,"젞젟젡젢젣젥",6,"젮젰젲",5,"젹젺젻젽젾젿졁",6,"졊졋졎",5,"졕",26,"졲졳졵졶졷졹졻",4,"좂좄좈좉좊좎",5,"좕",7,"좞좠좢좣좤"],["a141","좥좦좧좩",18,"좾좿죀죁"],["a161","죂죃죅죆죇죉죊죋죍",6,"죖죘죚",5,"죢죣죥"],["a181","죦",14,"죶",5,"죾죿줁줂줃줇",4,"줎　、。·‥…¨〃­―∥＼∼‘’“”〔〕〈",9,"±×÷≠≤≥∞∴°′″℃Å￠￡￥♂♀∠⊥⌒∂∇≡≒§※☆★○●◎◇◆□■△▲▽▼→←↑↓↔〓≪≫√∽∝∵∫∬∈∋⊆⊇⊂⊃∪∩∧∨￢"],["a241","줐줒",5,"줙",18],["a261","줭",6,"줵",18],["a281","쥈",7,"쥒쥓쥕쥖쥗쥙",6,"쥢쥤",7,"쥭쥮쥯⇒⇔∀∃´～ˇ˘˝˚˙¸˛¡¿ː∮∑∏¤℉‰◁◀▷▶♤♠♡♥♧♣⊙◈▣◐◑▒▤▥▨▧▦▩♨☏☎☜☞¶†‡↕↗↙↖↘♭♩♪♬㉿㈜№㏇™㏂㏘℡€®"],["a341","쥱쥲쥳쥵",6,"쥽",10,"즊즋즍즎즏"],["a361","즑",6,"즚즜즞",16],["a381","즯",16,"짂짃짅짆짉짋",4,"짒짔짗짘짛！",58,"￦］",32,"￣"],["a441","짞짟짡짣짥짦짨짩짪짫짮짲",5,"짺짻짽짾짿쨁쨂쨃쨄"],["a461","쨅쨆쨇쨊쨎",5,"쨕쨖쨗쨙",12],["a481","쨦쨧쨨쨪",28,"ㄱ",93],["a541","쩇",4,"쩎쩏쩑쩒쩓쩕",6,"쩞쩢",5,"쩩쩪"],["a561","쩫",17,"쩾",5,"쪅쪆"],["a581","쪇",16,"쪙",14,"ⅰ",9],["a5b0","Ⅰ",9],["a5c1","Α",16,"Σ",6],["a5e1","α",16,"σ",6],["a641","쪨",19,"쪾쪿쫁쫂쫃쫅"],["a661","쫆",5,"쫎쫐쫒쫔쫕쫖쫗쫚",5,"쫡",6],["a681","쫨쫩쫪쫫쫭",6,"쫵",18,"쬉쬊─│┌┐┘└├┬┤┴┼━┃┏┓┛┗┣┳┫┻╋┠┯┨┷┿┝┰┥┸╂┒┑┚┙┖┕┎┍┞┟┡┢┦┧┩┪┭┮┱┲┵┶┹┺┽┾╀╁╃",7],["a741","쬋",4,"쬑쬒쬓쬕쬖쬗쬙",6,"쬢",7],["a761","쬪",22,"쭂쭃쭄"],["a781","쭅쭆쭇쭊쭋쭍쭎쭏쭑",6,"쭚쭛쭜쭞",5,"쭥",7,"㎕㎖㎗ℓ㎘㏄㎣㎤㎥㎦㎙",9,"㏊㎍㎎㎏㏏㎈㎉㏈㎧㎨㎰",9,"㎀",4,"㎺",5,"㎐",4,"Ω㏀㏁㎊㎋㎌㏖㏅㎭㎮㎯㏛㎩㎪㎫㎬㏝㏐㏓㏃㏉㏜㏆"],["a841","쭭",10,"쭺",14],["a861","쮉",18,"쮝",6],["a881","쮤",19,"쮹",11,"ÆÐªĦ"],["a8a6","Ĳ"],["a8a8","ĿŁØŒºÞŦŊ"],["a8b1","㉠",27,"ⓐ",25,"①",14,"½⅓⅔¼¾⅛⅜⅝⅞"],["a941","쯅",14,"쯕",10],["a961","쯠쯡쯢쯣쯥쯦쯨쯪",18],["a981","쯽",14,"찎찏찑찒찓찕",6,"찞찟찠찣찤æđðħıĳĸŀłøœßþŧŋŉ㈀",27,"⒜",25,"⑴",14,"¹²³⁴ⁿ₁₂₃₄"],["aa41","찥찦찪찫찭찯찱",6,"찺찿",4,"챆챇챉챊챋챍챎"],["aa61","챏",4,"챖챚",5,"챡챢챣챥챧챩",6,"챱챲"],["aa81","챳챴챶",29,"ぁ",82],["ab41","첔첕첖첗첚첛첝첞첟첡",6,"첪첮",5,"첶첷첹"],["ab61","첺첻첽",6,"쳆쳈쳊",5,"쳑쳒쳓쳕",5],["ab81","쳛",8,"쳥",6,"쳭쳮쳯쳱",12,"ァ",85],["ac41","쳾쳿촀촂",5,"촊촋촍촎촏촑",6,"촚촜촞촟촠"],["ac61","촡촢촣촥촦촧촩촪촫촭",11,"촺",4],["ac81","촿",28,"쵝쵞쵟А",5,"ЁЖ",25],["acd1","а",5,"ёж",25],["ad41","쵡쵢쵣쵥",6,"쵮쵰쵲",5,"쵹",7],["ad61","춁",6,"춉",10,"춖춗춙춚춛춝춞춟"],["ad81","춠춡춢춣춦춨춪",5,"춱",18,"췅"],["ae41","췆",5,"췍췎췏췑",16],["ae61","췢",5,"췩췪췫췭췮췯췱",6,"췺췼췾",4],["ae81","츃츅츆츇츉츊츋츍",6,"츕츖츗츘츚",5,"츢츣츥츦츧츩츪츫"],["af41","츬츭츮츯츲츴츶",19],["af61","칊",13,"칚칛칝칞칢",5,"칪칬"],["af81","칮",5,"칶칷칹칺칻칽",6,"캆캈캊",5,"캒캓캕캖캗캙"],["b041","캚",5,"캢캦",5,"캮",12],["b061","캻",5,"컂",19],["b081","컖",13,"컦컧컩컪컭",6,"컶컺",5,"가각간갇갈갉갊감",7,"같",4,"갠갤갬갭갯갰갱갸갹갼걀걋걍걔걘걜거걱건걷걸걺검겁것겄겅겆겉겊겋게겐겔겜겝겟겠겡겨격겪견겯결겸겹겻겼경곁계곈곌곕곗고곡곤곧골곪곬곯곰곱곳공곶과곽관괄괆"],["b141","켂켃켅켆켇켉",6,"켒켔켖",5,"켝켞켟켡켢켣"],["b161","켥",6,"켮켲",5,"켹",11],["b181","콅",14,"콖콗콙콚콛콝",6,"콦콨콪콫콬괌괍괏광괘괜괠괩괬괭괴괵괸괼굄굅굇굉교굔굘굡굣구국군굳굴굵굶굻굼굽굿궁궂궈궉권궐궜궝궤궷귀귁귄귈귐귑귓규균귤그극근귿글긁금급긋긍긔기긱긴긷길긺김깁깃깅깆깊까깍깎깐깔깖깜깝깟깠깡깥깨깩깬깰깸"],["b241","콭콮콯콲콳콵콶콷콹",6,"쾁쾂쾃쾄쾆",5,"쾍"],["b261","쾎",18,"쾢",5,"쾩"],["b281","쾪",5,"쾱",18,"쿅",6,"깹깻깼깽꺄꺅꺌꺼꺽꺾껀껄껌껍껏껐껑께껙껜껨껫껭껴껸껼꼇꼈꼍꼐꼬꼭꼰꼲꼴꼼꼽꼿꽁꽂꽃꽈꽉꽐꽜꽝꽤꽥꽹꾀꾄꾈꾐꾑꾕꾜꾸꾹꾼꿀꿇꿈꿉꿋꿍꿎꿔꿜꿨꿩꿰꿱꿴꿸뀀뀁뀄뀌뀐뀔뀜뀝뀨끄끅끈끊끌끎끓끔끕끗끙"],["b341","쿌",19,"쿢쿣쿥쿦쿧쿩"],["b361","쿪",5,"쿲쿴쿶",5,"쿽쿾쿿퀁퀂퀃퀅",5],["b381","퀋",5,"퀒",5,"퀙",19,"끝끼끽낀낄낌낍낏낑나낙낚난낟날낡낢남납낫",4,"낱낳내낵낸낼냄냅냇냈냉냐냑냔냘냠냥너넉넋넌널넒넓넘넙넛넜넝넣네넥넨넬넴넵넷넸넹녀녁년녈념녑녔녕녘녜녠노녹논놀놂놈놉놋농높놓놔놘놜놨뇌뇐뇔뇜뇝"],["b441","퀮",5,"퀶퀷퀹퀺퀻퀽",6,"큆큈큊",5],["b461","큑큒큓큕큖큗큙",6,"큡",10,"큮큯"],["b481","큱큲큳큵",6,"큾큿킀킂",18,"뇟뇨뇩뇬뇰뇹뇻뇽누눅눈눋눌눔눕눗눙눠눴눼뉘뉜뉠뉨뉩뉴뉵뉼늄늅늉느늑는늘늙늚늠늡늣능늦늪늬늰늴니닉닌닐닒님닙닛닝닢다닥닦단닫",4,"닳담답닷",4,"닿대댁댄댈댐댑댓댔댕댜더덕덖던덛덜덞덟덤덥"],["b541","킕",14,"킦킧킩킪킫킭",5],["b561","킳킶킸킺",5,"탂탃탅탆탇탊",5,"탒탖",4],["b581","탛탞탟탡탢탣탥",6,"탮탲",5,"탹",11,"덧덩덫덮데덱덴델뎀뎁뎃뎄뎅뎌뎐뎔뎠뎡뎨뎬도독돈돋돌돎돐돔돕돗동돛돝돠돤돨돼됐되된될됨됩됫됴두둑둔둘둠둡둣둥둬뒀뒈뒝뒤뒨뒬뒵뒷뒹듀듄듈듐듕드득든듣들듦듬듭듯등듸디딕딘딛딜딤딥딧딨딩딪따딱딴딸"],["b641","턅",7,"턎",17],["b661","턠",15,"턲턳턵턶턷턹턻턼턽턾"],["b681","턿텂텆",5,"텎텏텑텒텓텕",6,"텞텠텢",5,"텩텪텫텭땀땁땃땄땅땋때땍땐땔땜땝땟땠땡떠떡떤떨떪떫떰떱떳떴떵떻떼떽뗀뗄뗌뗍뗏뗐뗑뗘뗬또똑똔똘똥똬똴뙈뙤뙨뚜뚝뚠뚤뚫뚬뚱뛔뛰뛴뛸뜀뜁뜅뜨뜩뜬뜯뜰뜸뜹뜻띄띈띌띔띕띠띤띨띰띱띳띵라락란랄람랍랏랐랑랒랖랗"],["b741","텮",13,"텽",6,"톅톆톇톉톊"],["b761","톋",20,"톢톣톥톦톧"],["b781","톩",6,"톲톴톶톷톸톹톻톽톾톿퇁",14,"래랙랜랠램랩랫랬랭랴략랸럇량러럭런럴럼럽럿렀렁렇레렉렌렐렘렙렛렝려력련렬렴렵렷렸령례롄롑롓로록론롤롬롭롯롱롸롼뢍뢨뢰뢴뢸룀룁룃룅료룐룔룝룟룡루룩룬룰룸룹룻룽뤄뤘뤠뤼뤽륀륄륌륏륑류륙륜률륨륩"],["b841","퇐",7,"퇙",17],["b861","퇫",8,"퇵퇶퇷퇹",13],["b881","툈툊",5,"툑",24,"륫륭르륵른를름릅릇릉릊릍릎리릭린릴림립릿링마막만많",4,"맘맙맛망맞맡맣매맥맨맬맴맵맷맸맹맺먀먁먈먕머먹먼멀멂멈멉멋멍멎멓메멕멘멜멤멥멧멨멩며멱면멸몃몄명몇몌모목몫몬몰몲몸몹못몽뫄뫈뫘뫙뫼"],["b941","툪툫툮툯툱툲툳툵",6,"툾퉀퉂",5,"퉉퉊퉋퉌"],["b961","퉍",14,"퉝",6,"퉥퉦퉧퉨"],["b981","퉩",22,"튂튃튅튆튇튉튊튋튌묀묄묍묏묑묘묜묠묩묫무묵묶문묻물묽묾뭄뭅뭇뭉뭍뭏뭐뭔뭘뭡뭣뭬뮈뮌뮐뮤뮨뮬뮴뮷므믄믈믐믓미믹민믿밀밂밈밉밋밌밍및밑바",4,"받",4,"밤밥밧방밭배백밴밸뱀뱁뱃뱄뱅뱉뱌뱍뱐뱝버벅번벋벌벎범법벗"],["ba41","튍튎튏튒튓튔튖",5,"튝튞튟튡튢튣튥",6,"튭"],["ba61","튮튯튰튲",5,"튺튻튽튾틁틃",4,"틊틌",5],["ba81","틒틓틕틖틗틙틚틛틝",6,"틦",9,"틲틳틵틶틷틹틺벙벚베벡벤벧벨벰벱벳벴벵벼벽변별볍볏볐병볕볘볜보복볶본볼봄봅봇봉봐봔봤봬뵀뵈뵉뵌뵐뵘뵙뵤뵨부북분붇불붉붊붐붑붓붕붙붚붜붤붰붸뷔뷕뷘뷜뷩뷰뷴뷸븀븃븅브븍븐블븜븝븟비빅빈빌빎빔빕빗빙빚빛빠빡빤"],["bb41","틻",4,"팂팄팆",5,"팏팑팒팓팕팗",4,"팞팢팣"],["bb61","팤팦팧팪팫팭팮팯팱",6,"팺팾",5,"퍆퍇퍈퍉"],["bb81","퍊",31,"빨빪빰빱빳빴빵빻빼빽뺀뺄뺌뺍뺏뺐뺑뺘뺙뺨뻐뻑뻔뻗뻘뻠뻣뻤뻥뻬뼁뼈뼉뼘뼙뼛뼜뼝뽀뽁뽄뽈뽐뽑뽕뾔뾰뿅뿌뿍뿐뿔뿜뿟뿡쀼쁑쁘쁜쁠쁨쁩삐삑삔삘삠삡삣삥사삭삯산삳살삵삶삼삽삿샀상샅새색샌샐샘샙샛샜생샤"],["bc41","퍪",17,"퍾퍿펁펂펃펅펆펇"],["bc61","펈펉펊펋펎펒",5,"펚펛펝펞펟펡",6,"펪펬펮"],["bc81","펯",4,"펵펶펷펹펺펻펽",6,"폆폇폊",5,"폑",5,"샥샨샬샴샵샷샹섀섄섈섐섕서",4,"섣설섦섧섬섭섯섰성섶세섹센셀셈셉셋셌셍셔셕션셜셤셥셧셨셩셰셴셸솅소속솎손솔솖솜솝솟송솥솨솩솬솰솽쇄쇈쇌쇔쇗쇘쇠쇤쇨쇰쇱쇳쇼쇽숀숄숌숍숏숑수숙순숟술숨숩숫숭"],["bd41","폗폙",7,"폢폤",7,"폮폯폱폲폳폵폶폷"],["bd61","폸폹폺폻폾퐀퐂",5,"퐉",13],["bd81","퐗",5,"퐞",25,"숯숱숲숴쉈쉐쉑쉔쉘쉠쉥쉬쉭쉰쉴쉼쉽쉿슁슈슉슐슘슛슝스슥슨슬슭슴습슷승시식신싣실싫심십싯싱싶싸싹싻싼쌀쌈쌉쌌쌍쌓쌔쌕쌘쌜쌤쌥쌨쌩썅써썩썬썰썲썸썹썼썽쎄쎈쎌쏀쏘쏙쏜쏟쏠쏢쏨쏩쏭쏴쏵쏸쐈쐐쐤쐬쐰"],["be41","퐸",7,"푁푂푃푅",14],["be61","푔",7,"푝푞푟푡푢푣푥",7,"푮푰푱푲"],["be81","푳",4,"푺푻푽푾풁풃",4,"풊풌풎",5,"풕",8,"쐴쐼쐽쑈쑤쑥쑨쑬쑴쑵쑹쒀쒔쒜쒸쒼쓩쓰쓱쓴쓸쓺쓿씀씁씌씐씔씜씨씩씬씰씸씹씻씽아악안앉않알앍앎앓암압앗았앙앝앞애액앤앨앰앱앳앴앵야약얀얄얇얌얍얏양얕얗얘얜얠얩어억언얹얻얼얽얾엄",6,"엌엎"],["bf41","풞",10,"풪",14],["bf61","풹",18,"퓍퓎퓏퓑퓒퓓퓕"],["bf81","퓖",5,"퓝퓞퓠",7,"퓩퓪퓫퓭퓮퓯퓱",6,"퓹퓺퓼에엑엔엘엠엡엣엥여역엮연열엶엷염",5,"옅옆옇예옌옐옘옙옛옜오옥온올옭옮옰옳옴옵옷옹옻와왁완왈왐왑왓왔왕왜왝왠왬왯왱외왹왼욀욈욉욋욍요욕욘욜욤욥욧용우욱운울욹욺움웁웃웅워웍원월웜웝웠웡웨"],["c041","퓾",5,"픅픆픇픉픊픋픍",6,"픖픘",5],["c061","픞",25],["c081","픸픹픺픻픾픿핁핂핃핅",6,"핎핐핒",5,"핚핛핝핞핟핡핢핣웩웬웰웸웹웽위윅윈윌윔윕윗윙유육윤율윰윱윳융윷으윽은을읊음읍읏응",7,"읜읠읨읫이익인일읽읾잃임입잇있잉잊잎자작잔잖잗잘잚잠잡잣잤장잦재잭잰잴잼잽잿쟀쟁쟈쟉쟌쟎쟐쟘쟝쟤쟨쟬저적전절젊"],["c141","핤핦핧핪핬핮",5,"핶핷핹핺핻핽",6,"햆햊햋"],["c161","햌햍햎햏햑",19,"햦햧"],["c181","햨",31,"점접젓정젖제젝젠젤젬젭젯젱져젼졀졈졉졌졍졔조족존졸졺좀좁좃종좆좇좋좌좍좔좝좟좡좨좼좽죄죈죌죔죕죗죙죠죡죤죵주죽준줄줅줆줌줍줏중줘줬줴쥐쥑쥔쥘쥠쥡쥣쥬쥰쥴쥼즈즉즌즐즘즙즛증지직진짇질짊짐집짓"],["c241","헊헋헍헎헏헑헓",4,"헚헜헞",5,"헦헧헩헪헫헭헮"],["c261","헯",4,"헶헸헺",5,"혂혃혅혆혇혉",6,"혒"],["c281","혖",5,"혝혞혟혡혢혣혥",7,"혮",9,"혺혻징짖짙짚짜짝짠짢짤짧짬짭짯짰짱째짹짼쨀쨈쨉쨋쨌쨍쨔쨘쨩쩌쩍쩐쩔쩜쩝쩟쩠쩡쩨쩽쪄쪘쪼쪽쫀쫄쫌쫍쫏쫑쫓쫘쫙쫠쫬쫴쬈쬐쬔쬘쬠쬡쭁쭈쭉쭌쭐쭘쭙쭝쭤쭸쭹쮜쮸쯔쯤쯧쯩찌찍찐찔찜찝찡찢찧차착찬찮찰참찹찻"],["c341","혽혾혿홁홂홃홄홆홇홊홌홎홏홐홒홓홖홗홙홚홛홝",4],["c361","홢",4,"홨홪",5,"홲홳홵",11],["c381","횁횂횄횆",5,"횎횏횑횒횓횕",7,"횞횠횢",5,"횩횪찼창찾채책챈챌챔챕챗챘챙챠챤챦챨챰챵처척천철첨첩첫첬청체첵첸첼쳄쳅쳇쳉쳐쳔쳤쳬쳰촁초촉촌촐촘촙촛총촤촨촬촹최쵠쵤쵬쵭쵯쵱쵸춈추축춘출춤춥춧충춰췄췌췐취췬췰췸췹췻췽츄츈츌츔츙츠측츤츨츰츱츳층"],["c441","횫횭횮횯횱",7,"횺횼",7,"훆훇훉훊훋"],["c461","훍훎훏훐훒훓훕훖훘훚",5,"훡훢훣훥훦훧훩",4],["c481","훮훯훱훲훳훴훶",5,"훾훿휁휂휃휅",11,"휒휓휔치칙친칟칠칡침칩칫칭카칵칸칼캄캅캇캉캐캑캔캘캠캡캣캤캥캬캭컁커컥컨컫컬컴컵컷컸컹케켁켄켈켐켑켓켕켜켠켤켬켭켯켰켱켸코콕콘콜콤콥콧콩콰콱콴콸쾀쾅쾌쾡쾨쾰쿄쿠쿡쿤쿨쿰쿱쿳쿵쿼퀀퀄퀑퀘퀭퀴퀵퀸퀼"],["c541","휕휖휗휚휛휝휞휟휡",6,"휪휬휮",5,"휶휷휹"],["c561","휺휻휽",6,"흅흆흈흊",5,"흒흓흕흚",4],["c581","흟흢흤흦흧흨흪흫흭흮흯흱흲흳흵",6,"흾흿힀힂",5,"힊힋큄큅큇큉큐큔큘큠크큭큰클큼큽킁키킥킨킬킴킵킷킹타탁탄탈탉탐탑탓탔탕태택탠탤탬탭탯탰탱탸턍터턱턴털턺텀텁텃텄텅테텍텐텔템텝텟텡텨텬텼톄톈토톡톤톨톰톱톳통톺톼퇀퇘퇴퇸툇툉툐투툭툰툴툼툽툿퉁퉈퉜"],["c641","힍힎힏힑",6,"힚힜힞",5],["c6a1","퉤튀튁튄튈튐튑튕튜튠튤튬튱트특튼튿틀틂틈틉틋틔틘틜틤틥티틱틴틸팀팁팃팅파팍팎판팔팖팜팝팟팠팡팥패팩팬팰팸팹팻팼팽퍄퍅퍼퍽펀펄펌펍펏펐펑페펙펜펠펨펩펫펭펴편펼폄폅폈평폐폘폡폣포폭폰폴폼폽폿퐁"],["c7a1","퐈퐝푀푄표푠푤푭푯푸푹푼푿풀풂품풉풋풍풔풩퓌퓐퓔퓜퓟퓨퓬퓰퓸퓻퓽프픈플픔픕픗피픽핀필핌핍핏핑하학한할핥함합핫항해핵핸핼햄햅햇했행햐향허헉헌헐헒험헙헛헝헤헥헨헬헴헵헷헹혀혁현혈혐협혓혔형혜혠"],["c8a1","혤혭호혹혼홀홅홈홉홋홍홑화확환활홧황홰홱홴횃횅회획횐횔횝횟횡효횬횰횹횻후훅훈훌훑훔훗훙훠훤훨훰훵훼훽휀휄휑휘휙휜휠휨휩휫휭휴휵휸휼흄흇흉흐흑흔흖흗흘흙흠흡흣흥흩희흰흴흼흽힁히힉힌힐힘힙힛힝"],["caa1","伽佳假價加可呵哥嘉嫁家暇架枷柯歌珂痂稼苛茄街袈訶賈跏軻迦駕刻却各恪慤殼珏脚覺角閣侃刊墾奸姦干幹懇揀杆柬桿澗癎看磵稈竿簡肝艮艱諫間乫喝曷渴碣竭葛褐蝎鞨勘坎堪嵌感憾戡敢柑橄減甘疳監瞰紺邯鑑鑒龕"],["cba1","匣岬甲胛鉀閘剛堈姜岡崗康强彊慷江畺疆糠絳綱羌腔舡薑襁講鋼降鱇介价個凱塏愷愾慨改槪漑疥皆盖箇芥蓋豈鎧開喀客坑更粳羹醵倨去居巨拒据據擧渠炬祛距踞車遽鉅鋸乾件健巾建愆楗腱虔蹇鍵騫乞傑杰桀儉劍劒檢"],["cca1","瞼鈐黔劫怯迲偈憩揭擊格檄激膈覡隔堅牽犬甄絹繭肩見譴遣鵑抉決潔結缺訣兼慊箝謙鉗鎌京俓倞傾儆勁勍卿坰境庚徑慶憬擎敬景暻更梗涇炅烱璟璥瓊痙硬磬竟競絅經耕耿脛莖警輕逕鏡頃頸驚鯨係啓堺契季屆悸戒桂械"],["cda1","棨溪界癸磎稽系繫繼計誡谿階鷄古叩告呱固姑孤尻庫拷攷故敲暠枯槁沽痼皐睾稿羔考股膏苦苽菰藁蠱袴誥賈辜錮雇顧高鼓哭斛曲梏穀谷鵠困坤崑昆梱棍滾琨袞鯤汨滑骨供公共功孔工恐恭拱控攻珙空蚣貢鞏串寡戈果瓜"],["cea1","科菓誇課跨過鍋顆廓槨藿郭串冠官寬慣棺款灌琯瓘管罐菅觀貫關館刮恝括适侊光匡壙廣曠洸炚狂珖筐胱鑛卦掛罫乖傀塊壞怪愧拐槐魁宏紘肱轟交僑咬喬嬌嶠巧攪敎校橋狡皎矯絞翹膠蕎蛟較轎郊餃驕鮫丘久九仇俱具勾"],["cfa1","區口句咎嘔坵垢寇嶇廐懼拘救枸柩構歐毆毬求溝灸狗玖球瞿矩究絿耉臼舅舊苟衢謳購軀逑邱鉤銶駒驅鳩鷗龜國局菊鞠鞫麴君窘群裙軍郡堀屈掘窟宮弓穹窮芎躬倦券勸卷圈拳捲權淃眷厥獗蕨蹶闕机櫃潰詭軌饋句晷歸貴"],["d0a1","鬼龜叫圭奎揆槻珪硅窺竅糾葵規赳逵閨勻均畇筠菌鈞龜橘克剋劇戟棘極隙僅劤勤懃斤根槿瑾筋芹菫覲謹近饉契今妗擒昑檎琴禁禽芩衾衿襟金錦伋及急扱汲級給亘兢矜肯企伎其冀嗜器圻基埼夔奇妓寄岐崎己幾忌技旗旣"],["d1a1","朞期杞棋棄機欺氣汽沂淇玘琦琪璂璣畸畿碁磯祁祇祈祺箕紀綺羈耆耭肌記譏豈起錡錤飢饑騎騏驥麒緊佶吉拮桔金喫儺喇奈娜懦懶拏拿癩",5,"那樂",4,"諾酪駱亂卵暖欄煖爛蘭難鸞捏捺南嵐枏楠湳濫男藍襤拉"],["d2a1","納臘蠟衲囊娘廊",4,"乃來內奈柰耐冷女年撚秊念恬拈捻寧寗努勞奴弩怒擄櫓爐瑙盧",5,"駑魯",10,"濃籠聾膿農惱牢磊腦賂雷尿壘",7,"嫩訥杻紐勒",5,"能菱陵尼泥匿溺多茶"],["d3a1","丹亶但單團壇彖斷旦檀段湍短端簞緞蛋袒鄲鍛撻澾獺疸達啖坍憺擔曇淡湛潭澹痰聃膽蕁覃談譚錟沓畓答踏遝唐堂塘幢戇撞棠當糖螳黨代垈坮大對岱帶待戴擡玳臺袋貸隊黛宅德悳倒刀到圖堵塗導屠島嶋度徒悼挑掉搗桃"],["d4a1","棹櫂淘渡滔濤燾盜睹禱稻萄覩賭跳蹈逃途道都鍍陶韜毒瀆牘犢獨督禿篤纛讀墩惇敦旽暾沌焞燉豚頓乭突仝冬凍動同憧東桐棟洞潼疼瞳童胴董銅兜斗杜枓痘竇荳讀豆逗頭屯臀芚遁遯鈍得嶝橙燈登等藤謄鄧騰喇懶拏癩羅"],["d5a1","蘿螺裸邏樂洛烙珞絡落諾酪駱丹亂卵欄欒瀾爛蘭鸞剌辣嵐擥攬欖濫籃纜藍襤覽拉臘蠟廊朗浪狼琅瑯螂郞來崍徠萊冷掠略亮倆兩凉梁樑粮粱糧良諒輛量侶儷勵呂廬慮戾旅櫚濾礪藜蠣閭驢驪麗黎力曆歷瀝礫轢靂憐戀攣漣"],["d6a1","煉璉練聯蓮輦連鍊冽列劣洌烈裂廉斂殮濂簾獵令伶囹寧岺嶺怜玲笭羚翎聆逞鈴零靈領齡例澧禮醴隷勞怒撈擄櫓潞瀘爐盧老蘆虜路輅露魯鷺鹵碌祿綠菉錄鹿麓論壟弄朧瀧瓏籠聾儡瀨牢磊賂賚賴雷了僚寮廖料燎療瞭聊蓼"],["d7a1","遼鬧龍壘婁屢樓淚漏瘻累縷蔞褸鏤陋劉旒柳榴流溜瀏琉瑠留瘤硫謬類六戮陸侖倫崙淪綸輪律慄栗率隆勒肋凜凌楞稜綾菱陵俚利厘吏唎履悧李梨浬犁狸理璃異痢籬罹羸莉裏裡里釐離鯉吝潾燐璘藺躪隣鱗麟林淋琳臨霖砬"],["d8a1","立笠粒摩瑪痲碼磨馬魔麻寞幕漠膜莫邈万卍娩巒彎慢挽晩曼滿漫灣瞞萬蔓蠻輓饅鰻唜抹末沫茉襪靺亡妄忘忙望網罔芒茫莽輞邙埋妹媒寐昧枚梅每煤罵買賣邁魅脈貊陌驀麥孟氓猛盲盟萌冪覓免冕勉棉沔眄眠綿緬面麵滅"],["d9a1","蔑冥名命明暝椧溟皿瞑茗蓂螟酩銘鳴袂侮冒募姆帽慕摸摹暮某模母毛牟牡瑁眸矛耗芼茅謀謨貌木沐牧目睦穆鶩歿沒夢朦蒙卯墓妙廟描昴杳渺猫竗苗錨務巫憮懋戊拇撫无楙武毋無珷畝繆舞茂蕪誣貿霧鵡墨默們刎吻問文"],["daa1","汶紊紋聞蚊門雯勿沕物味媚尾嵋彌微未梶楣渼湄眉米美薇謎迷靡黴岷悶愍憫敏旻旼民泯玟珉緡閔密蜜謐剝博拍搏撲朴樸泊珀璞箔粕縛膊舶薄迫雹駁伴半反叛拌搬攀斑槃泮潘班畔瘢盤盼磐磻礬絆般蟠返頒飯勃拔撥渤潑"],["dba1","發跋醱鉢髮魃倣傍坊妨尨幇彷房放方旁昉枋榜滂磅紡肪膀舫芳蒡蚌訪謗邦防龐倍俳北培徘拜排杯湃焙盃背胚裴裵褙賠輩配陪伯佰帛柏栢白百魄幡樊煩燔番磻繁蕃藩飜伐筏罰閥凡帆梵氾汎泛犯範范法琺僻劈壁擘檗璧癖"],["dca1","碧蘗闢霹便卞弁變辨辯邊別瞥鱉鼈丙倂兵屛幷昞昺柄棅炳甁病秉竝輧餠騈保堡報寶普步洑湺潽珤甫菩補褓譜輔伏僕匐卜宓復服福腹茯蔔複覆輹輻馥鰒本乶俸奉封峯峰捧棒烽熢琫縫蓬蜂逢鋒鳳不付俯傅剖副否咐埠夫婦"],["dda1","孚孵富府復扶敷斧浮溥父符簿缶腐腑膚艀芙莩訃負賦賻赴趺部釜阜附駙鳧北分吩噴墳奔奮忿憤扮昐汾焚盆粉糞紛芬賁雰不佛弗彿拂崩朋棚硼繃鵬丕備匕匪卑妃婢庇悲憊扉批斐枇榧比毖毗毘沸泌琵痺砒碑秕秘粃緋翡肥"],["dea1","脾臂菲蜚裨誹譬費鄙非飛鼻嚬嬪彬斌檳殯浜濱瀕牝玭貧賓頻憑氷聘騁乍事些仕伺似使俟僿史司唆嗣四士奢娑寫寺射巳師徙思捨斜斯柶査梭死沙泗渣瀉獅砂社祀祠私篩紗絲肆舍莎蓑蛇裟詐詞謝賜赦辭邪飼駟麝削數朔索"],["dfa1","傘刪山散汕珊産疝算蒜酸霰乷撒殺煞薩三參杉森渗芟蔘衫揷澁鈒颯上傷像償商喪嘗孀尙峠常床庠廂想桑橡湘爽牀狀相祥箱翔裳觴詳象賞霜塞璽賽嗇塞穡索色牲生甥省笙墅壻嶼序庶徐恕抒捿敍暑曙書栖棲犀瑞筮絮緖署"],["e0a1","胥舒薯西誓逝鋤黍鼠夕奭席惜昔晳析汐淅潟石碩蓆釋錫仙僊先善嬋宣扇敾旋渲煽琁瑄璇璿癬禪線繕羨腺膳船蘚蟬詵跣選銑鐥饍鮮卨屑楔泄洩渫舌薛褻設說雪齧剡暹殲纖蟾贍閃陝攝涉燮葉城姓宬性惺成星晟猩珹盛省筬"],["e1a1","聖聲腥誠醒世勢歲洗稅笹細說貰召嘯塑宵小少巢所掃搔昭梳沼消溯瀟炤燒甦疏疎瘙笑篠簫素紹蔬蕭蘇訴逍遡邵銷韶騷俗屬束涑粟續謖贖速孫巽損蓀遜飡率宋悚松淞訟誦送頌刷殺灑碎鎖衰釗修受嗽囚垂壽嫂守岫峀帥愁"],["e2a1","戍手授搜收數樹殊水洙漱燧狩獸琇璲瘦睡秀穗竪粹綏綬繡羞脩茱蒐蓚藪袖誰讐輸遂邃酬銖銹隋隧隨雖需須首髓鬚叔塾夙孰宿淑潚熟琡璹肅菽巡徇循恂旬栒楯橓殉洵淳珣盾瞬筍純脣舜荀蓴蕣詢諄醇錞順馴戌術述鉥崇崧"],["e3a1","嵩瑟膝蝨濕拾習褶襲丞乘僧勝升承昇繩蠅陞侍匙嘶始媤尸屎屍市弑恃施是時枾柴猜矢示翅蒔蓍視試詩諡豕豺埴寔式息拭植殖湜熄篒蝕識軾食飾伸侁信呻娠宸愼新晨燼申神紳腎臣莘薪藎蜃訊身辛辰迅失室實悉審尋心沁"],["e4a1","沈深瀋甚芯諶什十拾雙氏亞俄兒啞娥峨我牙芽莪蛾衙訝阿雅餓鴉鵝堊岳嶽幄惡愕握樂渥鄂鍔顎鰐齷安岸按晏案眼雁鞍顔鮟斡謁軋閼唵岩巖庵暗癌菴闇壓押狎鴨仰央怏昻殃秧鴦厓哀埃崖愛曖涯碍艾隘靄厄扼掖液縊腋額"],["e5a1","櫻罌鶯鸚也倻冶夜惹揶椰爺耶若野弱掠略約若葯蒻藥躍亮佯兩凉壤孃恙揚攘敭暘梁楊樣洋瀁煬痒瘍禳穰糧羊良襄諒讓釀陽量養圄御於漁瘀禦語馭魚齬億憶抑檍臆偃堰彦焉言諺孼蘖俺儼嚴奄掩淹嶪業円予余勵呂女如廬"],["e6a1","旅歟汝濾璵礖礪與艅茹輿轝閭餘驪麗黎亦力域役易曆歷疫繹譯轢逆驛嚥堧姸娟宴年延憐戀捐挻撚椽沇沿涎涓淵演漣烟然煙煉燃燕璉硏硯秊筵緣練縯聯衍軟輦蓮連鉛鍊鳶列劣咽悅涅烈熱裂說閱厭廉念捻染殮炎焰琰艶苒"],["e7a1","簾閻髥鹽曄獵燁葉令囹塋寧嶺嶸影怜映暎楹榮永泳渶潁濚瀛瀯煐營獰玲瑛瑩瓔盈穎纓羚聆英詠迎鈴鍈零霙靈領乂倪例刈叡曳汭濊猊睿穢芮藝蘂禮裔詣譽豫醴銳隸霓預五伍俉傲午吾吳嗚塢墺奧娛寤悟惡懊敖旿晤梧汚澳"],["e8a1","烏熬獒筽蜈誤鰲鼇屋沃獄玉鈺溫瑥瘟穩縕蘊兀壅擁瓮甕癰翁邕雍饔渦瓦窩窪臥蛙蝸訛婉完宛梡椀浣玩琓琬碗緩翫脘腕莞豌阮頑曰往旺枉汪王倭娃歪矮外嵬巍猥畏了僚僥凹堯夭妖姚寥寮尿嶢拗搖撓擾料曜樂橈燎燿瑤療"],["e9a1","窈窯繇繞耀腰蓼蟯要謠遙遼邀饒慾欲浴縟褥辱俑傭冗勇埇墉容庸慂榕涌湧溶熔瑢用甬聳茸蓉踊鎔鏞龍于佑偶優又友右宇寓尤愚憂旴牛玗瑀盂祐禑禹紆羽芋藕虞迂遇郵釪隅雨雩勖彧旭昱栯煜稶郁頊云暈橒殞澐熉耘芸蕓"],["eaa1","運隕雲韻蔚鬱亐熊雄元原員圓園垣媛嫄寃怨愿援沅洹湲源爰猿瑗苑袁轅遠阮院願鴛月越鉞位偉僞危圍委威尉慰暐渭爲瑋緯胃萎葦蔿蝟衛褘謂違韋魏乳侑儒兪劉唯喩孺宥幼幽庾悠惟愈愉揄攸有杻柔柚柳楡楢油洧流游溜"],["eba1","濡猶猷琉瑜由留癒硫紐維臾萸裕誘諛諭踰蹂遊逾遺酉釉鍮類六堉戮毓肉育陸倫允奫尹崙淪潤玧胤贇輪鈗閏律慄栗率聿戎瀜絨融隆垠恩慇殷誾銀隱乙吟淫蔭陰音飮揖泣邑凝應膺鷹依倚儀宜意懿擬椅毅疑矣義艤薏蟻衣誼"],["eca1","議醫二以伊利吏夷姨履已弛彛怡易李梨泥爾珥理異痍痢移罹而耳肄苡荑裏裡貽貳邇里離飴餌匿溺瀷益翊翌翼謚人仁刃印吝咽因姻寅引忍湮燐璘絪茵藺蚓認隣靭靷鱗麟一佚佾壹日溢逸鎰馹任壬妊姙恁林淋稔臨荏賃入卄"],["eda1","立笠粒仍剩孕芿仔刺咨姉姿子字孜恣慈滋炙煮玆瓷疵磁紫者自茨蔗藉諮資雌作勺嚼斫昨灼炸爵綽芍酌雀鵲孱棧殘潺盞岑暫潛箴簪蠶雜丈仗匠場墻壯奬將帳庄張掌暲杖樟檣欌漿牆狀獐璋章粧腸臟臧莊葬蔣薔藏裝贓醬長"],["eea1","障再哉在宰才材栽梓渽滓災縡裁財載齋齎爭箏諍錚佇低儲咀姐底抵杵楮樗沮渚狙猪疽箸紵苧菹著藷詛貯躇這邸雎齟勣吊嫡寂摘敵滴狄炙的積笛籍績翟荻謫賊赤跡蹟迪迹適鏑佃佺傳全典前剪塡塼奠專展廛悛戰栓殿氈澱"],["efa1","煎琠田甸畑癲筌箋箭篆纏詮輾轉鈿銓錢鐫電顚顫餞切截折浙癤竊節絶占岾店漸点粘霑鮎點接摺蝶丁井亭停偵呈姃定幀庭廷征情挺政整旌晶晸柾楨檉正汀淀淨渟湞瀞炡玎珽町睛碇禎程穽精綎艇訂諪貞鄭酊釘鉦鋌錠霆靖"],["f0a1","靜頂鼎制劑啼堤帝弟悌提梯濟祭第臍薺製諸蹄醍除際霽題齊俎兆凋助嘲弔彫措操早晁曺曹朝條棗槽漕潮照燥爪璪眺祖祚租稠窕粗糟組繰肇藻蚤詔調趙躁造遭釣阻雕鳥族簇足鏃存尊卒拙猝倧宗從悰慫棕淙琮種終綜縱腫"],["f1a1","踪踵鍾鐘佐坐左座挫罪主住侏做姝胄呪周嗾奏宙州廚晝朱柱株注洲湊澍炷珠疇籌紂紬綢舟蛛註誅走躊輳週酎酒鑄駐竹粥俊儁准埈寯峻晙樽浚準濬焌畯竣蠢逡遵雋駿茁中仲衆重卽櫛楫汁葺增憎曾拯烝甑症繒蒸證贈之只"],["f2a1","咫地址志持指摯支旨智枝枳止池沚漬知砥祉祗紙肢脂至芝芷蜘誌識贄趾遲直稙稷織職唇嗔塵振搢晉晋桭榛殄津溱珍瑨璡畛疹盡眞瞋秦縉縝臻蔯袗診賑軫辰進鎭陣陳震侄叱姪嫉帙桎瓆疾秩窒膣蛭質跌迭斟朕什執潗緝輯"],["f3a1","鏶集徵懲澄且侘借叉嗟嵯差次此磋箚茶蹉車遮捉搾着窄錯鑿齪撰澯燦璨瓚竄簒纂粲纘讚贊鑽餐饌刹察擦札紮僭參塹慘慙懺斬站讒讖倉倡創唱娼廠彰愴敞昌昶暢槍滄漲猖瘡窓脹艙菖蒼債埰寀寨彩採砦綵菜蔡采釵冊柵策"],["f4a1","責凄妻悽處倜刺剔尺慽戚拓擲斥滌瘠脊蹠陟隻仟千喘天川擅泉淺玔穿舛薦賤踐遷釧闡阡韆凸哲喆徹撤澈綴輟轍鐵僉尖沾添甛瞻簽籤詹諂堞妾帖捷牒疊睫諜貼輒廳晴淸聽菁請靑鯖切剃替涕滯締諦逮遞體初剿哨憔抄招梢"],["f5a1","椒楚樵炒焦硝礁礎秒稍肖艸苕草蕉貂超酢醋醮促囑燭矗蜀觸寸忖村邨叢塚寵悤憁摠總聰蔥銃撮催崔最墜抽推椎楸樞湫皺秋芻萩諏趨追鄒酋醜錐錘鎚雛騶鰍丑畜祝竺筑築縮蓄蹙蹴軸逐春椿瑃出朮黜充忠沖蟲衝衷悴膵萃"],["f6a1","贅取吹嘴娶就炊翠聚脆臭趣醉驟鷲側仄厠惻測層侈値嗤峙幟恥梔治淄熾痔痴癡稚穉緇緻置致蚩輜雉馳齒則勅飭親七柒漆侵寢枕沈浸琛砧針鍼蟄秤稱快他咤唾墮妥惰打拖朶楕舵陀馱駝倬卓啄坼度托拓擢晫柝濁濯琢琸託"],["f7a1","鐸呑嘆坦彈憚歎灘炭綻誕奪脫探眈耽貪塔搭榻宕帑湯糖蕩兌台太怠態殆汰泰笞胎苔跆邰颱宅擇澤撑攄兎吐土討慟桶洞痛筒統通堆槌腿褪退頹偸套妬投透鬪慝特闖坡婆巴把播擺杷波派爬琶破罷芭跛頗判坂板版瓣販辦鈑"],["f8a1","阪八叭捌佩唄悖敗沛浿牌狽稗覇貝彭澎烹膨愎便偏扁片篇編翩遍鞭騙貶坪平枰萍評吠嬖幣廢弊斃肺蔽閉陛佈包匍匏咆哺圃布怖抛抱捕暴泡浦疱砲胞脯苞葡蒲袍褒逋鋪飽鮑幅暴曝瀑爆輻俵剽彪慓杓標漂瓢票表豹飇飄驃"],["f9a1","品稟楓諷豊風馮彼披疲皮被避陂匹弼必泌珌畢疋筆苾馝乏逼下何厦夏廈昰河瑕荷蝦賀遐霞鰕壑學虐謔鶴寒恨悍旱汗漢澣瀚罕翰閑閒限韓割轄函含咸啣喊檻涵緘艦銜陷鹹合哈盒蛤閤闔陜亢伉姮嫦巷恒抗杭桁沆港缸肛航"],["faa1","行降項亥偕咳垓奚孩害懈楷海瀣蟹解該諧邂駭骸劾核倖幸杏荇行享向嚮珦鄕響餉饗香噓墟虛許憲櫶獻軒歇險驗奕爀赫革俔峴弦懸晛泫炫玄玹現眩睍絃絢縣舷衒見賢鉉顯孑穴血頁嫌俠協夾峽挾浹狹脅脇莢鋏頰亨兄刑型"],["fba1","形泂滎瀅灐炯熒珩瑩荊螢衡逈邢鎣馨兮彗惠慧暳蕙蹊醯鞋乎互呼壕壺好岵弧戶扈昊晧毫浩淏湖滸澔濠濩灝狐琥瑚瓠皓祜糊縞胡芦葫蒿虎號蝴護豪鎬頀顥惑或酷婚昏混渾琿魂忽惚笏哄弘汞泓洪烘紅虹訌鴻化和嬅樺火畵"],["fca1","禍禾花華話譁貨靴廓擴攫確碻穫丸喚奐宦幻患換歡晥桓渙煥環紈還驩鰥活滑猾豁闊凰幌徨恍惶愰慌晃晄榥況湟滉潢煌璜皇篁簧荒蝗遑隍黃匯回廻徊恢悔懷晦會檜淮澮灰獪繪膾茴蛔誨賄劃獲宖橫鐄哮嚆孝效斅曉梟涍淆"],["fda1","爻肴酵驍侯候厚后吼喉嗅帿後朽煦珝逅勛勳塤壎焄熏燻薰訓暈薨喧暄煊萱卉喙毁彙徽揮暉煇諱輝麾休携烋畦虧恤譎鷸兇凶匈洶胸黑昕欣炘痕吃屹紇訖欠欽歆吸恰洽翕興僖凞喜噫囍姬嬉希憙憘戱晞曦熙熹熺犧禧稀羲詰"]];
},{}],"rxXt":[function(require,module,exports) {
module.exports=[["0","\0",127],["a140","　，、。．‧；：？！︰…‥﹐﹑﹒·﹔﹕﹖﹗｜–︱—︳╴︴﹏（）︵︶｛｝︷︸〔〕︹︺【】︻︼《》︽︾〈〉︿﹀「」﹁﹂『』﹃﹄﹙﹚"],["a1a1","﹛﹜﹝﹞‘’“”〝〞‵′＃＆＊※§〃○●△▲◎☆★◇◆□■▽▼㊣℅¯￣＿ˍ﹉﹊﹍﹎﹋﹌﹟﹠﹡＋－×÷±√＜＞＝≦≧≠∞≒≡﹢",4,"～∩∪⊥∠∟⊿㏒㏑∫∮∵∴♀♂⊕⊙↑↓←→↖↗↙↘∥∣／"],["a240","＼∕﹨＄￥〒￠￡％＠℃℉﹩﹪﹫㏕㎜㎝㎞㏎㎡㎎㎏㏄°兙兛兞兝兡兣嗧瓩糎▁",7,"▏▎▍▌▋▊▉┼┴┬┤├▔─│▕┌┐└┘╭"],["a2a1","╮╰╯═╞╪╡◢◣◥◤╱╲╳０",9,"Ⅰ",9,"〡",8,"十卄卅Ａ",25,"ａ",21],["a340","ｗｘｙｚΑ",16,"Σ",6,"α",16,"σ",6,"ㄅ",10],["a3a1","ㄐ",25,"˙ˉˊˇˋ"],["a3e1","€"],["a440","一乙丁七乃九了二人儿入八几刀刁力匕十卜又三下丈上丫丸凡久么也乞于亡兀刃勺千叉口土士夕大女子孑孓寸小尢尸山川工己已巳巾干廾弋弓才"],["a4a1","丑丐不中丰丹之尹予云井互五亢仁什仃仆仇仍今介仄元允內六兮公冗凶分切刈勻勾勿化匹午升卅卞厄友及反壬天夫太夭孔少尤尺屯巴幻廿弔引心戈戶手扎支文斗斤方日曰月木欠止歹毋比毛氏水火爪父爻片牙牛犬王丙"],["a540","世丕且丘主乍乏乎以付仔仕他仗代令仙仞充兄冉冊冬凹出凸刊加功包匆北匝仟半卉卡占卯卮去可古右召叮叩叨叼司叵叫另只史叱台句叭叻四囚外"],["a5a1","央失奴奶孕它尼巨巧左市布平幼弁弘弗必戊打扔扒扑斥旦朮本未末札正母民氐永汁汀氾犯玄玉瓜瓦甘生用甩田由甲申疋白皮皿目矛矢石示禾穴立丞丟乒乓乩亙交亦亥仿伉伙伊伕伍伐休伏仲件任仰仳份企伋光兇兆先全"],["a640","共再冰列刑划刎刖劣匈匡匠印危吉吏同吊吐吁吋各向名合吃后吆吒因回囝圳地在圭圬圯圩夙多夷夸妄奸妃好她如妁字存宇守宅安寺尖屹州帆并年"],["a6a1","式弛忙忖戎戌戍成扣扛托收早旨旬旭曲曳有朽朴朱朵次此死氖汝汗汙江池汐汕污汛汍汎灰牟牝百竹米糸缶羊羽老考而耒耳聿肉肋肌臣自至臼舌舛舟艮色艾虫血行衣西阡串亨位住佇佗佞伴佛何估佐佑伽伺伸佃佔似但佣"],["a740","作你伯低伶余佝佈佚兌克免兵冶冷別判利刪刨劫助努劬匣即卵吝吭吞吾否呎吧呆呃吳呈呂君吩告吹吻吸吮吵吶吠吼呀吱含吟听囪困囤囫坊坑址坍"],["a7a1","均坎圾坐坏圻壯夾妝妒妨妞妣妙妖妍妤妓妊妥孝孜孚孛完宋宏尬局屁尿尾岐岑岔岌巫希序庇床廷弄弟彤形彷役忘忌志忍忱快忸忪戒我抄抗抖技扶抉扭把扼找批扳抒扯折扮投抓抑抆改攻攸旱更束李杏材村杜杖杞杉杆杠"],["a840","杓杗步每求汞沙沁沈沉沅沛汪決沐汰沌汨沖沒汽沃汲汾汴沆汶沍沔沘沂灶灼災灸牢牡牠狄狂玖甬甫男甸皂盯矣私秀禿究系罕肖肓肝肘肛肚育良芒"],["a8a1","芋芍見角言谷豆豕貝赤走足身車辛辰迂迆迅迄巡邑邢邪邦那酉釆里防阮阱阪阬並乖乳事些亞享京佯依侍佳使佬供例來侃佰併侈佩佻侖佾侏侑佺兔兒兕兩具其典冽函刻券刷刺到刮制剁劾劻卒協卓卑卦卷卸卹取叔受味呵"],["a940","咖呸咕咀呻呷咄咒咆呼咐呱呶和咚呢周咋命咎固垃坷坪坩坡坦坤坼夜奉奇奈奄奔妾妻委妹妮姑姆姐姍始姓姊妯妳姒姅孟孤季宗定官宜宙宛尚屈居"],["a9a1","屆岷岡岸岩岫岱岳帘帚帖帕帛帑幸庚店府底庖延弦弧弩往征彿彼忝忠忽念忿怏怔怯怵怖怪怕怡性怩怫怛或戕房戾所承拉拌拄抿拂抹拒招披拓拔拋拈抨抽押拐拙拇拍抵拚抱拘拖拗拆抬拎放斧於旺昔易昌昆昂明昀昏昕昊"],["aa40","昇服朋杭枋枕東果杳杷枇枝林杯杰板枉松析杵枚枓杼杪杲欣武歧歿氓氛泣注泳沱泌泥河沽沾沼波沫法泓沸泄油況沮泗泅泱沿治泡泛泊沬泯泜泖泠"],["aaa1","炕炎炒炊炙爬爭爸版牧物狀狎狙狗狐玩玨玟玫玥甽疝疙疚的盂盲直知矽社祀祁秉秈空穹竺糾罔羌羋者肺肥肢肱股肫肩肴肪肯臥臾舍芳芝芙芭芽芟芹花芬芥芯芸芣芰芾芷虎虱初表軋迎返近邵邸邱邶采金長門阜陀阿阻附"],["ab40","陂隹雨青非亟亭亮信侵侯便俠俑俏保促侶俘俟俊俗侮俐俄係俚俎俞侷兗冒冑冠剎剃削前剌剋則勇勉勃勁匍南卻厚叛咬哀咨哎哉咸咦咳哇哂咽咪品"],["aba1","哄哈咯咫咱咻咩咧咿囿垂型垠垣垢城垮垓奕契奏奎奐姜姘姿姣姨娃姥姪姚姦威姻孩宣宦室客宥封屎屏屍屋峙峒巷帝帥帟幽庠度建弈弭彥很待徊律徇後徉怒思怠急怎怨恍恰恨恢恆恃恬恫恪恤扁拜挖按拼拭持拮拽指拱拷"],["ac40","拯括拾拴挑挂政故斫施既春昭映昧是星昨昱昤曷柿染柱柔某柬架枯柵柩柯柄柑枴柚查枸柏柞柳枰柙柢柝柒歪殃殆段毒毗氟泉洋洲洪流津洌洱洞洗"],["aca1","活洽派洶洛泵洹洧洸洩洮洵洎洫炫為炳炬炯炭炸炮炤爰牲牯牴狩狠狡玷珊玻玲珍珀玳甚甭畏界畎畋疫疤疥疢疣癸皆皇皈盈盆盃盅省盹相眉看盾盼眇矜砂研砌砍祆祉祈祇禹禺科秒秋穿突竿竽籽紂紅紀紉紇約紆缸美羿耄"],["ad40","耐耍耑耶胖胥胚胃胄背胡胛胎胞胤胝致舢苧范茅苣苛苦茄若茂茉苒苗英茁苜苔苑苞苓苟苯茆虐虹虻虺衍衫要觔計訂訃貞負赴赳趴軍軌述迦迢迪迥"],["ada1","迭迫迤迨郊郎郁郃酋酊重閂限陋陌降面革韋韭音頁風飛食首香乘亳倌倍倣俯倦倥俸倩倖倆值借倚倒們俺倀倔倨俱倡個候倘俳修倭倪俾倫倉兼冤冥冢凍凌准凋剖剜剔剛剝匪卿原厝叟哨唐唁唷哼哥哲唆哺唔哩哭員唉哮哪"],["ae40","哦唧唇哽唏圃圄埂埔埋埃堉夏套奘奚娑娘娜娟娛娓姬娠娣娩娥娌娉孫屘宰害家宴宮宵容宸射屑展屐峭峽峻峪峨峰島崁峴差席師庫庭座弱徒徑徐恙"],["aea1","恣恥恐恕恭恩息悄悟悚悍悔悌悅悖扇拳挈拿捎挾振捕捂捆捏捉挺捐挽挪挫挨捍捌效敉料旁旅時晉晏晃晒晌晅晁書朔朕朗校核案框桓根桂桔栩梳栗桌桑栽柴桐桀格桃株桅栓栘桁殊殉殷氣氧氨氦氤泰浪涕消涇浦浸海浙涓"],["af40","浬涉浮浚浴浩涌涊浹涅浥涔烊烘烤烙烈烏爹特狼狹狽狸狷玆班琉珮珠珪珞畔畝畜畚留疾病症疲疳疽疼疹痂疸皋皰益盍盎眩真眠眨矩砰砧砸砝破砷"],["afa1","砥砭砠砟砲祕祐祠祟祖神祝祗祚秤秣秧租秦秩秘窄窈站笆笑粉紡紗紋紊素索純紐紕級紜納紙紛缺罟羔翅翁耆耘耕耙耗耽耿胱脂胰脅胭胴脆胸胳脈能脊胼胯臭臬舀舐航舫舨般芻茫荒荔荊茸荐草茵茴荏茲茹茶茗荀茱茨荃"],["b040","虔蚊蚪蚓蚤蚩蚌蚣蚜衰衷袁袂衽衹記訐討訌訕訊託訓訖訏訑豈豺豹財貢起躬軒軔軏辱送逆迷退迺迴逃追逅迸邕郡郝郢酒配酌釘針釗釜釙閃院陣陡"],["b0a1","陛陝除陘陞隻飢馬骨高鬥鬲鬼乾偺偽停假偃偌做偉健偶偎偕偵側偷偏倏偯偭兜冕凰剪副勒務勘動匐匏匙匿區匾參曼商啪啦啄啞啡啃啊唱啖問啕唯啤唸售啜唬啣唳啁啗圈國圉域堅堊堆埠埤基堂堵執培夠奢娶婁婉婦婪婀"],["b140","娼婢婚婆婊孰寇寅寄寂宿密尉專將屠屜屝崇崆崎崛崖崢崑崩崔崙崤崧崗巢常帶帳帷康庸庶庵庾張強彗彬彩彫得徙從徘御徠徜恿患悉悠您惋悴惦悽"],["b1a1","情悻悵惜悼惘惕惆惟悸惚惇戚戛扈掠控捲掖探接捷捧掘措捱掩掉掃掛捫推掄授掙採掬排掏掀捻捩捨捺敝敖救教敗啟敏敘敕敔斜斛斬族旋旌旎晝晚晤晨晦晞曹勗望梁梯梢梓梵桿桶梱梧梗械梃棄梭梆梅梔條梨梟梡梂欲殺"],["b240","毫毬氫涎涼淳淙液淡淌淤添淺清淇淋涯淑涮淞淹涸混淵淅淒渚涵淚淫淘淪深淮淨淆淄涪淬涿淦烹焉焊烽烯爽牽犁猜猛猖猓猙率琅琊球理現琍瓠瓶"],["b2a1","瓷甜產略畦畢異疏痔痕疵痊痍皎盔盒盛眷眾眼眶眸眺硫硃硎祥票祭移窒窕笠笨笛第符笙笞笮粒粗粕絆絃統紮紹紼絀細紳組累終紲紱缽羞羚翌翎習耜聊聆脯脖脣脫脩脰脤舂舵舷舶船莎莞莘荸莢莖莽莫莒莊莓莉莠荷荻荼"],["b340","莆莧處彪蛇蛀蚶蛄蚵蛆蛋蚱蚯蛉術袞袈被袒袖袍袋覓規訪訝訣訥許設訟訛訢豉豚販責貫貨貪貧赧赦趾趺軛軟這逍通逗連速逝逐逕逞造透逢逖逛途"],["b3a1","部郭都酗野釵釦釣釧釭釩閉陪陵陳陸陰陴陶陷陬雀雪雩章竟頂頃魚鳥鹵鹿麥麻傢傍傅備傑傀傖傘傚最凱割剴創剩勞勝勛博厥啻喀喧啼喊喝喘喂喜喪喔喇喋喃喳單喟唾喲喚喻喬喱啾喉喫喙圍堯堪場堤堰報堡堝堠壹壺奠"],["b440","婷媚婿媒媛媧孳孱寒富寓寐尊尋就嵌嵐崴嵇巽幅帽幀幃幾廊廁廂廄弼彭復循徨惑惡悲悶惠愜愣惺愕惰惻惴慨惱愎惶愉愀愒戟扉掣掌描揀揩揉揆揍"],["b4a1","插揣提握揖揭揮捶援揪換摒揚揹敞敦敢散斑斐斯普晰晴晶景暑智晾晷曾替期朝棺棕棠棘棗椅棟棵森棧棹棒棲棣棋棍植椒椎棉棚楮棻款欺欽殘殖殼毯氮氯氬港游湔渡渲湧湊渠渥渣減湛湘渤湖湮渭渦湯渴湍渺測湃渝渾滋"],["b540","溉渙湎湣湄湲湩湟焙焚焦焰無然煮焜牌犄犀猶猥猴猩琺琪琳琢琥琵琶琴琯琛琦琨甥甦畫番痢痛痣痙痘痞痠登發皖皓皴盜睏短硝硬硯稍稈程稅稀窘"],["b5a1","窗窖童竣等策筆筐筒答筍筋筏筑粟粥絞結絨絕紫絮絲絡給絢絰絳善翔翕耋聒肅腕腔腋腑腎脹腆脾腌腓腴舒舜菩萃菸萍菠菅萋菁華菱菴著萊菰萌菌菽菲菊萸萎萄菜萇菔菟虛蛟蛙蛭蛔蛛蛤蛐蛞街裁裂袱覃視註詠評詞証詁"],["b640","詔詛詐詆訴診訶詖象貂貯貼貳貽賁費賀貴買貶貿貸越超趁跎距跋跚跑跌跛跆軻軸軼辜逮逵週逸進逶鄂郵鄉郾酣酥量鈔鈕鈣鈉鈞鈍鈐鈇鈑閔閏開閑"],["b6a1","間閒閎隊階隋陽隅隆隍陲隄雁雅雄集雇雯雲韌項順須飧飪飯飩飲飭馮馭黃黍黑亂傭債傲傳僅傾催傷傻傯僇剿剷剽募勦勤勢勣匯嗟嗨嗓嗦嗎嗜嗇嗑嗣嗤嗯嗚嗡嗅嗆嗥嗉園圓塞塑塘塗塚塔填塌塭塊塢塒塋奧嫁嫉嫌媾媽媼"],["b740","媳嫂媲嵩嵯幌幹廉廈弒彙徬微愚意慈感想愛惹愁愈慎慌慄慍愾愴愧愍愆愷戡戢搓搾搞搪搭搽搬搏搜搔損搶搖搗搆敬斟新暗暉暇暈暖暄暘暍會榔業"],["b7a1","楚楷楠楔極椰概楊楨楫楞楓楹榆楝楣楛歇歲毀殿毓毽溢溯滓溶滂源溝滇滅溥溘溼溺溫滑準溜滄滔溪溧溴煎煙煩煤煉照煜煬煦煌煥煞煆煨煖爺牒猷獅猿猾瑯瑚瑕瑟瑞瑁琿瑙瑛瑜當畸瘀痰瘁痲痱痺痿痴痳盞盟睛睫睦睞督"],["b840","睹睪睬睜睥睨睢矮碎碰碗碘碌碉硼碑碓硿祺祿禁萬禽稜稚稠稔稟稞窟窠筷節筠筮筧粱粳粵經絹綑綁綏絛置罩罪署義羨群聖聘肆肄腱腰腸腥腮腳腫"],["b8a1","腹腺腦舅艇蒂葷落萱葵葦葫葉葬葛萼萵葡董葩葭葆虞虜號蛹蜓蜈蜇蜀蛾蛻蜂蜃蜆蜊衙裟裔裙補裘裝裡裊裕裒覜解詫該詳試詩詰誇詼詣誠話誅詭詢詮詬詹詻訾詨豢貊貉賊資賈賄貲賃賂賅跡跟跨路跳跺跪跤跦躲較載軾輊"],["b940","辟農運遊道遂達逼違遐遇遏過遍遑逾遁鄒鄗酬酪酩釉鈷鉗鈸鈽鉀鈾鉛鉋鉤鉑鈴鉉鉍鉅鈹鈿鉚閘隘隔隕雍雋雉雊雷電雹零靖靴靶預頑頓頊頒頌飼飴"],["b9a1","飽飾馳馱馴髡鳩麂鼎鼓鼠僧僮僥僖僭僚僕像僑僱僎僩兢凳劃劂匱厭嗾嘀嘛嘗嗽嘔嘆嘉嘍嘎嗷嘖嘟嘈嘐嗶團圖塵塾境墓墊塹墅塽壽夥夢夤奪奩嫡嫦嫩嫗嫖嫘嫣孵寞寧寡寥實寨寢寤察對屢嶄嶇幛幣幕幗幔廓廖弊彆彰徹慇"],["ba40","愿態慷慢慣慟慚慘慵截撇摘摔撤摸摟摺摑摧搴摭摻敲斡旗旖暢暨暝榜榨榕槁榮槓構榛榷榻榫榴槐槍榭槌榦槃榣歉歌氳漳演滾漓滴漩漾漠漬漏漂漢"],["baa1","滿滯漆漱漸漲漣漕漫漯澈漪滬漁滲滌滷熔熙煽熊熄熒爾犒犖獄獐瑤瑣瑪瑰瑭甄疑瘧瘍瘋瘉瘓盡監瞄睽睿睡磁碟碧碳碩碣禎福禍種稱窪窩竭端管箕箋筵算箝箔箏箸箇箄粹粽精綻綰綜綽綾綠緊綴網綱綺綢綿綵綸維緒緇綬"],["bb40","罰翠翡翟聞聚肇腐膀膏膈膊腿膂臧臺與舔舞艋蓉蒿蓆蓄蒙蒞蒲蒜蓋蒸蓀蓓蒐蒼蓑蓊蜿蜜蜻蜢蜥蜴蜘蝕蜷蜩裳褂裴裹裸製裨褚裯誦誌語誣認誡誓誤"],["bba1","說誥誨誘誑誚誧豪貍貌賓賑賒赫趙趕跼輔輒輕輓辣遠遘遜遣遙遞遢遝遛鄙鄘鄞酵酸酷酴鉸銀銅銘銖鉻銓銜銨鉼銑閡閨閩閣閥閤隙障際雌雒需靼鞅韶頗領颯颱餃餅餌餉駁骯骰髦魁魂鳴鳶鳳麼鼻齊億儀僻僵價儂儈儉儅凜"],["bc40","劇劈劉劍劊勰厲嘮嘻嘹嘲嘿嘴嘩噓噎噗噴嘶嘯嘰墀墟增墳墜墮墩墦奭嬉嫻嬋嫵嬌嬈寮寬審寫層履嶝嶔幢幟幡廢廚廟廝廣廠彈影德徵慶慧慮慝慕憂"],["bca1","慼慰慫慾憧憐憫憎憬憚憤憔憮戮摩摯摹撞撲撈撐撰撥撓撕撩撒撮播撫撚撬撙撢撳敵敷數暮暫暴暱樣樟槨樁樞標槽模樓樊槳樂樅槭樑歐歎殤毅毆漿潼澄潑潦潔澆潭潛潸潮澎潺潰潤澗潘滕潯潠潟熟熬熱熨牖犛獎獗瑩璋璃"],["bd40","瑾璀畿瘠瘩瘟瘤瘦瘡瘢皚皺盤瞎瞇瞌瞑瞋磋磅確磊碾磕碼磐稿稼穀稽稷稻窯窮箭箱範箴篆篇篁箠篌糊締練緯緻緘緬緝編緣線緞緩綞緙緲緹罵罷羯"],["bda1","翩耦膛膜膝膠膚膘蔗蔽蔚蓮蔬蔭蔓蔑蔣蔡蔔蓬蔥蓿蔆螂蝴蝶蝠蝦蝸蝨蝙蝗蝌蝓衛衝褐複褒褓褕褊誼諒談諄誕請諸課諉諂調誰論諍誶誹諛豌豎豬賠賞賦賤賬賭賢賣賜質賡赭趟趣踫踐踝踢踏踩踟踡踞躺輝輛輟輩輦輪輜輞"],["be40","輥適遮遨遭遷鄰鄭鄧鄱醇醉醋醃鋅銻銷鋪銬鋤鋁銳銼鋒鋇鋰銲閭閱霄霆震霉靠鞍鞋鞏頡頫頜颳養餓餒餘駝駐駟駛駑駕駒駙骷髮髯鬧魅魄魷魯鴆鴉"],["bea1","鴃麩麾黎墨齒儒儘儔儐儕冀冪凝劑劓勳噙噫噹噩噤噸噪器噥噱噯噬噢噶壁墾壇壅奮嬝嬴學寰導彊憲憑憩憊懍憶憾懊懈戰擅擁擋撻撼據擄擇擂操撿擒擔撾整曆曉暹曄曇暸樽樸樺橙橫橘樹橄橢橡橋橇樵機橈歙歷氅濂澱澡"],["bf40","濃澤濁澧澳激澹澶澦澠澴熾燉燐燒燈燕熹燎燙燜燃燄獨璜璣璘璟璞瓢甌甍瘴瘸瘺盧盥瞠瞞瞟瞥磨磚磬磧禦積穎穆穌穋窺篙簑築篤篛篡篩篦糕糖縊"],["bfa1","縑縈縛縣縞縝縉縐罹羲翰翱翮耨膳膩膨臻興艘艙蕊蕙蕈蕨蕩蕃蕉蕭蕪蕞螃螟螞螢融衡褪褲褥褫褡親覦諦諺諫諱謀諜諧諮諾謁謂諷諭諳諶諼豫豭貓賴蹄踱踴蹂踹踵輻輯輸輳辨辦遵遴選遲遼遺鄴醒錠錶鋸錳錯錢鋼錫錄錚"],["c040","錐錦錡錕錮錙閻隧隨險雕霎霑霖霍霓霏靛靜靦鞘頰頸頻頷頭頹頤餐館餞餛餡餚駭駢駱骸骼髻髭鬨鮑鴕鴣鴦鴨鴒鴛默黔龍龜優償儡儲勵嚎嚀嚐嚅嚇"],["c0a1","嚏壕壓壑壎嬰嬪嬤孺尷屨嶼嶺嶽嶸幫彌徽應懂懇懦懋戲戴擎擊擘擠擰擦擬擱擢擭斂斃曙曖檀檔檄檢檜櫛檣橾檗檐檠歜殮毚氈濘濱濟濠濛濤濫濯澀濬濡濩濕濮濰燧營燮燦燥燭燬燴燠爵牆獰獲璩環璦璨癆療癌盪瞳瞪瞰瞬"],["c140","瞧瞭矯磷磺磴磯礁禧禪穗窿簇簍篾篷簌篠糠糜糞糢糟糙糝縮績繆縷縲繃縫總縱繅繁縴縹繈縵縿縯罄翳翼聱聲聰聯聳臆臃膺臂臀膿膽臉膾臨舉艱薪"],["c1a1","薄蕾薜薑薔薯薛薇薨薊虧蟀蟑螳蟒蟆螫螻螺蟈蟋褻褶襄褸褽覬謎謗謙講謊謠謝謄謐豁谿豳賺賽購賸賻趨蹉蹋蹈蹊轄輾轂轅輿避遽還邁邂邀鄹醣醞醜鍍鎂錨鍵鍊鍥鍋錘鍾鍬鍛鍰鍚鍔闊闋闌闈闆隱隸雖霜霞鞠韓顆颶餵騁"],["c240","駿鮮鮫鮪鮭鴻鴿麋黏點黜黝黛鼾齋叢嚕嚮壙壘嬸彝懣戳擴擲擾攆擺擻擷斷曜朦檳檬櫃檻檸櫂檮檯歟歸殯瀉瀋濾瀆濺瀑瀏燻燼燾燸獷獵璧璿甕癖癘"],["c2a1","癒瞽瞿瞻瞼礎禮穡穢穠竄竅簫簧簪簞簣簡糧織繕繞繚繡繒繙罈翹翻職聶臍臏舊藏薩藍藐藉薰薺薹薦蟯蟬蟲蟠覆覲觴謨謹謬謫豐贅蹙蹣蹦蹤蹟蹕軀轉轍邇邃邈醫醬釐鎔鎊鎖鎢鎳鎮鎬鎰鎘鎚鎗闔闖闐闕離雜雙雛雞霤鞣鞦"],["c340","鞭韹額顏題顎顓颺餾餿餽餮馥騎髁鬃鬆魏魎魍鯊鯉鯽鯈鯀鵑鵝鵠黠鼕鼬儳嚥壞壟壢寵龐廬懲懷懶懵攀攏曠曝櫥櫝櫚櫓瀛瀟瀨瀚瀝瀕瀘爆爍牘犢獸"],["c3a1","獺璽瓊瓣疇疆癟癡矇礙禱穫穩簾簿簸簽簷籀繫繭繹繩繪羅繳羶羹羸臘藩藝藪藕藤藥藷蟻蠅蠍蟹蟾襠襟襖襞譁譜識證譚譎譏譆譙贈贊蹼蹲躇蹶蹬蹺蹴轔轎辭邊邋醱醮鏡鏑鏟鏃鏈鏜鏝鏖鏢鏍鏘鏤鏗鏨關隴難霪霧靡韜韻類"],["c440","願顛颼饅饉騖騙鬍鯨鯧鯖鯛鶉鵡鵲鵪鵬麒麗麓麴勸嚨嚷嚶嚴嚼壤孀孃孽寶巉懸懺攘攔攙曦朧櫬瀾瀰瀲爐獻瓏癢癥礦礪礬礫竇競籌籃籍糯糰辮繽繼"],["c4a1","纂罌耀臚艦藻藹蘑藺蘆蘋蘇蘊蠔蠕襤覺觸議譬警譯譟譫贏贍躉躁躅躂醴釋鐘鐃鏽闡霰飄饒饑馨騫騰騷騵鰓鰍鹹麵黨鼯齟齣齡儷儸囁囀囂夔屬巍懼懾攝攜斕曩櫻欄櫺殲灌爛犧瓖瓔癩矓籐纏續羼蘗蘭蘚蠣蠢蠡蠟襪襬覽譴"],["c540","護譽贓躊躍躋轟辯醺鐮鐳鐵鐺鐸鐲鐫闢霸霹露響顧顥饗驅驃驀騾髏魔魑鰭鰥鶯鶴鷂鶸麝黯鼙齜齦齧儼儻囈囊囉孿巔巒彎懿攤權歡灑灘玀瓤疊癮癬"],["c5a1","禳籠籟聾聽臟襲襯觼讀贖贗躑躓轡酈鑄鑑鑒霽霾韃韁顫饕驕驍髒鬚鱉鰱鰾鰻鷓鷗鼴齬齪龔囌巖戀攣攫攪曬欐瓚竊籤籣籥纓纖纔臢蘸蘿蠱變邐邏鑣鑠鑤靨顯饜驚驛驗髓體髑鱔鱗鱖鷥麟黴囑壩攬灞癱癲矗罐羈蠶蠹衢讓讒"],["c640","讖艷贛釀鑪靂靈靄韆顰驟鬢魘鱟鷹鷺鹼鹽鼇齷齲廳欖灣籬籮蠻觀躡釁鑲鑰顱饞髖鬣黌灤矚讚鑷韉驢驥纜讜躪釅鑽鑾鑼鱷鱸黷豔鑿鸚爨驪鬱鸛鸞籲"],["c940","乂乜凵匚厂万丌乇亍囗兀屮彳丏冇与丮亓仂仉仈冘勼卬厹圠夃夬尐巿旡殳毌气爿丱丼仨仜仩仡仝仚刌匜卌圢圣夗夯宁宄尒尻屴屳帄庀庂忉戉扐氕"],["c9a1","氶汃氿氻犮犰玊禸肊阞伎优伬仵伔仱伀价伈伝伂伅伢伓伄仴伒冱刓刉刐劦匢匟卍厊吇囡囟圮圪圴夼妀奼妅奻奾奷奿孖尕尥屼屺屻屾巟幵庄异弚彴忕忔忏扜扞扤扡扦扢扙扠扚扥旯旮朾朹朸朻机朿朼朳氘汆汒汜汏汊汔汋"],["ca40","汌灱牞犴犵玎甪癿穵网艸艼芀艽艿虍襾邙邗邘邛邔阢阤阠阣佖伻佢佉体佤伾佧佒佟佁佘伭伳伿佡冏冹刜刞刡劭劮匉卣卲厎厏吰吷吪呔呅吙吜吥吘"],["caa1","吽呏呁吨吤呇囮囧囥坁坅坌坉坋坒夆奀妦妘妠妗妎妢妐妏妧妡宎宒尨尪岍岏岈岋岉岒岊岆岓岕巠帊帎庋庉庌庈庍弅弝彸彶忒忑忐忭忨忮忳忡忤忣忺忯忷忻怀忴戺抃抌抎抏抔抇扱扻扺扰抁抈扷扽扲扴攷旰旴旳旲旵杅杇"],["cb40","杙杕杌杈杝杍杚杋毐氙氚汸汧汫沄沋沏汱汯汩沚汭沇沕沜汦汳汥汻沎灴灺牣犿犽狃狆狁犺狅玕玗玓玔玒町甹疔疕皁礽耴肕肙肐肒肜芐芏芅芎芑芓"],["cba1","芊芃芄豸迉辿邟邡邥邞邧邠阰阨阯阭丳侘佼侅佽侀侇佶佴侉侄佷佌侗佪侚佹侁佸侐侜侔侞侒侂侕佫佮冞冼冾刵刲刳剆刱劼匊匋匼厒厔咇呿咁咑咂咈呫呺呾呥呬呴呦咍呯呡呠咘呣呧呤囷囹坯坲坭坫坱坰坶垀坵坻坳坴坢"],["cc40","坨坽夌奅妵妺姏姎妲姌姁妶妼姃姖妱妽姀姈妴姇孢孥宓宕屄屇岮岤岠岵岯岨岬岟岣岭岢岪岧岝岥岶岰岦帗帔帙弨弢弣弤彔徂彾彽忞忥怭怦怙怲怋"],["cca1","怴怊怗怳怚怞怬怢怍怐怮怓怑怌怉怜戔戽抭抴拑抾抪抶拊抮抳抯抻抩抰抸攽斨斻昉旼昄昒昈旻昃昋昍昅旽昑昐曶朊枅杬枎枒杶杻枘枆构杴枍枌杺枟枑枙枃杽极杸杹枔欥殀歾毞氝沓泬泫泮泙沶泔沭泧沷泐泂沺泃泆泭泲"],["cd40","泒泝沴沊沝沀泞泀洰泍泇沰泹泏泩泑炔炘炅炓炆炄炑炖炂炚炃牪狖狋狘狉狜狒狔狚狌狑玤玡玭玦玢玠玬玝瓝瓨甿畀甾疌疘皯盳盱盰盵矸矼矹矻矺"],["cda1","矷祂礿秅穸穻竻籵糽耵肏肮肣肸肵肭舠芠苀芫芚芘芛芵芧芮芼芞芺芴芨芡芩苂芤苃芶芢虰虯虭虮豖迒迋迓迍迖迕迗邲邴邯邳邰阹阽阼阺陃俍俅俓侲俉俋俁俔俜俙侻侳俛俇俖侺俀侹俬剄剉勀勂匽卼厗厖厙厘咺咡咭咥哏"],["ce40","哃茍咷咮哖咶哅哆咠呰咼咢咾呲哞咰垵垞垟垤垌垗垝垛垔垘垏垙垥垚垕壴复奓姡姞姮娀姱姝姺姽姼姶姤姲姷姛姩姳姵姠姾姴姭宨屌峐峘峌峗峋峛"],["cea1","峞峚峉峇峊峖峓峔峏峈峆峎峟峸巹帡帢帣帠帤庰庤庢庛庣庥弇弮彖徆怷怹恔恲恞恅恓恇恉恛恌恀恂恟怤恄恘恦恮扂扃拏挍挋拵挎挃拫拹挏挌拸拶挀挓挔拺挕拻拰敁敃斪斿昶昡昲昵昜昦昢昳昫昺昝昴昹昮朏朐柁柲柈枺"],["cf40","柜枻柸柘柀枷柅柫柤柟枵柍枳柷柶柮柣柂枹柎柧柰枲柼柆柭柌枮柦柛柺柉柊柃柪柋欨殂殄殶毖毘毠氠氡洨洴洭洟洼洿洒洊泚洳洄洙洺洚洑洀洝浂"],["cfa1","洁洘洷洃洏浀洇洠洬洈洢洉洐炷炟炾炱炰炡炴炵炩牁牉牊牬牰牳牮狊狤狨狫狟狪狦狣玅珌珂珈珅玹玶玵玴珫玿珇玾珃珆玸珋瓬瓮甮畇畈疧疪癹盄眈眃眄眅眊盷盻盺矧矨砆砑砒砅砐砏砎砉砃砓祊祌祋祅祄秕种秏秖秎窀"],["d040","穾竑笀笁籺籸籹籿粀粁紃紈紁罘羑羍羾耇耎耏耔耷胘胇胠胑胈胂胐胅胣胙胜胊胕胉胏胗胦胍臿舡芔苙苾苹茇苨茀苕茺苫苖苴苬苡苲苵茌苻苶苰苪"],["d0a1","苤苠苺苳苭虷虴虼虳衁衎衧衪衩觓訄訇赲迣迡迮迠郱邽邿郕郅邾郇郋郈釔釓陔陏陑陓陊陎倞倅倇倓倢倰倛俵俴倳倷倬俶俷倗倜倠倧倵倯倱倎党冔冓凊凄凅凈凎剡剚剒剞剟剕剢勍匎厞唦哢唗唒哧哳哤唚哿唄唈哫唑唅哱"],["d140","唊哻哷哸哠唎唃唋圁圂埌堲埕埒垺埆垽垼垸垶垿埇埐垹埁夎奊娙娖娭娮娕娏娗娊娞娳孬宧宭宬尃屖屔峬峿峮峱峷崀峹帩帨庨庮庪庬弳弰彧恝恚恧"],["d1a1","恁悢悈悀悒悁悝悃悕悛悗悇悜悎戙扆拲挐捖挬捄捅挶捃揤挹捋捊挼挩捁挴捘捔捙挭捇挳捚捑挸捗捀捈敊敆旆旃旄旂晊晟晇晑朒朓栟栚桉栲栳栻桋桏栖栱栜栵栫栭栯桎桄栴栝栒栔栦栨栮桍栺栥栠欬欯欭欱欴歭肂殈毦毤"],["d240","毨毣毢毧氥浺浣浤浶洍浡涒浘浢浭浯涑涍淯浿涆浞浧浠涗浰浼浟涂涘洯浨涋浾涀涄洖涃浻浽浵涐烜烓烑烝烋缹烢烗烒烞烠烔烍烅烆烇烚烎烡牂牸"],["d2a1","牷牶猀狺狴狾狶狳狻猁珓珙珥珖玼珧珣珩珜珒珛珔珝珚珗珘珨瓞瓟瓴瓵甡畛畟疰痁疻痄痀疿疶疺皊盉眝眛眐眓眒眣眑眕眙眚眢眧砣砬砢砵砯砨砮砫砡砩砳砪砱祔祛祏祜祓祒祑秫秬秠秮秭秪秜秞秝窆窉窅窋窌窊窇竘笐"],["d340","笄笓笅笏笈笊笎笉笒粄粑粊粌粈粍粅紞紝紑紎紘紖紓紟紒紏紌罜罡罞罠罝罛羖羒翃翂翀耖耾耹胺胲胹胵脁胻脀舁舯舥茳茭荄茙荑茥荖茿荁茦茜茢"],["d3a1","荂荎茛茪茈茼荍茖茤茠茷茯茩荇荅荌荓茞茬荋茧荈虓虒蚢蚨蚖蚍蚑蚞蚇蚗蚆蚋蚚蚅蚥蚙蚡蚧蚕蚘蚎蚝蚐蚔衃衄衭衵衶衲袀衱衿衯袃衾衴衼訒豇豗豻貤貣赶赸趵趷趶軑軓迾迵适迿迻逄迼迶郖郠郙郚郣郟郥郘郛郗郜郤酐"],["d440","酎酏釕釢釚陜陟隼飣髟鬯乿偰偪偡偞偠偓偋偝偲偈偍偁偛偊偢倕偅偟偩偫偣偤偆偀偮偳偗偑凐剫剭剬剮勖勓匭厜啵啶唼啍啐唴唪啑啢唶唵唰啒啅"],["d4a1","唌唲啥啎唹啈唭唻啀啋圊圇埻堔埢埶埜埴堀埭埽堈埸堋埳埏堇埮埣埲埥埬埡堎埼堐埧堁堌埱埩埰堍堄奜婠婘婕婧婞娸娵婭婐婟婥婬婓婤婗婃婝婒婄婛婈媎娾婍娹婌婰婩婇婑婖婂婜孲孮寁寀屙崞崋崝崚崠崌崨崍崦崥崏"],["d540","崰崒崣崟崮帾帴庱庴庹庲庳弶弸徛徖徟悊悐悆悾悰悺惓惔惏惤惙惝惈悱惛悷惊悿惃惍惀挲捥掊掂捽掽掞掭掝掗掫掎捯掇掐据掯捵掜捭掮捼掤挻掟"],["d5a1","捸掅掁掑掍捰敓旍晥晡晛晙晜晢朘桹梇梐梜桭桮梮梫楖桯梣梬梩桵桴梲梏桷梒桼桫桲梪梀桱桾梛梖梋梠梉梤桸桻梑梌梊桽欶欳欷欸殑殏殍殎殌氪淀涫涴涳湴涬淩淢涷淶淔渀淈淠淟淖涾淥淜淝淛淴淊涽淭淰涺淕淂淏淉"],["d640","淐淲淓淽淗淍淣涻烺焍烷焗烴焌烰焄烳焐烼烿焆焓焀烸烶焋焂焎牾牻牼牿猝猗猇猑猘猊猈狿猏猞玈珶珸珵琄琁珽琇琀珺珼珿琌琋珴琈畤畣痎痒痏"],["d6a1","痋痌痑痐皏皉盓眹眯眭眱眲眴眳眽眥眻眵硈硒硉硍硊硌砦硅硐祤祧祩祪祣祫祡离秺秸秶秷窏窔窐笵筇笴笥笰笢笤笳笘笪笝笱笫笭笯笲笸笚笣粔粘粖粣紵紽紸紶紺絅紬紩絁絇紾紿絊紻紨罣羕羜羝羛翊翋翍翐翑翇翏翉耟"],["d740","耞耛聇聃聈脘脥脙脛脭脟脬脞脡脕脧脝脢舑舸舳舺舴舲艴莐莣莨莍荺荳莤荴莏莁莕莙荵莔莩荽莃莌莝莛莪莋荾莥莯莈莗莰荿莦莇莮荶莚虙虖蚿蚷"],["d7a1","蛂蛁蛅蚺蚰蛈蚹蚳蚸蛌蚴蚻蚼蛃蚽蚾衒袉袕袨袢袪袚袑袡袟袘袧袙袛袗袤袬袌袓袎覂觖觙觕訰訧訬訞谹谻豜豝豽貥赽赻赹趼跂趹趿跁軘軞軝軜軗軠軡逤逋逑逜逌逡郯郪郰郴郲郳郔郫郬郩酖酘酚酓酕釬釴釱釳釸釤釹釪"],["d840","釫釷釨釮镺閆閈陼陭陫陱陯隿靪頄飥馗傛傕傔傞傋傣傃傌傎傝偨傜傒傂傇兟凔匒匑厤厧喑喨喥喭啷噅喢喓喈喏喵喁喣喒喤啽喌喦啿喕喡喎圌堩堷"],["d8a1","堙堞堧堣堨埵塈堥堜堛堳堿堶堮堹堸堭堬堻奡媯媔媟婺媢媞婸媦婼媥媬媕媮娷媄媊媗媃媋媩婻婽媌媜媏媓媝寪寍寋寔寑寊寎尌尰崷嵃嵫嵁嵋崿崵嵑嵎嵕崳崺嵒崽崱嵙嵂崹嵉崸崼崲崶嵀嵅幄幁彘徦徥徫惉悹惌惢惎惄愔"],["d940","惲愊愖愅惵愓惸惼惾惁愃愘愝愐惿愄愋扊掔掱掰揎揥揨揯揃撝揳揊揠揶揕揲揵摡揟掾揝揜揄揘揓揂揇揌揋揈揰揗揙攲敧敪敤敜敨敥斌斝斞斮旐旒"],["d9a1","晼晬晻暀晱晹晪晲朁椌棓椄棜椪棬棪棱椏棖棷棫棤棶椓椐棳棡椇棌椈楰梴椑棯棆椔棸棐棽棼棨椋椊椗棎棈棝棞棦棴棑椆棔棩椕椥棇欹欻欿欼殔殗殙殕殽毰毲毳氰淼湆湇渟湉溈渼渽湅湢渫渿湁湝湳渜渳湋湀湑渻渃渮湞"],["da40","湨湜湡渱渨湠湱湫渹渢渰湓湥渧湸湤湷湕湹湒湦渵渶湚焠焞焯烻焮焱焣焥焢焲焟焨焺焛牋牚犈犉犆犅犋猒猋猰猢猱猳猧猲猭猦猣猵猌琮琬琰琫琖"],["daa1","琚琡琭琱琤琣琝琩琠琲瓻甯畯畬痧痚痡痦痝痟痤痗皕皒盚睆睇睄睍睅睊睎睋睌矞矬硠硤硥硜硭硱硪确硰硩硨硞硢祴祳祲祰稂稊稃稌稄窙竦竤筊笻筄筈筌筎筀筘筅粢粞粨粡絘絯絣絓絖絧絪絏絭絜絫絒絔絩絑絟絎缾缿罥"],["db40","罦羢羠羡翗聑聏聐胾胔腃腊腒腏腇脽腍脺臦臮臷臸臹舄舼舽舿艵茻菏菹萣菀菨萒菧菤菼菶萐菆菈菫菣莿萁菝菥菘菿菡菋菎菖菵菉萉萏菞萑萆菂菳"],["dba1","菕菺菇菑菪萓菃菬菮菄菻菗菢萛菛菾蛘蛢蛦蛓蛣蛚蛪蛝蛫蛜蛬蛩蛗蛨蛑衈衖衕袺裗袹袸裀袾袶袼袷袽袲褁裉覕覘覗觝觚觛詎詍訹詙詀詗詘詄詅詒詈詑詊詌詏豟貁貀貺貾貰貹貵趄趀趉跘跓跍跇跖跜跏跕跙跈跗跅軯軷軺"],["dc40","軹軦軮軥軵軧軨軶軫軱軬軴軩逭逴逯鄆鄬鄄郿郼鄈郹郻鄁鄀鄇鄅鄃酡酤酟酢酠鈁鈊鈥鈃鈚鈦鈏鈌鈀鈒釿釽鈆鈄鈧鈂鈜鈤鈙鈗鈅鈖镻閍閌閐隇陾隈"],["dca1","隉隃隀雂雈雃雱雰靬靰靮頇颩飫鳦黹亃亄亶傽傿僆傮僄僊傴僈僂傰僁傺傱僋僉傶傸凗剺剸剻剼嗃嗛嗌嗐嗋嗊嗝嗀嗔嗄嗩喿嗒喍嗏嗕嗢嗖嗈嗲嗍嗙嗂圔塓塨塤塏塍塉塯塕塎塝塙塥塛堽塣塱壼嫇嫄嫋媺媸媱媵媰媿嫈媻嫆"],["dd40","媷嫀嫊媴媶嫍媹媐寖寘寙尟尳嵱嵣嵊嵥嵲嵬嵞嵨嵧嵢巰幏幎幊幍幋廅廌廆廋廇彀徯徭惷慉慊愫慅愶愲愮慆愯慏愩慀戠酨戣戥戤揅揱揫搐搒搉搠搤"],["dda1","搳摃搟搕搘搹搷搢搣搌搦搰搨摁搵搯搊搚摀搥搧搋揧搛搮搡搎敯斒旓暆暌暕暐暋暊暙暔晸朠楦楟椸楎楢楱椿楅楪椹楂楗楙楺楈楉椵楬椳椽楥棰楸椴楩楀楯楄楶楘楁楴楌椻楋椷楜楏楑椲楒椯楻椼歆歅歃歂歈歁殛嗀毻毼"],["de40","毹毷毸溛滖滈溏滀溟溓溔溠溱溹滆滒溽滁溞滉溷溰滍溦滏溲溾滃滜滘溙溒溎溍溤溡溿溳滐滊溗溮溣煇煔煒煣煠煁煝煢煲煸煪煡煂煘煃煋煰煟煐煓"],["dea1","煄煍煚牏犍犌犑犐犎猼獂猻猺獀獊獉瑄瑊瑋瑒瑑瑗瑀瑏瑐瑎瑂瑆瑍瑔瓡瓿瓾瓽甝畹畷榃痯瘏瘃痷痾痼痹痸瘐痻痶痭痵痽皙皵盝睕睟睠睒睖睚睩睧睔睙睭矠碇碚碔碏碄碕碅碆碡碃硹碙碀碖硻祼禂祽祹稑稘稙稒稗稕稢稓"],["df40","稛稐窣窢窞竫筦筤筭筴筩筲筥筳筱筰筡筸筶筣粲粴粯綈綆綀綍絿綅絺綎絻綃絼綌綔綄絽綒罭罫罧罨罬羦羥羧翛翜耡腤腠腷腜腩腛腢腲朡腞腶腧腯"],["dfa1","腄腡舝艉艄艀艂艅蓱萿葖葶葹蒏蒍葥葑葀蒆葧萰葍葽葚葙葴葳葝蔇葞萷萺萴葺葃葸萲葅萩菙葋萯葂萭葟葰萹葎葌葒葯蓅蒎萻葇萶萳葨葾葄萫葠葔葮葐蜋蜄蛷蜌蛺蛖蛵蝍蛸蜎蜉蜁蛶蜍蜅裖裋裍裎裞裛裚裌裐覅覛觟觥觤"],["e040","觡觠觢觜触詶誆詿詡訿詷誂誄詵誃誁詴詺谼豋豊豥豤豦貆貄貅賌赨赩趑趌趎趏趍趓趔趐趒跰跠跬跱跮跐跩跣跢跧跲跫跴輆軿輁輀輅輇輈輂輋遒逿"],["e0a1","遄遉逽鄐鄍鄏鄑鄖鄔鄋鄎酮酯鉈鉒鈰鈺鉦鈳鉥鉞銃鈮鉊鉆鉭鉬鉏鉠鉧鉯鈶鉡鉰鈱鉔鉣鉐鉲鉎鉓鉌鉖鈲閟閜閞閛隒隓隑隗雎雺雽雸雵靳靷靸靲頏頍頎颬飶飹馯馲馰馵骭骫魛鳪鳭鳧麀黽僦僔僗僨僳僛僪僝僤僓僬僰僯僣僠"],["e140","凘劀劁勩勫匰厬嘧嘕嘌嘒嗼嘏嘜嘁嘓嘂嗺嘝嘄嗿嗹墉塼墐墘墆墁塿塴墋塺墇墑墎塶墂墈塻墔墏壾奫嫜嫮嫥嫕嫪嫚嫭嫫嫳嫢嫠嫛嫬嫞嫝嫙嫨嫟孷寠"],["e1a1","寣屣嶂嶀嵽嶆嵺嶁嵷嶊嶉嶈嵾嵼嶍嵹嵿幘幙幓廘廑廗廎廜廕廙廒廔彄彃彯徶愬愨慁慞慱慳慒慓慲慬憀慴慔慺慛慥愻慪慡慖戩戧戫搫摍摛摝摴摶摲摳摽摵摦撦摎撂摞摜摋摓摠摐摿搿摬摫摙摥摷敳斠暡暠暟朅朄朢榱榶槉"],["e240","榠槎榖榰榬榼榑榙榎榧榍榩榾榯榿槄榽榤槔榹槊榚槏榳榓榪榡榞槙榗榐槂榵榥槆歊歍歋殞殟殠毃毄毾滎滵滱漃漥滸漷滻漮漉潎漙漚漧漘漻漒滭漊"],["e2a1","漶潳滹滮漭潀漰漼漵滫漇漎潃漅滽滶漹漜滼漺漟漍漞漈漡熇熐熉熀熅熂熏煻熆熁熗牄牓犗犕犓獃獍獑獌瑢瑳瑱瑵瑲瑧瑮甀甂甃畽疐瘖瘈瘌瘕瘑瘊瘔皸瞁睼瞅瞂睮瞀睯睾瞃碲碪碴碭碨硾碫碞碥碠碬碢碤禘禊禋禖禕禔禓"],["e340","禗禈禒禐稫穊稰稯稨稦窨窫窬竮箈箜箊箑箐箖箍箌箛箎箅箘劄箙箤箂粻粿粼粺綧綷緂綣綪緁緀緅綝緎緄緆緋緌綯綹綖綼綟綦綮綩綡緉罳翢翣翥翞"],["e3a1","耤聝聜膉膆膃膇膍膌膋舕蒗蒤蒡蒟蒺蓎蓂蒬蒮蒫蒹蒴蓁蓍蒪蒚蒱蓐蒝蒧蒻蒢蒔蓇蓌蒛蒩蒯蒨蓖蒘蒶蓏蒠蓗蓔蓒蓛蒰蒑虡蜳蜣蜨蝫蝀蜮蜞蜡蜙蜛蝃蜬蝁蜾蝆蜠蜲蜪蜭蜼蜒蜺蜱蜵蝂蜦蜧蜸蜤蜚蜰蜑裷裧裱裲裺裾裮裼裶裻"],["e440","裰裬裫覝覡覟覞觩觫觨誫誙誋誒誏誖谽豨豩賕賏賗趖踉踂跿踍跽踊踃踇踆踅跾踀踄輐輑輎輍鄣鄜鄠鄢鄟鄝鄚鄤鄡鄛酺酲酹酳銥銤鉶銛鉺銠銔銪銍"],["e4a1","銦銚銫鉹銗鉿銣鋮銎銂銕銢鉽銈銡銊銆銌銙銧鉾銇銩銝銋鈭隞隡雿靘靽靺靾鞃鞀鞂靻鞄鞁靿韎韍頖颭颮餂餀餇馝馜駃馹馻馺駂馽駇骱髣髧鬾鬿魠魡魟鳱鳲鳵麧僿儃儰僸儆儇僶僾儋儌僽儊劋劌勱勯噈噂噌嘵噁噊噉噆噘"],["e540","噚噀嘳嘽嘬嘾嘸嘪嘺圚墫墝墱墠墣墯墬墥墡壿嫿嫴嫽嫷嫶嬃嫸嬂嫹嬁嬇嬅嬏屧嶙嶗嶟嶒嶢嶓嶕嶠嶜嶡嶚嶞幩幝幠幜緳廛廞廡彉徲憋憃慹憱憰憢憉"],["e5a1","憛憓憯憭憟憒憪憡憍慦憳戭摮摰撖撠撅撗撜撏撋撊撌撣撟摨撱撘敶敺敹敻斲斳暵暰暩暲暷暪暯樀樆樗槥槸樕槱槤樠槿槬槢樛樝槾樧槲槮樔槷槧橀樈槦槻樍槼槫樉樄樘樥樏槶樦樇槴樖歑殥殣殢殦氁氀毿氂潁漦潾澇濆澒"],["e640","澍澉澌潢潏澅潚澖潶潬澂潕潲潒潐潗澔澓潝漀潡潫潽潧澐潓澋潩潿澕潣潷潪潻熲熯熛熰熠熚熩熵熝熥熞熤熡熪熜熧熳犘犚獘獒獞獟獠獝獛獡獚獙"],["e6a1","獢璇璉璊璆璁瑽璅璈瑼瑹甈甇畾瘥瘞瘙瘝瘜瘣瘚瘨瘛皜皝皞皛瞍瞏瞉瞈磍碻磏磌磑磎磔磈磃磄磉禚禡禠禜禢禛歶稹窲窴窳箷篋箾箬篎箯箹篊箵糅糈糌糋緷緛緪緧緗緡縃緺緦緶緱緰緮緟罶羬羰羭翭翫翪翬翦翨聤聧膣膟"],["e740","膞膕膢膙膗舖艏艓艒艐艎艑蔤蔻蔏蔀蔩蔎蔉蔍蔟蔊蔧蔜蓻蔫蓺蔈蔌蓴蔪蓲蔕蓷蓫蓳蓼蔒蓪蓩蔖蓾蔨蔝蔮蔂蓽蔞蓶蔱蔦蓧蓨蓰蓯蓹蔘蔠蔰蔋蔙蔯虢"],["e7a1","蝖蝣蝤蝷蟡蝳蝘蝔蝛蝒蝡蝚蝑蝞蝭蝪蝐蝎蝟蝝蝯蝬蝺蝮蝜蝥蝏蝻蝵蝢蝧蝩衚褅褌褔褋褗褘褙褆褖褑褎褉覢覤覣觭觰觬諏諆誸諓諑諔諕誻諗誾諀諅諘諃誺誽諙谾豍貏賥賟賙賨賚賝賧趠趜趡趛踠踣踥踤踮踕踛踖踑踙踦踧"],["e840","踔踒踘踓踜踗踚輬輤輘輚輠輣輖輗遳遰遯遧遫鄯鄫鄩鄪鄲鄦鄮醅醆醊醁醂醄醀鋐鋃鋄鋀鋙銶鋏鋱鋟鋘鋩鋗鋝鋌鋯鋂鋨鋊鋈鋎鋦鋍鋕鋉鋠鋞鋧鋑鋓"],["e8a1","銵鋡鋆銴镼閬閫閮閰隤隢雓霅霈霂靚鞊鞎鞈韐韏頞頝頦頩頨頠頛頧颲餈飺餑餔餖餗餕駜駍駏駓駔駎駉駖駘駋駗駌骳髬髫髳髲髱魆魃魧魴魱魦魶魵魰魨魤魬鳼鳺鳽鳿鳷鴇鴀鳹鳻鴈鴅鴄麃黓鼏鼐儜儓儗儚儑凞匴叡噰噠噮"],["e940","噳噦噣噭噲噞噷圜圛壈墽壉墿墺壂墼壆嬗嬙嬛嬡嬔嬓嬐嬖嬨嬚嬠嬞寯嶬嶱嶩嶧嶵嶰嶮嶪嶨嶲嶭嶯嶴幧幨幦幯廩廧廦廨廥彋徼憝憨憖懅憴懆懁懌憺"],["e9a1","憿憸憌擗擖擐擏擉撽撉擃擛擳擙攳敿敼斢曈暾曀曊曋曏暽暻暺曌朣樴橦橉橧樲橨樾橝橭橶橛橑樨橚樻樿橁橪橤橐橏橔橯橩橠樼橞橖橕橍橎橆歕歔歖殧殪殫毈毇氄氃氆澭濋澣濇澼濎濈潞濄澽澞濊澨瀄澥澮澺澬澪濏澿澸"],["ea40","澢濉澫濍澯澲澰燅燂熿熸燖燀燁燋燔燊燇燏熽燘熼燆燚燛犝犞獩獦獧獬獥獫獪瑿璚璠璔璒璕璡甋疀瘯瘭瘱瘽瘳瘼瘵瘲瘰皻盦瞚瞝瞡瞜瞛瞢瞣瞕瞙"],["eaa1","瞗磝磩磥磪磞磣磛磡磢磭磟磠禤穄穈穇窶窸窵窱窷篞篣篧篝篕篥篚篨篹篔篪篢篜篫篘篟糒糔糗糐糑縒縡縗縌縟縠縓縎縜縕縚縢縋縏縖縍縔縥縤罃罻罼罺羱翯耪耩聬膱膦膮膹膵膫膰膬膴膲膷膧臲艕艖艗蕖蕅蕫蕍蕓蕡蕘"],["eb40","蕀蕆蕤蕁蕢蕄蕑蕇蕣蔾蕛蕱蕎蕮蕵蕕蕧蕠薌蕦蕝蕔蕥蕬虣虥虤螛螏螗螓螒螈螁螖螘蝹螇螣螅螐螑螝螄螔螜螚螉褞褦褰褭褮褧褱褢褩褣褯褬褟觱諠"],["eba1","諢諲諴諵諝謔諤諟諰諈諞諡諨諿諯諻貑貒貐賵賮賱賰賳赬赮趥趧踳踾踸蹀蹅踶踼踽蹁踰踿躽輶輮輵輲輹輷輴遶遹遻邆郺鄳鄵鄶醓醐醑醍醏錧錞錈錟錆錏鍺錸錼錛錣錒錁鍆錭錎錍鋋錝鋺錥錓鋹鋷錴錂錤鋿錩錹錵錪錔錌"],["ec40","錋鋾錉錀鋻錖閼闍閾閹閺閶閿閵閽隩雔霋霒霐鞙鞗鞔韰韸頵頯頲餤餟餧餩馞駮駬駥駤駰駣駪駩駧骹骿骴骻髶髺髹髷鬳鮀鮅鮇魼魾魻鮂鮓鮒鮐魺鮕"],["eca1","魽鮈鴥鴗鴠鴞鴔鴩鴝鴘鴢鴐鴙鴟麈麆麇麮麭黕黖黺鼒鼽儦儥儢儤儠儩勴嚓嚌嚍嚆嚄嚃噾嚂噿嚁壖壔壏壒嬭嬥嬲嬣嬬嬧嬦嬯嬮孻寱寲嶷幬幪徾徻懃憵憼懧懠懥懤懨懞擯擩擣擫擤擨斁斀斶旚曒檍檖檁檥檉檟檛檡檞檇檓檎"],["ed40","檕檃檨檤檑橿檦檚檅檌檒歛殭氉濌澩濴濔濣濜濭濧濦濞濲濝濢濨燡燱燨燲燤燰燢獳獮獯璗璲璫璐璪璭璱璥璯甐甑甒甏疄癃癈癉癇皤盩瞵瞫瞲瞷瞶"],["eda1","瞴瞱瞨矰磳磽礂磻磼磲礅磹磾礄禫禨穜穛穖穘穔穚窾竀竁簅簏篲簀篿篻簎篴簋篳簂簉簃簁篸篽簆篰篱簐簊糨縭縼繂縳顈縸縪繉繀繇縩繌縰縻縶繄縺罅罿罾罽翴翲耬膻臄臌臊臅臇膼臩艛艚艜薃薀薏薧薕薠薋薣蕻薤薚薞"],["ee40","蕷蕼薉薡蕺蕸蕗薎薖薆薍薙薝薁薢薂薈薅蕹蕶薘薐薟虨螾螪螭蟅螰螬螹螵螼螮蟉蟃蟂蟌螷螯蟄蟊螴螶螿螸螽蟞螲褵褳褼褾襁襒褷襂覭覯覮觲觳謞"],["eea1","謘謖謑謅謋謢謏謒謕謇謍謈謆謜謓謚豏豰豲豱豯貕貔賹赯蹎蹍蹓蹐蹌蹇轃轀邅遾鄸醚醢醛醙醟醡醝醠鎡鎃鎯鍤鍖鍇鍼鍘鍜鍶鍉鍐鍑鍠鍭鎏鍌鍪鍹鍗鍕鍒鍏鍱鍷鍻鍡鍞鍣鍧鎀鍎鍙闇闀闉闃闅閷隮隰隬霠霟霘霝霙鞚鞡鞜"],["ef40","鞞鞝韕韔韱顁顄顊顉顅顃餥餫餬餪餳餲餯餭餱餰馘馣馡騂駺駴駷駹駸駶駻駽駾駼騃骾髾髽鬁髼魈鮚鮨鮞鮛鮦鮡鮥鮤鮆鮢鮠鮯鴳鵁鵧鴶鴮鴯鴱鴸鴰"],["efa1","鵅鵂鵃鴾鴷鵀鴽翵鴭麊麉麍麰黈黚黻黿鼤鼣鼢齔龠儱儭儮嚘嚜嚗嚚嚝嚙奰嬼屩屪巀幭幮懘懟懭懮懱懪懰懫懖懩擿攄擽擸攁攃擼斔旛曚曛曘櫅檹檽櫡櫆檺檶檷櫇檴檭歞毉氋瀇瀌瀍瀁瀅瀔瀎濿瀀濻瀦濼濷瀊爁燿燹爃燽獶"],["f040","璸瓀璵瓁璾璶璻瓂甔甓癜癤癙癐癓癗癚皦皽盬矂瞺磿礌礓礔礉礐礒礑禭禬穟簜簩簙簠簟簭簝簦簨簢簥簰繜繐繖繣繘繢繟繑繠繗繓羵羳翷翸聵臑臒"],["f0a1","臐艟艞薴藆藀藃藂薳薵薽藇藄薿藋藎藈藅薱薶藒蘤薸薷薾虩蟧蟦蟢蟛蟫蟪蟥蟟蟳蟤蟔蟜蟓蟭蟘蟣螤蟗蟙蠁蟴蟨蟝襓襋襏襌襆襐襑襉謪謧謣謳謰謵譇謯謼謾謱謥謷謦謶謮謤謻謽謺豂豵貙貘貗賾贄贂贀蹜蹢蹠蹗蹖蹞蹥蹧"],["f140","蹛蹚蹡蹝蹩蹔轆轇轈轋鄨鄺鄻鄾醨醥醧醯醪鎵鎌鎒鎷鎛鎝鎉鎧鎎鎪鎞鎦鎕鎈鎙鎟鎍鎱鎑鎲鎤鎨鎴鎣鎥闒闓闑隳雗雚巂雟雘雝霣霢霥鞬鞮鞨鞫鞤鞪"],["f1a1","鞢鞥韗韙韖韘韺顐顑顒颸饁餼餺騏騋騉騍騄騑騊騅騇騆髀髜鬈鬄鬅鬩鬵魊魌魋鯇鯆鯃鮿鯁鮵鮸鯓鮶鯄鮹鮽鵜鵓鵏鵊鵛鵋鵙鵖鵌鵗鵒鵔鵟鵘鵚麎麌黟鼁鼀鼖鼥鼫鼪鼩鼨齌齕儴儵劖勷厴嚫嚭嚦嚧嚪嚬壚壝壛夒嬽嬾嬿巃幰"],["f240","徿懻攇攐攍攉攌攎斄旞旝曞櫧櫠櫌櫑櫙櫋櫟櫜櫐櫫櫏櫍櫞歠殰氌瀙瀧瀠瀖瀫瀡瀢瀣瀩瀗瀤瀜瀪爌爊爇爂爅犥犦犤犣犡瓋瓅璷瓃甖癠矉矊矄矱礝礛"],["f2a1","礡礜礗礞禰穧穨簳簼簹簬簻糬糪繶繵繸繰繷繯繺繲繴繨罋罊羃羆羷翽翾聸臗臕艤艡艣藫藱藭藙藡藨藚藗藬藲藸藘藟藣藜藑藰藦藯藞藢蠀蟺蠃蟶蟷蠉蠌蠋蠆蟼蠈蟿蠊蠂襢襚襛襗襡襜襘襝襙覈覷覶觶譐譈譊譀譓譖譔譋譕"],["f340","譑譂譒譗豃豷豶貚贆贇贉趬趪趭趫蹭蹸蹳蹪蹯蹻軂轒轑轏轐轓辴酀鄿醰醭鏞鏇鏏鏂鏚鏐鏹鏬鏌鏙鎩鏦鏊鏔鏮鏣鏕鏄鏎鏀鏒鏧镽闚闛雡霩霫霬霨霦"],["f3a1","鞳鞷鞶韝韞韟顜顙顝顗颿颽颻颾饈饇饃馦馧騚騕騥騝騤騛騢騠騧騣騞騜騔髂鬋鬊鬎鬌鬷鯪鯫鯠鯞鯤鯦鯢鯰鯔鯗鯬鯜鯙鯥鯕鯡鯚鵷鶁鶊鶄鶈鵱鶀鵸鶆鶋鶌鵽鵫鵴鵵鵰鵩鶅鵳鵻鶂鵯鵹鵿鶇鵨麔麑黀黼鼭齀齁齍齖齗齘匷嚲"],["f440","嚵嚳壣孅巆巇廮廯忀忁懹攗攖攕攓旟曨曣曤櫳櫰櫪櫨櫹櫱櫮櫯瀼瀵瀯瀷瀴瀱灂瀸瀿瀺瀹灀瀻瀳灁爓爔犨獽獼璺皫皪皾盭矌矎矏矍矲礥礣礧礨礤礩"],["f4a1","禲穮穬穭竷籉籈籊籇籅糮繻繾纁纀羺翿聹臛臙舋艨艩蘢藿蘁藾蘛蘀藶蘄蘉蘅蘌藽蠙蠐蠑蠗蠓蠖襣襦覹觷譠譪譝譨譣譥譧譭趮躆躈躄轙轖轗轕轘轚邍酃酁醷醵醲醳鐋鐓鏻鐠鐏鐔鏾鐕鐐鐨鐙鐍鏵鐀鏷鐇鐎鐖鐒鏺鐉鏸鐊鏿"],["f540","鏼鐌鏶鐑鐆闞闠闟霮霯鞹鞻韽韾顠顢顣顟飁飂饐饎饙饌饋饓騲騴騱騬騪騶騩騮騸騭髇髊髆鬐鬒鬑鰋鰈鯷鰅鰒鯸鱀鰇鰎鰆鰗鰔鰉鶟鶙鶤鶝鶒鶘鶐鶛"],["f5a1","鶠鶔鶜鶪鶗鶡鶚鶢鶨鶞鶣鶿鶩鶖鶦鶧麙麛麚黥黤黧黦鼰鼮齛齠齞齝齙龑儺儹劘劗囃嚽嚾孈孇巋巏廱懽攛欂櫼欃櫸欀灃灄灊灈灉灅灆爝爚爙獾甗癪矐礭礱礯籔籓糲纊纇纈纋纆纍罍羻耰臝蘘蘪蘦蘟蘣蘜蘙蘧蘮蘡蘠蘩蘞蘥"],["f640","蠩蠝蠛蠠蠤蠜蠫衊襭襩襮襫觺譹譸譅譺譻贐贔趯躎躌轞轛轝酆酄酅醹鐿鐻鐶鐩鐽鐼鐰鐹鐪鐷鐬鑀鐱闥闤闣霵霺鞿韡顤飉飆飀饘饖騹騽驆驄驂驁騺"],["f6a1","騿髍鬕鬗鬘鬖鬺魒鰫鰝鰜鰬鰣鰨鰩鰤鰡鶷鶶鶼鷁鷇鷊鷏鶾鷅鷃鶻鶵鷎鶹鶺鶬鷈鶱鶭鷌鶳鷍鶲鹺麜黫黮黭鼛鼘鼚鼱齎齥齤龒亹囆囅囋奱孋孌巕巑廲攡攠攦攢欋欈欉氍灕灖灗灒爞爟犩獿瓘瓕瓙瓗癭皭礵禴穰穱籗籜籙籛籚"],["f740","糴糱纑罏羇臞艫蘴蘵蘳蘬蘲蘶蠬蠨蠦蠪蠥襱覿覾觻譾讄讂讆讅譿贕躕躔躚躒躐躖躗轠轢酇鑌鑐鑊鑋鑏鑇鑅鑈鑉鑆霿韣顪顩飋饔饛驎驓驔驌驏驈驊"],["f7a1","驉驒驐髐鬙鬫鬻魖魕鱆鱈鰿鱄鰹鰳鱁鰼鰷鰴鰲鰽鰶鷛鷒鷞鷚鷋鷐鷜鷑鷟鷩鷙鷘鷖鷵鷕鷝麶黰鼵鼳鼲齂齫龕龢儽劙壨壧奲孍巘蠯彏戁戃戄攩攥斖曫欑欒欏毊灛灚爢玂玁玃癰矔籧籦纕艬蘺虀蘹蘼蘱蘻蘾蠰蠲蠮蠳襶襴襳觾"],["f840","讌讎讋讈豅贙躘轤轣醼鑢鑕鑝鑗鑞韄韅頀驖驙鬞鬟鬠鱒鱘鱐鱊鱍鱋鱕鱙鱌鱎鷻鷷鷯鷣鷫鷸鷤鷶鷡鷮鷦鷲鷰鷢鷬鷴鷳鷨鷭黂黐黲黳鼆鼜鼸鼷鼶齃齏"],["f8a1","齱齰齮齯囓囍孎屭攭曭曮欓灟灡灝灠爣瓛瓥矕礸禷禶籪纗羉艭虃蠸蠷蠵衋讔讕躞躟躠躝醾醽釂鑫鑨鑩雥靆靃靇韇韥驞髕魙鱣鱧鱦鱢鱞鱠鸂鷾鸇鸃鸆鸅鸀鸁鸉鷿鷽鸄麠鼞齆齴齵齶囔攮斸欘欙欗欚灢爦犪矘矙礹籩籫糶纚"],["f940","纘纛纙臠臡虆虇虈襹襺襼襻觿讘讙躥躤躣鑮鑭鑯鑱鑳靉顲饟鱨鱮鱭鸋鸍鸐鸏鸒鸑麡黵鼉齇齸齻齺齹圞灦籯蠼趲躦釃鑴鑸鑶鑵驠鱴鱳鱱鱵鸔鸓黶鼊"],["f9a1","龤灨灥糷虪蠾蠽蠿讞貜躩軉靋顳顴飌饡馫驤驦驧鬤鸕鸗齈戇欞爧虌躨钂钀钁驩驨鬮鸙爩虋讟钃鱹麷癵驫鱺鸝灩灪麤齾齉龘碁銹裏墻恒粧嫺╔╦╗╠╬╣╚╩╝╒╤╕╞╪╡╘╧╛╓╥╖╟╫╢╙╨╜║═╭╮╰╯▓"]];
},{}],"BX3f":[function(require,module,exports) {
module.exports=[["8740","䏰䰲䘃䖦䕸𧉧䵷䖳𧲱䳢𧳅㮕䜶䝄䱇䱀𤊿𣘗𧍒𦺋𧃒䱗𪍑䝏䗚䲅𧱬䴇䪤䚡𦬣爥𥩔𡩣𣸆𣽡晍囻"],["8767","綕夝𨮹㷴霴𧯯寛𡵞媤㘥𩺰嫑宷峼杮薓𩥅瑡璝㡵𡵓𣚞𦀡㻬"],["87a1","𥣞㫵竼龗𤅡𨤍𣇪𠪊𣉞䌊蒄龖鐯䤰蘓墖靊鈘秐稲晠権袝瑌篅枂稬剏遆㓦珄𥶹瓆鿇垳䤯呌䄱𣚎堘穲𧭥讏䚮𦺈䆁𥶙箮𢒼鿈𢓁𢓉𢓌鿉蔄𣖻䂴鿊䓡𪷿拁灮鿋"],["8840","㇀",4,"𠄌㇅𠃑𠃍㇆㇇𠃋𡿨㇈𠃊㇉㇊㇋㇌𠄎㇍㇎ĀÁǍÀĒÉĚÈŌÓǑÒ࿿Ê̄Ế࿿Ê̌ỀÊāáǎàɑēéěèīíǐìōóǒòūúǔùǖǘǚ"],["88a1","ǜü࿿ê̄ế࿿ê̌ềêɡ⏚⏛"],["8940","𪎩𡅅"],["8943","攊"],["8946","丽滝鵎釟"],["894c","𧜵撑会伨侨兖兴农凤务动医华发变团声处备夲头学实実岚庆总斉柾栄桥济炼电纤纬纺织经统缆缷艺苏药视设询车轧轮"],["89a1","琑糼緍楆竉刧"],["89ab","醌碸酞肼"],["89b0","贋胶𠧧"],["89b5","肟黇䳍鷉鸌䰾𩷶𧀎鸊𪄳㗁"],["89c1","溚舾甙"],["89c5","䤑马骏龙禇𨑬𡷊𠗐𢫦两亁亀亇亿仫伷㑌侽㹈倃傈㑽㒓㒥円夅凛凼刅争剹劐匧㗇厩㕑厰㕓参吣㕭㕲㚁咓咣咴咹哐哯唘唣唨㖘唿㖥㖿嗗㗅"],["8a40","𧶄唥"],["8a43","𠱂𠴕𥄫喐𢳆㧬𠍁蹆𤶸𩓥䁓𨂾睺𢰸㨴䟕𨅝𦧲𤷪擝𠵼𠾴𠳕𡃴撍蹾𠺖𠰋𠽤𢲩𨉖𤓓"],["8a64","𠵆𩩍𨃩䟴𤺧𢳂骲㩧𩗴㿭㔆𥋇𩟔𧣈𢵄鵮頕"],["8a76","䏙𦂥撴哣𢵌𢯊𡁷㧻𡁯"],["8aa1","𦛚𦜖𧦠擪𥁒𠱃蹨𢆡𨭌𠜱"],["8aac","䠋𠆩㿺塳𢶍"],["8ab2","𤗈𠓼𦂗𠽌𠶖啹䂻䎺"],["8abb","䪴𢩦𡂝膪飵𠶜捹㧾𢝵跀嚡摼㹃"],["8ac9","𪘁𠸉𢫏𢳉"],["8ace","𡃈𣧂㦒㨆𨊛㕸𥹉𢃇噒𠼱𢲲𩜠㒼氽𤸻"],["8adf","𧕴𢺋𢈈𪙛𨳍𠹺𠰴𦠜羓𡃏𢠃𢤹㗻𥇣𠺌𠾍𠺪㾓𠼰𠵇𡅏𠹌"],["8af6","𠺫𠮩𠵈𡃀𡄽㿹𢚖搲𠾭"],["8b40","𣏴𧘹𢯎𠵾𠵿𢱑𢱕㨘𠺘𡃇𠼮𪘲𦭐𨳒𨶙𨳊閪哌苄喹"],["8b55","𩻃鰦骶𧝞𢷮煀腭胬尜𦕲脴㞗卟𨂽醶𠻺𠸏𠹷𠻻㗝𤷫㘉𠳖嚯𢞵𡃉𠸐𠹸𡁸𡅈𨈇𡑕𠹹𤹐𢶤婔𡀝𡀞𡃵𡃶垜𠸑"],["8ba1","𧚔𨋍𠾵𠹻𥅾㜃𠾶𡆀𥋘𪊽𤧚𡠺𤅷𨉼墙剨㘚𥜽箲孨䠀䬬鼧䧧鰟鮍𥭴𣄽嗻㗲嚉丨夂𡯁屮靑𠂆乛亻㔾尣彑忄㣺扌攵歺氵氺灬爫丬犭𤣩罒礻糹罓𦉪㓁"],["8bde","𦍋耂肀𦘒𦥑卝衤见𧢲讠贝钅镸长门𨸏韦页风飞饣𩠐鱼鸟黄歯龜丷𠂇阝户钢"],["8c40","倻淾𩱳龦㷉袏𤅎灷峵䬠𥇍㕙𥴰愢𨨲辧釶熑朙玺𣊁𪄇㲋𡦀䬐磤琂冮𨜏䀉橣𪊺䈣蘏𠩯稪𩥇𨫪靕灍匤𢁾鏴盙𨧣龧矝亣俰傼丯众龨吴綋墒壐𡶶庒庙忂𢜒斋"],["8ca1","𣏹椙橃𣱣泿"],["8ca7","爀𤔅玌㻛𤨓嬕璹讃𥲤𥚕窓篬糃繬苸薗龩袐龪躹龫迏蕟駠鈡龬𨶹𡐿䁱䊢娚"],["8cc9","顨杫䉶圽"],["8cce","藖𤥻芿𧄍䲁𦵴嵻𦬕𦾾龭龮宖龯曧繛湗秊㶈䓃𣉖𢞖䎚䔶"],["8ce6","峕𣬚諹屸㴒𣕑嵸龲煗䕘𤃬𡸣䱷㥸㑊𠆤𦱁諌侴𠈹妿腬顖𩣺弻"],["8d40","𠮟"],["8d42","𢇁𨥭䄂䚻𩁹㼇龳𪆵䃸㟖䛷𦱆䅼𨚲𧏿䕭㣔𥒚䕡䔛䶉䱻䵶䗪㿈𤬏㙡䓞䒽䇭崾嵈嵖㷼㠏嶤嶹㠠㠸幂庽弥徃㤈㤔㤿㥍惗愽峥㦉憷憹懏㦸戬抐拥挘㧸嚱"],["8da1","㨃揢揻搇摚㩋擀崕嘡龟㪗斆㪽旿晓㫲暒㬢朖㭂枤栀㭘桊梄㭲㭱㭻椉楃牜楤榟榅㮼槖㯝橥橴橱檂㯬檙㯲檫檵櫔櫶殁毁毪汵沪㳋洂洆洦涁㳯涤涱渕渘温溆𨧀溻滢滚齿滨滩漤漴㵆𣽁澁澾㵪㵵熷岙㶊瀬㶑灐灔灯灿炉𠌥䏁㗱𠻘"],["8e40","𣻗垾𦻓焾𥟠㙎榢𨯩孴穉𥣡𩓙穥穽𥦬窻窰竂竃燑𦒍䇊竚竝竪䇯咲𥰁笋筕笩𥌎𥳾箢筯莜𥮴𦱿篐萡箒箸𥴠㶭𥱥蒒篺簆簵𥳁籄粃𤢂粦晽𤕸糉糇糦籴糳糵糎"],["8ea1","繧䔝𦹄絝𦻖璍綉綫焵綳緒𤁗𦀩緤㴓緵𡟹緥𨍭縝𦄡𦅚繮纒䌫鑬縧罀罁罇礶𦋐駡羗𦍑羣𡙡𠁨䕜𣝦䔃𨌺翺𦒉者耈耝耨耯𪂇𦳃耻耼聡𢜔䦉𦘦𣷣𦛨朥肧𨩈脇脚墰𢛶汿𦒘𤾸擧𡒊舘𡡞橓𤩥𤪕䑺舩𠬍𦩒𣵾俹𡓽蓢荢𦬊𤦧𣔰𡝳𣷸芪椛芳䇛"],["8f40","蕋苐茚𠸖𡞴㛁𣅽𣕚艻苢茘𣺋𦶣𦬅𦮗𣗎㶿茝嗬莅䔋𦶥莬菁菓㑾𦻔橗蕚㒖𦹂𢻯葘𥯤葱㷓䓤檧葊𣲵祘蒨𦮖𦹷𦹃蓞萏莑䒠蒓蓤𥲑䉀𥳀䕃蔴嫲𦺙䔧蕳䔖枿蘖"],["8fa1","𨘥𨘻藁𧂈蘂𡖂𧃍䕫䕪蘨㙈𡢢号𧎚虾蝱𪃸蟮𢰧螱蟚蠏噡虬桖䘏衅衆𧗠𣶹𧗤衞袜䙛袴袵揁装睷𧜏覇覊覦覩覧覼𨨥觧𧤤𧪽誜瞓釾誐𧩙竩𧬺𣾏䜓𧬸煼謌謟𥐰𥕥謿譌譍誩𤩺讐讛誯𡛟䘕衏貛𧵔𧶏貫㜥𧵓賖𧶘𧶽贒贃𡤐賛灜贑𤳉㻐起"],["9040","趩𨀂𡀔𤦊㭼𨆼𧄌竧躭躶軃鋔輙輭𨍥𨐒辥錃𪊟𠩐辳䤪𨧞𨔽𣶻廸𣉢迹𪀔𨚼𨔁𢌥㦀𦻗逷𨔼𧪾遡𨕬𨘋邨𨜓郄𨛦邮都酧㫰醩釄粬𨤳𡺉鈎沟鉁鉢𥖹銹𨫆𣲛𨬌𥗛"],["90a1","𠴱錬鍫𨫡𨯫炏嫃𨫢𨫥䥥鉄𨯬𨰹𨯿鍳鑛躼閅閦鐦閠濶䊹𢙺𨛘𡉼𣸮䧟氜陻隖䅬隣𦻕懚隶磵𨫠隽双䦡𦲸𠉴𦐐𩂯𩃥𤫑𡤕𣌊霱虂霶䨏䔽䖅𤫩灵孁霛靜𩇕靗孊𩇫靟鐥僐𣂷𣂼鞉鞟鞱鞾韀韒韠𥑬韮琜𩐳響韵𩐝𧥺䫑頴頳顋顦㬎𧅵㵑𠘰𤅜"],["9140","𥜆飊颷飈飇䫿𦴧𡛓喰飡飦飬鍸餹𤨩䭲𩡗𩤅駵騌騻騐驘𥜥㛄𩂱𩯕髠髢𩬅髴䰎鬔鬭𨘀倴鬴𦦨㣃𣁽魐魀𩴾婅𡡣鮎𤉋鰂鯿鰌𩹨鷔𩾷𪆒𪆫𪃡𪄣𪇟鵾鶃𪄴鸎梈"],["91a1","鷄𢅛𪆓𪈠𡤻𪈳鴹𪂹𪊴麐麕麞麢䴴麪麯𤍤黁㭠㧥㴝伲㞾𨰫鼂鼈䮖鐤𦶢鼗鼖鼹嚟嚊齅馸𩂋韲葿齢齩竜龎爖䮾𤥵𤦻煷𤧸𤍈𤩑玞𨯚𡣺禟𨥾𨸶鍩鏳𨩄鋬鎁鏋𨥬𤒹爗㻫睲穃烐𤑳𤏸煾𡟯炣𡢾𣖙㻇𡢅𥐯𡟸㜢𡛻𡠹㛡𡝴𡣑𥽋㜣𡛀坛𤨥𡏾𡊨"],["9240","𡏆𡒶蔃𣚦蔃葕𤦔𧅥𣸱𥕜𣻻𧁒䓴𣛮𩦝𦼦柹㜳㰕㷧塬𡤢栐䁗𣜿𤃡𤂋𤄏𦰡哋嚞𦚱嚒𠿟𠮨𠸍鏆𨬓鎜仸儫㠙𤐶亼𠑥𠍿佋侊𥙑婨𠆫𠏋㦙𠌊𠐔㐵伩𠋀𨺳𠉵諚𠈌亘"],["92a1","働儍侢伃𤨎𣺊佂倮偬傁俌俥偘僼兙兛兝兞湶𣖕𣸹𣺿浲𡢄𣺉冨凃𠗠䓝𠒣𠒒𠒑赺𨪜𠜎剙劤𠡳勡鍮䙺熌𤎌𠰠𤦬𡃤槑𠸝瑹㻞璙琔瑖玘䮎𤪼𤂍叐㖄爏𤃉喴𠍅响𠯆圝鉝雴鍦埝垍坿㘾壋媙𨩆𡛺𡝯𡜐娬妸銏婾嫏娒𥥆𡧳𡡡𤊕㛵洅瑃娡𥺃"],["9340","媁𨯗𠐓鏠璌𡌃焅䥲鐈𨧻鎽㞠尞岞幞幈𡦖𡥼𣫮廍孏𡤃𡤄㜁𡢠㛝𡛾㛓脪𨩇𡶺𣑲𨦨弌弎𡤧𡞫婫𡜻孄蘔𧗽衠恾𢡠𢘫忛㺸𢖯𢖾𩂈𦽳懀𠀾𠁆𢘛憙憘恵𢲛𢴇𤛔𩅍"],["93a1","摱𤙥𢭪㨩𢬢𣑐𩣪𢹸挷𪑛撶挱揑𤧣𢵧护𢲡搻敫楲㯴𣂎𣊭𤦉𣊫唍𣋠𡣙𩐿曎𣊉𣆳㫠䆐𥖄𨬢𥖏𡛼𥕛𥐥磮𣄃𡠪𣈴㑤𣈏𣆂𤋉暎𦴤晫䮓昰𧡰𡷫晣𣋒𣋡昞𥡲㣑𣠺𣞼㮙𣞢𣏾瓐㮖枏𤘪梶栞㯄檾㡣𣟕𤒇樳橒櫉欅𡤒攑梘橌㯗橺歗𣿀𣲚鎠鋲𨯪𨫋"],["9440","銉𨀞𨧜鑧涥漋𤧬浧𣽿㶏渄𤀼娽渊塇洤硂焻𤌚𤉶烱牐犇犔𤞏𤜥兹𤪤𠗫瑺𣻸𣙟𤩊𤤗𥿡㼆㺱𤫟𨰣𣼵悧㻳瓌琼鎇琷䒟𦷪䕑疃㽣𤳙𤴆㽘畕癳𪗆㬙瑨𨫌𤦫𤦎㫻"],["94a1","㷍𤩎㻿𤧅𤣳釺圲鍂𨫣𡡤僟𥈡𥇧睸𣈲眎眏睻𤚗𣞁㩞𤣰琸璛㺿𤪺𤫇䃈𤪖𦆮錇𥖁砞碍碈磒珐祙𧝁𥛣䄎禛蒖禥樭𣻺稺秴䅮𡛦䄲鈵秱𠵌𤦌𠊙𣶺𡝮㖗啫㕰㚪𠇔𠰍竢婙𢛵𥪯𥪜娍𠉛磰娪𥯆竾䇹籝籭䈑𥮳𥺼𥺦糍𤧹𡞰粎籼粮檲緜縇緓罎𦉡"],["9540","𦅜𧭈綗𥺂䉪𦭵𠤖柖𠁎𣗏埄𦐒𦏸𤥢翝笧𠠬𥫩𥵃笌𥸎駦虅驣樜𣐿㧢𤧷𦖭騟𦖠蒀𧄧𦳑䓪脷䐂胆脉腂𦞴飃𦩂艢艥𦩑葓𦶧蘐𧈛媆䅿𡡀嬫𡢡嫤𡣘蚠蜨𣶏蠭𧐢娂"],["95a1","衮佅袇袿裦襥襍𥚃襔𧞅𧞄𨯵𨯙𨮜𨧹㺭蒣䛵䛏㟲訽訜𩑈彍鈫𤊄旔焩烄𡡅鵭貟賩𧷜妚矃姰䍮㛔踪躧𤰉輰轊䋴汘澻𢌡䢛潹溋𡟚鯩㚵𤤯邻邗啱䤆醻鐄𨩋䁢𨫼鐧𨰝𨰻蓥訫閙閧閗閖𨴴瑅㻂𤣿𤩂𤏪㻧𣈥随𨻧𨹦𨹥㻌𤧭𤩸𣿮琒瑫㻼靁𩂰"],["9640","桇䨝𩂓𥟟靝鍨𨦉𨰦𨬯𦎾銺嬑譩䤼珹𤈛鞛靱餸𠼦巁𨯅𤪲頟𩓚鋶𩗗釥䓀𨭐𤩧𨭤飜𨩅㼀鈪䤥萔餻饍𧬆㷽馛䭯馪驜𨭥𥣈檏騡嫾騯𩣱䮐𩥈馼䮽䮗鍽塲𡌂堢𤦸"],["96a1","𡓨硄𢜟𣶸棅㵽鑘㤧慐𢞁𢥫愇鱏鱓鱻鰵鰐魿鯏𩸭鮟𪇵𪃾鴡䲮𤄄鸘䲰鴌𪆴𪃭𪃳𩤯鶥蒽𦸒𦿟𦮂藼䔳𦶤𦺄𦷰萠藮𦸀𣟗𦁤秢𣖜𣙀䤭𤧞㵢鏛銾鍈𠊿碹鉷鑍俤㑀遤𥕝砽硔碶硋𡝗𣇉𤥁㚚佲濚濙瀞瀞吔𤆵垻壳垊鴖埗焴㒯𤆬燫𦱀𤾗嬨𡞵𨩉"],["9740","愌嫎娋䊼𤒈㜬䭻𨧼鎻鎸𡣖𠼝葲𦳀𡐓𤋺𢰦𤏁妔𣶷𦝁綨𦅛𦂤𤦹𤦋𨧺鋥珢㻩璴𨭣𡢟㻡𤪳櫘珳珻㻖𤨾𤪔𡟙𤩦𠎧𡐤𤧥瑈𤤖炥𤥶銄珦鍟𠓾錱𨫎𨨖鎆𨯧𥗕䤵𨪂煫"],["97a1","𤥃𠳿嚤𠘚𠯫𠲸唂秄𡟺緾𡛂𤩐𡡒䔮鐁㜊𨫀𤦭妰𡢿𡢃𧒄媡㛢𣵛㚰鉟婹𨪁𡡢鍴㳍𠪴䪖㦊僴㵩㵌𡎜煵䋻𨈘渏𩃤䓫浗𧹏灧沯㳖𣿭𣸭渂漌㵯𠏵畑㚼㓈䚀㻚䡱姄鉮䤾轁𨰜𦯀堒埈㛖𡑒烾𤍢𤩱𢿣𡊰𢎽梹楧𡎘𣓥𧯴𣛟𨪃𣟖𣏺𤲟樚𣚭𦲷萾䓟䓎"],["9840","𦴦𦵑𦲂𦿞漗𧄉茽𡜺菭𦲀𧁓𡟛妉媂𡞳婡婱𡤅𤇼㜭姯𡜼㛇熎鎐暚𤊥婮娫𤊓樫𣻹𧜶𤑛𤋊焝𤉙𨧡侰𦴨峂𤓎𧹍𤎽樌𤉖𡌄炦焳𤏩㶥泟勇𤩏繥姫崯㷳彜𤩝𡟟綤萦"],["98a1","咅𣫺𣌀𠈔坾𠣕𠘙㿥𡾞𪊶瀃𩅛嵰玏糓𨩙𩐠俈翧狍猐𧫴猸猹𥛶獁獈㺩𧬘遬燵𤣲珡臶㻊県㻑沢国琙琞琟㻢㻰㻴㻺瓓㼎㽓畂畭畲疍㽼痈痜㿀癍㿗癴㿜発𤽜熈嘣覀塩䀝睃䀹条䁅㗛瞘䁪䁯属瞾矋売砘点砜䂨砹硇硑硦葈𥔵礳栃礲䄃"],["9940","䄉禑禙辻稆込䅧窑䆲窼艹䇄竏竛䇏両筢筬筻簒簛䉠䉺类粜䊌粸䊔糭输烀𠳏総緔緐緽羮羴犟䎗耠耥笹耮耱联㷌垴炠肷胩䏭脌猪脎脒畠脔䐁㬹腖腙腚"],["99a1","䐓堺腼膄䐥膓䐭膥埯臁臤艔䒏芦艶苊苘苿䒰荗险榊萅烵葤惣蒈䔄蒾蓡蓸蔐蔸蕒䔻蕯蕰藠䕷虲蚒蚲蛯际螋䘆䘗袮裿褤襇覑𧥧訩訸誔誴豑賔賲贜䞘塟跃䟭仮踺嗘坔蹱嗵躰䠷軎転軤軭軲辷迁迊迌逳駄䢭飠鈓䤞鈨鉘鉫銱銮銿"],["9a40","鋣鋫鋳鋴鋽鍃鎄鎭䥅䥑麿鐗匁鐝鐭鐾䥪鑔鑹锭関䦧间阳䧥枠䨤靀䨵鞲韂噔䫤惨颹䬙飱塄餎餙冴餜餷饂饝饢䭰駅䮝騼鬏窃魩鮁鯝鯱鯴䱭鰠㝯𡯂鵉鰺"],["9aa1","黾噐鶓鶽鷀鷼银辶鹻麬麱麽黆铜黢黱黸竈齄𠂔𠊷𠎠椚铃妬𠓗塀铁㞹𠗕𠘕𠙶𡚺块煳𠫂𠫍𠮿呪吆𠯋咞𠯻𠰻𠱓𠱥𠱼惧𠲍噺𠲵𠳝𠳭𠵯𠶲𠷈楕鰯螥𠸄𠸎𠻗𠾐𠼭𠹳尠𠾼帋𡁜𡁏𡁶朞𡁻𡂈𡂖㙇𡂿𡃓𡄯𡄻卤蒭𡋣𡍵𡌶讁𡕷𡘙𡟃𡟇乸炻𡠭𡥪"],["9b40","𡨭𡩅𡰪𡱰𡲬𡻈拃𡻕𡼕熘桕𢁅槩㛈𢉼𢏗𢏺𢜪𢡱𢥏苽𢥧𢦓𢫕覥𢫨辠𢬎鞸𢬿顇骽𢱌"],["9b62","𢲈𢲷𥯨𢴈𢴒𢶷𢶕𢹂𢽴𢿌𣀳𣁦𣌟𣏞徱晈暿𧩹𣕧𣗳爁𤦺矗𣘚𣜖纇𠍆墵朎"],["9ba1","椘𣪧𧙗𥿢𣸑𣺹𧗾𢂚䣐䪸𤄙𨪚𤋮𤌍𤀻𤌴𤎖𤩅𠗊凒𠘑妟𡺨㮾𣳿𤐄𤓖垈𤙴㦛𤜯𨗨𩧉㝢𢇃譞𨭎駖𤠒𤣻𤨕爉𤫀𠱸奥𤺥𤾆𠝹軚𥀬劏圿煱𥊙𥐙𣽊𤪧喼𥑆𥑮𦭒釔㑳𥔿𧘲𥕞䜘𥕢𥕦𥟇𤤿𥡝偦㓻𣏌惞𥤃䝼𨥈𥪮𥮉𥰆𡶐垡煑澶𦄂𧰒遖𦆲𤾚譢𦐂𦑊"],["9c40","嵛𦯷輶𦒄𡤜諪𤧶𦒈𣿯𦔒䯀𦖿𦚵𢜛鑥𥟡憕娧晉侻嚹𤔡𦛼乪𤤴陖涏𦲽㘘襷𦞙𦡮𦐑𦡞營𦣇筂𩃀𠨑𦤦鄄𦤹穅鷰𦧺騦𦨭㙟𦑩𠀡禃𦨴𦭛崬𣔙菏𦮝䛐𦲤画补𦶮墶"],["9ca1","㜜𢖍𧁋𧇍㱔𧊀𧊅銁𢅺𧊋錰𧋦𤧐氹钟𧑐𠻸蠧裵𢤦𨑳𡞱溸𤨪𡠠㦤㚹尐秣䔿暶𩲭𩢤襃𧟌𧡘囖䃟𡘊㦡𣜯𨃨𡏅熭荦𧧝𩆨婧䲷𧂯𨦫𧧽𧨊𧬋𧵦𤅺筃祾𨀉澵𪋟樃𨌘厢𦸇鎿栶靝𨅯𨀣𦦵𡏭𣈯𨁈嶅𨰰𨂃圕頣𨥉嶫𤦈斾槕叒𤪥𣾁㰑朶𨂐𨃴𨄮𡾡𨅏"],["9d40","𨆉𨆯𨈚𨌆𨌯𨎊㗊𨑨𨚪䣺揦𨥖砈鉕𨦸䏲𨧧䏟𨧨𨭆𨯔姸𨰉輋𨿅𩃬筑𩄐𩄼㷷𩅞𤫊运犏嚋𩓧𩗩𩖰𩖸𩜲𩣑𩥉𩥪𩧃𩨨𩬎𩵚𩶛纟𩻸𩼣䲤镇𪊓熢𪋿䶑递𪗋䶜𠲜达嗁"],["9da1","辺𢒰边𤪓䔉繿潖檱仪㓤𨬬𧢝㜺躀𡟵𨀤𨭬𨮙𧨾𦚯㷫𧙕𣲷𥘵𥥖亚𥺁𦉘嚿𠹭踎孭𣺈𤲞揞拐𡟶𡡻攰嘭𥱊吚𥌑㷆𩶘䱽嘢嘞罉𥻘奵𣵀蝰东𠿪𠵉𣚺脗鵞贘瘻鱅癎瞹鍅吲腈苷嘥脲萘肽嗪祢噃吖𠺝㗎嘅嗱曱𨋢㘭甴嗰喺咗啲𠱁𠲖廐𥅈𠹶𢱢"],["9e40","𠺢麫絚嗞𡁵抝靭咔賍燶酶揼掹揾啩𢭃鱲𢺳冚㓟𠶧冧呍唞唓癦踭𦢊疱肶蠄螆裇膶萜𡃁䓬猄𤜆宐茋𦢓噻𢛴𧴯𤆣𧵳𦻐𧊶酰𡇙鈈𣳼𪚩𠺬𠻹牦𡲢䝎𤿂𧿹𠿫䃺"],["9ea1","鱝攟𢶠䣳𤟠𩵼𠿬𠸊恢𧖣𠿭"],["9ead","𦁈𡆇熣纎鵐业丄㕷嬍沲卧㚬㧜卽㚥𤘘墚𤭮舭呋垪𥪕𠥹"],["9ec5","㩒𢑥獴𩺬䴉鯭𣳾𩼰䱛𤾩𩖞𩿞葜𣶶𧊲𦞳𣜠挮紥𣻷𣸬㨪逈勌㹴㙺䗩𠒎癀嫰𠺶硺𧼮墧䂿噼鮋嵴癔𪐴麅䳡痹㟻愙𣃚𤏲"],["9ef5","噝𡊩垧𤥣𩸆刴𧂮㖭汊鵼"],["9f40","籖鬹埞𡝬屓擓𩓐𦌵𧅤蚭𠴨𦴢𤫢𠵱"],["9f4f","凾𡼏嶎霃𡷑麁遌笟鬂峑箣扨挵髿篏鬪籾鬮籂粆鰕篼鬉鼗鰛𤤾齚啳寃俽麘俲剠㸆勑坧偖妷帒韈鶫轜呩鞴饀鞺匬愰"],["9fa1","椬叚鰊鴂䰻陁榀傦畆𡝭駚剳"],["9fae","酙隁酜"],["9fb2","酑𨺗捿𦴣櫊嘑醎畺抅𠏼獏籰𥰡𣳽"],["9fc1","𤤙盖鮝个𠳔莾衂"],["9fc9","届槀僭坺刟巵从氱𠇲伹咜哚劚趂㗾弌㗳"],["9fdb","歒酼龥鮗頮颴骺麨麄煺笔"],["9fe7","毺蠘罸"],["9feb","嘠𪙊蹷齓"],["9ff0","跔蹏鸜踁抂𨍽踨蹵竓𤩷稾磘泪詧瘇"],["a040","𨩚鼦泎蟖痃𪊲硓咢贌狢獱謭猂瓱賫𤪻蘯徺袠䒷"],["a055","𡠻𦸅"],["a058","詾𢔛"],["a05b","惽癧髗鵄鍮鮏蟵"],["a063","蠏賷猬霡鮰㗖犲䰇籑饊𦅙慙䰄麖慽"],["a073","坟慯抦戹拎㩜懢厪𣏵捤栂㗒"],["a0a1","嵗𨯂迚𨸹"],["a0a6","僙𡵆礆匲阸𠼻䁥"],["a0ae","矾"],["a0b0","糂𥼚糚稭聦聣絍甅瓲覔舚朌聢𧒆聛瓰脃眤覉𦟌畓𦻑螩蟎臈螌詉貭譃眫瓸蓚㘵榲趦"],["a0d4","覩瑨涹蟁𤀑瓧㷛煶悤憜㳑煢恷"],["a0e2","罱𨬭牐惩䭾删㰘𣳇𥻗𧙖𥔱𡥄𡋾𩤃𦷜𧂭峁𦆭𨨏𣙷𠃮𦡆𤼎䕢嬟𦍌齐麦𦉫"],["a3c0","␀",31,"␡"],["c6a1","①",9,"⑴",9,"ⅰ",9,"丶丿亅亠冂冖冫勹匸卩厶夊宀巛⼳广廴彐彡攴无疒癶辵隶¨ˆヽヾゝゞ〃仝々〆〇ー［］✽ぁ",23],["c740","す",58,"ァアィイ"],["c7a1","ゥ",81,"А",5,"ЁЖ",4],["c840","Л",26,"ёж",25,"⇧↸↹㇏𠃌乚𠂊刂䒑"],["c8a1","龰冈龱𧘇"],["c8cd","￢￤＇＂㈱№℡゛゜⺀⺄⺆⺇⺈⺊⺌⺍⺕⺜⺝⺥⺧⺪⺬⺮⺶⺼⺾⻆⻊⻌⻍⻏⻖⻗⻞⻣"],["c8f5","ʃɐɛɔɵœøŋʊɪ"],["f9fe","￭"],["fa40","𠕇鋛𠗟𣿅蕌䊵珯况㙉𤥂𨧤鍄𡧛苮𣳈砼杄拟𤤳𨦪𠊠𦮳𡌅侫𢓭倈𦴩𧪄𣘀𤪱𢔓倩𠍾徤𠎀𠍇滛𠐟偽儁㑺儎顬㝃萖𤦤𠒇兠𣎴兪𠯿𢃼𠋥𢔰𠖎𣈳𡦃宂蝽𠖳𣲙冲冸"],["faa1","鴴凉减凑㳜凓𤪦决凢卂凭菍椾𣜭彻刋刦刼劵剗劔効勅簕蕂勠蘍𦬓包𨫞啉滙𣾀𠥔𣿬匳卄𠯢泋𡜦栛珕恊㺪㣌𡛨燝䒢卭却𨚫卾卿𡖖𡘓矦厓𨪛厠厫厮玧𥝲㽙玜叁叅汉义埾叙㪫𠮏叠𣿫𢶣叶𠱷吓灹唫晗浛呭𦭓𠵴啝咏咤䞦𡜍𠻝㶴𠵍"],["fb40","𨦼𢚘啇䳭启琗喆喩嘅𡣗𤀺䕒𤐵暳𡂴嘷曍𣊊暤暭噍噏磱囱鞇叾圀囯园𨭦㘣𡉏坆𤆥汮炋坂㚱𦱾埦𡐖堃𡑔𤍣堦𤯵塜墪㕡壠壜𡈼壻寿坃𪅐𤉸鏓㖡够梦㛃湙"],["fba1","𡘾娤啓𡚒蔅姉𠵎𦲁𦴪𡟜姙𡟻𡞲𦶦浱𡠨𡛕姹𦹅媫婣㛦𤦩婷㜈媖瑥嫓𦾡𢕔㶅𡤑㜲𡚸広勐孶斈孼𧨎䀄䡝𠈄寕慠𡨴𥧌𠖥寳宝䴐尅𡭄尓珎尔𡲥𦬨屉䣝岅峩峯嶋𡷹𡸷崐崘嵆𡺤岺巗苼㠭𤤁𢁉𢅳芇㠶㯂帮檊幵幺𤒼𠳓厦亷廐厨𡝱帉廴𨒂"],["fc40","廹廻㢠廼栾鐛弍𠇁弢㫞䢮𡌺强𦢈𢏐彘𢑱彣鞽𦹮彲鍀𨨶徧嶶㵟𥉐𡽪𧃸𢙨釖𠊞𨨩怱暅𡡷㥣㷇㘹垐𢞴祱㹀悞悤悳𤦂𤦏𧩓璤僡媠慤萤慂慈𦻒憁凴𠙖憇宪𣾷"],["fca1","𢡟懓𨮝𩥝懐㤲𢦀𢣁怣慜攞掋𠄘担𡝰拕𢸍捬𤧟㨗搸揸𡎎𡟼撐澊𢸶頔𤂌𥜝擡擥鑻㩦携㩗敍漖𤨨𤨣斅敭敟𣁾斵𤥀䬷旑䃘𡠩无旣忟𣐀昘𣇷𣇸晄𣆤𣆥晋𠹵晧𥇦晳晴𡸽𣈱𨗴𣇈𥌓矅𢣷馤朂𤎜𤨡㬫槺𣟂杞杧杢𤇍𩃭柗䓩栢湐鈼栁𣏦𦶠桝"],["fd40","𣑯槡樋𨫟楳棃𣗍椁椀㴲㨁𣘼㮀枬楡𨩊䋼椶榘㮡𠏉荣傐槹𣙙𢄪橅𣜃檝㯳枱櫈𩆜㰍欝𠤣惞欵歴𢟍溵𣫛𠎵𡥘㝀吡𣭚毡𣻼毜氷𢒋𤣱𦭑汚舦汹𣶼䓅𣶽𤆤𤤌𤤀"],["fda1","𣳉㛥㳫𠴲鮃𣇹𢒑羏样𦴥𦶡𦷫涖浜湼漄𤥿𤂅𦹲蔳𦽴凇沜渝萮𨬡港𣸯瑓𣾂秌湏媑𣁋濸㜍澝𣸰滺𡒗𤀽䕕鏰潄潜㵎潴𩅰㴻澟𤅄濓𤂑𤅕𤀹𣿰𣾴𤄿凟𤅖𤅗𤅀𦇝灋灾炧炁烌烕烖烟䄄㷨熴熖𤉷焫煅媈煊煮岜𤍥煏鍢𤋁焬𤑚𤨧𤨢熺𨯨炽爎"],["fe40","鑂爕夑鑃爤鍁𥘅爮牀𤥴梽牕牗㹕𣁄栍漽犂猪猫𤠣𨠫䣭𨠄猨献珏玪𠰺𦨮珉瑉𤇢𡛧𤨤昣㛅𤦷𤦍𤧻珷琕椃𤨦琹𠗃㻗瑜𢢭瑠𨺲瑇珤瑶莹瑬㜰瑴鏱樬璂䥓𤪌"],["fea1","𤅟𤩹𨮏孆𨰃𡢞瓈𡦈甎瓩甞𨻙𡩋寗𨺬鎅畍畊畧畮𤾂㼄𤴓疎瑝疞疴瘂瘬癑癏癯癶𦏵皐臯㟸𦤑𦤎皡皥皷盌𦾟葢𥂝𥅽𡸜眞眦着撯𥈠睘𣊬瞯𨥤𨥨𡛁矴砉𡍶𤨒棊碯磇磓隥礮𥗠磗礴碱𧘌辸袄𨬫𦂃𢘜禆褀椂禀𥡗禝𧬹礼禩渪𧄦㺨秆𩄍秔"]];
},{}],"SB7m":[function(require,module,exports) {
"use strict";module.exports={shiftjis:{type:"_dbcs",table:function(){return require("./tables/shiftjis.json")},encodeAdd:{"¥":92,"‾":126},encodeSkipVals:[{from:60736,to:63808}]},csshiftjis:"shiftjis",mskanji:"shiftjis",sjis:"shiftjis",windows31j:"shiftjis",ms31j:"shiftjis",xsjis:"shiftjis",windows932:"shiftjis",ms932:"shiftjis",932:"shiftjis",cp932:"shiftjis",eucjp:{type:"_dbcs",table:function(){return require("./tables/eucjp.json")},encodeAdd:{"¥":92,"‾":126}},gb2312:"cp936",gb231280:"cp936",gb23121980:"cp936",csgb2312:"cp936",csiso58gb231280:"cp936",euccn:"cp936",windows936:"cp936",ms936:"cp936",936:"cp936",cp936:{type:"_dbcs",table:function(){return require("./tables/cp936.json")}},gbk:{type:"_dbcs",table:function(){return require("./tables/cp936.json").concat(require("./tables/gbk-added.json"))}},xgbk:"gbk",isoir58:"gbk",gb18030:{type:"_dbcs",table:function(){return require("./tables/cp936.json").concat(require("./tables/gbk-added.json"))},gb18030:function(){return require("./tables/gb18030-ranges.json")},encodeSkipVals:[128],encodeAdd:{"€":41699}},chinese:"gb18030",windows949:"cp949",ms949:"cp949",949:"cp949",cp949:{type:"_dbcs",table:function(){return require("./tables/cp949.json")}},cseuckr:"cp949",csksc56011987:"cp949",euckr:"cp949",isoir149:"cp949",korean:"cp949",ksc56011987:"cp949",ksc56011989:"cp949",ksc5601:"cp949",windows950:"cp950",ms950:"cp950",950:"cp950",cp950:{type:"_dbcs",table:function(){return require("./tables/cp950.json")}},big5:"big5hkscs",big5hkscs:{type:"_dbcs",table:function(){return require("./tables/cp950.json").concat(require("./tables/big5-added.json"))},encodeSkipVals:[41676]},cnbig5:"big5hkscs",csbig5:"big5hkscs",xxbig5:"big5hkscs"};
},{"./tables/shiftjis.json":"P0Ww","./tables/eucjp.json":"F831","./tables/cp936.json":"DHI4","./tables/gbk-added.json":"p4xS","./tables/gb18030-ranges.json":"UacA","./tables/cp949.json":"BZv6","./tables/cp950.json":"rxXt","./tables/big5-added.json":"BX3f"}],"WCTT":[function(require,module,exports) {
"use strict";for(var e=[require("./internal"),require("./utf32"),require("./utf16"),require("./utf7"),require("./sbcs-codec"),require("./sbcs-data"),require("./sbcs-data-generated"),require("./dbcs-codec"),require("./dbcs-data")],r=0;r<e.length;r++){var t=e[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(exports[a]=t[a])}
},{"./internal":"S9sr","./utf32":"hz8t","./utf16":"zVdI","./utf7":"t45t","./sbcs-codec":"a7zs","./sbcs-data":"mUs1","./sbcs-data-generated":"GYsD","./dbcs-codec":"b7qe","./dbcs-data":"SB7m"}],"H7rC":[function(require,module,exports) {

"use strict";var t=require("safer-buffer").Buffer;module.exports=function(n){var r=n.Transform;function o(t,n){this.conv=t,(n=n||{}).decodeStrings=!1,r.call(this,n)}function e(t,n){this.conv=t,(n=n||{}).encoding=this.encoding="utf8",r.call(this,n)}return o.prototype=Object.create(r.prototype,{constructor:{value:o}}),o.prototype._transform=function(t,n,r){if("string"!=typeof t)return r(new Error("Iconv encoding stream needs strings as its input."));try{var o=this.conv.write(t);o&&o.length&&this.push(o),r()}catch(e){r(e)}},o.prototype._flush=function(t){try{var n=this.conv.end();n&&n.length&&this.push(n),t()}catch(r){t(r)}},o.prototype.collect=function(n){var r=[];return this.on("error",n),this.on("data",function(t){r.push(t)}),this.on("end",function(){n(null,t.concat(r))}),this},e.prototype=Object.create(r.prototype,{constructor:{value:e}}),e.prototype._transform=function(n,r,o){if(!(t.isBuffer(n)||n instanceof Uint8Array))return o(new Error("Iconv decoding stream needs buffers as its input."));try{var e=this.conv.write(n);e&&e.length&&this.push(e,this.encoding),o()}catch(i){o(i)}},e.prototype._flush=function(t){try{var n=this.conv.end();n&&n.length&&this.push(n,this.encoding),t()}catch(r){t(r)}},e.prototype.collect=function(t){var n="";return this.on("error",t),this.on("data",function(t){n+=t}),this.on("end",function(){t(null,n)}),this},{IconvLiteEncoderStream:o,IconvLiteDecoderStream:e}};
},{"safer-buffer":"IVbQ"}],"XCGw":[function(require,module,exports) {

"use strict";var e,n=require("safer-buffer").Buffer,r=require("./bom-handling"),o=module.exports;o.encodings=null,o.defaultCharUnicode="�",o.defaultCharSingleByte="?",o.encode=function(e,r,t){e=""+(e||"");var c=o.getEncoder(r,t),i=c.write(e),a=c.end();return a&&a.length>0?n.concat([i,a]):i},o.decode=function(e,r,t){"string"==typeof e&&(o.skipDecodeWarning||(console.error("Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding"),o.skipDecodeWarning=!0),e=n.from(""+(e||""),"binary"));var c=o.getDecoder(r,t),i=c.write(e),a=c.end();return a?i+a:i},o.encodingExists=function(e){try{return o.getCodec(e),!0}catch(n){return!1}},o.toEncoding=o.encode,o.fromEncoding=o.decode,o._codecDataCache={},o.getCodec=function(e){o.encodings||(o.encodings=require("../encodings"));for(var n=o._canonicalizeEncoding(e),r={};;){var t=o._codecDataCache[n];if(t)return t;var c=o.encodings[n];switch(typeof c){case"string":n=c;break;case"object":for(var i in c)r[i]=c[i];r.encodingName||(r.encodingName=n),n=c.type;break;case"function":return r.encodingName||(r.encodingName=n),t=new c(r,o),o._codecDataCache[r.encodingName]=t,t;default:throw new Error("Encoding not recognized: '"+e+"' (searched as: '"+n+"')")}}},o._canonicalizeEncoding=function(e){return(""+e).toLowerCase().replace(/:\d{4}$|[^0-9a-z]/g,"")},o.getEncoder=function(e,n){var t=o.getCodec(e),c=new t.encoder(n,t);return t.bomAware&&n&&n.addBOM&&(c=new r.PrependBOM(c,n)),c},o.getDecoder=function(e,n){var t=o.getCodec(e),c=new t.decoder(n,t);return!t.bomAware||n&&!1===n.stripBOM||(c=new r.StripBOM(c,n)),c},o.enableStreamingAPI=function(e){if(!o.supportsStreams){var n=require("./streams")(e);o.IconvLiteEncoderStream=n.IconvLiteEncoderStream,o.IconvLiteDecoderStream=n.IconvLiteDecoderStream,o.encodeStream=function(e,n){return new o.IconvLiteEncoderStream(o.getEncoder(e,n),n)},o.decodeStream=function(e,n){return new o.IconvLiteDecoderStream(o.getDecoder(e,n),n)},o.supportsStreams=!0}};try{e=require("stream")}catch(t){}e&&e.Transform?o.enableStreamingAPI(e):o.encodeStream=o.decodeStream=function(){throw new Error("iconv-lite Streaming API is not enabled. Use iconv.enableStreamingAPI(require('stream')); to enable it.")};
},{"safer-buffer":"IVbQ","./bom-handling":"eain","../encodings":"WCTT","./streams":"H7rC","stream":"sC8V"}],"EKvS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ObjectEncoding=exports.Endian=exports.CompressionAlgorithm=void 0,exports.CompressionAlgorithm={DEFLATE:"deflate",LZMA:"lzma",ZLIB:"zlib"},exports.Endian={LITTLE_ENDIAN:"LE",BIG_ENDIAN:"BE"},exports.ObjectEncoding={AMF0:0,AMF3:3};
},{}],"Ujas":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer;Object.defineProperty(exports,"__esModule",{value:!0}),exports.ByteArray=void 0;const t=require("zlib"),r=require("lzma/src/lzma_worker.js"),i=require("iconv-lite"),n=require("./ByteArrayEnums"),s={kNumberType:0,kBooleanType:1,kStringType:2,kObjectType:3,kMovieClipType:4,kNullType:5,kUndefinedType:6,kReferenceType:7,kECMAArrayType:8,kObjectEndType:9,kStrictArrayType:10,kDateType:11,kLongStringType:12,kUnsupportedType:13,kRecordsetType:14,kXMLObjectType:15,kTypedObjectType:16,kAvmPlusObjectType:17},a={kUndefinedType:0,kNullType:1,kFalseType:2,kTrueType:3,kIntegerType:4,kDoubleType:5,kStringType:6,kXMLType:7,kDateType:8,kArrayType:9,kObjectType:10,kAvmPlusXmlType:11,kByteArrayType:12},o=t=>e.isBuffer(t)?t:Array.isArray(t)?e.from(t):t instanceof ArrayBuffer?e.from(new Uint8Array(t)):t instanceof Uint8Array?e.from(t):Number.isInteger(t)?e.alloc(t):e.alloc(0);class h{constructor(e=0){this.stringTable=[],this.objectTable=[],this.traitTable=[],this.buffer=o(e),this._position=0,this._endian=n.Endian.BIG_ENDIAN,this._objectEncoding=n.ObjectEncoding.AMF3}get[Symbol.toStringTag](){return"ByteArray"}get position(){return this._position}set position(e){if(!(e>=0))throw new TypeError(`Invalid value for position: '${e}'.`);this._position=e}get endian(){return this._endian}set endian(e){if("LE"!==e&&"BE"!==e)throw new TypeError(`Invalid value for endian: '${e}'.`);this._endian=e}get objectEncoding(){return this._objectEncoding}set objectEncoding(e){if(e!==n.ObjectEncoding.AMF0&&e!==n.ObjectEncoding.AMF3)throw new Error(`Unknown object encoding: '${e}'.`);this._objectEncoding=e}get length(){return this.buffer.length}set length(e){if(!Number.isInteger(e)||e<0)throw new TypeError(`Invalid value for length: '${e}'.`);0===e?this.clear():e!==this.length&&(e<this.length?(this.buffer=this.buffer.slice(0,e),this._position=this.length):this._expand(e))}get bytesAvailable(){return this.length-this._position}_readBufferFunc(e,t){const r=this.buffer[`${e}${this._endian}`](this._position);return this._position+=t,r}_writeBufferFunc(e,t,r){this._expand(r),this.buffer[`${t}${this._endian}`](e,this._position),this._position+=r}_expand(t){if(this.bytesAvailable<t){const r=this.buffer,i=r.length+(t-this.bytesAvailable);this.buffer=e.alloc(i),r.copy(this.buffer)}}signedOverflow(e,t){const r=1<<t-1;return(e&r-1)-(e&r)}clear(){this.buffer=e.alloc(0),this._position=0}async compress(e=n.CompressionAlgorithm.ZLIB){if(0!==this.length){if((e=e.toLowerCase())===n.CompressionAlgorithm.ZLIB)this.buffer=t.deflateSync(this.buffer,{level:9});else if(e===n.CompressionAlgorithm.DEFLATE)this.buffer=t.deflateRawSync(this.buffer);else{if(e!==n.CompressionAlgorithm.LZMA)throw new Error(`Invalid compression algorithm: '${e}'.`);this.buffer=await r.LZMA.compress(this.buffer,1)}this._position=this.length}}readBoolean(){return 0!==this.readByte()}readByte(){return this.buffer.readInt8(this._position++)}readBytes(e,t=0,r=0){if(0===r&&(r=this.bytesAvailable),r>this.bytesAvailable)throw new RangeError("End of buffer was encountered.");e.length<t+r&&e._expand(t+r);for(let i=0;i<r;i++)e.buffer[i+t]=this.buffer[i+this._position];this._position+=r}readDouble(){return this._readBufferFunc("readDouble",8)}readFloat(){return this._readBufferFunc("readFloat",4)}readInt(){return this._readBufferFunc("readInt32",4)}readLong(){return this._readBufferFunc("readBigInt64",8)}readUInt29(){var e,t=255&this.readByte();return t<128?t:(e=(127&t)<<7,(t=255&this.readByte())<128?e|t:(e=(e|127&t)<<7,(t=255&this.readByte())<128?e|t:(e=(e|127&t)<<8)|(t=255&this.readByte())))}readUInt30(){return this.endian===n.Endian.BIG_ENDIAN?this.readUInt30BE():this.endian===n.Endian.LITTLE_ENDIAN?this.readUInt30LE():void 0}readUInt30BE(){var e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte();if(!(e>=64))return i|r<<8|t<<16|e<<24}readUInt30LE(){var e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte();if(!(i>=64))return e|t<<8|r<<16|i<<24}readMultiByte(t,r="utf8"){const n=this._position;if(this._position+=t,i.encodingExists(r)){const s=this.buffer.slice(n,this._position),a=("utf8"===r||"utf-8"===r)&&s.length>=3&&239===s[0]&&187===s[1]&&191===s[2],o=i.decode(s,r,{stripBOM:a});if(a&&(t-=3),e.byteLength(o)!==t)throw new RangeError("End of buffer was encountered.");return o}throw new Error(`Invalid character set: '${r}'.`)}stringToXML(e){var t;window.DOMParser&&(t=(new DOMParser).parseFromString(e,"text/xml"));return t}readXML(){var e=this.readUTFBytes(this.readUInt30());return this.stringToXML(e)}readStringAMF3(){var e=this.readUInt29();if(0==(1&e))return this.stringTable[e>>1];var t=e>>1;if(0==t)return"";var r=this.readString(t);return this.stringTable.push(r),r}readTraits(e){var t={properties:[]};if(1==(3&e))return this.traitTable[e>>2];t.externalizable=4==(4&e),t.dynamic=8==(8&e),t.count=e>>4,t.className=this.readStringAMF3(),this.traitTable.push(t);for(var r=0;r<t.count;r++){var i=this.readStringAMF3();t.properties.push(i)}return t}readObject(){return this._objectEncoding==n.ObjectEncoding.AMF0?this.readAMF0Object():this._objectEncoding==n.ObjectEncoding.AMF3?this.readAMF3Object():void 0}readAMF0Object(){var e=this.readByte();if(e==s.kNumberType)return this.readDouble();if(e==s.kBooleanType)return this.readBoolean();if(e==s.kStringType)return this.readUTF();if(e==s.kObjectType||e==s.kECMAArrayType){var t={},r=null;for(e==s.kECMAArrayType&&this.readUInt30();;){var i=this.readByte(),n=this.readByte(),a=this.readString(i<<8|n);if(this.readByte()==s.kObjectEndType)break;this.position--,t[a]=this.readObject()}return t}if(e==s.kStrictArrayType){r=this.readInt();for(var o=[],h=0;h<r;++h)o.push(this.readObject());return o}if(e==s.kTypedObjectType){t={},this.readUTF();for(var f=this.readUTF(),d=this.readByte();d!=kObjectEndType;){var u=this.readObject();t[f]=u,f=this.readUTF(),d=this.readByte()}return t}if(e==s.kAvmPlusObjectType)return this.readAMF3Object();if(e==s.kNullType)return null;if(e!=s.kUndefinedType){if(e==s.kReferenceType){var l=this.readUnsignedShort();return u=this.objectTable[l]}return e==s.kDateType?this.readDate():e==s.kLongStringType?this.readUTFBytes(this.readUInt30()):e==s.kXMLObjectType?this.readXML():void 0}}readAMF3Object(){var e=this.readByte();if(e!=a.kUndefinedType){if(e==a.kNullType)return null;if(e==a.kFalseType)return!1;if(e==a.kTrueType)return!0;if(e==a.kIntegerType)return o=this.readUInt29();if(e==a.kDoubleType)return this.readDouble();if(e==a.kStringType)return this.readStringAMF3();if(e==a.kXMLType)return this.readXML();if(e==a.kDateType){if(0==(1&(p=this.readUInt29())))return this.objectTable[p>>1];var t=this.readDouble(),r=new Date(t);return this.objectTable.push(r),r}if(e==a.kArrayType){if(0==(1&(p=this.readUInt29())))return this.objectTable[p>>1];var i=p>>1,n=this.readStringAMF3();if(""==n){for(var s=[],o=0;o<i;o++){r=this.readObject();s.push(r)}return s}for(var f={};""!=n;)f[n]=this.readObject(),n=this.readStringAMF3();for(o=0;o<i;o++)f[o]=this.readObject();return f}if(e==a.kObjectType){var d={};if(this.objectTable.push(d),0==(1&(p=this.readUInt29())))return this.objectTable[p>>1];var u=this.readTraits(p);u.className;if(u.externalizable)d=this.readObject();else{for(i=u.properties.length,o=0;o<i;o++){var l=u.properties[o];r=this.readObject();d[l]=r}if(u.dynamic)for(;;){var c=this.readStringAMF3();if(null==c||0==c.length)break;r=this.readObject();d[c]=r}}return d}if(e==a.kAvmPlusXmlType){if(0==(1&(p=this.readUInt29())))return this.stringToXML(this.objectTable[p>>1]);if(0==(i=p>>1))return null;var y=this.readString(i),b=this.stringToXML(y);return this.objectTable.push(b),b}if(e==a.kByteArrayType){var p;if(0==(1&(p=this.readUInt29())))return this.objectTable[p>>1];i=p>>1;var g=new h;this.objectTable.push(g);for(o=0;o<i;o++)g.writeByte(this.readByte());return g}}}readDate(){var e=this.readDouble(),t=this.readUnsignedShort();return new Date(e+60*t*1e3)}readString(e){for(var t="";e>0;)t+=String.fromCharCode(this.readUnsignedByte()),e--;return t}readShort(){return this._readBufferFunc("readInt16",2)}readUnsignedByte(){return this.buffer.readUInt8(this._position++)}readUnsignedInt(){return this._readBufferFunc("readUInt32",4)}readUnsignedShort(){return this._readBufferFunc("readUInt16",2)}readUnsignedLong(){return this._readBufferFunc("readBigUInt64",8)}readUTF(){return this.readMultiByte(this.readUnsignedShort())}readUTFBytes(e){return this.readMultiByte(e)}toJSON(){return Object.assign({},this.buffer.toJSON().data)}toString(e="utf8"){if(i.encodingExists(e))return i.decode(this.buffer,e);throw new Error(`Invalid character set: '${e}'.`)}async uncompress(e=n.CompressionAlgorithm.ZLIB){if(0!==this.length){if((e=e.toLowerCase())===n.CompressionAlgorithm.ZLIB)this.buffer=t.inflateSync(this.buffer,{level:9});else if(e===n.CompressionAlgorithm.DEFLATE)this.buffer=t.inflateRawSync(this.buffer);else{if(e!==n.CompressionAlgorithm.LZMA)throw new Error(`Invalid decompression algorithm: '${e}'.`);this.buffer=await r.LZMA.decompress(this.buffer)}this._position=0}}writeBoolean(e){this.writeByte(e?1:0)}writeByte(e){this._expand(1),this.buffer.writeInt8(this.signedOverflow(e,8),this._position++)}writeBytes(e,t=0,r=0){0===r&&(r=e.length-t),this._expand(r);for(let i=0;i<r;i++)this.buffer[i+this._position]=e.buffer[i+t];this._position+=r}writeDouble(e){this._writeBufferFunc(e,"writeDouble",8)}writeFloat(e){this._writeBufferFunc(e,"writeFloat",4)}writeInt(e){this._writeBufferFunc(this.signedOverflow(e,32),"writeInt32",4)}writeLong(e){this._writeBufferFunc(e,"writeBigInt64",8)}writeMultiByte(t,r="utf8"){if(this._position+=e.byteLength(t),!i.encodingExists(r))throw new Error(`Invalid character set: '${r}'.`);this.buffer=e.concat([this.buffer,i.encode(t,r)])}writeObject(t){const r=this._objectEncoding===n.ObjectEncoding.AMF0?AMF0.stringify(t):AMF3.stringify(t);this._position+=r.length,this.buffer=e.concat([this.buffer,e.from(r)])}writeShort(e){this._writeBufferFunc(this.signedOverflow(e,16),"writeInt16",2)}writeUnsignedByte(e){this._expand(1),this.buffer.writeUInt8(e,this._position++)}writeUnsignedInt(e){this._writeBufferFunc(e,"writeUInt32",4)}writeUnsignedShort(e){this._writeBufferFunc(e,"writeUInt16",2)}writeUnsignedLong(e){this._writeBufferFunc(e,"writeBigUInt64",8)}writeUTF(t){this.writeUnsignedShort(e.byteLength(t)),this.writeMultiByte(t)}writeUTFBytes(e){this.writeMultiByte(e)}}exports.ByteArray=h;
},{"zlib":"eZik","lzma/src/lzma_worker.js":"zvoE","iconv-lite":"XCGw","./ByteArrayEnums":"EKvS","buffer":"aMB2"}],"s2SF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CameraMovement=void 0;class e{constructor(e,t,s,r){this.frame=e,this.x=t,this.y=s,this.scale=r}}exports.CameraMovement=e;
},{}],"pdwH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.KeyPress=void 0;class e{constructor(e,s){this.frame=e,this.key=s}}exports.KeyPress=e;
},{}],"eAVa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Part=exports.IllegalOperationError=void 0;class t extends Error{}exports.IllegalOperationError=t;class e{constructor(){this.isEnabled=!0,this.isStatic=!1,this.isEditable=!0,this.isInitted=!1,this.checkedCollisionGroup=!1,this.drawAnyway=!0,this.isSandbox=!1}IsEnabled(t,e,a){return this.isEnabled}Init(t,e=null){this.isInitted=!0}UnInit(t){this.isInitted=!1}InsideShape(e,a,r){throw new t("abstract Part.InsideShape() called")}Move(e,a){throw new t("abstract Part.Move() called")}RotateAround(e,a,r){throw new t("abstract Part.RotateAround() called")}KeyInput(e,a,r){throw new t("abstract Part.KeyInput() called")}Update(e){throw new t("abstract Part.Update() called")}GetAttachedParts(e=null){throw new t("abstract Part.GetAttachedParts() called")}IntersectsBox(e,a,r,s){throw new t("abstract Part.IntersectsBox() called")}PrepareForResizing(){throw new t("abstract Part.PrepareForResizing() called")}ToString(){return"isEnabled="+this.isEnabled+", isStatic="+this.isStatic+", isEditable="+this.isEditable+", isInitted="+this.isInitted+", type="+this.type}}exports.Part=e;
},{}],"avwv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.JointPart=void 0;const t=require("../General/Util"),r=require("./Part");class a extends r.Part{constructor(t,r){super(),this.part1Index=-1,this.part2Index=-1,this.part1=t,this.part2=r,this.part1.AddJoint(this),this.part2.AddJoint(this),this.anchorX=0,this.anchorY=0}GetJoint(){return this.m_joint}GetOtherPart(t){return t==this.part1?this.part2:t==this.part2?this.part1:null}UnInit(t){this.isInitted&&(super.UnInit(t),this.m_joint=null)}Move(t,r){this.anchorX=t,this.anchorY=r}RotateAround(r,a,i){var s=t.Util.GetDist(this.anchorX,this.anchorY,r,a),e=this.rotateAngle+i;this.Move(r+s*Math.cos(e),a+s*Math.sin(e))}MakeCopy(t,a){throw new r.IllegalOperationError("abstract JointPart.MakeCopy() called")}GetAttachedParts(t=null){null==t&&(t=new Array),t.push(this);for(var r=!1,a=!1,i=0;i<t.length;i++)this.part1==t[i]&&(r=!0),this.part2==t[i]&&(a=!0);return r||t.concat(this.part1.GetAttachedParts(t)),a||t.concat(this.part2.GetAttachedParts(t)),t}IntersectsBox(t,r,a,i){return this.anchorX>=t&&this.anchorX<=t+a&&this.anchorY>=r&&this.anchorY<=r+i}PrepareForResizing(){}ToString(){return"anchorX="+this.anchorX+", anchorY="+this.anchorY+", "+super.ToString()}}exports.JointPart=a;
},{"../General/Util":"Zvyo","./Part":"eAVa"}],"QW19":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FixedJoint=void 0;const t=require("../General/Util"),e=require("./JointPart");class i extends e.JointPart{constructor(t,e,i,r){super(t,e),this.anchorX=i,this.anchorY=r,this.type="FixedJoint"}Init(t,e=null){!this.isInitted&&this.part1.isInitted&&this.part2.isInitted&&super.Init(t)}MakeCopy(t,e){return new i(t,e,this.anchorX,this.anchorY)}Update(t){}InsideShape(e,i,r){return t.Util.GetDist(this.anchorX,this.anchorY,e,i)<.18*30/r}KeyInput(t,e,i){}ToString(){return"FixedJoint: "+super.ToString()}}exports.FixedJoint=i;
},{"../General/Util":"Zvyo","./JointPart":"avwv"}],"CDAe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ShapePart=void 0;const t=require("../Game/Globals/ControllerGameGlobals"),e=require("../General/Util"),i=require("./FixedJoint"),s=require("./Part");class r extends s.Part{constructor(e,i){super(),this.collide=!0,this.isCameraFocus=!1,this.m_collisionGroup=Number.MIN_SAFE_INTEGER,this.highlightForJoint=!1,this.isBullet=!1,this.m_body=null,this.m_shape=null,this.m_fixture=null,this.centerX=e,this.centerY=i,t.ControllerGameGlobals.minDensity>15?this.density=t.ControllerGameGlobals.minDensity:t.ControllerGameGlobals.maxDensity<15?this.density=t.ControllerGameGlobals.maxDensity:this.density=15,this.angle=0,this.red=t.ControllerGameGlobals.defaultR,this.green=t.ControllerGameGlobals.defaultG,this.blue=t.ControllerGameGlobals.defaultB,this.opacity=t.ControllerGameGlobals.defaultO,this.outline=!0,this.terrain=!1,this.undragable=!1,this.m_joints=new Array,this.m_thrusters=new Array}GetBody(){return this.m_body}GetShape(){return this.m_shape}GetFixture(){return this.m_fixture}GetUserData(){return this.m_body.GetUserData()||{}}AddJoint(t){this.m_joints.push(t)}AddThrusters(t){this.m_thrusters.push(t)}Move(t,e){this.centerX=t,this.centerY=e}RotateAround(t,i,s){var r=e.Util.GetDist(this.centerX,this.centerY,t,i),a=this.rotateAngle+s;this.Move(t+r*Math.cos(a),i+r*Math.sin(a)),this.angle=s+this.rotateOrientation}MakeCopy(){throw new s.IllegalOperationError("abstract ShapePart.MakeCopy() called")}HeavierThan(t){return this.m_body.GetMass()>t.GetBody().GetMass()}GetMass(){return this.m_body?this.m_body.GetMass():this.GetArea()*(this.density+5)/10}GetArea(){throw new s.IllegalOperationError("abstract ShapePart.GetArea() called")}UnInit(t){this.isInitted&&(super.UnInit(t),this.m_body&&(this.m_body.GetUserData()&&this.m_body.GetUserData().deleted||(t.DestroyBody(this.m_body),this.m_body.GetUserData()||this.m_body.SetUserData({}),this.m_body.GetUserData().deleted=!0),this.m_body=null))}Update(t){}KeyInput(t,e,i){}SetCollisionGroup(t){if(!this.checkedCollisionGroup){this.checkedCollisionGroup=!0,this.m_collisionGroup=t;for(var e=0;e<this.m_joints.length;e++)this.m_joints[e].isEnabled&&this.m_joints[e].GetOtherPart(this).SetCollisionGroup(t)}}GetActiveJoints(){return this.m_joints.filter(this.IsEnabled)}GetActiveThrusters(){return this.m_thrusters.filter(this.IsEnabled)}WillBeStatic(t=null){if(this.isStatic)return!0;null==t&&(t=new Array),t.push(this);for(var s=0;s<this.m_joints.length;s++)if(this.m_joints[s]instanceof i.FixedJoint){var r=this.m_joints[s].GetOtherPart(this);if(!e.Util.ObjectInArray(r,t)&&r.WillBeStatic(t))return!0}return!1}GetAttachedParts(t=null){null==t&&(t=new Array),t.push(this);for(var e=0;e<this.m_joints.length;e++)if(this.m_joints[e].isEnabled){for(var i=!1,s=0;s<t.length;s++)this.m_joints[e]==t[s]&&(i=!0);i||t.concat(this.m_joints[e].GetAttachedParts(t))}for(e=0;e<this.m_thrusters.length;e++)if(this.m_thrusters[e].isEnabled){for(i=!1,s=0;s<t.length;s++)this.m_thrusters[e]==t[s]&&(i=!0);i||t.concat(this.m_thrusters[e].GetAttachedParts(t))}return t}static GetOutlineVertices(t,i,s){var r=new Array;if(3==i){var a=e.Util.Vector((t[0].x+t[1].x+t[2].x)/3,(t[0].y+t[1].y+t[2].y)/3),l=e.Util.GetDist(t[0].x,t[0].y,t[1].x,t[1].y),h=e.Util.GetDist(t[0].x,t[0].y,t[2].x,t[2].y),n=e.Util.GetDist(t[1].x,t[1].y,t[2].x,t[2].y),o=(l+h+n)/3,u=e.Util.NormalizeAngle(Math.acos((l*l+h*h-n*n)/(2*l*h))),d=e.Util.NormalizeAngle(Math.acos((l*l+n*n-h*h)/(2*l*n))),m=e.Util.NormalizeAngle(Math.acos((h*h+n*n-l*l)/(2*h*n))),c=180*Math.min(u,d,m)/Math.PI,y=1+2.5*s/o*(c<30?30/c:1);r.push(e.Util.Vector(a.x+(t[0].x-a.x)*y,a.y+(t[0].y-a.y)*y)),r.push(e.Util.Vector(a.x+(t[1].x-a.x)*y,a.y+(t[1].y-a.y)*y)),r.push(e.Util.Vector(a.x+(t[2].x-a.x)*y,a.y+(t[2].y-a.y)*y))}else for(var G=0;G<i;G++){var b=0==G?t[i-1]:t[G-1],_=t[G],p=G==i-1?t[0]:t[G+1],x=Math.atan2(b.y-_.y,b.x-_.x),g=Math.atan2(p.y-_.y,p.x-_.x),M=e.Util.NormalizeAngle((x+g)/2+(Math.max(x,g)-Math.min(x,g)<Math.PI?Math.PI:0));r.push(e.Util.Vector(_.x+Math.cos(M)*s*1.1,_.y+Math.sin(M)*s*1.1))}return r}equals(t){return this.isStatic==t.isStatic&&this.NumbersEqual(this.centerX,t.centerX)&&this.NumbersEqual(this.centerY,t.centerY)&&this.NumbersEqual(this.density,t.density)&&this.NumbersEqual(this.angle,t.angle)&&this.collide==t.collide&&this.red==t.red&&this.green==t.green&&this.blue==t.blue&&this.opacity==t.opacity&&this.outline==t.outline&&this.terrain==t.terrain&&this.undragable==t.undragable}NumbersEqual(t,e){return Math.abs(t-e)<1e-4}ToString(){return"centerX="+this.centerX+", centerY="+this.centerY+", density="+this.density+", angle="+this.angle+", collide="+this.collide+", "+super.ToString()}}exports.ShapePart=r;
},{"../Game/Globals/ControllerGameGlobals":"K8aL","../General/Util":"Zvyo","./FixedJoint":"QW19","./Part":"eAVa"}],"CA9A":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Condition=void 0;const t=require("@box2d/core"),i=require("../Parts/ShapePart");class e{constructor(t,i,e){this.shape1=null,this.shape1Index=-1,this.shape2=null,this.shape2Index=-1,this.isSatisfied=!1,this.name=t,this.subject=i,this.object=e}Update(i,e){var s=Number.MAX_VALUE,h=-Number.MAX_VALUE,a=Number.MAX_VALUE,o=-Number.MAX_VALUE;if(0==this.subject){if(this.shape1.GetShape()instanceof t.b2CircleShape){var b=this.shape1.GetShape(),f=t.b2Math.b2MulX(this.shape1.GetBody().GetXForm(),b.GetLocalPosition());s=f.x-b.GetRadius(),h=f.x+b.GetRadius(),a=f.y-b.GetRadius(),o=f.y+b.GetRadius()}else if(this.shape1.GetShape()instanceof t.b2PolygonShape){var r=this.shape1.GetShape(),d=r.GetVertexCount(),S=r.GetVertices();for(p=0;p<d;p++){var n=t.b2Math.b2MulX(this.shape1.GetBody().GetXForm(),S[p]);n.x<s&&(s=n.x),n.x>h&&(h=n.x),n.y<a&&(a=n.y),n.y>o&&(o=n.y)}}0==this.object?this.isSatisfied=s>this.minX&&h<this.maxX&&a>this.minY&&o<this.maxY:1==this.object?this.isSatisfied=o<this.minY:2==this.object?this.isSatisfied=a>this.maxY:3==this.object?this.isSatisfied=h<this.minX:4==this.object?this.isSatisfied=s>this.maxX:5==this.object&&(this.isSatisfied=!1)}else if(1==this.subject)if(i=i.filter(this.PartIsntStatic),this.object<5){this.isSatisfied=!1;for(var p=0;p<i.length;p++){if(s=Number.MAX_VALUE,h=-Number.MAX_VALUE,a=Number.MAX_VALUE,o=-Number.MAX_VALUE,i[p].GetShape()instanceof t.b2CircleShape)b=i[p].GetShape(),s=(f=t.b2Math.b2MulX(i[p].GetBody().GetXForm(),b.GetLocalPosition())).x-b.GetRadius(),h=f.x+b.GetRadius(),a=f.y-b.GetRadius(),o=f.y+b.GetRadius();else if(i[p].GetShape()instanceof t.b2PolygonShape){d=(r=i[p].GetShape()).GetVertexCount(),S=r.GetVertices();for(var G=0;G<d;G++)(n=t.b2Math.b2MulX(i[p].GetBody().GetXForm(),S[G])).x<s&&(s=n.x),n.x>h&&(h=n.x),n.y<a&&(a=n.y),n.y>o&&(o=n.y)}0==this.object?s>this.minX&&h<this.maxX&&a>this.minY&&o<this.maxY&&(this.isSatisfied=!0):1==this.object?o<this.minY&&(this.isSatisfied=!0):2==this.object?a>this.maxY&&(this.isSatisfied=!0):3==this.object?h<this.minX&&(this.isSatisfied=!0):4==this.object&&s>this.maxX&&(this.isSatisfied=!0)}for(p=0;p<e.length;p++)b=e[p].GetShapeList(),s=(f=t.b2Math.b2MulX(e[p].GetXForm(),b.GetLocalPosition())).x-b.GetRadius(),h=f.x+b.GetRadius(),a=f.y-b.GetRadius(),o=f.y+b.GetRadius(),0==this.object?s>this.minX&&h<this.maxX&&a>this.minY&&o<this.maxY&&(this.isSatisfied=!0):1==this.object?o<this.minY&&(this.isSatisfied=!0):2==this.object?a>this.maxY&&(this.isSatisfied=!0):3==this.object?h<this.minX&&(this.isSatisfied=!0):4==this.object&&s>this.maxX&&(this.isSatisfied=!0)}else 5==this.object&&(this.isSatisfied=!1);else if(2==this.subject){if(0==(i=i.filter(this.PartIsEditable).filter(this.PartIsntStatic)).length)return void(this.isSatisfied=!1);if(this.object<5)for(this.isSatisfied=!0,p=0;p<i.length;p++){if(s=Number.MAX_VALUE,h=-Number.MAX_VALUE,a=Number.MAX_VALUE,o=-Number.MAX_VALUE,i[p].GetShape()instanceof t.b2CircleShape)b=i[p].GetShape(),s=(f=t.b2Math.b2MulX(i[p].GetBody().GetXForm(),b.GetLocalPosition())).x-b.GetRadius(),h=f.x+b.GetRadius(),a=f.y-b.GetRadius(),o=f.y+b.GetRadius();else if(i[p].GetShape()instanceof t.b2PolygonShape)for(d=(r=i[p].GetShape()).GetVertexCount(),S=r.GetVertices(),G=0;G<d;G++)(n=t.b2Math.b2MulX(i[p].GetBody().GetXForm(),S[G])).x<s&&(s=n.x),n.x>h&&(h=n.x),n.y<a&&(a=n.y),n.y>o&&(o=n.y);0==this.object?(s<this.minX||h>this.maxX||a<this.minY||o>this.maxY)&&(this.isSatisfied=!1):1==this.object?o>this.minY&&(this.isSatisfied=!1):2==this.object?a<this.maxY&&(this.isSatisfied=!1):3==this.object?h>this.minX&&(this.isSatisfied=!1):4==this.object&&s<this.maxX&&(this.isSatisfied=!1)}else 5==this.object&&(this.isSatisfied=!1)}else if(3==this.subject)if(i=i.filter(this.PartIsntEditable).filter(this.PartIsntStatic),this.object<5)for(this.isSatisfied=!1,p=0;p<i.length;p++){if(s=Number.MAX_VALUE,h=-Number.MAX_VALUE,a=Number.MAX_VALUE,o=-Number.MAX_VALUE,i[p].GetShape()instanceof t.b2CircleShape)b=i[p].GetShape(),s=(f=t.b2Math.b2MulX(i[p].GetBody().GetXForm(),b.GetLocalPosition())).x-b.GetRadius(),h=f.x+b.GetRadius(),a=f.y-b.GetRadius(),o=f.y+b.GetRadius();else if(i[p].GetShape()instanceof t.b2PolygonShape)for(d=(r=i[p].GetShape()).GetVertexCount(),S=r.GetVertices(),G=0;G<d;G++)(n=t.b2Math.b2MulX(i[p].GetBody().GetXForm(),S[G])).x<s&&(s=n.x),n.x>h&&(h=n.x),n.y<a&&(a=n.y),n.y>o&&(o=n.y);0==this.object?s>this.minX&&h<this.maxX&&a>this.minY&&o<this.maxY&&(this.isSatisfied=!0):1==this.object?o<this.minY&&(this.isSatisfied=!0):2==this.object?a>this.maxY&&(this.isSatisfied=!0):3==this.object?h<this.minX&&(this.isSatisfied=!0):4==this.object&&s>this.maxX&&(this.isSatisfied=!0)}else 5==this.object&&(this.isSatisfied=!1);else if(this.object<5)for(this.isSatisfied=!1,p=0;p<e.length;p++)b=e[p].GetShapeList(),s=(f=t.b2Math.b2MulX(e[p].GetXForm(),b.GetLocalPosition())).x-b.GetRadius(),h=f.x+b.GetRadius(),a=f.y-b.GetRadius(),o=f.y+b.GetRadius(),0==this.object?s>this.minX&&h<this.maxX&&a>this.minY&&o<this.maxY&&(this.isSatisfied=!0):1==this.object?o<this.minY&&(this.isSatisfied=!0):2==this.object?a>this.maxY&&(this.isSatisfied=!0):3==this.object?h<this.minX&&(this.isSatisfied=!0):4==this.object&&s>this.maxX&&(this.isSatisfied=!0)}ContactAdded(t,i,e){if(5==this.object||6==this.object)if(0==this.subject)(t.shape1==this.shape1.GetShape()&&t.shape2==this.shape2.GetShape()||t.shape1==this.shape2.GetShape()&&t.shape2==this.shape1.GetShape())&&(this.isSatisfied=!0);else if(1==this.subject)t.shape1!=this.shape2.GetShape()&&t.shape2!=this.shape2.GetShape()||(this.isSatisfied=!0);else if(2==this.subject){if(t.shape1==this.shape2.GetShape()||t.shape2==this.shape2.GetShape()){i=i.filter(this.PartIsEditable);for(var s=0;s<i.length;s++)t.shape1!=i[s].GetShape()&&t.shape2!=i[s].GetShape()||(this.isSatisfied=!0)}}else if(3==this.subject){if(t.shape1==this.shape2.GetShape()||t.shape2==this.shape2.GetShape())for(i=i.filter(this.PartIsntEditable),s=0;s<i.length;s++)t.shape1!=i[s].GetShape()&&t.shape2!=i[s].GetShape()||(this.isSatisfied=!0)}else if(t.shape1==this.shape2.GetShape()||t.shape2==this.shape2.GetShape())for(s=0;s<e.length;s++)t.shape1!=e[s].GetShapeList()&&t.shape2!=e[s].GetShapeList()||(this.isSatisfied=!0)}PartIsntStatic(t,e,s){return t instanceof i.ShapePart&&!t.isStatic}PartIsEditable(t,e,s){return t instanceof i.ShapePart&&t.isEditable}PartIsntEditable(t,e,s){return t instanceof i.ShapePart&&!t.isEditable}}exports.Condition=e;
},{"@box2d/core":"kjbO","../Parts/ShapePart":"CDAe"}],"CRKa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LossCondition=void 0;const o=require("./Condition");class e extends o.Condition{constructor(o,e,s,t){super(o,e,s),this.immediate=t}}exports.LossCondition=e;
},{"./Condition":"CA9A"}],"TXMb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ReplaySyncPoint=void 0;class e{constructor(){this.frame=0,this.positions=new Array,this.angles=new Array,this.cannonballPositions=new Array}}exports.ReplaySyncPoint=e;
},{}],"N9DM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.WinCondition=void 0;const o=require("./Condition");class e extends o.Condition{constructor(o,e,t){super(o,e,t)}}exports.WinCondition=e;
},{"./Condition":"CA9A"}],"vdN1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Cannon=void 0;const t=require("@box2d/core"),e=require("../Game/ControllerMainMenu"),i=require("../Game/Globals/ControllerGameGlobals"),s=require("../General/Util"),n=require("./FixedJoint"),r=require("./ShapePart");class a extends r.ShapePart{constructor(t,e,i,s=!0){super(0,0),this.createCannonball=!1,this.cannonballs=new Array,this.cannonballCounters=new Array;var n=!1;s&&(i<0&&(t+=Math.max(-a.MAX_WIDTH,i),e+=Math.max(-a.MAX_WIDTH/2,i/2),i=-i,n=!0),i<a.MIN_WIDTH&&(i=a.MIN_WIDTH),i>a.MAX_WIDTH&&(i=a.MAX_WIDTH)),this.x=t,this.y=e,this.w=i,this.centerX=t+i/2,this.centerY=e+i/4,this.fireKey=40,this.strength=15,n&&(this.angle=Math.PI),this.type="Cannon"}GetArea(){return this.w*this.w/2}Move(t,e){this.x=t-this.w/2,this.y=e-this.w/4,super.Move(t,e)}GetVertices(){var e=new Array(4);e[0]=new t.b2Vec2(this.x,this.y),e[1]=new t.b2Vec2(this.x+this.w,this.y),e[2]=new t.b2Vec2(this.x+this.w,this.y+this.w/2),e[3]=new t.b2Vec2(this.x,this.y+this.w/2);for(var i=Math.sqrt(5*this.w*this.w/16),n=0;n<4;n++){var r=Math.atan2(e[n].y-this.centerY,e[n].x-this.centerX);r=s.Util.NormalizeAngle(this.angle+r),e[n].x=this.centerX+i*Math.cos(r),e[n].y=this.centerY+i*Math.sin(r)}return e}GetSpawnPoint(){return s.Util.Vector(this.centerX+2*Math.cos(this.angle)*this.w/3,this.centerY+2*Math.sin(this.angle)*this.w/3)}InsideShape(t,e,i){for(var s=!0,n=this.GetVertices(),r=0;r<4;r++){var a;a=n[(r+1)%4].x==n[r].x?n[(r+1)%4].y>=n[r].y?1e8:-1e8:(n[(r+1)%4].y-n[r].y)/(n[(r+1)%4].x-n[r].x);var h=e-n[r].y-a*(t-n[r].x),o=n[(r+2)%4].y-n[r].y-a*(n[(r+2)%4].x-n[r].x);(h<0&&o>0||h>0&&o<0)&&(s=!1)}return s}MakeCopy(){var t=new a(this.x,this.y,this.w);return t.density=this.density,t.angle=this.angle,t.collide=this.collide,t.isStatic=this.isStatic,t.red=this.red,t.green=this.green,t.blue=this.blue,t.opacity=this.opacity,t.outline=this.outline,t.terrain=this.terrain,t.undragable=this.undragable,t.fireKey=this.fireKey,t.strength=this.strength,t}Init(e,i=null){if(this.isInitted)return;super.Init(e);var r=new t.b2PolygonShape;r.Set(this.GetVertices(),4);var a,h=!1;if(i){for(a=0;a<4;a++)r.m_vertices[a].x-=i.GetPosition().x,r.m_vertices[a].y-=i.GetPosition().y;this.m_body=i,h=i.GetType()===t.b2BodyType.b2_staticBody}else{for(a=0;a<4;a++)r.m_vertices[a].x-=this.centerX,r.m_vertices[a].y-=this.centerY;var o={position:{x:this.centerX,y:this.centerY},type:this.isStatic?t.b2BodyType.b2_staticBody:t.b2BodyType.b2_dynamicBody};this.m_body=e.CreateBody(o)}this.m_fixture=this.m_body.CreateFixture({shape:r,friction:.4,restitution:.3,density:this.density+.5}),this.m_collisionGroup!=Number.MIN_VALUE&&this.m_fixture.SetFilterData({groupIndex:this.m_collisionGroup});const l=new Object;for(l.collide=this.collide,l.editable=this.isEditable,l.red=this.red,l.green=this.green,l.blue=this.blue,l.outline=this.outline,l.terrain=this.terrain,l.undragable=this.undragable,l.isPiston=-1,this.m_body.SetUserData(l),this.m_fixture.SetUserData(l),this.m_shape=r,this.isStatic||h?this.m_body.SetMassData(new t.b2MassData):this.m_body.ResetMassData(),this.cannonballs.length=0,this.cannonballCounters.length=0,a=0;a<this.m_joints.length;a++)if(this.m_joints[a].isEnabled&&this.m_joints[a]instanceof n.FixedJoint){var c=this.m_joints[a].GetOtherPart(this);c.isEnabled&&c.Init(e,this.m_body)}this.relativeCannonPos=s.Util.Vector(this.centerX,this.centerY),this.relativeCannonPos.Subtract(this.m_body.GetPosition())}KeyInput(t,e,i){t==this.fireKey&&e&&(this.createCannonball=!0)}Update(t){this.isInitted&&this.createCannonball&&this.cannonballs.length<50&&this.CreateCannonball(t),this.createCannonball=!1;for(var e=0;e<this.cannonballCounters.length;e++)this.cannonballCounters[e]--,0==this.cannonballCounters[e]&&(this.cannonballs[e].GetFixtureList().m_filter.groupIndex=0)}CreateCannonball(n){var r=new t.b2CircleShape;r.Set({x:0,y:0},this.w/6);var a=this.GetSpawnPoint();a.Subtract(s.Util.Vector(this.centerX,this.centerY)),a.Add(this.relativeCannonPos);const h=new t.b2Vec2;this.m_body.GetWorldPoint(a,h);var o={position:h,type:t.b2BodyType.b2_dynamicBody,bullet:!0},l=n.CreateBody(o);this.cannonballs.push(l);const c=l.CreateFixture({shape:r,friction:.4,restitution:.3,density:(this.density+5)/10});this.m_collisionGroup!=Number.MIN_VALUE&&c.SetFilterData({groupIndex:this.m_collisionGroup}),l.ResetMassData();const y=new Object;y.collide=!0,y.editable=this.isEditable,y.red=this.red,y.green=this.green,y.blue=this.blue,y.outline=this.outline,y.terrain=!1,y.undragable=!0,y.isPiston=-1,l.SetUserData(y),c.SetUserData(y);var u=this.angle+this.m_body.GetAngle(),b=.15*this.w*this.w*c.GetDensity()*(4+2*this.strength),d=s.Util.Vector(Math.cos(u)*b,Math.sin(u)*b),p=new t.b2Vec2;this.m_body.GetWorldPoint(this.relativeCannonPos,p),l.ApplyLinearImpulse(d,l.GetWorldCenter()),d=d.Negate(),this.m_body.ApplyLinearImpulse(d,p),i.ControllerGameGlobals.cannonballs&&i.ControllerGameGlobals.cannonballs.push(l),e.ControllerMainMenu.cannonballs&&e.ControllerMainMenu.cannonballs.push(l),this.cannonballCounters.push(5)}IntersectsBox(t,e,i,n){if(this.centerX>=t&&this.centerX<=t+i&&this.centerY>=e&&this.centerY<=e+n)return!0;for(var r=this.GetVertices(),a=0;a<4;a++){if(s.Util.SegmentsIntersect(r[a].x,r[a].y,r[(a+1)%4].x,r[(a+1)%4].y,t,e,t+i,e))return!0;if(s.Util.SegmentsIntersect(r[a].x,r[a].y,r[(a+1)%4].x,r[(a+1)%4].y,t+i,e,t+i,e+n))return!0;if(s.Util.SegmentsIntersect(r[a].x,r[a].y,r[(a+1)%4].x,r[(a+1)%4].y,t+i,e+n,t,e+n))return!0;if(s.Util.SegmentsIntersect(r[a].x,r[a].y,r[(a+1)%4].x,r[(a+1)%4].y,t,e+n,t,e))return!0}return!1}PrepareForResizing(){this.initW=this.w}GetVerticesForOutline(t){return a.GetOutlineVertices(this.GetVertices(),4,t)}equals(t){return t instanceof a&&this.x==t.x&&this.y==t.y&&this.w==t.w&&this.fireKey==t.fireKey&&this.strength==t.strength&&super.equals(t)}ToString(){return"Cannon: x="+this.x+", y="+this.y+", w="+this.w+", fireKey="+this.fireKey+", strength="+this.strength+super.ToString()}}exports.Cannon=a,a.MIN_WIDTH=.5,a.MAX_WIDTH=10;
},{"@box2d/core":"kjbO","../Game/ControllerMainMenu":"rq5K","../Game/Globals/ControllerGameGlobals":"K8aL","../General/Util":"Zvyo","./FixedJoint":"QW19","./ShapePart":"CDAe"}],"nZSh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PrismaticJoint=void 0;const t=require("@box2d/core"),i=require("../Game/Globals/ControllerGameGlobals"),e=require("../General/Util"),s=require("./JointPart");class n extends s.JointPart{constructor(s,h,a,o,r,p){if(super(s,h),this.collide=!0,this.arrayIndex=-1,this.isKeyDown1=!1,this.isKeyDown2=!1,this.wasKeyDown1=!1,this.wasKeyDown2=!1,this.expanding=!0,this.m_shapes=[],this.m_fixtures=[],n.jbTutorial&&s.centerY>h.centerY){var l=h;h=s,s=l;var c=r;r=a,a=c,c=p,p=o,o=c,n.jbTutorial=!1}this.part1=s,this.part2=h,this.anchorX=(a+r)/2,this.anchorY=(o+p)/2,this.axis=new t.b2Vec2(r-a,p-o),this.axis.Normalize(),this.enablePiston=!1,this.isStiff=!1,this.autoOscillate=!1,this.pistonUpKey=38,this.pistonDownKey=40,i.ControllerGameGlobals.maxSJStrength<15?this.pistonStrength=i.ControllerGameGlobals.maxSJStrength:this.pistonStrength=15,i.ControllerGameGlobals.maxSJSpeed<15?this.pistonSpeed=i.ControllerGameGlobals.maxSJSpeed:this.pistonSpeed=15,this.red=i.ControllerGameGlobals.defaultR,this.green=i.ControllerGameGlobals.defaultG,this.blue=i.ControllerGameGlobals.defaultB,this.opacity=i.ControllerGameGlobals.defaultO,this.outline=!0,this.initLength=e.Util.GetDist(a,o,r,p),this.type="PrismaticJoint"}SetJointProperties(t){this.enablePiston=t.enablePiston,this.pistonUpKey=t.pistonUpKey,this.pistonDownKey=t.pistonDownKey,this.pistonStrength=t.pistonStrength,this.pistonSpeed=t.pistonSpeed,this.isStiff=t.isStiff,this.autoOscillate=t.autoOscillate,this.red=t.red,this.green=t.green,this.blue=t.blue,this.opacity=t.opacity,this.outline=t.outline,this.collide=t.collide}RotateAround(i,e,s){super.RotateAround(i,e,s);var n=s+this.rotateOrientation;this.axis=new t.b2Vec2(Math.cos(n),Math.sin(n))}MakeCopy(t,i){var e=this.anchorX-this.axis.x*this.initLength/2,s=this.anchorY-this.axis.y*this.initLength/2,h=this.anchorX+this.axis.x*this.initLength/2,a=this.anchorY+this.axis.y*this.initLength/2,o=new n(t,i,e,s,h,a);return o.enablePiston=this.enablePiston,o.pistonUpKey=this.pistonUpKey,o.pistonDownKey=this.pistonDownKey,o.pistonStrength=this.pistonStrength,o.pistonSpeed=this.pistonSpeed,o.isStiff=this.isStiff,o.autoOscillate=this.autoOscillate,o.red=this.red,o.green=this.green,o.blue=this.blue,o.opacity=this.opacity,o.outline=this.outline,o.collide=this.collide,o}InsideShape(i,e,s){var n=!0,h=new Array,a=this.anchorX-this.axis.x*this.initLength/2,o=this.anchorY-this.axis.y*this.initLength/2,r=this.anchorX+this.axis.x*this.initLength/2,p=this.anchorY+this.axis.y*this.initLength/2,l=Math.atan2(this.axis.y,this.axis.x)+Math.PI/2;h[0]=new t.b2Vec2(a-.25*Math.cos(l),o-.25*Math.sin(l)),h[1]=new t.b2Vec2(a+.25*Math.cos(l),o+.25*Math.sin(l)),h[2]=new t.b2Vec2(r+.25*Math.cos(l),p+.25*Math.sin(l)),h[3]=new t.b2Vec2(r-.25*Math.cos(l),p-.25*Math.sin(l));for(var c=0;c<4;c++){var y;y=h[(c+1)%4].x==h[c].x?h[(c+1)%4].y>=h[c].y?1e8:-1e8:(h[(c+1)%4].y-h[c].y)/(h[(c+1)%4].x-h[c].x);var g=e-h[c].y-y*(i-h[c].x),x=h[(c+2)%4].y-h[c].y-y*(h[(c+2)%4].x-h[c].x);(g<0&&x>0||g>0&&x<0)&&(n=!1)}return n}Init(s,n=null){if(!this.isInitted&&this.part1.isInitted&&this.part2.isInitted&&(super.Init(s),this.expanding=!0,this.m_shapes=[],this.m_fixtures=[],this.part1.GetBody()!=this.part2.GetBody())){var h=i.ControllerGameGlobals.collisionGroup;this.part1.GetFixture().SetFilterData({...this.part1.GetFixture().GetFilterData(),categoryBits:h}),this.part2.GetFixture().SetFilterData({...this.part2.GetFixture().GetFilterData(),categoryBits:h});var a=this.anchorX-this.axis.x*this.initLength/2,o=this.anchorY-this.axis.y*this.initLength/2,r=this.anchorX+this.axis.x*this.initLength/2,p=this.anchorY+this.axis.y*this.initLength/2,l=Math.atan2(this.axis.y,this.axis.x),c=new t.b2PolygonShape;const n=new Object;n.red=this.red,n.green=this.green,n.blue=this.blue,n.outline=this.outline,n.collide=this.collide,n.editable=this.isEditable,n.isPiston=h;const w={friction:.4,restitution:.3,density:5,filter:{maskBits:65535^h,groupIndex:this.part1.GetFixture().GetFilterData().groupIndex},userData:n},b={friction:.4,restitution:.3,density:5,filter:{maskBits:65535^h,groupIndex:this.part2.GetFixture().GetFilterData().groupIndex},userData:n};var y=new Array;y[0]=new t.b2Vec2(a-.25,o-.05),y[1]=new t.b2Vec2(a+.25,o-.05),y[2]=new t.b2Vec2(a+.25,o+.05),y[3]=new t.b2Vec2(a-.25,o+.05);for(var g=Math.sqrt(.065),x=0;x<4;x++){var M=Math.atan2(y[x].y-o,y[x].x-a);M=e.Util.NormalizeAngle(l+M+Math.PI/2),y[x].x=a+g*Math.cos(M)-this.part1.GetBody().GetPosition().x,y[x].y=o+g*Math.sin(M)-this.part1.GetBody().GetPosition().y}c.Set(y),this.m_fixtures.push(this.part1.GetBody().CreateFixture({...w,shape:c})),this.m_shapes.push(c),c=new t.b2PolygonShape;var u=a+(g=Math.sqrt(.2*.2+this.initLength*this.initLength/4))*Math.cos(Math.atan2(-this.initLength/2,-.2)+l+Math.PI/2),d=o+g*Math.sin(Math.atan2(-this.initLength/2,-.2)+l+Math.PI/2);for(y[0]=new t.b2Vec2(a-.05,o-this.initLength/2),y[1]=new t.b2Vec2(a+.05,o-this.initLength/2),y[2]=new t.b2Vec2(a+.05,o+this.initLength/2),y[3]=new t.b2Vec2(a-.05,o+this.initLength/2),g=Math.sqrt(.05*.05+this.initLength*this.initLength/4),x=0;x<4;x++)M=Math.atan2(y[x].y-o,y[x].x-a),M=e.Util.NormalizeAngle(l+M+Math.PI/2),y[x].x=u+g*Math.cos(M)-this.part1.GetBody().GetPosition().x,y[x].y=d+g*Math.sin(M)-this.part1.GetBody().GetPosition().y;for(c.Set(y),this.m_fixtures.push(this.part1.GetBody().CreateFixture({...w,shape:c})),this.m_shapes.push(c),c=new t.b2PolygonShape,u=a+(g=Math.sqrt(.2*.2+this.initLength*this.initLength/4))*Math.cos(Math.atan2(-this.initLength/2,.2)+l+Math.PI/2),d=o+g*Math.sin(Math.atan2(-this.initLength/2,.2)+l+Math.PI/2),y[0]=new t.b2Vec2(a-.05,o-this.initLength/2),y[1]=new t.b2Vec2(a+.05,o-this.initLength/2),y[2]=new t.b2Vec2(a+.05,o+this.initLength/2),y[3]=new t.b2Vec2(a-.05,o+this.initLength/2),g=Math.sqrt(.05*.05+this.initLength*this.initLength/4),x=0;x<4;x++)M=Math.atan2(y[x].y-o,y[x].x-a),M=e.Util.NormalizeAngle(l+M+Math.PI/2),y[x].x=u+g*Math.cos(M)-this.part1.GetBody().GetPosition().x,y[x].y=d+g*Math.sin(M)-this.part1.GetBody().GetPosition().y;for(c.Set(y),this.m_fixtures.push(this.part1.GetBody().CreateFixture({...w,shape:c})),this.m_shapes.push(c),c=new t.b2PolygonShape,u=a+(g=Math.sqrt(.0225+this.initLength*this.initLength))*Math.cos(Math.atan2(-this.initLength,-.15)+l+Math.PI/2),d=o+g*Math.sin(Math.atan2(-this.initLength,-.15)+l+Math.PI/2),y[0]=new t.b2Vec2(a-.095,o-.05),y[1]=new t.b2Vec2(a+.095,o-.05),y[2]=new t.b2Vec2(a+.095,o+.05),y[3]=new t.b2Vec2(a-.095,o+.05),g=Math.sqrt(.011525),x=0;x<4;x++)M=Math.atan2(y[x].y-o,y[x].x-a),M=e.Util.NormalizeAngle(l+M+Math.PI/2),y[x].x=u+g*Math.cos(M)-this.part1.GetBody().GetPosition().x,y[x].y=d+g*Math.sin(M)-this.part1.GetBody().GetPosition().y;for(c.Set(y),this.m_fixtures.push(this.part1.GetBody().CreateFixture({...w,shape:c})),this.m_shapes.push(c),c=new t.b2PolygonShape,u=a+(g=Math.sqrt(.0225+this.initLength*this.initLength))*Math.cos(Math.atan2(-this.initLength,.15)+l+Math.PI/2),d=o+g*Math.sin(Math.atan2(-this.initLength,.15)+l+Math.PI/2),y[0]=new t.b2Vec2(a-.095,o-.05),y[1]=new t.b2Vec2(a+.095,o-.05),y[2]=new t.b2Vec2(a+.095,o+.05),y[3]=new t.b2Vec2(a-.095,o+.05),g=Math.sqrt(.011525),x=0;x<4;x++)M=Math.atan2(y[x].y-o,y[x].x-a),M=e.Util.NormalizeAngle(l+M+Math.PI/2),y[x].x=u+g*Math.cos(M)-this.part1.GetBody().GetPosition().x,y[x].y=d+g*Math.sin(M)-this.part1.GetBody().GetPosition().y;for(c.Set(y),this.m_fixtures.push(this.part1.GetBody().CreateFixture({...w,shape:c})),this.m_shapes.push(c),c=new t.b2PolygonShape,u=r+(g=this.initLength/2-.1)*Math.cos(Math.atan2(this.initLength/2-.1,0)+l+Math.PI/2),d=p+g*Math.sin(Math.atan2(this.initLength/2-.1,0)+l+Math.PI/2),y[0]=new t.b2Vec2(r-.05,p-this.initLength/2),y[1]=new t.b2Vec2(r+.05,p-this.initLength/2),y[2]=new t.b2Vec2(r+.05,p+this.initLength/2),y[3]=new t.b2Vec2(r-.05,p+this.initLength/2),g=Math.sqrt(.05*.05+this.initLength*this.initLength/4),x=0;x<4;x++)M=Math.atan2(y[x].y-p,y[x].x-r),M=e.Util.NormalizeAngle(l+M+Math.PI/2),y[x].x=u+g*Math.cos(M)-this.part2.GetBody().GetPosition().x,y[x].y=d+g*Math.sin(M)-this.part2.GetBody().GetPosition().y;for(c.Set(y),this.m_fixtures.push(this.part2.GetBody().CreateFixture({...b,shape:c})),this.m_shapes.push(c),c=new t.b2PolygonShape,u=r+(g=this.initLength-.1)*Math.cos(Math.atan2(this.initLength-.1,0)+l+Math.PI/2),d=p+g*Math.sin(Math.atan2(this.initLength-.1,0)+l+Math.PI/2),y[0]=new t.b2Vec2(r-.13,p-.05),y[1]=new t.b2Vec2(r+.13,p-.05),y[2]=new t.b2Vec2(r+.13,p+.05),y[3]=new t.b2Vec2(r-.13,p+.05),g=Math.sqrt(.0194),x=0;x<4;x++)M=Math.atan2(y[x].y-p,y[x].x-r),M=e.Util.NormalizeAngle(l+M+Math.PI/2),y[x].x=u+g*Math.cos(M)-this.part2.GetBody().GetPosition().x,y[x].y=d+g*Math.sin(M)-this.part2.GetBody().GetPosition().y;c.Set(y),this.m_fixtures.push(this.part2.GetBody().CreateFixture({...b,shape:c})),this.m_shapes.push(c);var G=new t.b2PrismaticJointDef;G.enableMotor=this.enablePiston,G.maxMotorForce=30*this.pistonStrength,G.enableLimit=!0,G.lowerTranslation=0,G.upperTranslation=this.initLength-.2,G.collideConnected=!0,G.Initialize(this.part1.GetBody(),this.part2.GetBody(),new t.b2Vec2(this.anchorX,this.anchorY),this.axis),G.userData=new Object,G.userData.localPoint1=new t.b2Vec2(a-this.part1.centerX,o-this.part1.centerY),G.userData.localPoint2=new t.b2Vec2(r-this.part2.centerX,p-this.part2.centerY),this.m_joint=s.CreateJoint(G),this.targetJointDisp=0,this.part1.WillBeStatic()||this.part1.GetBody().ResetMassData(),this.part2.WillBeStatic()||this.part2.GetBody().ResetMassData(),this.part1.isStatic||this.part2.isStatic||this.part2.GetBody().SetBullet(!0),this.isKeyDown1=!1,this.isKeyDown2=!1,this.wasKeyDown1=!1,this.wasKeyDown2=!1}}GetJointPerpTranslation(){var i=this.part1.GetBody(),s=this.part2.GetBody();const n=new t.b2Vec2,h=new t.b2Vec2,a=new t.b2Vec2,o=new t.b2Vec2;i.GetWorldPoint(this.m_joint.GetLocalAnchorA(),n),s.GetWorldPoint(this.m_joint.GetLocalAnchorB(),h),i.GetWorldVector(this.m_joint.GetLocalAxisA(),a),i.GetWorldPoint(this.m_joint.GetUserData().localPoint1,o);var r=e.Util.DistanceFromPointToLine(n,o,a),p=e.Util.DistanceFromPointToLine(h,o,a);return Math.max(r,p)}CheckForBreakage(t){if(this.m_joint){var i=this.m_joint;Math.abs(i.GetBodyA().GetAngle()-i.GetBodyA().GetAngle())>90*Math.PI/180&&(t.DestroyJoint(this.m_joint),this.m_joint=null)}}Update(t){if(this.m_joint&&this.enablePiston){var i=this.m_joint;(this.isKeyDown1||this.isKeyDown2)&&(i.EnableMotor(!0),i.SetMaxMotorForce(30*this.pistonStrength),this.part1.GetBody().SetAwake(!0),this.part2.GetBody().SetAwake(!0)),this.isKeyDown1&&(!this.autoOscillate||this.expanding)||this.autoOscillate&&this.expanding?(i.SetMotorSpeed(.4*this.pistonSpeed),this.isStiff&&this.wasKeyDown1&&i.GetJointTranslation()<this.prevJointDisp&&(i.SetMotorSpeed(0),i.SetMaxMotorForce(3e3*this.pistonStrength)),i.GetJointTranslation()>this.initLength-.4&&(this.expanding=!1)):this.isKeyDown2||this.autoOscillate&&!this.expanding?(i.SetMotorSpeed(.4*(0-this.pistonSpeed)),this.isStiff&&this.wasKeyDown2&&i.GetJointTranslation()>this.prevJointDisp&&(i.SetMotorSpeed(0),i.SetMaxMotorForce(3e3*this.pistonStrength)),i.GetJointTranslation()<.1&&(this.expanding=!0)):((this.wasKeyDown1||this.wasKeyDown2)&&(this.targetJointDisp=i.GetJointTranslation()),i.EnableMotor(this.isStiff),i.SetMotorSpeed(0),i.SetMaxMotorForce(3e3*this.pistonStrength)),this.wasKeyDown1=this.isKeyDown1,this.wasKeyDown2=this.isKeyDown2,this.prevJointDisp=i.GetJointTranslation()}}GetShapes(){return this.m_shapes}GetFixtures(){return this.m_fixtures}KeyInput(t,i,e){t==this.pistonUpKey&&(this.isKeyDown1=!i),t==this.pistonDownKey&&(this.isKeyDown2=!i)}PrepareForResizing(){this.initInitLength=this.initLength}ToString(){return"PrismaticJoint: axis=("+this.axis.x+","+this.axis.y+"), initLength="+this.initLength+", enablePiston="+this.enablePiston+", pistonUpKey="+this.pistonUpKey+", pistonDownKey="+this.pistonDownKey+", pistonStrength="+this.pistonStrength+", pistonSpeed="+this.pistonSpeed+", isStiff="+this.isStiff+", "+super.ToString()}}exports.PrismaticJoint=n,n.jbTutorial=!1;
},{"@box2d/core":"kjbO","../Game/Globals/ControllerGameGlobals":"K8aL","../General/Util":"Zvyo","./JointPart":"avwv"}],"PfXD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Circle=void 0;const t=require("@box2d/core"),i=require("../General/Util"),e=require("./FixedJoint"),s=require("./ShapePart");class r extends s.ShapePart{constructor(t,i,e,s=!0){super(t,i),s&&(e<r.MIN_RADIUS&&(e=r.MIN_RADIUS),e>r.MAX_RADIUS&&(e=r.MAX_RADIUS)),this.radius=e,this.type="Circle"}InsideShape(t,e,s){return i.Util.GetDist(this.centerX,this.centerY,t,e)<=this.radius}GetArea(){return Math.PI*this.radius*this.radius}MakeCopy(){var t=new r(this.centerX,this.centerY,this.radius);return t.density=this.density,t.angle=this.angle,t.collide=this.collide,t.isStatic=this.isStatic,t.red=this.red,t.green=this.green,t.blue=this.blue,t.opacity=this.opacity,t.outline=this.outline,t.terrain=this.terrain,t.undragable=this.undragable,t}Init(i,s=null){if(this.isInitted)return;super.Init(i);var r=new t.b2CircleShape;r.Set({x:0,y:0},this.radius);var n=!1;if(s)r.Set({x:this.centerX-s.GetPosition().x,y:this.centerY-s.GetPosition().y}),this.m_body=s,n=s.GetType()===t.b2BodyType.b2_staticBody;else{var h={position:{x:this.centerX,y:this.centerY},type:this.isStatic?t.b2BodyType.b2_staticBody:t.b2BodyType.b2_dynamicBody};if(this.isEditable){for(var a=!1,u=0;u<this.m_joints.length;u++)if(this.m_joints[u].isEnabled){a=!0;break}a||(h.bullet=!0)}this.isBullet&&(h.bullet=!0),this.m_body=i.CreateBody(h)}this.m_fixture=this.m_body.CreateFixture({shape:r,friction:.4,restitution:.3,density:(this.density+5)/10});const o=new Object;o.collide=this.collide,o.editable=this.isEditable,o.red=this.red,o.green=this.green,o.blue=this.blue,o.outline=this.outline,o.terrain=this.terrain,o.undragable=this.undragable,o.isPiston=-1,o.isSandbox=this.isSandbox,this.m_body.SetUserData(o),this.m_fixture.SetUserData(o),this.m_collisionGroup!=Number.MIN_VALUE&&this.m_fixture.SetFilterData({groupIndex:this.m_collisionGroup}),this.m_shape=r,this.isStatic||n?this.m_body.SetMassData(new t.b2MassData):this.m_body.ResetMassData();for(var d=0;d<this.m_joints.length;d++)if(this.m_joints[d].isEnabled&&this.m_joints[d]instanceof e.FixedJoint){var l=this.m_joints[d].GetOtherPart(this);l.isEnabled&&l.Init(i,this.m_body)}}IntersectsBox(t,e,s,r){if(this.centerX>=t&&this.centerX<=t+s&&this.centerY>=e&&this.centerY<=e+r)return!0;if(this.centerX>=t&&this.centerX<=t+s){if(Math.abs(e-this.centerY)<=this.radius)return!0;if(Math.abs(e+r-this.centerY)<=this.radius)return!0}if(this.centerY>=e&&this.centerY<=e+r){if(Math.abs(t-this.centerX)<=this.radius)return!0;if(Math.abs(t+s-this.centerX)<=this.radius)return!0}return i.Util.GetDist(this.centerX,this.centerY,t,e)<this.radius||(i.Util.GetDist(this.centerX,this.centerY,t+s,e)<this.radius||(i.Util.GetDist(this.centerX,this.centerY,t+s,e+r)<this.radius||i.Util.GetDist(this.centerX,this.centerY,t,e+r)<this.radius))}PrepareForResizing(){this.initRadius=this.radius}equals(t){return t instanceof r&&this.NumbersEqual(this.radius,t.radius)&&super.equals(t)}ToString(){return"Circle: radius="+this.radius+", "+super.ToString()}}exports.Circle=r,r.MIN_RADIUS=.1,r.MAX_RADIUS=5;
},{"@box2d/core":"kjbO","../General/Util":"Zvyo","./FixedJoint":"QW19","./ShapePart":"CDAe"}],"AUAw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RevoluteJoint=void 0;const t=require("@box2d/core"),o=require("../Game/Globals/ControllerGameGlobals"),e=require("../General/Util"),i=require("./Circle"),r=require("./JointPart");class s extends r.JointPart{constructor(t,e,i,r){super(t,e),this.isKeyDown1=!1,this.isKeyDown2=!1,this.wasKeyDown1=!1,this.wasKeyDown2=!1,this.anchorX=i,this.anchorY=r,this.enableMotor=!1,this.isStiff=!1,this.autoCW=!1,this.autoCCW=!1,this.motorCWKey=39,this.motorCCWKey=37,o.ControllerGameGlobals.maxRJStrength<15?this.motorStrength=o.ControllerGameGlobals.maxRJStrength:this.motorStrength=15,o.ControllerGameGlobals.maxRJSpeed<15?this.motorSpeed=o.ControllerGameGlobals.maxRJSpeed:this.motorSpeed=15,this.motorLowerLimit=-Number.MAX_VALUE,this.motorUpperLimit=Number.MAX_VALUE,this.type="RevoluteJoint"}SetJointProperties(t){this.enableMotor=t.enableMotor,this.motorCWKey=t.motorCWKey,this.motorCCWKey=t.motorCCWKey,this.motorStrength=t.motorStrength,this.motorSpeed=t.motorSpeed,this.motorLowerLimit=t.motorLowerLimit,this.motorUpperLimit=t.motorUpperLimit,this.isStiff=t.isStiff,this.autoCW=t.autoCW,this.autoCCW=t.autoCCW}MakeCopy(t,o){var e=new s(t,o,this.anchorX,this.anchorY);return e.enableMotor=this.enableMotor,e.motorCWKey=this.motorCWKey,e.motorCCWKey=this.motorCCWKey,e.motorStrength=this.motorStrength,e.motorSpeed=this.motorSpeed,e.motorLowerLimit=this.motorLowerLimit,e.motorUpperLimit=this.motorUpperLimit,e.isStiff=this.isStiff,e.autoCW=this.autoCW,e.autoCCW=this.autoCCW,e}Init(o,e=null){if(!this.isInitted&&this.part1.isInitted&&this.part2.isInitted&&(super.Init(o),this.part1.GetBody()!=this.part2.GetBody())){var r=new t.b2RevoluteJointDef;r.enableMotor=this.enableMotor,r.maxMotorTorque=30*this.motorStrength,r.enableLimit=this.motorLowerLimit!=-Number.MAX_VALUE||this.motorUpperLimit!=Number.MAX_VALUE,this.motorLowerLimit==-Number.MAX_VALUE?r.lowerAngle=-Number.MAX_VALUE:r.lowerAngle=this.motorLowerLimit*Math.PI/180,this.motorUpperLimit==Number.MAX_VALUE?r.upperAngle=Number.MAX_VALUE:r.upperAngle=this.motorUpperLimit*Math.PI/180,this.part1 instanceof i.Circle&&!(this.part2 instanceof i.Circle)?r.Initialize(this.part2.GetBody(),this.part1.GetBody(),new t.b2Vec2(this.anchorX,this.anchorY)):this.part2 instanceof i.Circle&&!(this.part1 instanceof i.Circle)?r.Initialize(this.part1.GetBody(),this.part2.GetBody(),new t.b2Vec2(this.anchorX,this.anchorY)):this.part1.HeavierThan(this.part2)?r.Initialize(this.part1.GetBody(),this.part2.GetBody(),new t.b2Vec2(this.anchorX,this.anchorY)):r.Initialize(this.part2.GetBody(),this.part1.GetBody(),new t.b2Vec2(this.anchorX,this.anchorY)),this.m_joint=o.CreateJoint(r),this.targetJointAngle=0,this.isKeyDown1=!1,this.isKeyDown2=!1,this.wasKeyDown1=!1,this.wasKeyDown2=!1}}CheckForBreakage(o){if(this.m_joint){var i=this.m_joint;const r=new t.b2Vec2,s=new t.b2Vec2;i.GetAnchorA(r),i.GetAnchorB(s),e.Util.GetDist(r.x,r.y,s.x,s.y)>3&&(o.DestroyJoint(this.m_joint),this.m_joint=null)}}Update(t){if(this.m_joint&&this.enableMotor){var o=this.m_joint;(this.isKeyDown1||this.isKeyDown2)&&(o.EnableMotor(!0),o.m_maxMotorTorque=30*this.motorStrength,this.part1.GetBody().SetAwake(!0),this.part2.GetBody().SetAwake(!0)),this.isKeyDown1||this.autoCW&&!this.isKeyDown2?(o.SetMotorSpeed(this.motorSpeed),this.isStiff&&this.wasKeyDown1&&o.GetJointAngle()<this.prevJointAngle&&(o.SetMotorSpeed(0),o.m_maxMotorTorque=3e3*this.motorStrength)):this.isKeyDown2||this.autoCCW?(o.SetMotorSpeed(0-this.motorSpeed),this.isStiff&&this.wasKeyDown2&&o.GetJointAngle()>this.prevJointAngle&&(o.SetMotorSpeed(0),o.m_maxMotorTorque=3e3*this.motorStrength)):((this.wasKeyDown1||this.wasKeyDown2)&&(this.targetJointAngle=o.GetJointAngle()),o.EnableMotor(this.isStiff),o.SetMotorSpeed(0),o.m_maxMotorTorque=3e3*this.motorStrength),this.wasKeyDown1=this.isKeyDown1,this.wasKeyDown2=this.isKeyDown2,this.prevJointAngle=o.GetJointAngle()}}InsideShape(t,o,i){return e.Util.GetDist(this.anchorX,this.anchorY,t,o)<.18*30/i}KeyInput(t,o,e){t==this.motorCWKey&&(this.isKeyDown1=!o),t==this.motorCCWKey&&(this.isKeyDown2=!o)}ToString(){return"RevoluteJoint: enableMotor="+this.enableMotor+", motorCWKey="+this.motorCWKey+", motorCCWKey="+this.motorCCWKey+", motorStrength="+this.motorStrength+", motorSpeed="+this.motorSpeed+", motorLowerLimit="+this.motorLowerLimit+", motorUpperLimit="+this.motorUpperLimit+", isStiff="+this.isStiff+", "+super.ToString()}}exports.RevoluteJoint=s;
},{"@box2d/core":"kjbO","../Game/Globals/ControllerGameGlobals":"K8aL","../General/Util":"Zvyo","./Circle":"PfXD","./JointPart":"avwv"}],"T0pq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TextPart=void 0;const i=require("./Part"),t=require("pixi.js");class s extends i.Part{constructor(i,s,h,e,n,r,a=!0){super(),this.alwaysVisible=!0,this.inFront=!0,this.scaleWithZoom=!0,this.displayKey=32,this.displayKeyPressed=!1,this.m_controller=i,this.x=s,this.y=h,this.w=e,this.h=n,this.text=r,this.red=0,this.green=0,this.blue=0,this.size=14,this.m_textField=new t.Text(r),this.m_textField.wordWrap=!0,this.m_textField.x=s,this.m_textField.y=h,i&&i.addChildAt(this.m_textField,i.getChildIndex(i.m_canvas)+(a?1:0)),this.type="TextPart"}Move(i,t){this.x=i,this.y=t}RotateAround(i,t,s){}KeyInput(i,t,s){i==this.displayKey&&t&&(this.displayKeyPressed=!this.displayKeyPressed)}Update(i){}GetAttachedParts(i=null){return null==i&&(i=new Array),i.push(this),i}MakeCopy(){var i=new s(this.m_controller,this.x,this.y,this.w,this.h,this.text);return i.inFront=this.inFront,i.scaleWithZoom=this.scaleWithZoom,i.alwaysVisible=this.alwaysVisible,i.displayKey=this.displayKey,i.red=this.red,i.green=this.green,i.blue=this.blue,i.size=this.size,i}Resize(i,t){0==this.corner?(this.x=this.initX+i,this.w=this.initW-i,this.w<1&&(this.x=this.initX+this.initW-1,this.w=1),this.y=this.initY+t,this.h=this.initH-t,this.h<1&&(this.y=this.initY+this.initH-1,this.h=1)):1==this.corner?(this.w=this.initW+i,this.w<1&&(this.w=1),this.y=this.initY+t,this.h=this.initH-t,this.h<1&&(this.y=this.initY+this.initH-1,this.h=1)):2==this.corner?(this.w=this.initW+i,this.w<1&&(this.w=1),this.h=this.initH+t,this.h<1&&(this.h=1)):(this.x=this.initX+i,this.w=this.initW-i,this.w<1&&(this.x=this.initX+this.initW-1,this.w=1),this.h=this.initH+t,this.h<1&&(this.h=1))}InsideShape(i,t,s){return this.x+this.w>=i&&this.x<i&&this.y+this.h>=t&&this.y<t}InsideMoveBox(i,t,s,h=!1){return Math.abs(i-this.x)<6/s&&Math.abs(t-this.y)<6/s?(h&&(this.corner=0,this.initX=this.x,this.initY=this.y,this.initW=this.w,this.initH=this.h),!0):Math.abs(i-this.x-this.w)<6/s&&Math.abs(t-this.y)<6/s?(h&&(this.corner=1,this.initX=this.x,this.initY=this.y,this.initW=this.w,this.initH=this.h),!0):Math.abs(i-this.x-this.w)<6/s&&Math.abs(t-this.y-this.h)<6/s?(h&&(this.corner=2,this.initX=this.x,this.initY=this.y,this.initW=this.w,this.initH=this.h),!0):Math.abs(i-this.x)<6/s&&Math.abs(t-this.y-this.h)<6/s&&(h&&(this.corner=3,this.initX=this.x,this.initY=this.y,this.initW=this.w,this.initH=this.h),!0)}IntersectsBox(i,t,s,h){return this.x+this.w>=i&&this.x<i+s&&this.y+this.h>=t&&this.y<t+h}Init(i,t=null){super.Init(i),this.displayKeyPressed=!1}PrepareForResizing(){this.initW=this.w,this.initH=this.h}ToString(){return"TextPart: "+super.ToString()}}exports.TextPart=s;
},{"./Part":"eAVa","pixi.js":"aQiP"}],"Yw1p":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Thrusters=void 0;const t=require("@box2d/core"),e=require("../Game/Globals/ControllerGameGlobals"),s=require("../General/Util"),r=require("./Part");class h extends r.Part{constructor(t,s,r){super(),this.isBalloon=!1,this.shapeIndex=-1,this.isKeyDown=!1,this.shape=t,this.centerX=s,this.centerY=r,this.type="Thrusters",e.ControllerGameGlobals.maxThrusterStrength<15?this.strength=e.ControllerGameGlobals.maxThrusterStrength:this.strength=15,this.angle=-Math.PI/2,this.thrustKey=38,this.autoOn=!1,this.shape.AddThrusters(this)}MakeCopy(t){var e=new h(t,this.centerX,this.centerY);return e.strength=this.strength,e.autoOn=this.autoOn,e.thrustKey=this.thrustKey,e.angle=this.angle,e}InsideShape(t,e,r){return s.Util.GetDist(this.centerX,this.centerY,t,e)<7.5/r}Init(t,e=null){!this.isInitted&&this.shape.isInitted&&(super.Init(t),this.isKeyDown=!1,this.relativeThrusterPos=s.Util.Vector(this.centerX,this.centerY),this.relativeThrusterPos.Subtract(this.shape.GetBody().GetPosition()))}KeyInput(t,e,s){t==this.thrustKey&&(this.isKeyDown=!e)}Update(e){if(this.isInitted&&(this.isKeyDown||this.autoOn)){var r=this.angle+this.shape.GetBody().GetAngle();this.isBalloon&&(r=-Math.PI/2);var h=10+this.strength*this.strength*10,i=s.Util.Vector(Math.cos(r)*h,Math.sin(r)*h),n=new t.b2Vec2;this.shape.GetBody().GetWorldPoint(this.relativeThrusterPos,n),this.shape.GetBody().ApplyForce(i,n)}}Move(t,e){this.centerX=t,this.centerY=e}RotateAround(t,e,r){var h=s.Util.GetDist(this.centerX,this.centerY,t,e),i=this.rotateAngle+r;this.Move(t+h*Math.cos(i),e+h*Math.sin(i)),this.angle=r+this.rotateOrientation}GetAttachedParts(t=null){null==t&&(t=new Array),t.push(this);for(var e=!1,s=0;s<t.length;s++)this.shape==t[s]&&(e=!0);return e||t.concat(this.shape.GetAttachedParts(t)),t}IntersectsBox(t,e,s,r){return this.centerX>=t&&this.centerX<=t+s&&this.centerY>=e&&this.centerY<=e+r}PrepareForResizing(){}ToString(){return"Thrusters: x="+this.centerX+", y="+this.centerY+", strength="+this.strength+", "+super.ToString()}}exports.Thrusters=h;
},{"@box2d/core":"kjbO","../Game/Globals/ControllerGameGlobals":"K8aL","../General/Util":"Zvyo","./Part":"eAVa"}],"CRRv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Triangle=void 0;const t=require("@box2d/core"),i=require("../General/Util"),e=require("./FixedJoint"),s=require("./ShapePart");class h extends s.ShapePart{constructor(t,i,e,s,h,r){super(t,e),this.x1=t,this.y1=i,this.x2=e,this.y2=s,this.x3=h,this.y3=r,this.SwapVertices();var n=(this.x1+this.x2+this.x3)/3,a=(this.y1+this.y2+this.y3)/3;this.centerX=n,this.centerY=a,this.type="Triangle"}SwapVertices(){var t=i.Util.NormalizeAngle(Math.atan2(this.y1-this.y2,this.x2-this.x1)),e=i.Util.NormalizeAngle(Math.atan2(this.y1-this.y3,this.x3-this.x1));if(e<t&&(e+=2*Math.PI),e-t<=Math.PI){var s=this.x2,h=this.y2;this.x2=this.x3,this.y2=this.y3,this.x3=s,this.y3=h}}GetArea(){var t=i.Util.GetDist(this.x1,this.y1,this.x2,this.y2),e=i.Util.GetDist(this.x1,this.y1,this.x3,this.y3),s=i.Util.GetDist(this.x2,this.y2,this.x3,this.y3);return Math.sqrt(Math.pow(t*t+e*e+s*s,2)-2*(t*t*t*t+e*e*e*e+s*s*s*s))/4}GetVertices(){var e=new Array(3);e[0]=new t.b2Vec2(this.x1,this.y1),e[1]=new t.b2Vec2(this.x2,this.y2),e[2]=new t.b2Vec2(this.x3,this.y3);for(var s=0;s<3;s++){var h=i.Util.GetDist(this.centerX,this.centerY,e[s].x,e[s].y),r=Math.atan2(e[s].y-this.centerY,e[s].x-this.centerX);r=i.Util.NormalizeAngle(this.angle+r),e[s].x=this.centerX+h*Math.cos(r),e[s].y=this.centerY+h*Math.sin(r)}return e}GetVerticesForOutline(t){return h.GetOutlineVertices(this.GetVertices(),3,t)}InsideShape(t,i,e){for(var s=!0,h=this.GetVertices(),r=0;r<3;r++){var n;n=h[(r+1)%3].x==h[r].x?h[(r+1)%3].y>=h[r].y?1e8:-1e8:(h[(r+1)%3].y-h[r].y)/(h[(r+1)%3].x-h[r].x);var a=i-h[r].y-n*(t-h[r].x),y=h[(r+2)%3].y-h[r].y-n*(h[(r+2)%3].x-h[r].x);(a<0&&y>0||a>0&&y<0)&&(s=!1)}return s}Move(t,i){this.x1=t+(this.x1-this.centerX),this.y1=i+(this.y1-this.centerY),this.x2=t+(this.x2-this.centerX),this.y2=i+(this.y2-this.centerY),this.x3=t+(this.x3-this.centerX),this.y3=i+(this.y3-this.centerY),super.Move(t,i)}MakeCopy(){var t=new h(this.x1,this.y1,this.x2,this.y2,this.x3,this.y3);return t.density=this.density,t.angle=this.angle,t.collide=this.collide,t.isStatic=this.isStatic,t.red=this.red,t.green=this.green,t.blue=this.blue,t.opacity=this.opacity,t.outline=this.outline,t.terrain=this.terrain,t.undragable=this.undragable,t}Init(i,s=null){if(this.isInitted)return;super.Init(i);var h=new t.b2PolygonShape;h.Set(this.GetVertices(),3);var r,n=!1;if(s){for(r=0;r<3;r++)h.m_vertices[r].x-=s.GetPosition().x,h.m_vertices[r].y-=s.GetPosition().y;this.m_body=s,n=s.GetType()===t.b2BodyType.b2_staticBody}else{for(r=0;r<3;r++)h.m_vertices[r].x-=this.centerX,h.m_vertices[r].y-=this.centerY;var a={position:{x:this.centerX,y:this.centerY},type:this.isStatic?t.b2BodyType.b2_staticBody:t.b2BodyType.b2_dynamicBody};if(this.isEditable){for(var y=!1,o=0;o<this.m_joints.length;o++)if(this.m_joints[o].isEnabled){y=!0;break}y||(a.bullet=!0)}this.isBullet&&(a.bullet=!0),this.m_body=i.CreateBody(a)}this.m_fixture=this.m_body.CreateFixture({shape:h,friction:.4,restitution:.3,density:(this.density+5)/10}),this.m_collisionGroup!=Number.MIN_VALUE&&this.m_fixture.SetFilterData({groupIndex:this.m_collisionGroup});const x=new Object;for(x.collide=this.collide,x.editable=this.isEditable,x.red=this.red,x.green=this.green,x.blue=this.blue,x.outline=this.outline,x.terrain=this.terrain,x.undragable=this.undragable,x.isPiston=-1,x.isSandbox=this.isSandbox,this.m_body.SetUserData(x),this.m_fixture.SetUserData(x),this.m_shape=h,this.isStatic||n?this.m_body.SetMassData(new t.b2MassData):this.m_body.ResetMassData(),r=0;r<this.m_joints.length;r++)if(this.m_joints[r].isEnabled&&this.m_joints[r]instanceof e.FixedJoint){var l=this.m_joints[r].GetOtherPart(this);l.isEnabled&&l.Init(i,this.m_body)}}IntersectsBox(t,e,s,h){if(this.centerX>=t&&this.centerX<=t+s&&this.centerY>=e&&this.centerY<=e+h)return!0;for(var r=this.GetVertices(),n=0;n<3;n++){if(i.Util.SegmentsIntersect(r[n].x,r[n].y,r[(n+1)%3].x,r[(n+1)%3].y,t,e,t+s,e))return!0;if(i.Util.SegmentsIntersect(r[n].x,r[n].y,r[(n+1)%3].x,r[(n+1)%3].y,t+s,e,t+s,e+h))return!0;if(i.Util.SegmentsIntersect(r[n].x,r[n].y,r[(n+1)%3].x,r[(n+1)%3].y,t+s,e+h,t,e+h))return!0;if(i.Util.SegmentsIntersect(r[n].x,r[n].y,r[(n+1)%3].x,r[(n+1)%3].y,t,e+h,t,e))return!0}return!1}PrepareForResizing(){this.initX1=this.x1-this.centerX,this.initY1=this.y1-this.centerY,this.initX2=this.x2-this.centerX,this.initY2=this.y2-this.centerY,this.initX3=this.x3-this.centerX,this.initY3=this.y3-this.centerY}equals(t){return t instanceof h&&this.NumbersEqual(this.x1,t.x1)&&this.NumbersEqual(this.y1,t.y1)&&this.NumbersEqual(this.x2,t.x2)&&this.NumbersEqual(this.y2,t.y2)&&this.NumbersEqual(this.x3,t.x3)&&this.NumbersEqual(this.y3,t.y3)&&super.equals(t)}ToString(){return"Triangle: x1="+this.x1+", y1="+this.y1+", x2="+this.x2+", y2="+this.y2+", x3="+this.x3+", y3="+this.y3+super.ToString()}}exports.Triangle=h,h.MIN_SIDE_LENGTH=.1,h.MAX_SIDE_LENGTH=10,h.MIN_TRIANGLE_ANGLE=5*Math.PI/180;
},{"@box2d/core":"kjbO","../General/Util":"Zvyo","./FixedJoint":"QW19","./ShapePart":"CDAe"}],"VjcA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Base64Decoder=void 0;const t=require("../../General/ByteArray");class e{constructor(){this.count=0,this.filled=0,this.work=[0,0,0,0],this.data=new t.ByteArray}decode(t){for(var i=0;i<t.length;++i){var r=t.charCodeAt(i);if(r==e.ESCAPE_CHAR_CODE)this.work[this.count++]=-1;else{if(64==e.inverse[r])continue;this.work[this.count++]=e.inverse[r]}if(4==this.count){if(this.count=0,this.data.writeByte(this.work[0]<<2|(255&this.work[1])>>4),this.filled++,-1==this.work[2])break;if(this.data.writeByte(this.work[1]<<4|(255&this.work[2])>>2),this.filled++,-1==this.work[3])break;this.data.writeByte(this.work[2]<<6|this.work[3]),this.filled++}}}drain(){var i=new t.ByteArray;return e.copyByteArray(this.data,i,this.filled),this.filled=0,i}flush(){if(this.count>0)throw new Error("Base64 decoder: Partial block dropped");return this.drain()}reset(){this.data=new t.ByteArray,this.count=0,this.filled=0}toByteArray(){var t=this.flush();return this.reset(),t}static copyByteArray(t,e,i=0){var r=t.position;t.position=0,e.position=0;for(var s=0;t.bytesAvailable>0&&s<i;)e.writeByte(t.readByte()),s++;t.position=r,e.position=0}}exports.Base64Decoder=e,e.ESCAPE_CHAR_CODE=61,e.inverse=[64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,62,64,64,64,63,52,53,54,55,56,57,58,59,60,61,64,64,64,64,64,64,64,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,64,64,64,64,64,64,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64];
},{"../../General/ByteArray":"Ujas"}],"IeKD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Base64Encoder=void 0;const t=require("../../General/ByteArray");class s{constructor(){this.insertNewLines=!0,this._buffers=[],this._work=[0,0,0],this.reset()}drain(){for(var t="",s=0;s<this._buffers.length;s++){var e=this._buffers[s];t+=String.fromCharCode.apply(null,e)}return this._buffers=[],this._buffers.push([]),t}encode(t,s=0,e=0){0==e&&(e=t.length);var i=s,h=s+e;for(h>t.length&&(h=t.length);i<h;)this._work[this._count]=t.charCodeAt(i),this._count++,this._count!=this._work.length&&h-i!=1||(this.encodeBlock(),this._count=0,this._work[0]=0,this._work[1]=0,this._work[2]=0),i++}encodeUTFBytes(s){var e=new t.ByteArray;e.writeUTFBytes(s),e.position=0,this.encodeBytes(e)}encodeBytes(t,s=0,e=0){0==e&&(e=t.length);var i=t.position;t.position=s;var h=s,r=s+e;for(r>t.length&&(r=t.length);h<r;)this._work[this._count]=t.buffer[h],this._count++,this._count!=this._work.length&&r-h!=1||(this.encodeBlock(),this._count=0,this._work[0]=0,this._work[1]=0,this._work[2]=0),h++;t.position=i}flush(){this._count>0&&this.encodeBlock();var t=this.drain();return this.reset(),t}reset(){this._buffers=[],this._buffers.push([]),this._count=0,this._line=0,this._work[0]=0,this._work[1]=0,this._work[2]=0}toString(){return this.flush()}encodeBlock(){var t=this._buffers[this._buffers.length-1];t.length>=s.MAX_BUFFER_SIZE&&(t=[],this._buffers.push(t)),t.push(s.ALPHABET_CHAR_CODES[(255&this._work[0])>>2]),t.push(s.ALPHABET_CHAR_CODES[(3&this._work[0])<<4|(240&this._work[1])>>4]),this._count>1?t.push(s.ALPHABET_CHAR_CODES[(15&this._work[1])<<2|(192&this._work[2])>>6]):t.push(s.ESCAPE_CHAR_CODE),this._count>2?t.push(s.ALPHABET_CHAR_CODES[63&this._work[2]]):t.push(s.ESCAPE_CHAR_CODE),this.insertNewLines&&76==(this._line+=4)&&(t.push(s.newLine),this._line=0)}}exports.Base64Encoder=s,s.CHARSET_UTF_8="UTF-8",s.newLine=10,s.MAX_BUFFER_SIZE=32767,s.ESCAPE_CHAR_CODE=61,s.ALPHABET_CHAR_CODES=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47];
},{"../../General/ByteArray":"Ujas"}],"jYSx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Rectangle=void 0;const t=require("@box2d/core"),e=require("../General/Util"),i=require("./FixedJoint"),s=require("./ShapePart");class r extends s.ShapePart{constructor(t,e,i,s,h=!0){super(0,0),this.isTank=!1,h&&(i<0&&(t+=Math.max(-r.MAX_WIDTH,i),i=-i),s<0&&(e+=Math.max(-r.MAX_WIDTH,s),s=-s),i<r.MIN_WIDTH&&(i=r.MIN_WIDTH),s<r.MIN_WIDTH&&(s=r.MIN_WIDTH),i>r.MAX_WIDTH&&(i=r.MAX_WIDTH),s>r.MAX_WIDTH&&(s=r.MAX_WIDTH)),this.x=t,this.y=e,this.w=i,this.h=s,this.centerX=t+i/2,this.centerY=e+s/2,this.type="Rectangle"}GetArea(){return this.w*this.h}GetVertices(){var i=new Array(4);i[0]=new t.b2Vec2(this.x,this.y),i[1]=new t.b2Vec2(this.x+this.w,this.y),i[2]=new t.b2Vec2(this.x+this.w,this.y+this.h),i[3]=new t.b2Vec2(this.x,this.y+this.h);for(var s=Math.sqrt(this.w*this.w/4+this.h*this.h/4),r=0;r<4;r++){var h=Math.atan2(i[r].y-this.centerY,i[r].x-this.centerX);h=e.Util.NormalizeAngle(this.angle+h),i[r].x=this.centerX+s*Math.cos(h),i[r].y=this.centerY+s*Math.sin(h)}return i}InsideShape(t,e,i){for(var s=!0,r=this.GetVertices(),h=0;h<4;h++){var n;n=r[(h+1)%4].x==r[h].x?r[(h+1)%4].y>=r[h].y?1e8:-1e8:(r[(h+1)%4].y-r[h].y)/(r[(h+1)%4].x-r[h].x);var a=e-r[h].y-n*(t-r[h].x),o=r[(h+2)%4].y-r[h].y-n*(r[(h+2)%4].x-r[h].x);(a<0&&o>0||a>0&&o<0)&&(s=!1)}return s}Move(t,e){this.x=t-this.w/2,this.y=e-this.h/2,super.Move(t,e)}MakeCopy(){var t=new r(this.x,this.y,this.w,this.h);return t.density=this.density,t.angle=this.angle,t.collide=this.collide,t.isStatic=this.isStatic,t.red=this.red,t.green=this.green,t.blue=this.blue,t.opacity=this.opacity,t.outline=this.outline,t.terrain=this.terrain,t.undragable=this.undragable,t}Init(e,s=null){if(this.isInitted)return;super.Init(e);var r=new t.b2PolygonShape;r.Set(this.GetVertices(),4);var h,n=!1;if(s){for(h=0;h<4;h++)r.m_vertices[h].x-=s.GetPosition().x,r.m_vertices[h].y-=s.GetPosition().y;this.m_body=s,n=s.GetType()===t.b2BodyType.b2_staticBody}else{for(h=0;h<4;h++)r.m_vertices[h].x-=this.centerX,r.m_vertices[h].y-=this.centerY;var a={position:{x:this.centerX,y:this.centerY},type:this.isStatic?t.b2BodyType.b2_staticBody:t.b2BodyType.b2_dynamicBody};if(this.isEditable){for(var o=!1,l=0;l<this.m_joints.length;l++)if(this.m_joints[l].isEnabled){o=!0;break}o||(a.bullet=!0)}this.isBullet&&(a.bullet=!0),this.m_body=e.CreateBody(a)}this.m_fixture=this.m_body.CreateFixture({shape:r,friction:.4,restitution:.3,density:(this.density+5)/10}),this.m_collisionGroup!=Number.MIN_VALUE&&this.m_fixture.SetFilterData({groupIndex:this.m_collisionGroup});const c=new Object;for(c.collide=this.collide,c.editable=this.isEditable||this.isTank,c.red=this.red,c.green=this.green,c.blue=this.blue,c.outline=this.outline,c.terrain=this.terrain,c.undragable=this.undragable,c.isPiston=-1,c.isSandbox=this.isSandbox,this.m_body.SetUserData(c),this.m_fixture.SetUserData(c),this.m_shape=r,this.isStatic||n?this.m_body.SetMassData(new t.b2MassData):this.m_body.ResetMassData(),h=0;h<this.m_joints.length;h++)if(this.m_joints[h].isEnabled&&this.m_joints[h]instanceof i.FixedJoint){var u=this.m_joints[h].GetOtherPart(this);u.isEnabled&&u.Init(e,this.m_body)}}IntersectsBox(t,i,s,r){if(this.centerX>=t&&this.centerX<=t+s&&this.centerY>=i&&this.centerY<=i+r)return!0;for(var h=this.GetVertices(),n=0;n<4;n++){if(e.Util.SegmentsIntersect(h[n].x,h[n].y,h[(n+1)%4].x,h[(n+1)%4].y,t,i,t+s,i))return!0;if(e.Util.SegmentsIntersect(h[n].x,h[n].y,h[(n+1)%4].x,h[(n+1)%4].y,t+s,i,t+s,i+r))return!0;if(e.Util.SegmentsIntersect(h[n].x,h[n].y,h[(n+1)%4].x,h[(n+1)%4].y,t+s,i+r,t,i+r))return!0;if(e.Util.SegmentsIntersect(h[n].x,h[n].y,h[(n+1)%4].x,h[(n+1)%4].y,t,i+r,t,i))return!0}return!1}GetVerticesForOutline(t){return r.GetOutlineVertices(this.GetVertices(),4,t)}PrepareForResizing(){this.initW=this.w,this.initH=this.h}equals(t){return t instanceof r&&this.NumbersEqual(this.x,t.x)&&this.NumbersEqual(this.y,t.y)&&this.NumbersEqual(this.w,t.w)&&this.NumbersEqual(this.h,t.h)&&super.equals(t)}ToString(){return"Rectangle: x="+this.x+", y="+this.y+", w="+this.w+", h="+this.h+", "+super.ToString()}}exports.Rectangle=r,r.MIN_WIDTH=.1,r.MAX_WIDTH=10;
},{"@box2d/core":"kjbO","../General/Util":"Zvyo","./FixedJoint":"QW19","./ShapePart":"CDAe"}],"CVYw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Database=void 0;const e=require("@box2d/core"),r=require("../Game/Challenge"),t=require("../Game/Globals/ControllerGameGlobals"),a=require("../Game/Replay"),n=require("../Game/Robot"),o=require("../Game/SandboxSettings"),i=require("./Util"),s=require("./ByteArray"),d=require("../Game/CameraMovement"),l=require("../Game/KeyPress"),E=require("../Game/LossCondition"),R=require("../Game/ReplaySyncPoint"),c=require("../Game/WinCondition"),u=require("../Main"),p=require("../Parts/Cannon"),O=require("../Parts/FixedJoint"),L=require("../Parts/JointPart"),A=require("../Parts/PrismaticJoint"),T=require("../Parts/RevoluteJoint"),m=require("../Parts/ShapePart"),y=require("../Parts/TextPart"),S=require("../Parts/Thrusters"),h=require("../Parts/Triangle"),I=require("../mx/utils/Base64Decoder"),v=require("../mx/utils/Base64Encoder"),w=require("../Parts/Circle"),g=require("../Parts/Rectangle");class _{static Encrypt(e){return e}static AddUser(e,r,t){if(!_.waitingForResponse){_.loader=new URLLoader;var a=new URLRequest(_.Encrypt(_.BASE_URL+"op=addUser&user="+escape(e)+"&password="+MD5.encrypt(r)));a.method=URLRequestMethod.GET,_.loader.dataFormat=URLLoaderDataFormat.TEXT,_.loader.addEventListener(Event.COMPLETE,t),_.loader.addEventListener(SecurityErrorEvent.SECURITY_ERROR,_.ErrorHandler),_.loader.addEventListener(IOErrorEvent.IO_ERROR,_.ErrorHandler),_.loader.load(a),_.curAction=_.ACTION_ADD_USER,_.nonfatalErrorOccurred=!0,_.latestCompletionFunction=t,_.StartTimer()}}static Login(e,r,t){if(!_.waitingForResponse){_.loader=new URLLoader;var a=new URLRequest(_.Encrypt(_.BASE_URL+"op=login&user="+escape(e)+"&password="+MD5.encrypt(r)));a.method=URLRequestMethod.GET,_.loader.dataFormat=URLLoaderDataFormat.TEXT,_.loader.addEventListener(Event.COMPLETE,t),_.loader.addEventListener(SecurityErrorEvent.SECURITY_ERROR,_.ErrorHandler),_.loader.addEventListener(IOErrorEvent.IO_ERROR,_.ErrorHandler),_.loader.load(a),_.curAction=_.ACTION_LOGIN,_.nonfatalErrorOccurred=!0,_.latestCompletionFunction=t,_.StartTimer(),_.waitingForResponse=!0,_.curTransactionType=_.curAction}}static LoginGold(e,r,t){if(!_.waitingForResponse){_.loader=new URLLoader;var a=new URLRequest(_.Encrypt(_.BASE_URL+"op=goldLogin&user="+escape(e)+"&password="+MD5.encrypt(r)));a.method=URLRequestMethod.GET,_.loader.dataFormat=URLLoaderDataFormat.TEXT,_.loader.addEventListener(Event.COMPLETE,t),_.loader.addEventListener(SecurityErrorEvent.SECURITY_ERROR,_.ErrorHandler),_.loader.addEventListener(IOErrorEvent.IO_ERROR,_.ErrorHandler),_.loader.load(a),_.curAction=_.ACTION_LOGIN_GOLD,_.nonfatalErrorOccurred=!0,_.latestCompletionFunction=t,_.StartTimer(),_.waitingForResponse=!0,_.curTransactionType=_.curAction}}static SaveRobot(e,r,t,a,n,o,i,s,d,l){if(!_.waitingForResponse){var E=_.PutRobotIntoByteArray(t);E.compress(),_.loader=new URLLoader;var R=new URLRequest(_.Encrypt(_.BASE_URL+"op=uploadRobot&user="+escape(e)+"&password="+r+"&shared="+o+"&allowEdit="+i+"&prop="+s+(null==a?"":"&name="+escape(a))+(null==n?"":"&desc="+escape(n))+(""==d?"":"&challenge="+d)));R.data=E,R.method=URLRequestMethod.POST,R.contentType="application/octet-stream",_.loader.dataFormat=URLLoaderDataFormat.TEXT,_.loader.addEventListener(Event.COMPLETE,l),_.loader.addEventListener(SecurityErrorEvent.SECURITY_ERROR,_.ErrorHandler),_.loader.addEventListener(IOErrorEvent.IO_ERROR,_.ErrorHandler),_.loader.load(R),_.curAction=_.ACTION_SAVE_ROBOT,_.latestCompletionFunction=l,_.StartTimer()}}static ExportRobot(e,r,t,a,n,o,i){var d=_.PutRobotIntoByteArray(e),l=new s.ByteArray;l.writeUTF(r),l.writeUTF(t),l.writeInt(a),l.writeInt(n),l.writeInt(o),d.position=0,l.writeBytes(d),l.compress(),l.position=0;var E=new v.Base64Encoder;E.encodeBytes(l),i(E.toString(),"robot")}static ExportReplay(e,r,t,a,n,o,i,d,l){var E=_.PutRobotIntoByteArray(n);E.compress();var R=_.PutReplayIntoByteArray(e);R.compress();var c=new s.ByteArray;for(c.writeInt(R.length),c.writeInt(E.length),R.position=0;R.position!=R.length;)c.writeByte(R.readByte());for(E.position=0;E.position!=E.length;)c.writeByte(E.readByte());c.writeUTF(r),c.writeUTF(t),c.writeUTF(a),c.writeInt(o),c.writeUTF(i),c.writeInt(d),c.compress(),c.position=0;var u=new v.Base64Encoder;u.encodeBytes(c),l(u.toString(),"replay")}static ExportChallenge(e,r,t,a,n,o){var i=_.PutChallengeIntoByteArray(e),d=new s.ByteArray;d.writeUTF(r),d.writeUTF(t),d.writeInt(a),d.writeInt(n),i.position=0,d.writeBytes(i),d.compress(),d.position=0;var l=new v.Base64Encoder;l.encodeBytes(d),o(l.toString(),"challenge")}static GetRobotData(e,r,t,a,n,o,i,s){if(!_.waitingForResponse){_.robotType=t?_.SHARED:_.NORMAL,_.curShared=t,_.curSortType=a,_.curSortPeriod=n,_.curRobotPage=o,_.curSearch=i,_.loader=new URLLoader;var d=new URLRequest(_.Encrypt(_.BASE_URL+"op=getRobots&user="+(t?"_Public":escape(e))+"&password="+r+"&sortType="+a+"&sortPeriod="+n+"&page="+o+"&search="+escape(i)));d.method=URLRequestMethod.GET,_.loader.dataFormat=URLLoaderDataFormat.TEXT,_.loader.addEventListener(Event.COMPLETE,s),_.loader.addEventListener(SecurityErrorEvent.SECURITY_ERROR,_.ErrorHandler),_.loader.addEventListener(IOErrorEvent.IO_ERROR,_.ErrorHandler),_.loader.load(d),_.curAction=_.ACTION_GET_ROBOT_DATA,_.latestCompletionFunction=s,_.StartTimer()}}static LoadRobot(e,r,t,a){if(!_.waitingForResponse){_.loader=new URLLoader;var n=new URLRequest(_.Encrypt(_.BASE_URL+"op=downloadRobot&user="+escape(e)+"&password="+r+"&id="+_.robotList[t].id));n.method=URLRequestMethod.GET,_.loader.dataFormat=URLLoaderDataFormat.BINARY,_.loader.addEventListener(Event.COMPLETE,a),_.loader.addEventListener(SecurityErrorEvent.SECURITY_ERROR,_.ErrorHandler),_.loader.addEventListener(IOErrorEvent.IO_ERROR,_.ErrorHandler),_.loader.load(n),_.curAction=_.ACTION_LOAD_ROBOT,_.latestCompletionFunction=a,_.StartTimer()}}static LoadRobotByID(e,r){if(!_.waitingForResponse){_.loader=new URLLoader;var t=new URLRequest(_.Encrypt(_.BASE_URL+"op=downloadRobot&user=_Public&password=blah&id="+e));t.method=URLRequestMethod.GET,_.loader.dataFormat=URLLoaderDataFormat.BINARY,_.loader.addEventListener("complete",r),_.loader.addEventListener(SecurityErrorEvent.SECURITY_ERROR,_.ErrorHandler),_.loader.addEventListener(IOErrorEvent.IO_ERROR,_.ErrorHandler),_.loader.load(t),_.curAction=_.ACTION_LOAD_ROBOT,_.latestCompletionFunction=r,_.StartTimer()}}static DeleteRobot(e,r,t,a){if(!_.waitingForResponse){_.loader=new URLLoader;var n=new URLRequest(_.Encrypt(_.BASE_URL+"op=deleteRobot&user="+escape(e)+"&password="+r+"&id="+_.robotList[t].id));n.method=URLRequestMethod.GET,_.loader.dataFormat=URLLoaderDataFormat.TEXT,_.loader.addEventListener(Event.COMPLETE,a),_.loader.addEventListener(SecurityErrorEvent.SECURITY_ERROR,_.ErrorHandler),_.loader.addEventListener(IOErrorEvent.IO_ERROR,_.ErrorHandler),_.loader.load(n),_.curAction=_.ACTION_DELETE_ROBOT,_.deleteNumber=t,_.nonfatalErrorOccurred=!0,_.latestCompletionFunction=a,_.StartTimer()}}static SaveReplay(e,r,t,a,n,o,i,d,l,E,R){if(!_.waitingForResponse){var c=new s.ByteArray,u=_.PutReplayIntoByteArray(t);for(u.compress(),u.position=0;u.position!=u.length;)c.writeByte(u.readByte());_.loader=new URLLoader;var p=new URLRequest(_.Encrypt(_.BASE_URL+"op=uploadReplay&user="+escape(e)+"&password="+r+"&shared="+E+(null==a?"":"&name="+escape(a))+(null==n?"":"&desc="+escape(n))+"&robot="+o+"&replayLength="+c.length+"&score="+d+"&challenge="+l));if(""==o){var O=_.PutRobotIntoByteArray(i);for(O.compress(),O.position=0;O.position!=O.length;)c.writeByte(O.readByte())}p.data=c,p.method=URLRequestMethod.POST,p.contentType="application/octet-stream",_.loader.addEventListener(Event.COMPLETE,R),_.loader.addEventListener(SecurityErrorEvent.SECURITY_ERROR,_.ErrorHandler),_.loader.addEventListener(IOErrorEvent.IO_ERROR,_.ErrorHandler),_.loader.load(p),_.curAction=_.ACTION_SAVE_REPLAY,_.latestCompletionFunction=R,_.StartTimer()}}static GetReplayData(e,r,t,a,n,o,i,s){if(!_.waitingForResponse){_.replayType=t?_.SHARED:_.NORMAL,_.curShared=t,_.curSortType=a,_.curSortPeriod=n,_.curReplayPage=o,_.curSearch=i,_.loader=new URLLoader;var d=new URLRequest(_.Encrypt(_.BASE_URL+"op=getReplays&user="+(t?"_Public":escape(e))+"&password="+r+"&sortType="+a+"&sortPeriod="+n+"&page="+o+"&search="+escape(i)));d.method=URLRequestMethod.GET,_.loader.dataFormat=URLLoaderDataFormat.TEXT,_.loader.addEventListener(Event.COMPLETE,s),_.loader.addEventListener(SecurityErrorEvent.SECURITY_ERROR,_.ErrorHandler),_.loader.addEventListener(IOErrorEvent.IO_ERROR,_.ErrorHandler),_.loader.load(d),_.curAction=_.ACTION_GET_REPLAY_DATA,_.latestCompletionFunction=s,_.StartTimer()}}static LoadReplay(e,r,t,a){if(!_.waitingForResponse){_.loader=new URLLoader;var n=new URLRequest(_.Encrypt(_.BASE_URL+"op=downloadReplay&user="+escape(e)+"&password="+r+"&id="+_.replayList[t].id+"&robot="+_.replayList[t].robotID));n.method=URLRequestMethod.GET,_.loader.dataFormat=URLLoaderDataFormat.BINARY,_.loader.addEventListener("complete",a),_.loader.addEventListener(SecurityErrorEvent.SECURITY_ERROR,_.ErrorHandler),_.loader.addEventListener(IOErrorEvent.IO_ERROR,_.ErrorHandler),_.loader.load(n),_.curAction=_.ACTION_LOAD_REPLAY,_.latestCompletionFunction=a,_.StartTimer()}}static LoadReplayByID(e,r){if(!_.waitingForResponse){_.loader=new URLLoader;var t=new URLRequest(_.Encrypt(_.BASE_URL+"op=downloadReplay&user=_Public&password=blah&id="+e+"&robot=-1"));t.method=URLRequestMethod.GET,_.loader.dataFormat=URLLoaderDataFormat.BINARY,_.loader.addEventListener("complete",r),_.loader.addEventListener(SecurityErrorEvent.SECURITY_ERROR,_.ErrorHandler),_.loader.addEventListener(IOErrorEvent.IO_ERROR,_.ErrorHandler),_.loader.load(t),_.curAction=_.ACTION_LOAD_REPLAY,_.latestCompletionFunction=r,_.StartTimer()}}static LoadReplayFromScore(e,r,t,a){if(!_.waitingForResponse){_.loader=new URLLoader;var n=new URLRequest(_.Encrypt(_.BASE_URL+"op=downloadReplay&user="+escape(e)+"&password="+r+"&id="+_.scoreList[t].replayID+"&robot="+_.scoreList[t].robotID));n.method=URLRequestMethod.GET,_.loader.dataFormat=URLLoaderDataFormat.BINARY,_.loader.addEventListener("complete",a),_.loader.addEventListener(SecurityErrorEvent.SECURITY_ERROR,_.ErrorHandler),_.loader.addEventListener(IOErrorEvent.IO_ERROR,_.ErrorHandler),_.loader.load(n),_.curAction=_.ACTION_LOAD_REPLAY,_.latestCompletionFunction=a,_.StartTimer()}}static DeleteReplay(e,r,t,a){if(!_.waitingForResponse){_.loader=new URLLoader;var n=new URLRequest(_.Encrypt(_.BASE_URL+"op=deleteReplay&user="+escape(e)+"&password="+r+"&id="+_.replayList[t].id));n.method=URLRequestMethod.GET,_.loader.dataFormat=URLLoaderDataFormat.TEXT,_.loader.addEventListener("complete",a),_.loader.addEventListener(SecurityErrorEvent.SECURITY_ERROR,_.ErrorHandler),_.loader.addEventListener(IOErrorEvent.IO_ERROR,_.ErrorHandler),_.loader.load(n),_.curAction=_.ACTION_DELETE_REPLAY,_.deleteNumber=t,_.nonfatalErrorOccurred=!0,_.latestCompletionFunction=a,_.StartTimer()}}static GetScoreData(e,r,t,a,n,o,i,s,d){if(!_.waitingForResponse){_.highScoresChallenge=t,_.highScoresDaily=a,_.highScoresPersonal=n,_.scoreType=a?_.DAILY:n?_.PERSONAL:_.ALLTIME,_.highScoresSortType=o,_.curScorePage=i,_.curSearch=s,_.loader=new URLLoader;var l=new URLRequest(_.Encrypt(_.BASE_URL+"op=getScores&user="+escape(e)+"&password="+r+"&challenge="+t+"&daily="+(a?1:0)+"&personal="+(n?1:0)+"&sortType="+o+"&page="+i+"&search="+escape(s)));l.method=URLRequestMethod.GET,_.loader.dataFormat=URLLoaderDataFormat.TEXT,_.loader.addEventListener(Event.COMPLETE,d),_.loader.addEventListener(SecurityErrorEvent.SECURITY_ERROR,_.ErrorHandler),_.loader.addEventListener(IOErrorEvent.IO_ERROR,_.ErrorHandler),_.loader.load(l),_.curAction=_.ACTION_GET_SCORE_DATA,_.latestCompletionFunction=d,_.StartTimer()}}static SaveChallenge(e,r,t,a,n,o,i,s,d){if(!_.waitingForResponse){t.allParts=o;var l=_.PutChallengeIntoByteArray(t);l.compress(),_.loader=new URLLoader;var E=new URLRequest(_.Encrypt(_.BASE_URL+"op=uploadChallenge&user="+escape(e)+"&password="+r+"&shared="+i+"&allowEdit="+s+(null==a?"":"&name="+escape(a))+(null==n?"":"&desc="+escape(n))));E.data=l,E.method=URLRequestMethod.POST,E.contentType="application/octet-stream",_.loader.addEventListener(Event.COMPLETE,d),_.loader.addEventListener(SecurityErrorEvent.SECURITY_ERROR,_.ErrorHandler),_.loader.addEventListener(IOErrorEvent.IO_ERROR,_.ErrorHandler),_.loader.load(E),_.curAction=_.ACTION_SAVE_CHALLENGE,_.latestCompletionFunction=d,_.StartTimer()}}static GetChallengeData(e,r,t,a,n,o,i,s){if(!_.waitingForResponse){_.challengeType=t?_.SHARED:_.NORMAL,_.curShared=t,_.curSortType=a,_.curSortPeriod=n,_.curChallengePage=o,_.curSearch=i,_.loader=new URLLoader;var d=new URLRequest(_.Encrypt(_.BASE_URL+"op=getChallenges&user="+(t?"_Public":escape(e))+"&password="+r+"&sortType="+a+"&sortPeriod="+n+"&page="+o+"&search="+escape(i)));d.method=URLRequestMethod.GET,_.loader.dataFormat=URLLoaderDataFormat.TEXT,_.loader.addEventListener(Event.COMPLETE,s),_.loader.addEventListener(SecurityErrorEvent.SECURITY_ERROR,_.ErrorHandler),_.loader.addEventListener(IOErrorEvent.IO_ERROR,_.ErrorHandler),_.loader.load(d),_.curAction=_.ACTION_GET_CHALLENGE_DATA,_.latestCompletionFunction=s,_.StartTimer()}}static LoadChallenge(e,r,t,a){if(!_.waitingForResponse){_.loader=new URLLoader;var n=new URLRequest(_.Encrypt(_.BASE_URL+"op=downloadChallenge&user="+escape(e)+"&password="+r+"&id="+_.challengeList[t].id));n.method=URLRequestMethod.GET,_.loader.dataFormat=URLLoaderDataFormat.BINARY,_.loader.addEventListener("complete",a),_.loader.addEventListener(SecurityErrorEvent.SECURITY_ERROR,_.ErrorHandler),_.loader.addEventListener(IOErrorEvent.IO_ERROR,_.ErrorHandler),_.loader.load(n),_.curAction=_.ACTION_LOAD_CHALLENGE,_.latestCompletionFunction=a,_.StartTimer()}}static LoadChallengeByID(e,r){if(!_.waitingForResponse){_.loader=new URLLoader;var t=new URLRequest(_.Encrypt(_.BASE_URL+"op=downloadChallenge&user=_Public&password=blah&id="+e));t.method=URLRequestMethod.GET,_.loader.dataFormat=URLLoaderDataFormat.BINARY,_.loader.addEventListener("complete",r),_.loader.addEventListener(SecurityErrorEvent.SECURITY_ERROR,_.ErrorHandler),_.loader.addEventListener(IOErrorEvent.IO_ERROR,_.ErrorHandler),_.loader.load(t),_.curAction=_.ACTION_LOAD_CHALLENGE,_.latestCompletionFunction=r,_.StartTimer()}}static DeleteChallenge(e,r,t,a){if(!_.waitingForResponse){_.loader=new URLLoader;var n=new URLRequest(_.Encrypt(_.BASE_URL+"op=deleteChallenge&user="+escape(e)+"&password="+r+"&id="+_.challengeList[t].id));n.method=URLRequestMethod.GET,_.loader.dataFormat=URLLoaderDataFormat.TEXT,_.loader.addEventListener("complete",a),_.loader.addEventListener(SecurityErrorEvent.SECURITY_ERROR,_.ErrorHandler),_.loader.addEventListener(IOErrorEvent.IO_ERROR,_.ErrorHandler),_.loader.load(n),_.curAction=_.ACTION_DELETE_CHALLENGE,_.deleteNumber=t,_.nonfatalErrorOccurred=!0,_.latestCompletionFunction=a,_.StartTimer()}}static CommentOnRobot(e,r){if(!_.waitingForResponse){_.loader=new URLLoader;var t=new URLRequest(_.Encrypt(_.BASE_URL+"op=commentRobot&id="+e));t.method=URLRequestMethod.GET,_.loader.dataFormat=URLLoaderDataFormat.TEXT,_.loader.addEventListener(Event.COMPLETE,r),_.loader.addEventListener(SecurityErrorEvent.SECURITY_ERROR,_.ErrorHandler),_.loader.addEventListener(IOErrorEvent.IO_ERROR,_.ErrorHandler),_.loader.load(t),_.curAction=_.ACTION_COMMENT_ROBOT,_.latestCompletionFunction=r,_.StartTimer()}}static CommentOnReplay(e,r){if(!_.waitingForResponse){_.loader=new URLLoader;var t=new URLRequest(_.Encrypt(_.BASE_URL+"op=commentReplay&id="+e));t.method=URLRequestMethod.GET,_.loader.dataFormat=URLLoaderDataFormat.TEXT,_.loader.addEventListener(Event.COMPLETE,r),_.loader.addEventListener(SecurityErrorEvent.SECURITY_ERROR,_.ErrorHandler),_.loader.addEventListener(IOErrorEvent.IO_ERROR,_.ErrorHandler),_.loader.load(t),_.curAction=_.ACTION_COMMENT_REPLAY,_.latestCompletionFunction=r,_.StartTimer()}}static CommentOnChallenge(e,r){if(!_.waitingForResponse){_.loader=new URLLoader;var t=new URLRequest(_.Encrypt(_.BASE_URL+"op=commentChallenge&id="+e));t.method=URLRequestMethod.GET,_.loader.dataFormat=URLLoaderDataFormat.TEXT,_.loader.addEventListener(Event.COMPLETE,r),_.loader.addEventListener(SecurityErrorEvent.SECURITY_ERROR,_.ErrorHandler),_.loader.addEventListener(IOErrorEvent.IO_ERROR,_.ErrorHandler),_.loader.load(t),_.curAction=_.ACTION_COMMENT_CHALLENGE,_.latestCompletionFunction=r,_.StartTimer()}}static ReportRobot(e,r,t,a){if(!_.waitingForResponse){_.loader=new URLLoader;var n=new URLRequest(_.Encrypt(_.BASE_URL+"op=reportRobot&id="+e+"&user="+escape(r)+"&desc="+escape(t)));n.method=URLRequestMethod.GET,_.loader.dataFormat=URLLoaderDataFormat.TEXT,_.loader.addEventListener(Event.COMPLETE,a),_.loader.addEventListener(SecurityErrorEvent.SECURITY_ERROR,_.ErrorHandler),_.loader.addEventListener(IOErrorEvent.IO_ERROR,_.ErrorHandler),_.loader.load(n),_.curAction=_.ACTION_REPORT_ROBOT,_.latestCompletionFunction=a,_.StartTimer()}}static ReportReplay(e,r,t,a){if(!_.waitingForResponse){_.loader=new URLLoader;var n=new URLRequest(_.Encrypt(_.BASE_URL+"op=reportReplay&id="+e+"&user="+escape(r)+"&desc="+escape(t)));n.method=URLRequestMethod.GET,_.loader.dataFormat=URLLoaderDataFormat.TEXT,_.loader.addEventListener(Event.COMPLETE,a),_.loader.addEventListener(SecurityErrorEvent.SECURITY_ERROR,_.ErrorHandler),_.loader.addEventListener(IOErrorEvent.IO_ERROR,_.ErrorHandler),_.loader.load(n),_.curAction=_.ACTION_REPORT_REPLAY,_.latestCompletionFunction=a,_.StartTimer()}}static ReportChallenge(e,r,t,a){if(!_.waitingForResponse){_.loader=new URLLoader;var n=new URLRequest(_.Encrypt(_.BASE_URL+"op=reportChallenge&id="+e+"&user="+escape(r)+"&desc="+escape(t)));n.method=URLRequestMethod.GET,_.loader.dataFormat=URLLoaderDataFormat.TEXT,_.loader.addEventListener(Event.COMPLETE,a),_.loader.addEventListener(SecurityErrorEvent.SECURITY_ERROR,_.ErrorHandler),_.loader.addEventListener(IOErrorEvent.IO_ERROR,_.ErrorHandler),_.loader.load(n),_.curAction=_.ACTION_REPORT_CHALLENGE,_.latestCompletionFunction=a,_.StartTimer()}}static RateRobot(e,r,t){if(!_.waitingForResponse){_.loader=new URLLoader;var a=new URLRequest(_.Encrypt(_.BASE_URL+"op=rateRobot&id="+e+"&rating="+r));a.method=URLRequestMethod.GET,_.loader.dataFormat=URLLoaderDataFormat.TEXT,_.loader.addEventListener(Event.COMPLETE,t),_.loader.addEventListener(SecurityErrorEvent.SECURITY_ERROR,_.ErrorHandler),_.loader.addEventListener(IOErrorEvent.IO_ERROR,_.ErrorHandler),_.loader.load(a),_.curAction=_.ACTION_RATE_ROBOT,_.latestCompletionFunction=t,_.StartTimer()}}static RateReplay(e,r,t){if(!_.waitingForResponse){_.loader=new URLLoader;var a=new URLRequest(_.Encrypt(_.BASE_URL+"op=rateReplay&id="+e+"&rating="+r));a.method=URLRequestMethod.GET,_.loader.dataFormat=URLLoaderDataFormat.TEXT,_.loader.addEventListener(Event.COMPLETE,t),_.loader.addEventListener(SecurityErrorEvent.SECURITY_ERROR,_.ErrorHandler),_.loader.addEventListener(IOErrorEvent.IO_ERROR,_.ErrorHandler),_.loader.load(a),_.curAction=_.ACTION_RATE_REPLAY,_.latestCompletionFunction=t,_.StartTimer()}}static RateChallenge(e,r,t){if(!_.waitingForResponse){_.loader=new URLLoader;var a=new URLRequest(_.Encrypt(_.BASE_URL+"op=rateChallenge&id="+e+"&rating="+r));a.method=URLRequestMethod.GET,_.loader.dataFormat=URLLoaderDataFormat.TEXT,_.loader.addEventListener(Event.COMPLETE,t),_.loader.addEventListener(SecurityErrorEvent.SECURITY_ERROR,_.ErrorHandler),_.loader.addEventListener(IOErrorEvent.IO_ERROR,_.ErrorHandler),_.loader.load(a),_.curAction=_.ACTION_RATE_CHALLENGE,_.latestCompletionFunction=t,_.StartTimer()}}static FeatureRobot(e,r,t){if(!_.waitingForResponse){_.loader=new URLLoader;var a=new URLRequest(_.Encrypt(_.BASE_URL+"op=featureRobot&id="+e+"&featured="+(r?1:0)));a.method=URLRequestMethod.GET,_.loader.dataFormat=URLLoaderDataFormat.TEXT,_.loader.addEventListener(Event.COMPLETE,t),_.loader.addEventListener(SecurityErrorEvent.SECURITY_ERROR,_.ErrorHandler),_.loader.addEventListener(IOErrorEvent.IO_ERROR,_.ErrorHandler),_.loader.load(a),_.curAction=_.ACTION_FEATURE_ROBOT,_.latestCompletionFunction=t,_.StartTimer()}}static FeatureReplay(e,r,t){if(!_.waitingForResponse){_.loader=new URLLoader;var a=new URLRequest(_.Encrypt(_.BASE_URL+"op=featureReplay&id="+e+"&featured="+(r?1:0)));a.method=URLRequestMethod.GET,_.loader.dataFormat=URLLoaderDataFormat.TEXT,_.loader.addEventListener(Event.COMPLETE,t),_.loader.addEventListener(SecurityErrorEvent.SECURITY_ERROR,_.ErrorHandler),_.loader.addEventListener(IOErrorEvent.IO_ERROR,_.ErrorHandler),_.loader.load(a),_.curAction=_.ACTION_FEATURE_ROBOT,_.latestCompletionFunction=t,_.StartTimer()}}static FeatureChallenge(e,r,t){if(!_.waitingForResponse){_.loader=new URLLoader;var a=new URLRequest(_.Encrypt(_.BASE_URL+"op=featureChallenge&id="+e+"&featured="+(r?1:0)));a.method=URLRequestMethod.GET,_.loader.dataFormat=URLLoaderDataFormat.TEXT,_.loader.addEventListener(Event.COMPLETE,t),_.loader.addEventListener(SecurityErrorEvent.SECURITY_ERROR,_.ErrorHandler),_.loader.addEventListener(IOErrorEvent.IO_ERROR,_.ErrorHandler),_.loader.load(a),_.curAction=_.ACTION_FEATURE_CHALLENGE,_.latestCompletionFunction=t,_.StartTimer()}}static FinishFeaturing(e){_.StopTimer();var r=e.target.data.substring(4);if(0==r.search("ERROR"))return r=r.substring(5),_.ErrorHandler(new Event(""),_.ERROR_MESSAGES[parseInt(r)]),!1;if(0==r.length)return _.ErrorHandler(new Event(""),_.NO_DATA_MESSAGE),!1;try{return _.nonfatalErrorOccurred=!1,1==parseInt(r)}catch(e){_.ErrorHandler(new Event(""),_.EXCEPTION_MESSAGE)}return!1}static FinishRating(e){_.StopTimer();var r=e.target.data.substring(4);if(0==r.search("ERROR"))return r=r.substring(5),_.ErrorHandler(new Event(""),_.ERROR_MESSAGES[parseInt(r)]),!1;if(0==r.length)return _.ErrorHandler(new Event(""),_.NO_DATA_MESSAGE),!1;try{return _.nonfatalErrorOccurred=!1,1==parseInt(r)}catch(e){_.ErrorHandler(new Event(""),_.EXCEPTION_MESSAGE)}return!1}static FinishCommenting(e){_.StopTimer();var r=e.target.data.substring(4);if(0==r.search("ERROR"))return r=r.substring(5),_.ErrorHandler(new Event(""),_.ERROR_MESSAGES[parseInt(r)]),-1;if(0==r.length)return _.ErrorHandler(new Event(""),_.NO_DATA_MESSAGE),-1;try{return _.nonfatalErrorOccurred=!1,parseInt(r)}catch(e){_.ErrorHandler(new Event(""),_.EXCEPTION_MESSAGE)}return-1}static FinishReporting(e){_.StopTimer();var r=e.target.data.substring(4);if(0==r.search("ERROR"))return r=r.substring(5),_.ErrorHandler(new Event(""),_.ERROR_MESSAGES[parseInt(r)]),-1;if(0==r.length)return _.ErrorHandler(new Event(""),_.NO_DATA_MESSAGE),-1;try{return _.nonfatalErrorOccurred=!1,parseInt(r)}catch(e){_.ErrorHandler(new Event(""),_.EXCEPTION_MESSAGE)}return-1}static FinishAddingUser(e){_.StopTimer();var r=e.target.data.substring(4);return 0==r.search("ERROR")?(r=r.substring(5),_.ErrorHandler(new Event(""),_.ERROR_MESSAGES[parseInt(r)]),""):0==r.length?(_.ErrorHandler(new Event(""),_.NO_DATA_MESSAGE),""):(_.nonfatalErrorOccurred=!1,r)}static FinishLoggingIn(e){_.StopTimer();var r=e.target.data.substring(4);return 0==r.search("ERROR")?(r=r.substring(5),_.ErrorHandler(new Event(""),_.ERROR_MESSAGES[parseInt(r)]),""):0==r.length?(_.ErrorHandler(new Event(""),_.NO_DATA_MESSAGE),""):(_.nonfatalErrorOccurred=!1,r)}static FinishSavingRobot(e){_.StopTimer();var r=e.target.data.substring(4);return-1!=r.search("ERROR")?(r=r.substring(5),_.ErrorHandler(new Event(""),_.ERROR_MESSAGES[parseInt(r)]),""):0==r.length?(_.ErrorHandler(new Event(""),_.NO_DATA_MESSAGE),""):r}static FinishGettingRobotData(e){_.StopTimer();var r=e.target.data.substring(4);if(-1!=r.search("ERROR")&&r.search("ERROR")<5)return r=r.substring(5),_.ErrorHandler(new Event(""),_.ERROR_MESSAGES[parseInt(r)]),!1;try{for(_.numPages=parseInt(r.substr(0,r.indexOf("\n"))),r=r.substr(r.indexOf("\n")+1),_.robotList=new Array;r.length>0;){var t=new Object;t.id=r.substr(0,r.indexOf("\t")),r=r.substr(r.indexOf("\t")+1),t.user=unescape(r.substr(0,r.indexOf("\t"))).replace(/\+/g," "),r=r.substr(r.indexOf("\t")+1),t.name=unescape(r.substr(0,r.indexOf("\t"))).replace(/\+/g," "),r=r.substr(r.indexOf("\t")+1),t.description=unescape(r.substr(0,r.indexOf("\t"))).replace(/\+/g," "),r=r.substr(r.indexOf("\t")+1),t.editable=1==parseInt(r.substr(0,r.indexOf("\t"))),r=r.substr(r.indexOf("\t")+1),t.shared=1==parseInt(r.substr(0,r.indexOf("\t"))),r=r.substr(r.indexOf("\t")+1),t.viewCount=parseInt(r.substr(0,r.indexOf("\t"))),r=r.substr(r.indexOf("\t")+1),t.createTime=_.ParseTimestamp(r.substr(0,r.indexOf("\t"))),r=r.substr(r.indexOf("\t")+1),t.editTime=_.ParseTimestamp(r.substr(0,r.indexOf("\t"))),r=r.substr(r.indexOf("\t")+1),t.rating=parseFloat(r.substr(0,r.indexOf("\t"))),r=r.substr(r.indexOf("\t")+1),t.numRatings=parseInt(r.substr(0,r.indexOf("\t"))),r=r.substr(r.indexOf("\t")+1),t.featured=1==parseInt(r.substr(0,r.indexOf("\t"))),r=r.substr(r.indexOf("\t")+1),t.prop=1==parseInt(r.substr(0,r.indexOf("\t"))),r=r.substr(r.indexOf("\t")+1),t.challenge=r.substr(0,r.indexOf("\n")),r=r.substr(r.indexOf("\n")+1),_.robotList.push(t)}return!0}catch(e){_.ErrorHandler(new Event(""),_.EXCEPTION_MESSAGE)}return!1}static async ImportRobot(e){var r=new I.Base64Decoder;r.decode(e);var a=r.toByteArray();return await a.uncompress(),a.readUTF(),a.readUTF(),a.readInt(),a.readInt(),t.ControllerGameGlobals.potentialRobotPublic=!0,t.ControllerGameGlobals.potentialRobotEditable=!0,a.readInt(),_.ExtractRobotFromByteArray(a)}static ImportReplay(e){var r=new I.Base64Decoder;r.decode(e);var a=r.toByteArray();a.uncompress();for(var n=a.readInt(),o=a.readInt(),i=new s.ByteArray,d=new s.ByteArray;a.position<n+8;)i.writeByte(a.readByte());for(i.uncompress();a.position<n+o+8;)d.writeByte(a.readByte());d.uncompress();var l=_.ExtractReplayFromByteArray(i),E=_.ExtractRobotFromByteArray(d);return a.readUTF(),a.readUTF(),a.readUTF(),a.readInt(),a.readUTF(),t.ControllerGameGlobals.potentialReplayPublic=!0,[l,E]}static ImportChallenge(e){var r=new I.Base64Decoder;r.decode(e);var a=r.toByteArray();return a.uncompress(),a.readUTF(),a.readUTF(),a.readInt(),a.readInt(),t.ControllerGameGlobals.potentialChallengePublic=!0,t.ControllerGameGlobals.potentialChallengeEditable=!0,_.ExtractChallengeFromByteArray(a)}static FinishLoadingRobot(e){_.StopTimer();var r=_.StripNewlinesAndExtractByte(e.target.data);if(6==r.length||7==r.length){if("ERROR"==r.readUTFBytes(5))return _.ErrorHandler(new Event(""),_.ERROR_MESSAGES[parseInt(r.readUTFBytes(r.bytesAvailable))]),null;r.position=0}else if(0==r.length)return _.ErrorHandler(new Event(""),_.NO_DATA_MESSAGE),null;try{for(var t="";r.position!=r.length;){var a=r.readByte();if(10==a)break;t=t.concat(String.fromCharCode(a))}var n=parseInt(t);r=_.StripNewlines(r);for(var o=new s.ByteArray,i=0;i<n;i++)o.writeByte(r.readByte());o.uncompress(),o.position=0;for(var d=_.ExtractRobotFromByteArray(o),l=new s.ByteArray;r.position!=r.length;)l.writeByte(r.readByte());return l.length>0&&(l.uncompress(),l.position=0,d.challenge=_.ExtractChallengeFromByteArray(l)),d}catch(e){_.ErrorHandler(new Event(""),_.EXCEPTION_MESSAGE)}return null}static FinishDeletingRobot(e){_.StopTimer();var r=e.target.data.substring(4);if(-1!=r.search("ERROR"))return r=r.substring(5),_.ErrorHandler(new Event(""),_.ERROR_MESSAGES[parseInt(r)]),"";if(0==r.length)return _.ErrorHandler(new Event(""),_.NO_DATA_MESSAGE),"";try{var t=_.robotList[_.deleteNumber].id;return _.robotList=i.Util.RemoveFromArray(_.robotList[_.deleteNumber],_.robotList),_.nonfatalErrorOccurred=!1,t}catch(e){_.ErrorHandler(new Event(""),_.EXCEPTION_MESSAGE)}return""}static FinishSavingReplay(e){_.StopTimer();var r=e.target.data.substring(4);return-1!=r.search("ERROR")?(r=r.substring(5),_.ErrorHandler(new Event(""),_.ERROR_MESSAGES[parseInt(r)]),""):0==r.length?(_.ErrorHandler(new Event(""),_.NO_DATA_MESSAGE),""):r}static FinishGettingReplayData(e){_.StopTimer();var r=e.target.data.substring(4);if(-1!=r.search("ERROR")&&r.search("ERROR")<5)return r=r.substring(5),_.ErrorHandler(new Event(""),_.ERROR_MESSAGES[parseInt(r)]),!1;try{for(_.numPages=parseInt(r.substr(0,r.indexOf("\n"))),r=r.substr(r.indexOf("\n")+1),_.replayList=new Array;r.length>0;){var t=new Object;t.id=r.substr(0,r.indexOf("\t")),r=r.substr(r.indexOf("\t")+1),t.user=unescape(r.substr(0,r.indexOf("\t"))).replace(/\+/g," "),r=r.substr(r.indexOf("\t")+1),t.name=unescape(r.substr(0,r.indexOf("\t"))).replace(/\+/g," "),r=r.substr(r.indexOf("\t")+1),t.description=unescape(r.substr(0,r.indexOf("\t"))).replace(/\+/g," "),r=r.substr(r.indexOf("\t")+1),t.robotID=r.substr(0,r.indexOf("\t")),r=r.substr(r.indexOf("\t")+1),t.shared=1==parseInt(r.substr(0,r.indexOf("\t"))),r=r.substr(r.indexOf("\t")+1),t.viewCount=parseInt(r.substr(0,r.indexOf("\t"))),r=r.substr(r.indexOf("\t")+1),t.createTime=_.ParseTimestamp(r.substr(0,r.indexOf("\t"))),r=r.substr(r.indexOf("\t")+1),t.editTime=_.ParseTimestamp(r.substr(0,r.indexOf("\t"))),r=r.substr(r.indexOf("\t")+1),t.rating=parseFloat(r.substr(0,r.indexOf("\t"))),r=r.substr(r.indexOf("\t")+1),t.numRatings=parseInt(r.substr(0,r.indexOf("\t"))),r=r.substr(r.indexOf("\t")+1),t.featured=1==parseInt(r.substr(0,r.indexOf("\n"))),r=r.substr(r.indexOf("\n")+1),_.replayList.push(t)}return!0}catch(e){_.ErrorHandler(new Event(""),_.EXCEPTION_MESSAGE)}return!1}static FinishLoadingReplay(e){_.StopTimer();var r=_.StripNewlines(e.target.data);if(6==r.length||7==r.length){if("ERROR"==r.readUTFBytes(5))return _.ErrorHandler(new Event(""),_.ERROR_MESSAGES[parseInt(r.readUTFBytes(r.bytesAvailable))]),null;r.position=0}else if(0==r.length)return _.ErrorHandler(new Event(""),_.NO_DATA_MESSAGE),null;try{for(var t="";r.position!=r.length;){var a=r.readByte();if(10==a)break;t=t.concat(String.fromCharCode(a))}var n=parseInt(t);r=_.StripNewlines(r);for(var o=new s.ByteArray,i=0;i<n;i++)o.writeByte(r.readByte());o.uncompress(),o.position=0;for(var d=_.ExtractReplayFromByteArray(o),l=new s.ByteArray;r.position!=r.length;)l.writeByte(r.readByte());l.uncompress(),l.position=0;var E=_.ExtractRobotFromByteArray(l),R=new Array;return R.push(d),R.push(E),R}catch(e){_.ErrorHandler(new Event(""),_.EXCEPTION_MESSAGE)}return null}static FinishDeletingReplay(e){_.StopTimer();var r=e.target.data.substring(4);if(-1!=r.search("ERROR"))return r=r.substring(5),_.ErrorHandler(new Event(""),_.ERROR_MESSAGES[parseInt(r)]),!1;if(0==r.length)return _.ErrorHandler(new Event(""),_.NO_DATA_MESSAGE),!1;try{return _.replayList=i.Util.RemoveFromArray(_.replayList[_.deleteNumber],_.replayList),_.nonfatalErrorOccurred=!1,!0}catch(e){_.ErrorHandler(new Event(""),_.EXCEPTION_MESSAGE)}return!1}static FinishSavingChallenge(e){_.StopTimer();var r=e.target.data.substring(4);return-1!=r.search("ERROR")?(r=r.substring(5),_.ErrorHandler(new Event(""),_.ERROR_MESSAGES[parseInt(r)]),""):0==r.length?(_.ErrorHandler(new Event(""),_.NO_DATA_MESSAGE),""):r}static FinishGettingChallengeData(e){_.StopTimer();var r=e.target.data.substring(4);if(-1!=r.search("ERROR")&&r.search("ERROR")<5)return r=r.substring(5),_.ErrorHandler(new Event(""),_.ERROR_MESSAGES[parseInt(r)]),!1;try{for(_.numPages=parseInt(r.substr(0,r.indexOf("\n"))),r=r.substr(r.indexOf("\n")+1),_.challengeList=new Array;r.length>0;){var t=new Object;t.id=r.substr(0,r.indexOf("\t")),r=r.substr(r.indexOf("\t")+1),t.user=unescape(r.substr(0,r.indexOf("\t"))).replace(/\+/g," "),r=r.substr(r.indexOf("\t")+1),t.name=unescape(r.substr(0,r.indexOf("\t"))).replace(/\+/g," "),r=r.substr(r.indexOf("\t")+1),t.description=unescape(r.substr(0,r.indexOf("\t"))).replace(/\+/g," "),r=r.substr(r.indexOf("\t")+1),t.editable=1==parseInt(r.substr(0,r.indexOf("\t"))),r=r.substr(r.indexOf("\t")+1),t.shared=1==parseInt(r.substr(0,r.indexOf("\t"))),r=r.substr(r.indexOf("\t")+1),t.viewCount=parseInt(r.substr(0,r.indexOf("\t"))),r=r.substr(r.indexOf("\t")+1),t.createTime=_.ParseTimestamp(r.substr(0,r.indexOf("\t"))),r=r.substr(r.indexOf("\t")+1),t.editTime=_.ParseTimestamp(r.substr(0,r.indexOf("\t"))),r=r.substr(r.indexOf("\t")+1),t.rating=parseFloat(r.substr(0,r.indexOf("\t"))),r=r.substr(r.indexOf("\t")+1),t.numRatings=parseInt(r.substr(0,r.indexOf("\t"))),r=r.substr(r.indexOf("\t")+1),t.featured=1==parseInt(r.substr(0,r.indexOf("\n"))),r=r.substr(r.indexOf("\n")+1),_.challengeList.push(t)}return!0}catch(e){_.ErrorHandler(new Event(""),_.EXCEPTION_MESSAGE)}return!1}static FinishLoadingChallenge(e){_.StopTimer();var r=_.StripNewlinesAndExtractByte(e.target.data);if(6==r.length||7==r.length){if("ERROR"==r.readUTFBytes(5))return _.ErrorHandler(new Event(""),_.ERROR_MESSAGES[parseInt(r.readUTFBytes(r.bytesAvailable))]),null;r.position=0}else if(0==r.length)return _.ErrorHandler(new Event(""),_.NO_DATA_MESSAGE),null;try{return r.uncompress(),_.ExtractChallengeFromByteArray(r)}catch(e){_.ErrorHandler(new Event(""),_.EXCEPTION_MESSAGE)}return null}static FinishDeletingChallenge(e){_.StopTimer();var r=e.target.data.substring(4);if(-1!=r.search("ERROR"))return r=r.substring(5),_.ErrorHandler(new Event(""),_.ERROR_MESSAGES[parseInt(r)]),!1;if(0==r.length)return _.ErrorHandler(new Event(""),_.NO_DATA_MESSAGE),!1;try{return _.challengeList=i.Util.RemoveFromArray(_.challengeList[_.deleteNumber],_.challengeList),_.nonfatalErrorOccurred=!1,!0}catch(e){_.ErrorHandler(new Event(""),_.EXCEPTION_MESSAGE)}return!1}static FinishGettingScoreData(e){_.StopTimer();var r=e.target.data.substring(4);if(-1!=r.search("ERROR")&&r.search("ERROR")<5)return r=r.substring(5),_.ErrorHandler(new Event(""),_.ERROR_MESSAGES[parseInt(r)]),!1;try{for(_.numPages=parseInt(r.substr(0,r.indexOf("\n"))),r=r.substr(r.indexOf("\n")+1),_.highScoresChallengeName=r.substr(0,r.indexOf("\n")),r=r.substr(r.indexOf("\n")+1),_.scoreList=new Array;r.length>0;){var t=new Object;t.user=unescape(r.substr(0,r.indexOf("\t"))).replace(/\+/g," "),r=r.substr(r.indexOf("\t")+1),t.score=parseInt(r.substr(0,r.indexOf("\t"))),r=r.substr(r.indexOf("\t")+1),t.replayID=r.substr(0,r.indexOf("\t")),r=r.substr(r.indexOf("\t")+1),t.robotID=r.substr(0,r.indexOf("\n")),r=r.substr(r.indexOf("\n")+1),_.scoreList.push(t)}return!0}catch(e){_.ErrorHandler(new Event(""),_.EXCEPTION_MESSAGE)}return!1}static StartTimer(){_.timeoutTimer=new Timer(1e3*_.TIMEOUT_SECONDS),_.timeoutTimer.addEventListener(TimerEvent.TIMER,_.TimeoutHandler),_.timeoutTimer.start(),_.waitingForResponse=!0,_.curTransactionType=_.curAction}static StopTimer(){_.waitingForResponse=!1,_.timeoutTimer&&(_.timeoutTimer.stop(),_.timeoutTimer.removeEventListener(TimerEvent.TIMER,_.TimeoutHandler))}static TimeoutHandler(e){_.loader.removeEventListener(Event.COMPLETE,_.latestCompletionFunction),_.loader.removeEventListener(SecurityErrorEvent.SECURITY_ERROR,_.ErrorHandler),_.loader.removeEventListener(IOErrorEvent.IO_ERROR,_.ErrorHandler),_.ErrorHandler(e,_.ERROR_MESSAGES[0])}static ErrorHandler(e,r=_.UNKNOWN_MESSAGE){_.StopTimer(),_.errorOccurred=!0,r==_.UNKNOWN_MESSAGE?(r=e instanceof SecurityErrorEvent?_.SECURITY_MESSAGE:_.IO_MESSAGE,_.lastErrorMsg="Error: "+r+"  Code: "+e.text):_.lastErrorMsg="Error: "+r,r==_.ERROR_MESSAGES[_.WRONG_VERSION_CODE]&&(_.versionErrorOccurred=!0)}static IsPartOfRobot(e,r,t){return e.drawAnyway}static IsShape(e,r,t){return e instanceof m.ShapePart}static PutChallengeIntoByteArray(e){var r=_.PutPartsIntoByteArray(e.allParts,new s.ByteArray);r.position=0;var t=_.ExtractPartsFromByteArray(r);r.writeObject(e.settings),r.writeBoolean(e.circlesAllowed),r.writeBoolean(e.rectanglesAllowed),r.writeBoolean(e.trianglesAllowed),r.writeBoolean(e.fixedJointsAllowed),r.writeBoolean(e.rotatingJointsAllowed),r.writeBoolean(e.slidingJointsAllowed),r.writeBoolean(e.thrustersAllowed),r.writeBoolean(e.fixateAllowed),r.writeBoolean(e.mouseDragAllowed),r.writeBoolean(e.botControlAllowed),r.writeDouble(e.minDensity),r.writeDouble(e.maxDensity),r.writeDouble(e.maxRJStrength),r.writeDouble(e.maxRJSpeed),r.writeDouble(e.maxSJStrength),r.writeDouble(e.maxSJSpeed),r.writeDouble(e.maxThrusterStrength),r.writeObject(e.buildAreas);for(var a=t.filter(_.IsShape),n=e.winConditions.length-1;n>=0;n--){if(e.winConditions[n].shape1)for(var o=0;o<a.length;o++)e.winConditions[n].shape1.equals(a[o])&&(e.winConditions[n].shape1Index=o);if(e.winConditions[n].shape2)for(o=0;o<a.length;o++)e.winConditions[n].shape2.equals(a[o])&&(e.winConditions[n].shape2Index=o);(0==e.winConditions[n].subject&&-1==e.winConditions[n].shape1Index||e.winConditions[n].object>4&&-1==e.winConditions[n].shape2Index)&&(e.winConditions=i.Util.RemoveFromArray(e.winConditions[n],e.winConditions))}for(n=e.lossConditions.length-1;n>=0;n--){if(e.lossConditions[n].shape1)for(o=0;o<a.length;o++)e.lossConditions[n].shape1.equals(a[o])&&(e.lossConditions[n].shape1Index=o);if(e.lossConditions[n].shape2)for(o=0;o<a.length;o++)e.lossConditions[n].shape2.equals(a[o])&&(e.lossConditions[n].shape2Index=o);(0==e.lossConditions[n].subject&&-1==e.lossConditions[n].shape1Index||e.lossConditions[n].object>4&&-1==e.lossConditions[n].shape2Index)&&(e.lossConditions=i.Util.RemoveFromArray(e.lossConditions[n],e.lossConditions))}for(r.writeObject(e.winConditions),r.writeObject(e.lossConditions),n=0;n<e.winConditions.length;n++)e.winConditions[n].shape1Index=-1,e.winConditions[n].shape2Index=-1;for(n=0;n<e.lossConditions.length;n++)e.lossConditions[n].shape1Index=-1,e.lossConditions[n].shape2Index=-1;return r.writeBoolean(e.winConditionsAnded),r.writeFloat(e.cameraX),r.writeFloat(e.cameraY),r.writeFloat(e.zoomLevel),r.writeBoolean(e.nonCollidingAllowed),r.writeBoolean(e.showConditions),r.writeBoolean(e.cannonsAllowed),r}static ExtractChallengeFromByteArray(t){var a=_.ExtractPartsFromByteArray(t),n=t.readObject(),s=new r.Challenge(new o.SandboxSettings(n.gravity,n.size,n.terrainType,n.terrainTheme,n.background,n.backgroundR,n.backgroundG,n.backgroundB));s.allParts=a,s.circlesAllowed=t.readBoolean(),s.rectanglesAllowed=t.readBoolean(),s.trianglesAllowed=t.readBoolean(),s.fixedJointsAllowed=t.readBoolean(),s.rotatingJointsAllowed=t.readBoolean(),s.slidingJointsAllowed=t.readBoolean(),s.thrustersAllowed=t.readBoolean(),s.fixateAllowed=t.readBoolean(),s.mouseDragAllowed=t.readBoolean(),s.botControlAllowed=t.readBoolean(),s.minDensity=t.readDouble(),s.maxDensity=t.readDouble(),s.maxRJStrength=t.readDouble(),s.maxRJSpeed=t.readDouble(),s.maxSJStrength=t.readDouble(),s.maxSJSpeed=t.readDouble(),s.maxThrusterStrength=t.readDouble();var d=t.readObject();s.buildAreas=new Array;for(var l=0;l<d.length;l++){var R=new e.b2AABB;R.lowerBound=i.Util.Vector(d[l].lowerBound.x,d[l].lowerBound.y),R.upperBound=i.Util.Vector(d[l].upperBound.x,d[l].upperBound.y),s.buildAreas.push(R)}var u=t.readObject(),p=a.filter(_.IsShape);for(l=0;l<u.length;l++){var O=new c.WinCondition(u[l].name,u[l].subject,u[l].object);O.minX=u[l].minX,O.maxX=u[l].maxX,O.minY=u[l].minY,O.maxY=u[l].maxY,-1!=u[l].shape1Index&&(O.shape1=p[u[l].shape1Index]),-1!=u[l].shape2Index&&(O.shape2=p[u[l].shape2Index]),s.winConditions.push(O)}for(u=t.readObject(),l=0;l<u.length;l++){var L=new E.LossCondition(u[l].name,u[l].subject,u[l].object,u[l].immediate);L.minX=u[l].minX,L.maxX=u[l].maxX,L.minY=u[l].minY,L.maxY=u[l].maxY,-1!=u[l].shape1Index&&(L.shape1=p[u[l].shape1Index]),-1!=u[l].shape2Index&&(L.shape2=p[u[l].shape2Index]),s.lossConditions.push(L)}return s.winConditionsAnded=t.readBoolean(),t.position!=t.length&&(s.cameraX=t.readFloat(),s.cameraY=t.readFloat(),s.zoomLevel=t.readFloat()),t.position!=t.length&&(s.nonCollidingAllowed=t.readBoolean(),s.showConditions=t.readBoolean()),t.position!=t.length?s.cannonsAllowed=t.readBoolean():s.cannonsAllowed=s.rectanglesAllowed&&s.slidingJointsAllowed&&s.rotatingJointsAllowed&&s.slidingJointsAllowed&&s.thrustersAllowed,s}static PutPartsIntoByteArray(e,r){e=e.filter(_.IsPartOfRobot);for(var t=new Array,a=0;a<e.length;a++)(e[a]instanceof m.ShapePart||e[a]instanceof y.TextPart)&&t.push(e[a]);var n=0;for(a=0;a<e.length;a++)e[a]instanceof L.JointPart||e[a]instanceof S.Thrusters?(t.push(e[a]),e[a]instanceof A.PrismaticJoint&&(e[a].arrayIndex=n,n++)):n++;for(a=0;a<t.length;a++)if(t[a]instanceof L.JointPart)for(var o=0;o<e.length;o++)t[o]==t[a].part1&&(t[a].part1Index=o),t[o]==t[a].part2&&(t[a].part2Index=o);else if(t[a]instanceof S.Thrusters)for(o=0;o<e.length;o++)t[o]==t[a].shape&&(t[a].shapeIndex=o);return r.writeObject(t),r}static ExtractPartsFromByteArray(r){for(var t=r.readObject(),a=new Array,n=0;n<t.length;n++){var o;if("Circle"==t[n].type||"Rectangle"==t[n].type||"Triangle"==t[n].type||"Cannon"==t[n].type)"Circle"==t[n].type?o=new w.Circle(t[n].centerX,t[n].centerY,t[n].radius,!1):"Rectangle"==t[n].type?o=new g.Rectangle(t[n].x,t[n].y,t[n].w,t[n].h,!1):"Triangle"==t[n].type?o=new h.Triangle(t[n].x1,t[n].y1,t[n].x2,t[n].y2,t[n].x3,t[n].y3):"Cannon"==t[n].type&&((o=new p.Cannon(t[n].x,t[n].y,t[n].w)).fireKey=t[n].fireKey,o.strength=t[n].strength),o.angle=t[n].angle,o.density=t[n].density,o.collide=t[n].collide,o.isStatic=t[n].isStatic,o.isCameraFocus=t[n].isCameraFocus,o.red=t[n].red,o.green=t[n].green,o.blue=t[n].blue,o.opacity=t[n].opacity,o.outline=t[n].outline,t[n].hasOwnProperty("terrain")&&(o.terrain=t[n].terrain),t[n].hasOwnProperty("undragable")&&(o.undragable=t[n].undragable),a.push(o);else if("TextPart"==t[n].type){var s=new y.TextPart(u.Main.m_curController,t[n].x,t[n].y,t[n].w,t[n].h,t[n].text,t[n].inFront);s.inFront=t[n].inFront,s.scaleWithZoom=t[n].scaleWithZoom,s.alwaysVisible=t[n].alwaysVisible,s.displayKey=t[n].displayKey,s.red=t[n].red,s.green=t[n].green,s.blue=t[n].blue,s.size=t[n].size,a.push(s)}else if("Thrusters"==t[n].type){if(t[n].shapeIndex>=0){var d=new S.Thrusters(a[t[n].shapeIndex],t[n].centerX,t[n].centerY);d.strength=t[n].strength,d.angle=t[n].angle,d.thrustKey=t[n].thrustKey,d.autoOn=t[n].autoOn,a.push(d)}}else if("FixedJoint"==t[n].type||"RevoluteJoint"==t[n].type||"PrismaticJoint"==t[n].type){var l;if(t[n].part1Index>=0&&t[n].part2Index>=0)"FixedJoint"==t[n].type?l=new O.FixedJoint(a[t[n].part1Index],a[t[n].part2Index],t[n].anchorX,t[n].anchorY):"RevoluteJoint"==t[n].type?((l=new T.RevoluteJoint(a[t[n].part1Index],a[t[n].part2Index],t[n].anchorX,t[n].anchorY)).enableMotor=t[n].enableMotor,l.motorCWKey=t[n].motorCWKey,l.motorCCWKey=t[n].motorCCWKey,l.motorStrength=t[n].motorStrength,l.motorSpeed=t[n].motorSpeed,l.motorLowerLimit=t[n].motorLowerLimit,l.motorUpperLimit=t[n].motorUpperLimit,l.isStiff=t[n].isStiff,l.autoCW=t[n].autoCW,l.autoCCW=t[n].autoCCW):"PrismaticJoint"==t[n].type&&((l=new A.PrismaticJoint(a[t[n].part1Index],a[t[n].part2Index],0,0,1,1)).anchorX=t[n].anchorX,l.anchorY=t[n].anchorY,l.axis=new e.b2Vec2(t[n].axis.x,t[n].axis.y),l.enablePiston=t[n].enablePiston,l.pistonUpKey=t[n].pistonUpKey,l.pistonDownKey=t[n].pistonDownKey,l.pistonStrength=t[n].pistonStrength,l.pistonSpeed=t[n].pistonSpeed,l.isStiff=t[n].isStiff,l.autoOscillate=t[n].autoOscillate,l.initLength=t[n].initLength,l.red=t[n].red,l.green=t[n].green,l.blue=t[n].blue,l.opacity=t[n].opacity,l.outline=t[n].outline,l.collide=t[n].collide,t[n].hasOwnProperty("arrayIndex")&&(l.arrayIndex=t[n].arrayIndex)),a.push(l)}}for(n=0;n<a.length;n++)if(a[n]instanceof A.PrismaticJoint&&-1!=a[n].arrayIndex){var E=a[n];a=i.Util.RemoveFromArray(E,a),a=i.Util.InsertIntoArray(E,a,E.arrayIndex)}return a}static PutRobotIntoByteArray(e){var r=_.PutPartsIntoByteArray(e.allParts,new s.ByteArray);return r.writeObject(e.settings),r.writeFloat(e.cameraX),r.writeFloat(e.cameraY),r.writeFloat(e.zoomLevel),r}static ExtractRobotFromByteArray(e){var r=_.ExtractPartsFromByteArray(e);if(e.position==e.length)return new n.Robot(r,new o.SandboxSettings(15,1,0,0,0),Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE);var t=e.readObject(),a=Number.MAX_VALUE,i=Number.MAX_VALUE,s=Number.MAX_VALUE;return e.position!=e.length&&(a=e.readFloat(),i=e.readFloat(),s=e.readFloat()),new n.Robot(r,new o.SandboxSettings(t.gravity,t.size,t.terrainType,t.terrainTheme,t.background,t.backgroundR,t.backgroundG,t.backgroundB),a,i,s)}static PutReplayIntoByteArray(e){for(var r=new s.ByteArray,t=0;t<e.cameraMovements.length;t++)_.WriteInt(r,e.cameraMovements[t].frame),_.WriteFloat(r,e.cameraMovements[t].x/100),_.WriteFloat(r,e.cameraMovements[t].y/100),_.WriteFloat(r,e.cameraMovements[t].scale);for(_.WriteInt(r,Number.MIN_VALUE),_.WriteInt(r,Number.MIN_VALUE),t=0;t<e.syncPoints.length;t++){_.WriteInt(r,e.syncPoints[t].frame);for(var a=0;a<e.syncPoints[t].positions.length;a++)0!=t&&t!=e.syncPoints.length-1&&e.syncPoints[t].positions[a].x==e.syncPoints[t-1].positions[a].x&&e.syncPoints[t].positions[a].y==e.syncPoints[t-1].positions[a].y&&e.syncPoints[t].angles[a]==e.syncPoints[t-1].angles[a]||(_.WriteFloat(r,e.syncPoints[t].positions[a].x),_.WriteFloat(r,e.syncPoints[t].positions[a].y),e.syncPoints[t].angles[a]<=-32.7||e.syncPoints[t].angles[a]>=32.8?_.WriteFloat(r,10*_.NormalizeAngle(e.syncPoints[t].angles[a])):_.WriteFloat(r,10*e.syncPoints[t].angles[a]),_.WriteInt(r,a));if(_.WriteFloat(r,Number.NEGATIVE_INFINITY),e.syncPoints[t].cannonballPositions.length>0){for(_.WriteInt(r,-1),a=0;a<e.syncPoints[t].cannonballPositions.length;a++)_.WriteFloat(r,e.syncPoints[t].cannonballPositions[a].x),_.WriteFloat(r,e.syncPoints[t].cannonballPositions[a].y);_.WriteFloat(r,Number.NEGATIVE_INFINITY)}}for(_.WriteInt(r,Number.MIN_VALUE),r.writeObject(e.version),_.WriteInt(r,e.numFrames),t=0;t<e.keyPresses.length;t++)_.WriteInt(r,e.keyPresses[t].frame),_.WriteInt(r,e.keyPresses[t].key);return _.WriteInt(r,Number.MIN_VALUE),r}static async ExtractReplayFromByteArray(e){for(var r=new Array;;){var t=_.ReadInt(e);if(t==Number.MIN_VALUE)break;var n=100*_.ReadFloat(e),o=100*_.ReadFloat(e),s=_.ReadFloat(e);r.push(new d.CameraMovement(t,n,o,s))}var E=new Array,c=!1,u=!0;for((t=_.ReadInt(e))==Number.MIN_VALUE&&(c=!0,u=!1);u||(t=_.ReadInt(e)),u=!1,t!=Number.MIN_VALUE;)if(-1==t)for(;(n=_.ReadFloat(e))!=Number.NEGATIVE_INFINITY;)o=_.ReadFloat(e),E[E.length-1].cannonballPositions.push(i.Util.Vector(n,o));else{var p=new R.ReplaySyncPoint;p.frame=t;for(var O=0;;){if((n=_.ReadFloat(e))!=Number.NEGATIVE_INFINITY){o=_.ReadFloat(e);var L=_.ReadFloat(e);c&&(L/=10)}var A;if(n==Number.NEGATIVE_INFINITY){if(0==E.length)break;A=E[E.length-1].positions.length}else A=_.ReadInt(e);for(;O<A;)p.positions.push(E[E.length-1].positions[O]),p.angles.push(E[E.length-1].angles[O]),O++;if(n==Number.NEGATIVE_INFINITY)break;p.positions.push(i.Util.Vector(n,o)),p.angles.push(L),O++}E.push(p)}var T=e.readObject().toString(),m=_.ReadInt(e),y=new Array;if(e.position!=e.length)for(;(t=_.ReadInt(e))!=Number.MIN_VALUE;){var S=_.ReadInt(e);y.push(new l.KeyPress(t,S))}return new a.Replay(r,E,y,m,T)}static WriteFloat(e,r){if(r==Number.NEGATIVE_INFINITY)return e.writeByte(-128),void e.writeByte(-128);if(r==Number.POSITIVE_INFINITY)return e.writeByte(127),void e.writeByte(127);r+=327,r*=100;var t=i.Util.NearestInt(r),a=t/256,n=t%256;e.writeByte(a-128),e.writeByte(n-128)}static WriteInt(e,r){r==Number.MIN_VALUE?(e.writeByte(-1),e.writeByte(-1)):-1==r?(e.writeByte(0),e.writeByte(-1)):(e.writeByte(r/128),e.writeByte(r%128))}static ReadFloat(e){var r=e.readByte()+128,t=e.readByte()+128;if(0==r&&0==t)return Number.NEGATIVE_INFINITY;if(255==r&&255==t)return Number.POSITIVE_INFINITY;var a=Number(256*r+t);return a/=100,a-=327}static ReadInt(e){var r=e.readByte(),t=e.readByte();return-1==r&&-1==t?Number.MIN_VALUE:0==r&&-1==t?-1:128*r+t}static NormalizeAngle(e){for(;e>=32.8;)e-=10*Math.PI;for(;e<=-32.7;)e+=10*Math.PI;return e}static StripNewlines(e){var r=new s.ByteArray;for(e.position+=4;e.position!=e.length;)r.writeByte(e.readByte());return r.position=0,r}static StripNewlinesAndExtractByte(e){var r=new s.ByteArray;for(e.position+=4,t.ControllerGameGlobals.potentialRobotEditable=49==e.readByte();e.position!=e.length;)r.writeByte(e.readByte());return r.position=0,r}static ParseTimestamp(e){var r=Date.parse(e.replace("-","/").replace("-","/").replace("T"," "));return isNaN(r)&&14==e.length&&(e=e.substr(0,4)+"/"+e.substr(4,2)+"/"+e.substr(6,2)+" "+e.substr(8,2)+":"+e.substr(10,2)+":"+e.substr(12,2),r=Date.parse(e)),r}}exports.Database=_,_.waitingForResponse=!1,_.curTransactionType=0,_.errorOccurred=!1,_.versionErrorOccurred=!1,_.nonfatalErrorOccurred=!1,_.curRobotPage=1,_.curReplayPage=1,_.curScorePage=1,_.curChallengePage=1,_.numPages=-1,_.highScoresChallenge="",_.highScoresChallengeName="",_.highScoresSortType=-1,_.highScoresDaily=!1,_.highScoresPersonal=!1,_.curSortType=1,_.curSortPeriod=-1,_.curShared=!0,_.curSearch="",_.NORMAL=0,_.SHARED=1,_.ALLTIME=2,_.DAILY=3,_.PERSONAL=4,_.SORT_BY_SCORE=-1,_.SORT_BY_VIEW_COUNT=0,_.SORT_BY_CREATION_TIME=1,_.SORT_BY_EDIT_TIME=2,_.SORT_ALPHABETICALLY=3,_.SORT_BY_RATING=4,_.SORT_PERIOD_FEATURED=-1,_.SORT_PERIOD_ALLTIME=0,_.SORT_PERIOD_TODAY=1,_.SORT_PERIOD_7DAYS=2,_.SORT_PERIOD_30DAYS=3,_.SORT_PERIOD_PROP=4,_.NUM_ACTIONS=28,_.ACTION_SAVE_ROBOT=0,_.ACTION_GET_ROBOT_DATA=1,_.ACTION_LOAD_ROBOT=2,_.ACTION_DELETE_ROBOT=3,_.ACTION_SAVE_REPLAY=4,_.ACTION_GET_REPLAY_DATA=5,_.ACTION_LOAD_REPLAY=6,_.ACTION_DELETE_REPLAY=7,_.ACTION_GET_SCORE_DATA=8,_.ACTION_ADD_USER=9,_.ACTION_LOGIN=10,_.ACTION_COMMENT_ROBOT=11,_.ACTION_COMMENT_REPLAY=12,_.ACTION_REPORT_ROBOT=13,_.ACTION_REPORT_REPLAY=14,_.ACTION_RATE_ROBOT=15,_.ACTION_RATE_REPLAY=16,_.ACTION_FEATURE_ROBOT=17,_.ACTION_FEATURE_REPLAY=18,_.ACTION_LOGIN_GOLD=19,_.ACTION_SAVE_CHALLENGE=20,_.ACTION_GET_CHALLENGE_DATA=21,_.ACTION_LOAD_CHALLENGE=22,_.ACTION_DELETE_CHALLENGE=23,_.ACTION_COMMENT_CHALLENGE=24,_.ACTION_REPORT_CHALLENGE=25,_.ACTION_RATE_CHALLENGE=26,_.ACTION_FEATURE_CHALLENGE=27,_.WRONG_VERSION_CODE=17,_.VERSION_STRING_FOR_REPLAYS="0.03",_.BASE_URL="http://localhost:8888/incredibots2/database/ggscores.php?version="+_.VERSION_STRING_FOR_REPLAYS+"&",_.UNKNOWN_MESSAGE="UNKNOWN",_.IO_MESSAGE="An I/O error has occurred.",_.SECURITY_MESSAGE="A security error has occurred.",_.NO_DATA_MESSAGE="An unknown error has occurred.",_.EXCEPTION_MESSAGE="An error has occurred.",_.ERROR_MESSAGES=["Failed to connect to the server.","A URL error has occurred.","A URL error has occurred.","A URL error has occurred.","A URL error has occurred.","You don't have permission to access that robot.","An invalid robot ID was used.","An unknown error has occurred (code 7).","An incorrect password was used.","The given username instanceof already in use.","An invalid username was used.","The given name instanceof too long.","The given name contains invalid characters.","The given name contains profanity.","An unknown error has occurred (code 14).","A URL error has occurred.","A database error has occurred.","You are playing an old version of IncrediBots.  Click OK to redirect to the current version.","An invalid replay ID was used.","Sorry, that user instanceof not an IncrediBots supporter. Click Subscribe to become one.","Your IncrediBots Gold subscription has expired.  Click Subscribe to renew.","An invalid challenge ID was used."],_.TIMEOUT_SECONDS=20;
},{"@box2d/core":"kjbO","../Game/Challenge":"yWA3","../Game/Globals/ControllerGameGlobals":"K8aL","../Game/Replay":"odHz","../Game/Robot":"H0hU","../Game/SandboxSettings":"ZSAP","./Util":"Zvyo","./ByteArray":"Ujas","../Game/CameraMovement":"s2SF","../Game/KeyPress":"pdwH","../Game/LossCondition":"CRKa","../Game/ReplaySyncPoint":"TXMb","../Game/WinCondition":"N9DM","../Main":"aM6Q","../Parts/Cannon":"vdN1","../Parts/FixedJoint":"QW19","../Parts/JointPart":"avwv","../Parts/PrismaticJoint":"nZSh","../Parts/RevoluteJoint":"AUAw","../Parts/ShapePart":"CDAe","../Parts/TextPart":"T0pq","../Parts/Thrusters":"Yw1p","../Parts/Triangle":"CRRv","../mx/utils/Base64Decoder":"VjcA","../mx/utils/Base64Encoder":"IeKD","../Parts/Circle":"PfXD","../Parts/Rectangle":"jYSx"}],"unNJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LSOManager=void 0;const a=require("./Util");class e{static Init(){e.obj=localStorage.Incredibots?JSON.parse(localStorage.Incredibots):e.obj,e.obj.data.hasOwnProperty("levelCheckmarks")||(e.obj.data.levelCheckmarks=0,e.flush(e.obj)),e.obj.data.hasOwnProperty("robotsRated")||(e.obj.data.robotsRated=new Array,e.flush(e.obj)),e.obj.data.hasOwnProperty("replaysRated")||(e.obj.data.replaysRated=new Array,e.flush(e.obj)),e.obj.data.hasOwnProperty("challengesRated")||(e.obj.data.challengesRated=new Array,e.flush(e.obj)),e.obj.data.hasOwnProperty("readTerms2")||(e.obj.data.readTerms2=!1),e.flush(e.obj)}static IsLevelDone(a){return 0!=(e.obj.data.levelCheckmarks&1<<a)}static IsAnythingDone(){return 0!=e.obj.data.levelCheckmarks}static SetLevelDone(a){e.obj.data.levelCheckmarks|=1<<a,e.flush(e.obj)}static HasRatedRobot(t){return a.Util.ObjectInArray(t,e.obj.data.robotsRated)}static HasRatedReplay(t){return a.Util.ObjectInArray(t,e.obj.data.replaysRated)}static HasRatedChallenge(t){return a.Util.ObjectInArray(t,e.obj.data.challengesRated)}static SetRobotRated(a){e.obj.data.robotsRated.push(a),e.flush(e.obj)}static SetReplayRated(a){e.obj.data.replaysRated.push(a),e.flush(e.obj)}static SetChallengeRated(a){e.obj.data.challengesRated.push(a),e.flush(e.obj)}static HasReadTerms(){return e.obj.data.readTerms2}static SetTermsRead(){e.obj.data.readTerms2=!0,e.flush(e.obj)}static flush(a){localStorage.Incredibots=JSON.stringify(a)}}exports.LSOManager=e,e.obj={data:{levelCheckmarks:0,robotsRated:[],replaysRated:[],challengesRated:[],readTerms2:!1}};
},{"./Util":"Zvyo"}],"T7gT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Controller=void 0;const e=require("pixi.js");class n extends Error{}class o extends e.Container{constructor(){super(...arguments),this.controllerType="controller"}Update(){throw new n("abstract function Controller.Update() called")}ShowDialog(e){}ShowDialog2(e){}ShowDialog3(e){}ShowLinkDialog(e,n,o=!1,t="",i=!1){}HideDialog(e){}HideLinkDialog(e){}HideExportDialog(e){}HideImportDialog(e){}ShowImportWindow(e){}ShowConfirmDialog(e,n){}HideConfirmDialog(e){}ConfirmDeleteRobot(e){}ConfirmDeleteReplay(e){}ConfirmDeleteChallenge(e){}ConfirmLogout(e){}DialogOK(e){}finishGettingLoadRobotData(e){}finishGettingLoadReplayData(e){}finishGettingLoadChallengeData(e){}finishGettingLoadChallengeForScoreData(e){}finishGettingScoreData(e){}finishLoading(e){}finishLoadingReplay(e){}finishLoadingChallenge(e){}finishDeleting(e){}finishDeletingReplay(e){}finishDeletingChallenge(e){}loginButton(e,n=!1,o=!1,t=!1){}finishLoggingIn(e){}finishAddingUser(e){}finishExporting(e,n){}commentButton(e,n="",o=!1){}linkButton(e,n="",o=!1){}embedButton(e,n="",o=!1){}commentReplayButton(e,n="",o=!1){}linkReplayButton(e,n="",o=!1){}embedReplayButton(e,n="",o=!1){}commentChallengeButton(e,n="",o=!1){}linkChallengeButton(e,n="",o=!1){}embedChallengeButton(e,n="",o=!1){}processLoadedRobot(e){}processLoadedReplay(e){}processLoadedChallenge(e){}GuiCallback(e){}IsPaused(){return!1}GetPhysScale(){return 30}GetMinX(){return-25}GetMaxX(){return 25}GetMinY(){return-25}GetMaxY(){return 25}World2ScreenX(e){return 40*e}World2ScreenY(e){return 40*e}keyInput(e,n){}SyncReplay(e){}SyncReplay2(e,n){}MoveCameraForReplay(e){}}exports.Controller=o;
},{"pixi.js":"aQiP"}],"H8Kw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2DebugDraw=void 0;const i=require("@box2d/core"),t=require("../../General/Util");class r{constructor(){this.drawColours=!0,this.m_drawScale=1,this.m_drawXOff=0,this.m_drawYOff=0,this.m_lineThickness=.08,this.m_alpha=1,this.m_fillAlpha=1,this.m_xformScale=1,this.m_drawFlags=0}SetFlags(i){this.m_drawFlags=i}GetFlags(){return this.m_drawFlags}AppendFlags(i){this.m_drawFlags|=i}ClearFlags(i){this.m_drawFlags&=~i}DrawPolygon(i,r,s){if(this.IsPolygonOnScreen(i,r)){this.m_sprite.lineStyle(1,t.Util.b2ColorToHex(s),this.m_alpha),this.m_sprite.moveTo(i[0].x*this.m_drawScale-this.m_drawXOff,i[0].y*this.m_drawScale-this.m_drawYOff);for(var a=1;a<r;a++)this.m_sprite.lineTo(i[a].x*this.m_drawScale-this.m_drawXOff,i[a].y*this.m_drawScale-this.m_drawYOff);this.m_sprite.lineTo(i[0].x*this.m_drawScale-this.m_drawXOff,i[0].y*this.m_drawScale-this.m_drawYOff)}}DrawSolidPolygon(i,s,a,e=!1,h=!0){if(this.IsPolygonOnScreen(i,s)){var l=r.DarkenColour(a);h?this.m_sprite.lineStyle(this.m_lineThickness*this.m_drawScale,this.drawColours?t.Util.b2ColorToHex(e?r.DarkenColour(l):l):t.Util.b2ColorToHex(a),this.m_alpha):this.m_sprite.lineStyle(0,0,0),this.m_sprite.moveTo(i[0].x*this.m_drawScale-this.m_drawXOff,i[0].y*this.m_drawScale-this.m_drawYOff),this.m_sprite.beginFill(this.drawColours&&e?t.Util.b2ColorToHex(r.BrightenColour(a)):t.Util.b2ColorToHex(a),this.m_fillAlpha*(e?.8:1));for(var m=1;m<s;m++)this.m_sprite.lineTo(i[m].x*this.m_drawScale-this.m_drawXOff,i[m].y*this.m_drawScale-this.m_drawYOff);this.m_sprite.lineTo(i[0].x*this.m_drawScale-this.m_drawXOff,i[0].y*this.m_drawScale-this.m_drawYOff),this.m_sprite.endFill()}}DrawSolidCannon(i,s,a,e=!1,h=!0){if(this.IsPolygonOnScreen(i,s)){var l=r.DarkenColour(a);h?this.m_sprite.lineStyle(this.m_lineThickness*this.m_drawScale,this.drawColours?t.Util.b2ColorToHex(e?r.DarkenColour(l):l):t.Util.b2ColorToHex(a),this.m_alpha):this.m_sprite.lineStyle(0,0,0),this.m_sprite.moveTo(i[0].x*this.m_drawScale-this.m_drawXOff,i[0].y*this.m_drawScale-this.m_drawYOff),this.m_sprite.beginFill(t.Util.b2ColorToHex(a),this.m_fillAlpha*(e?.8:1)),this.m_sprite.lineTo(i[1].x*this.m_drawScale-this.m_drawXOff,i[1].y*this.m_drawScale-this.m_drawYOff),this.m_sprite.lineTo(i[2].x*this.m_drawScale-this.m_drawXOff,i[2].y*this.m_drawScale-this.m_drawYOff),this.m_sprite.lineTo(i[3].x*this.m_drawScale-this.m_drawXOff,i[3].y*this.m_drawScale-this.m_drawYOff),this.m_sprite.lineTo(i[0].x*this.m_drawScale-this.m_drawXOff,i[0].y*this.m_drawScale-this.m_drawYOff),this.m_sprite.endFill(),this.m_sprite.moveTo(i[0].x*this.m_drawScale-this.m_drawXOff,i[0].y*this.m_drawScale-this.m_drawYOff),this.m_sprite.lineTo(.5*(i[1].x+i[2].x)*this.m_drawScale-this.m_drawXOff,.5*(i[1].y+i[2].y)*this.m_drawScale-this.m_drawYOff),this.m_sprite.lineTo(i[3].x*this.m_drawScale-this.m_drawXOff,i[3].y*this.m_drawScale-this.m_drawYOff)}}DrawCircle(i,r,s){this.IsCircleOnScreen(i,r)&&(this.m_sprite.lineStyle(1,t.Util.b2ColorToHex(s),this.m_alpha),this.m_sprite.drawCircle(i.x*this.m_drawScale-this.m_drawXOff,i.y*this.m_drawScale-this.m_drawYOff,r*this.m_drawScale))}DrawSolidCircle(i,s,a,e,h=!1,l=!0,m=!1){if(this.IsCircleOnScreen(i,s)){var _=r.DarkenColour(e);if(l?this.m_sprite.lineStyle(this.m_lineThickness*this.m_drawScale,this.drawColours?t.Util.b2ColorToHex(h?r.DarkenColour(_):_):t.Util.b2ColorToHex(e),this.m_alpha):this.m_sprite.lineStyle(0,0,0),this.m_sprite.moveTo(0,0),this.m_sprite.beginFill(this.drawColours?t.Util.b2ColorToHex(h?r.BrightenColour(e):e):t.Util.b2ColorToHex(e),this.m_fillAlpha*(h?.8:1)),this.m_sprite.drawCircle(i.x*this.m_drawScale-this.m_drawXOff,i.y*this.m_drawScale-this.m_drawYOff,s*this.m_drawScale),this.m_sprite.endFill(),l&&!m)for(var o=0;o<16;o++){var d=Math.atan2(a.s,a.c)+2*o*Math.PI/16;this.m_sprite.moveTo((i.x+Math.cos(d)*(.9*s))*this.m_drawScale-this.m_drawXOff,(i.y+Math.sin(d)*(.9*s))*this.m_drawScale-this.m_drawYOff),this.m_sprite.lineTo((i.x+Math.cos(d)*s)*this.m_drawScale-this.m_drawXOff,(i.y+Math.sin(d)*s)*this.m_drawScale-this.m_drawYOff)}}}DrawSegment(i,r,s){this.m_sprite.lineStyle(1,t.Util.b2ColorToHex(s),this.m_alpha),this.m_sprite.moveTo(i.x*this.m_drawScale-this.m_drawXOff,i.y*this.m_drawScale-this.m_drawYOff),this.m_sprite.lineTo(r.x*this.m_drawScale-this.m_drawXOff,r.y*this.m_drawScale-this.m_drawYOff)}DrawSolidSegment(i,r,s){this.m_sprite.lineStyle(this.m_lineThickness*this.m_drawScale,t.Util.b2ColorToHex(s),this.m_alpha),this.m_sprite.moveTo(i.x*this.m_drawScale-this.m_drawXOff,i.y*this.m_drawScale-this.m_drawYOff),this.m_sprite.lineTo(r.x*this.m_drawScale-this.m_drawXOff,r.y*this.m_drawScale-this.m_drawYOff)}IsPolygonOnScreen(i,t){var r,s;r=i[0].x<-5,s=i[0].y<-5;for(var a=0;a<t;a++){var e=i[a].x*this.m_drawScale-this.m_drawXOff,h=i[a].y*this.m_drawScale-this.m_drawYOff;if((e>=-5||!r)&&(e<805||r)&&(h>=-5||!s)&&(h<605||s))return!0}return!1}IsCircleOnScreen(t,r){var s=new i.b2Vec2,a=r*this.m_drawScale;return s.x=t.x*this.m_drawScale-this.m_drawXOff,s.y=t.y*this.m_drawScale-this.m_drawYOff,s.x+a>=-5&&s.x-a<805&&s.y+a>=-5&&s.y-a<605}static BrightenColour(t){var s,a,e,h=r.GetR(t),l=r.GetG(t),m=r.GetB(t),_=Math.max(h,l,m),o=100*_/255+20;return 0==h&&(h=1),0==l&&(l=1),0==m&&(m=1),0==_&&(_=1),s=255*h/_*o/100,a=255*l/_*o/100,e=255*m/_*o/100,s=Math.min(s,255),a=Math.min(a,255),e=Math.min(e,255),new i.b2Color(s/255,a/255,e/255)}static DarkenColour(t){var s,a,e,h=r.GetR(t),l=r.GetG(t),m=r.GetB(t),_=Math.max(h,l,m),o=100*_/255-40;return s=255*h/_*o/100,a=255*l/_*o/100,e=255*m/_*o/100,s=Math.max(s,0),a=Math.max(a,0),e=Math.max(e,0),new i.b2Color(s/255,a/255,e/255)}static GetR(i){return(16711680&t.Util.b2ColorToHex(i))>>16}static GetG(i){return(65280&t.Util.b2ColorToHex(i))>>8}static GetB(i){return 255&t.Util.b2ColorToHex(i)}}exports.b2DebugDraw=r,r.e_shapeBit=1,r.e_jointBit=2,r.e_coreShapeBit=4,r.e_aabbBit=8,r.e_obbBit=16,r.e_pairBit=32,r.e_centerOfMassBit=64;
},{"@box2d/core":"kjbO","../../General/Util":"Zvyo"}],"tHDu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Draw=void 0;const e=require("pixi.js"),t=require("@box2d/core"),a=require("../General/Util"),i=require("../Main"),n=require("../Parts/Cannon"),o=require("../Parts/Circle"),r=require("../Parts/FixedJoint"),l=require("../Parts/JointPart"),s=require("../Parts/PrismaticJoint"),h=require("../Parts/Rectangle"),c=require("../Parts/RevoluteJoint"),w=require("../Parts/ShapePart"),C=require("../Parts/TextPart"),b=require("../Parts/Thrusters"),d=require("../Parts/Triangle"),_=require("./Globals/ControllerGameGlobals"),m=require("./Graphics/b2DebugDraw");class g extends m.b2DebugDraw{DrawWorld(_,m,G,M=!0,S=!0,f=!0,u=null){var D;if(this.m_sprite.clear(),u&&(G||u.showConditions)){for(D=0;D<u.winConditions.length;D++)0==u.winConditions[D].object?((Z=new Array(4))[0]=new t.b2Vec2(u.winConditions[D].minX,u.winConditions[D].minY),Z[1]=new t.b2Vec2(u.winConditions[D].minX,u.winConditions[D].maxY),Z[2]=new t.b2Vec2(u.winConditions[D].maxX,u.winConditions[D].maxY),Z[3]=new t.b2Vec2(u.winConditions[D].maxX,u.winConditions[D].minY),this.drawColours&&(this.m_fillAlpha=.2),this.DrawSolidPolygon(Z,4,new t.b2Color(.5,.8,.5))):u.winConditions[D].object<5&&this.DrawSolidSegment(new t.b2Vec2(u.winConditions[D].minX,u.winConditions[D].minY),new t.b2Vec2(u.winConditions[D].maxX,u.winConditions[D].maxY),g.DarkenColour(new t.b2Color(.5,.8,.5)));for(D=0;D<u.lossConditions.length;D++)0==u.lossConditions[D].object?((Z=new Array(4))[0]=new t.b2Vec2(u.lossConditions[D].minX,u.lossConditions[D].minY),Z[1]=new t.b2Vec2(u.lossConditions[D].minX,u.lossConditions[D].maxY),Z[2]=new t.b2Vec2(u.lossConditions[D].maxX,u.lossConditions[D].maxY),Z[3]=new t.b2Vec2(u.lossConditions[D].maxX,u.lossConditions[D].minY),this.drawColours&&(this.m_fillAlpha=.2),this.DrawSolidPolygon(Z,4,new t.b2Color(.8,.7,.7))):u.lossConditions[D].object<5&&this.DrawSolidSegment(new t.b2Vec2(u.lossConditions[D].minX,u.lossConditions[D].minY),new t.b2Vec2(u.lossConditions[D].maxX,u.lossConditions[D].maxY),g.DarkenColour(new t.b2Color(.7,.7,.8)))}if(G){if(this.drawColours&&f)for(D=0;D<_.length;D++)if((!_[D].isStatic||_[D].isEditable||M||_[D].drawAnyway)&&_[D]instanceof w.ShapePart&&_[D].terrain&&_[D].outline){var y=g.s_normalColor,V=!1;this.drawColours?(y=new t.b2Color(_[D].red/255,_[D].green/255,_[D].blue/255),(_[D]instanceof w.ShapePart&&_[D].highlightForJoint||a.Util.ObjectInArray(_[D],m))&&(V=!0)):(_[D].isEditable||(y=g.s_uneditableColor),_[D].isStatic&&_[D].isEditable&&(y=g.s_staticEditableColor),a.Util.ObjectInArray(_[D],m)&&(y=g.s_selectedColor),_[D].isStatic&&!_[D].isEditable&&(y=g.s_staticColor),_[D]instanceof w.ShapePart&&_[D].highlightForJoint&&(y=g.s_jointCreatingColor)),y=g.DarkenColour(y),V&&(y=g.DarkenColour(y));var p=Math.max(.1,this.m_lineThickness*Math.pow(this.m_drawScale,.5)/8);if(_[D]instanceof o.Circle){var I=_[D];this.m_fillAlpha=I.opacity/255,this.DrawSolidCircle(new t.b2Vec2(I.centerX,I.centerY),I.radius+.8*p,new t.b2Rot(I.angle),y,!1,!1)}else if(_[D]instanceof h.Rectangle){var A=_[D];this.m_fillAlpha=A.opacity/255,this.DrawSolidPolygon(A.GetVerticesForOutline(p),4,y,!1,!1)}else if(_[D]instanceof d.Triangle){var T=_[D];this.m_fillAlpha=T.opacity/255,this.DrawSolidPolygon(T.GetVerticesForOutline(p),3,y,!1,!1)}else if(_[D]instanceof n.Cannon){var P=_[D];this.m_fillAlpha=P.opacity/255,this.DrawSolidPolygon(P.GetVerticesForOutline(p),4,y,!1,!1)}}for(D=0;D<_.length;D++)if((!_[D].isStatic||_[D].isEditable||M||_[D].drawAnyway)&&(_[D]instanceof w.ShapePart||_[D]instanceof s.PrismaticJoint))if(y=g.s_normalColor,V=!1,this.drawColours?(y=new t.b2Color(_[D].red/255,_[D].green/255,_[D].blue/255),(_[D]instanceof w.ShapePart&&_[D].highlightForJoint||a.Util.ObjectInArray(_[D],m))&&(V=!0)):(_[D]instanceof l.JointPart&&(y=g.s_jointColor),_[D].isEditable||(y=g.s_uneditableColor),_[D].isStatic&&_[D].isEditable&&(y=g.s_staticEditableColor),a.Util.ObjectInArray(_[D],m)&&(y=g.s_selectedColor),_[D].isStatic&&!_[D].isEditable&&(y=g.s_staticColor),_[D]instanceof w.ShapePart&&_[D].highlightForJoint&&(y=g.s_jointCreatingColor)),_[D]instanceof o.Circle)I=_[D],this.drawColours&&(this.m_fillAlpha=I.opacity/255),this.DrawSolidCircle(new t.b2Vec2(I.centerX,I.centerY),I.radius,new t.b2Rot(I.angle),y,V,I.outline&&(!I.terrain||!this.drawColours)&&f);else if(_[D]instanceof h.Rectangle)A=_[D],this.drawColours&&(this.m_fillAlpha=A.opacity/255),this.DrawSolidPolygon(A.GetVertices(),4,y,V,A.outline&&(!A.terrain||!this.drawColours)&&f);else if(_[D]instanceof d.Triangle)T=_[D],this.drawColours&&(this.m_fillAlpha=T.opacity/255),this.DrawSolidPolygon(T.GetVertices(),3,y,V,T.outline&&(!T.terrain||!this.drawColours)&&f);else if(_[D]instanceof n.Cannon)P=_[D],this.drawColours&&(this.m_fillAlpha=P.opacity/255),this.DrawSolidCannon(P.GetVertices(),4,y,V,P.outline&&(!P.terrain||!this.drawColours)&&f);else if(_[D]instanceof s.PrismaticJoint){var N=_[D],L=N.anchorX-N.axis.x*N.initLength/2,x=N.anchorY-N.axis.y*N.initLength/2,E=N.anchorX+N.axis.x*N.initLength/2,v=N.anchorY+N.axis.y*N.initLength/2,X=Math.atan2(N.axis.y,N.axis.x);this.drawColours&&(this.m_fillAlpha=N.opacity/255),(J=new Array)[0]=new t.b2Vec2(L-.25,x-.05),J[1]=new t.b2Vec2(L+.25,x-.05),J[2]=new t.b2Vec2(L+.25,x+.05),J[3]=new t.b2Vec2(L-.25,x+.05);var R=Math.sqrt(.065);for(H=0;H<4;H++){var U=Math.atan2(J[H].y-x,J[H].x-L);U=a.Util.NormalizeAngle(X+U+Math.PI/2),J[H].x=L+R*Math.cos(U),J[H].y=x+R*Math.sin(U)}this.DrawSolidPolygon(J,4,y,V,N.outline&&f);var W=L+(R=Math.sqrt(.2*.2+N.initLength*N.initLength/4))*Math.cos(Math.atan2(-N.initLength/2,-.2)+X+Math.PI/2),O=x+R*Math.sin(Math.atan2(-N.initLength/2,-.2)+X+Math.PI/2);for(J[0]=new t.b2Vec2(L-.05,x-N.initLength/2),J[1]=new t.b2Vec2(L+.05,x-N.initLength/2),J[2]=new t.b2Vec2(L+.05,x+N.initLength/2),J[3]=new t.b2Vec2(L-.05,x+N.initLength/2),R=Math.sqrt(.05*.05+N.initLength*N.initLength/4),H=0;H<4;H++)U=Math.atan2(J[H].y-x,J[H].x-L),U=a.Util.NormalizeAngle(X+U+Math.PI/2),J[H].x=W+R*Math.cos(U),J[H].y=O+R*Math.sin(U);for(this.DrawSolidPolygon(J,4,y,V,N.outline&&f),W=L+(R=Math.sqrt(.2*.2+N.initLength*N.initLength/4))*Math.cos(Math.atan2(-N.initLength/2,.2)+X+Math.PI/2),O=x+R*Math.sin(Math.atan2(-N.initLength/2,.2)+X+Math.PI/2),J[0]=new t.b2Vec2(L-.05,x-N.initLength/2),J[1]=new t.b2Vec2(L+.05,x-N.initLength/2),J[2]=new t.b2Vec2(L+.05,x+N.initLength/2),J[3]=new t.b2Vec2(L-.05,x+N.initLength/2),R=Math.sqrt(.05*.05+N.initLength*N.initLength/4),H=0;H<4;H++)U=Math.atan2(J[H].y-x,J[H].x-L),U=a.Util.NormalizeAngle(X+U+Math.PI/2),J[H].x=W+R*Math.cos(U),J[H].y=O+R*Math.sin(U);for(this.DrawSolidPolygon(J,4,y,V,N.outline&&f),W=L+(R=Math.sqrt(.0225+N.initLength*N.initLength))*Math.cos(Math.atan2(-N.initLength,-.15)+X+Math.PI/2),O=x+R*Math.sin(Math.atan2(-N.initLength,-.15)+X+Math.PI/2),J[0]=new t.b2Vec2(L-.1,x-.05),J[1]=new t.b2Vec2(L+.1,x-.05),J[2]=new t.b2Vec2(L+.1,x+.05),J[3]=new t.b2Vec2(L-.1,x+.05),R=Math.sqrt(.1*.1+.05*.05),H=0;H<4;H++)U=Math.atan2(J[H].y-x,J[H].x-L),U=a.Util.NormalizeAngle(X+U+Math.PI/2),J[H].x=W+R*Math.cos(U),J[H].y=O+R*Math.sin(U);for(this.DrawSolidPolygon(J,4,y,V,N.outline&&f),W=L+(R=Math.sqrt(.0225+N.initLength*N.initLength))*Math.cos(Math.atan2(-N.initLength,.15)+X+Math.PI/2),O=x+R*Math.sin(Math.atan2(-N.initLength,.15)+X+Math.PI/2),J[0]=new t.b2Vec2(L-.1,x-.05),J[1]=new t.b2Vec2(L+.1,x-.05),J[2]=new t.b2Vec2(L+.1,x+.05),J[3]=new t.b2Vec2(L-.1,x+.05),R=Math.sqrt(.1*.1+.05*.05),H=0;H<4;H++)U=Math.atan2(J[H].y-x,J[H].x-L),U=a.Util.NormalizeAngle(X+U+Math.PI/2),J[H].x=W+R*Math.cos(U),J[H].y=O+R*Math.sin(U);for(this.DrawSolidPolygon(J,4,y,V,N.outline&&f),W=E+(R=N.initLength/2-.1)*Math.cos(Math.atan2(N.initLength/2-.1,0)+X+Math.PI/2),O=v+R*Math.sin(Math.atan2(N.initLength/2-.1,0)+X+Math.PI/2),J[0]=new t.b2Vec2(E-.05,v-N.initLength/2),J[1]=new t.b2Vec2(E+.05,v-N.initLength/2),J[2]=new t.b2Vec2(E+.05,v+N.initLength/2),J[3]=new t.b2Vec2(E-.05,v+N.initLength/2),R=Math.sqrt(.05*.05+N.initLength*N.initLength/4),H=0;H<4;H++)U=Math.atan2(J[H].y-v,J[H].x-E),U=a.Util.NormalizeAngle(X+U+Math.PI/2),J[H].x=W+R*Math.cos(U),J[H].y=O+R*Math.sin(U);for(this.DrawSolidPolygon(J,4,y,V,N.outline&&f),W=E+(R=N.initLength-.1)*Math.cos(Math.atan2(N.initLength-.1,0)+X+Math.PI/2),O=v+R*Math.sin(Math.atan2(N.initLength-.1,0)+X+Math.PI/2),J[0]=new t.b2Vec2(E-.15,v-.05),J[1]=new t.b2Vec2(E+.15,v-.05),J[2]=new t.b2Vec2(E+.15,v+.05),J[3]=new t.b2Vec2(E-.15,v+.05),R=Math.sqrt(.025),H=0;H<4;H++)U=Math.atan2(J[H].y-v,J[H].x-E),U=a.Util.NormalizeAngle(X+U+Math.PI/2),J[H].x=W+R*Math.cos(U),J[H].y=O+R*Math.sin(U);this.DrawSolidPolygon(J,4,y,V,N.outline&&f)}if(S)for(D=0;D<_.length;D++)if(_[D]instanceof l.JointPart||_[D]instanceof b.Thrusters)if(y=g.s_jointColor,_[D].isEditable||(y=g.s_uneditableColor),_[D].isStatic&&_[D].isEditable&&(y=g.s_staticEditableColor),a.Util.ObjectInArray(_[D],m)&&(y=g.s_selectedColor),_[D].isStatic&&!_[D].isEditable&&(y=g.s_staticColor),_[D]instanceof w.ShapePart&&_[D].highlightForJoint&&(y=g.s_jointCreatingColor),_[D]instanceof r.FixedJoint)for(var q=_[D],H=0;H<2;H++){var J=new Array;J[0]=new t.b2Vec2(q.anchorX-.075*(H+1)*30/this.m_drawScale,q.anchorY-.075*(H+1)*30/this.m_drawScale),J[1]=new t.b2Vec2(q.anchorX-.075*(H+1)*30/this.m_drawScale,q.anchorY+.075*(H+1)*30/this.m_drawScale),J[2]=new t.b2Vec2(q.anchorX+.075*(H+1)*30/this.m_drawScale,q.anchorY+.075*(H+1)*30/this.m_drawScale),J[3]=new t.b2Vec2(q.anchorX+.075*(H+1)*30/this.m_drawScale,q.anchorY-.075*(H+1)*30/this.m_drawScale),this.DrawPolygon(J,4,y)}else if(_[D]instanceof c.RevoluteJoint){var F=_[D];this.DrawCircle(new t.b2Vec2(F.anchorX,F.anchorY),2.25/this.m_drawScale,y),this.DrawCircle(new t.b2Vec2(F.anchorX,F.anchorY),4.5/this.m_drawScale,y)}else if(_[D]instanceof b.Thrusters){var Y=_[D];for(H=0;H<2;H++)(J=new Array)[0]=new t.b2Vec2(Y.centerX+.2*Math.cos(Y.angle)*(H+1)*30/this.m_drawScale,Y.centerY+.2*Math.sin(Y.angle)*(H+1)*30/this.m_drawScale),J[1]=new t.b2Vec2(Y.centerX+.1*Math.cos(Y.angle+2*Math.PI/3)*(H+1)*30/this.m_drawScale,Y.centerY+.1*Math.sin(Y.angle+2*Math.PI/3)*(H+1)*30/this.m_drawScale),J[2]=new t.b2Vec2(Y.centerX+.1*Math.cos(Y.angle+4*Math.PI/3)*(H+1)*30/this.m_drawScale,Y.centerY+.1*Math.sin(Y.angle+4*Math.PI/3)*(H+1)*30/this.m_drawScale),this.DrawPolygon(J,3,y)}}else{var B;this.GetFlags();if(this.drawColours&&f)for(D=0;D<_.length;D++)(!_[D].isStatic||_[D].isEditable||M||_[D].drawAnyway)&&_[D]instanceof w.ShapePart&&_[D].terrain&&_[D].outline&&(B=_[D].GetBody().GetTransform(),_[D]instanceof n.Cannon?this.DrawCannonForOutline(_[D].GetShape(),B,new t.b2Color(_[D].red/255,_[D].green/255,_[D].blue/255),_[D].opacity/255):this.DrawShapeForOutline(_[D].GetShape(),B,new t.b2Color(_[D].red/255,_[D].green/255,_[D].blue/255),_[D].opacity/255));for(D=0;D<_.length;D++){if(!_[D].isStatic||_[D].isEditable||M||_[D].drawAnyway)if(_[D]instanceof w.ShapePart)B=_[D].GetBody().GetTransform(),this.drawColours?_[D]instanceof n.Cannon?this.DrawCannon(_[D].GetShape(),_[D].GetUserData(),B,new t.b2Color(_[D].red/255,_[D].green/255,_[D].blue/255),_[D].opacity/255,f):this.DrawShape(_[D].GetShape(),_[D].GetUserData(),B,new t.b2Color(_[D].red/255,_[D].green/255,_[D].blue/255),_[D].opacity/255,f):_[D].isStatic?_[D]instanceof n.Cannon?this.DrawCannon(_[D].GetShape(),_[D].GetUserData(),B,g.s_staticColor,1,f):this.DrawShape(_[D].GetShape(),_[D].GetUserData(),B,g.s_staticColor,1,f):_[D]instanceof n.Cannon?this.DrawCannon(_[D].GetShape(),_[D].GetUserData(),B,g.s_normalColor,1,f):this.DrawShape(_[D].GetShape(),_[D].GetUserData(),B,g.s_normalColor,1,f);else if(_[D]instanceof s.PrismaticJoint){const e=_[D];var j=e.GetFixtures();for(H=0;H<j.length;H++){const a=j[H];B=a.GetBody().GetTransform(),this.drawColours?this.DrawShape(a.GetShape(),e.part2.GetUserData(),B,new t.b2Color(_[D].red/255,_[D].green/255,_[D].blue/255),_[D].opacity/255,f):_[D].isStatic?this.DrawShape(a.GetShape(),e.part2.GetUserData(),B,g.s_staticColor,1,f):this.DrawShape(a.GetShape(),e.part2.GetUserData(),B,g.s_normalColor,1,f)}}if(_[D]instanceof n.Cannon)for(H=0;H<_[D].cannonballs.length;H++){const e=_[D].cannonballs[H];B=e.GetTransform(),this.drawColours?this.DrawShape(e.GetFixtureList().GetShape(),_[D].GetUserData(),B,new t.b2Color(_[D].red/255,_[D].green/255,_[D].blue/255),_[D].opacity/255,f,!0):this.DrawShape(e.GetFixtureList().GetShape(),_[D].GetUserData(),B,g.s_normalColor,1,f,!0)}}}for(D=0;D<_.length;D++)if(_[D]instanceof C.TextPart){_[D].m_textField.visible=G||_[D].alwaysVisible||_[D].displayKeyPressed,_[D].m_textField.x=_[D].x*this.m_drawScale-this.m_drawXOff,_[D].m_textField.y=_[D].y*this.m_drawScale-this.m_drawYOff;var k=new e.TextStyle;if(k.fontSize=_[D].scaleWithZoom?_[D].size*this.m_drawScale/30:_[D].size,k.fill=_[D].red<<16|_[D].green<<8|_[D].blue,k.fontFamily=i.Main.GLOBAL_FONT,_[D].m_textField.style=k,G){var z=a.Util.ObjectInArray(_[D],m)?new t.b2Color(1,1,1):new t.b2Color(.1,.1,.1),Z=new Array;Z[0]=new t.b2Vec2(_[D].x,_[D].y),Z[1]=new t.b2Vec2(_[D].x+_[D].w,_[D].y),Z[2]=new t.b2Vec2(_[D].x+_[D].w,_[D].y+_[D].h),Z[3]=new t.b2Vec2(_[D].x,_[D].y+_[D].h),this.DrawPolygon(Z,4,z);var K=new Array;for(H=0;H<4;H++)K[0]=new t.b2Vec2(Z[H].x-4/this.m_drawScale,Z[H].y-4/this.m_drawScale),K[1]=new t.b2Vec2(Z[H].x-4/this.m_drawScale,Z[H].y+4/this.m_drawScale),K[2]=new t.b2Vec2(Z[H].x+4/this.m_drawScale,Z[H].y+4/this.m_drawScale),K[3]=new t.b2Vec2(Z[H].x+4/this.m_drawScale,Z[H].y-4/this.m_drawScale),this.DrawPolygon(K,4,z)}}}DrawJoint(e){var i=e.GetBodyA(),n=e.GetBodyB(),o=i.GetTransform(),r=n.GetTransform(),l=o.GetPosition(),s=r.GetPosition(),h=new t.b2Vec2,c=new t.b2Vec2;e.GetAnchorA(h),e.GetAnchorB(c);var w=g.s_jointColor;switch(e.GetType()){case t.b2JointType.e_revoluteJoint:this.DrawCircle(h,1.5/this.m_drawScale,w),this.DrawCircle(c,3/this.m_drawScale,w);break;case t.b2JointType.e_prismaticJoint:var C=new t.b2Vec2,b=new t.b2Vec2;e.GetBodyA().GetWorldPoint(e.GetUserData().localPoint1,C),e.GetBodyB().GetWorldPoint(e.GetUserData().localPoint2,b),this.DrawSegment(C,b,w);var d=a.Util.Midpoint(C,b);this.DrawCircle(d,1.5/this.m_drawScale,w),this.DrawCircle(d,3/this.m_drawScale,w);break;case t.b2JointType.e_mouseJoint:this.DrawSegment(h,c,w);break;default:i.GetUserData().groundBody||this.DrawSegment(l,h,w),n.GetUserData().groundBody||this.DrawSegment(s,c,w),this.DrawSegment(h,c,w)}}DrawShape(e,a,i,n,o,r=!0,l=!1){switch(e.GetType()){case t.b2ShapeType.e_circle:{var s=e;const w=new t.b2Vec2;t.b2Transform.MultiplyVec2(i,s.m_p,w);var h=s.m_radius,c=i.q;this.drawColours&&(this.m_fillAlpha=o),this.DrawSolidCircle(w,h,c,n,!1,a.outline&&(!this.drawColours||!a.terrain)&&r,l)}break;case t.b2ShapeType.e_polygon:var w,C=e,b=C.m_count,d=C.m_vertices,_=new Array(t.b2_maxPolygonVertices);for(w=0;w<b;++w){const e=new t.b2Vec2;t.b2Transform.MultiplyVec2(i,d[w],e),_[w]=e}this.drawColours&&(this.m_fillAlpha=o),this.DrawSolidPolygon(_,b,n,!1,a.outline&&(!this.drawColours||!a.terrain)&&r)}}DrawCannon(e,a,i,n,o,r=!0){for(var l=e,s=[l.m_vertices[3],l.m_vertices[0],l.m_vertices[1],l.m_vertices[2]],h=new Array,c=0;c<4;++c){const e=new t.b2Vec2;t.b2Transform.MultiplyVec2(i,s[c],e),h[c]=e}this.drawColours&&(this.m_fillAlpha=o),this.DrawSolidCannon(h,4,n,!1,a.outline&&(!this.drawColours||!a.terrain)&&r)}DrawShapeForOutline(e,a,i,n){i=g.DarkenColour(i);var o=Math.max(.1,this.m_lineThickness*Math.pow(this.m_drawScale,.5)/8);switch(e.GetType()){case t.b2ShapeType.e_circle:{var r=e;const o=new t.b2Vec2;t.b2Transform.MultiplyVec2(a,r.m_p,o);var l=r.m_radius,s=a.q;this.drawColours&&(this.m_fillAlpha=n),this.DrawSolidCircle(o,l,s,i,!1,!1)}break;case t.b2ShapeType.e_polygon:var h,c=e,C=c.m_count,b=c.m_vertices,d=new Array(t.b2_maxPolygonVertices);for(h=0;h<C;++h){const e=new t.b2Vec2;t.b2Transform.MultiplyVec2(a,b[h],e),d[h]=e}d=w.ShapePart.GetOutlineVertices(d,C,o),this.drawColours&&(this.m_fillAlpha=n),this.DrawSolidPolygon(d,C,i,!1,!1)}}DrawCannonForOutline(e,a,i,n){i=g.DarkenColour(i);for(var o=Math.max(.1,this.m_lineThickness*Math.pow(this.m_drawScale,.5)/8),r=e.m_vertices,l=new Array(t.b2_maxPolygonVertices),s=0;s<4;++s){const e=new t.b2Vec2;t.b2Transform.MultiplyVec2(a,r[s],e),l[s]=e}l=w.ShapePart.GetOutlineVertices(l,4,o),this.drawColours&&(this.m_fillAlpha=n),this.DrawSolidCannon(l,4,i,!1,!1)}DrawTempShape(e,i,r,l,s,c,w,C){var b;if(this.drawColours?this.m_fillAlpha=1:this.m_fillAlpha=.5,e==_.ControllerGameGlobals.NEW_CIRCLE&&1==i){var m=a.Util.GetDist(r,l,w,C);m<o.Circle.MIN_RADIUS&&(m=o.Circle.MIN_RADIUS),m>o.Circle.MAX_RADIUS&&(m=o.Circle.MAX_RADIUS),this.drawColours&&(this.m_fillAlpha=_.ControllerGameGlobals.defaultO/255);const e=new t.b2Rot;e.c=(w-r)/m,e.s=(C-l)/m,this.DrawSolidCircle(new t.b2Vec2(r,l),m,e,this.drawColours?new t.b2Color(_.ControllerGameGlobals.defaultR/255,_.ControllerGameGlobals.defaultG/255,_.ControllerGameGlobals.defaultB/255):g.s_selectedColor)}else if(e==_.ControllerGameGlobals.NEW_RECT&&1==i){var G=w-r,M=C-l;Math.abs(G)<h.Rectangle.MIN_WIDTH&&(G=G<0?-h.Rectangle.MIN_WIDTH:h.Rectangle.MIN_WIDTH),Math.abs(G)>h.Rectangle.MAX_WIDTH&&(G=G<0?-h.Rectangle.MAX_WIDTH:h.Rectangle.MAX_WIDTH),Math.abs(M)<h.Rectangle.MIN_WIDTH&&(M=M<0?-h.Rectangle.MIN_WIDTH:h.Rectangle.MIN_WIDTH),Math.abs(M)>h.Rectangle.MAX_WIDTH&&(M=M<0?-h.Rectangle.MAX_WIDTH:h.Rectangle.MAX_WIDTH),(b=new Array(4))[0]=new t.b2Vec2(r,l),b[1]=new t.b2Vec2(r+G,l),b[2]=new t.b2Vec2(r+G,l+M),b[3]=new t.b2Vec2(r,l+M),this.drawColours&&(this.m_fillAlpha=_.ControllerGameGlobals.defaultO/255),this.DrawSolidPolygon(b,4,this.drawColours?new t.b2Color(_.ControllerGameGlobals.defaultR/255,_.ControllerGameGlobals.defaultG/255,_.ControllerGameGlobals.defaultB/255):g.s_selectedColor)}else if(e==_.ControllerGameGlobals.NEW_CANNON&&1==i){G=w>=r||C>=l?Math.max(w-r,2*(C-l)):Math.min(w-r,2*(C-l)),Math.abs(G)<n.Cannon.MIN_WIDTH&&(G=G<0?-n.Cannon.MIN_WIDTH:n.Cannon.MIN_WIDTH),Math.abs(G)>n.Cannon.MAX_WIDTH&&(G=G<0?-n.Cannon.MAX_WIDTH:n.Cannon.MAX_WIDTH),(b=new Array(4))[0]=new t.b2Vec2(r,l),b[1]=new t.b2Vec2(r+G,l),b[2]=new t.b2Vec2(r+G,l+G/2),b[3]=new t.b2Vec2(r,l+G/2),this.drawColours&&(this.m_fillAlpha=_.ControllerGameGlobals.defaultO/255),this.DrawSolidCannon(b,4,this.drawColours?new t.b2Color(_.ControllerGameGlobals.defaultR/255,_.ControllerGameGlobals.defaultG/255,_.ControllerGameGlobals.defaultB/255):g.s_selectedColor)}else if(e==_.ControllerGameGlobals.NEW_TRIANGLE&&1==i){var S,f=w,u=C,D=a.Util.GetDist(r,l,w,C);D<d.Triangle.MIN_SIDE_LENGTH?(S=Math.atan2(l-C,w-r),f=r+d.Triangle.MIN_SIDE_LENGTH*Math.cos(S),u=l-d.Triangle.MIN_SIDE_LENGTH*Math.sin(S)):D>d.Triangle.MAX_SIDE_LENGTH&&(S=Math.atan2(l-C,w-r),f=r+d.Triangle.MAX_SIDE_LENGTH*Math.cos(S),u=l-d.Triangle.MAX_SIDE_LENGTH*Math.sin(S)),this.DrawSegment(new t.b2Vec2(r,l),new t.b2Vec2(f,u),this.drawColours?new t.b2Color(.0666,.0666,.0666):g.s_selectedColor)}else if(e==_.ControllerGameGlobals.NEW_TRIANGLE&&2==i){var y=a.Util.GetDist(r,l,w,C),V=a.Util.GetDist(s,c,w,C),p=a.Util.GetDist(r,l,s,c),I=a.Util.NormalizeAngle(Math.acos((p*p+y*y-V*V)/(2*p*y))),A=a.Util.NormalizeAngle(Math.acos((p*p+V*V-y*y)/(2*p*V))),T=a.Util.NormalizeAngle(Math.acos((y*y+V*V-p*p)/(2*y*V)));y<=d.Triangle.MAX_SIDE_LENGTH&&y>=d.Triangle.MIN_SIDE_LENGTH&&V<=d.Triangle.MAX_SIDE_LENGTH&&V>=d.Triangle.MIN_SIDE_LENGTH&&I>=d.Triangle.MIN_TRIANGLE_ANGLE&&A>=d.Triangle.MIN_TRIANGLE_ANGLE&&T>=d.Triangle.MIN_TRIANGLE_ANGLE?((b=new Array(3))[0]=new t.b2Vec2(r,l),b[1]=new t.b2Vec2(s,c),b[2]=new t.b2Vec2(w,C),this.drawColours&&(this.m_fillAlpha=_.ControllerGameGlobals.defaultO/255),this.DrawSolidPolygon(b,3,this.drawColours?new t.b2Color(_.ControllerGameGlobals.defaultR/255,_.ControllerGameGlobals.defaultG/255,_.ControllerGameGlobals.defaultB/255):g.s_selectedColor)):this.DrawSegment(new t.b2Vec2(r,l),new t.b2Vec2(s,c),this.drawColours?new t.b2Color(.0666,.0666,.0666):g.s_selectedColor)}else e==_.ControllerGameGlobals.NEW_FIXED_JOINT||e==_.ControllerGameGlobals.NEW_REVOLUTE_JOINT||e==_.ControllerGameGlobals.NEW_PRISMATIC_JOINT||e==_.ControllerGameGlobals.FINALIZING_JOINT?(this.DrawCircle(new t.b2Vec2(w,C),2.25/this.m_drawScale,g.s_selectedColor),this.DrawCircle(new t.b2Vec2(w,C),4.5/this.m_drawScale,g.s_selectedColor),e==_.ControllerGameGlobals.NEW_PRISMATIC_JOINT&&1==i&&(this.DrawCircle(new t.b2Vec2(r,l),2.25/this.m_drawScale,g.s_selectedColor),this.DrawCircle(new t.b2Vec2(r,l),4.5/this.m_drawScale,g.s_selectedColor),this.DrawSegment(new t.b2Vec2(r,l),new t.b2Vec2(w,C),g.s_selectedColor))):e==_.ControllerGameGlobals.BOX_SELECTING||e==_.ControllerGameGlobals.NEW_TEXT&&1==i||e==_.ControllerGameGlobals.DRAWING_BOX&&1==i||e==_.ControllerGameGlobals.DRAWING_BUILD_BOX&&1==i?((b=new Array(4))[0]=new t.b2Vec2(r,l),b[1]=new t.b2Vec2(r,C),b[2]=new t.b2Vec2(w,C),b[3]=new t.b2Vec2(w,l),this.drawColours&&(this.m_fillAlpha=.5),this.DrawSolidPolygon(b,4,new t.b2Color(.8,.5,.5))):e==_.ControllerGameGlobals.NEW_THRUSTERS?(this.DrawCircle(new t.b2Vec2(w,C),2.25/this.m_drawScale,g.s_selectedColor),this.DrawCircle(new t.b2Vec2(w,C),4.5/this.m_drawScale,g.s_selectedColor)):e==_.ControllerGameGlobals.DRAWING_HORIZONTAL_LINE&&1==i?this.DrawSegment(new t.b2Vec2(r,l),new t.b2Vec2(w,l),new t.b2Color(.0666,.0666,.0666)):e==_.ControllerGameGlobals.DRAWING_VERTICAL_LINE&&1==i&&this.DrawSegment(new t.b2Vec2(r,l),new t.b2Vec2(r,C),new t.b2Color(.0666,.0666,.0666))}}exports.Draw=g,g.s_jointColor=new t.b2Color(.8,.8,.4),g.s_selectedColor=new t.b2Color(.4,.4,.9),g.s_normalColor=new t.b2Color(.5,.5,.5),g.s_uneditableColor=new t.b2Color(.6,.6,.6),g.s_jointCreatingColor=new t.b2Color(.9,.4,.4),g.s_staticColor=new t.b2Color(.4,.9,.4),g.s_staticEditableColor=new t.b2Color(.6,.8,.6);
},{"pixi.js":"aQiP","@box2d/core":"kjbO","../General/Util":"Zvyo","../Main":"aM6Q","../Parts/Cannon":"vdN1","../Parts/Circle":"PfXD","../Parts/FixedJoint":"QW19","../Parts/JointPart":"avwv","../Parts/PrismaticJoint":"nZSh","../Parts/Rectangle":"jYSx","../Parts/RevoluteJoint":"AUAw","../Parts/ShapePart":"CDAe","../Parts/TextPart":"T0pq","../Parts/Thrusters":"Yw1p","../Parts/Triangle":"CRRv","./Globals/ControllerGameGlobals":"K8aL","./Graphics/b2DebugDraw":"H8Kw"}],"xLqP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Input=void 0;const e=require("../Main");class i{static Init(){i.renderer=e.Main.renderer,i.m_stageMc=e.Main.theRoot,i.ascii=new Array(222),this.fillAscii(),i.keyState=new Array(222),i.keyArr=new Array;for(var s=0;s<222;s++)i.keyState[s]=0,null!=i.ascii[s]&&i.keyArr.push(s);i.bufferSize=5,i.keyBuffer=new Array(i.bufferSize);for(var a=0;a<i.bufferSize;a++)i.keyBuffer[a]=new Array(0,0);i.renderer.view.tabIndex=-1,i.renderer.view.addEventListener("keydown",e=>this.keyPress(e)),i.renderer.view.addEventListener("keyup",e=>this.keyRelease(e)),i.m_stageMc.on("mousedown",e=>this.mousePress(e)),i.m_stageMc.on("mouseup",e=>this.mouseRelease(e)),i.m_stageMc.on("mousemove",e=>this.mouseMove(e)),i.m_stageMc.on("mousewheel",e=>this.mouseWheel(e)),i.m_stageMc.on("mouseout",e=>this.mouseLeave(e))}static update(){for(var e=0;e<i.keyArr.length;e++)0!=i.keyState[i.keyArr[e]]&&i.keyState[i.keyArr[e]]++;for(var s=0;s<i.bufferSize;s++)i.keyBuffer[s][1]++;i.mouseReleased=!1,i.mousePressed=!1,i.mouseOver=!1}static mousePress(e){i.mousePressed=!0,i.mouseDown=!0,i.mouseDragX=0,i.mouseDragY=0,i.m_currController&&i.m_currController.mouseClick(!1)}static mouseWheel(e){i.mouseWheelVal+=e.delta}static mouseRelease(e){i.mouseDown=!1,i.mouseReleased=!0,i.m_currController&&i.m_currController.mouseClick(!0)}static mouseLeave(e){i.mouseReleased=i.mouseDown,i.mouseDown=!1}static mouseMove(e){i.mouseX=e.data.global.x-i.m_stageMc.x,i.mouseY=e.data.global.y-i.m_stageMc.y,i.mouseDown&&(i.mouseDragX+=i.mouseOffsetX,i.mouseDragY+=i.mouseOffsetY),i.m_currController&&i.m_currController.mouseMove(i.mouseX,i.mouseY)}static getKeyHold(e){return Math.max(0,i.keyState[e])}static isKeyDown(e){return i.keyState[e]>0}static isKeyPressed(e){return i.timeSinceLastKey=0,1==i.keyState[e]}static isKeyReleased(e){return-1==i.keyState[e]}static isKeyInBuffer(e,s,a){return i.keyBuffer[s][0]==e&&i.keyBuffer[s][1]<=a}static keyPress(e){i.keyState[e.keyCode]=Math.max(i.keyState[e.keyCode],1),i.lastKey=e.keyCode,i.m_currController&&i.m_currController.keyPress(i.lastKey,!1)}static keyRelease(e){i.keyState[e.keyCode]=-1;for(var s=i.bufferSize-1;s>0;s--)i.keyBuffer[s]=i.keyBuffer[s-1];i.keyBuffer[0]=[e.keyCode,0],i.m_currController&&i.m_currController.keyPress(e.keyCode,!0)}static getKeyString(e){return i.ascii[e]}static getKeyNumber(e){const s=Object.keys(i.ascii).find(s=>i.ascii[s]===e||i.ascii[s]===e.toUpperCase()||i.ascii[s]===e.toLowerCase());return s?+s:null}static fillAscii(){i.ascii[65]="A",i.ascii[66]="B",i.ascii[67]="C",i.ascii[68]="D",i.ascii[69]="E",i.ascii[70]="F",i.ascii[71]="G",i.ascii[72]="H",i.ascii[73]="I",i.ascii[74]="J",i.ascii[75]="K",i.ascii[76]="L",i.ascii[77]="M",i.ascii[78]="N",i.ascii[79]="O",i.ascii[80]="P",i.ascii[81]="Q",i.ascii[82]="R",i.ascii[83]="S",i.ascii[84]="T",i.ascii[85]="U",i.ascii[86]="V",i.ascii[87]="W",i.ascii[88]="X",i.ascii[89]="Y",i.ascii[90]="Z",i.ascii[48]="0",i.ascii[49]="1",i.ascii[50]="2",i.ascii[51]="3",i.ascii[52]="4",i.ascii[53]="5",i.ascii[54]="6",i.ascii[55]="7",i.ascii[56]="8",i.ascii[57]="9",i.ascii[96]="NP 0",i.ascii[97]="NP 1",i.ascii[98]="NP 2",i.ascii[99]="NP 3",i.ascii[100]="NP 4",i.ascii[101]="NP 5",i.ascii[102]="NP 6",i.ascii[103]="NP 7",i.ascii[104]="NP 8",i.ascii[105]="NP 9",i.ascii[111]="NP /",i.ascii[106]="NP *",i.ascii[109]="NP -",i.ascii[107]="NP +",i.ascii[110]="NP .",i.ascii[112]="F1",i.ascii[113]="F2",i.ascii[114]="F3",i.ascii[115]="F4",i.ascii[116]="F5",i.ascii[117]="F6",i.ascii[118]="F7",i.ascii[119]="F8",i.ascii[120]="F9",i.ascii[122]="F11",i.ascii[123]="F12",i.ascii[124]="F13",i.ascii[125]="F14",i.ascii[126]="F15",i.ascii[32]="Space",i.ascii[17]="Ctrl",i.ascii[16]="Shift",i.ascii[20]="Caps",i.ascii[144]="NumLk",i.ascii[145]="ScrLk",i.ascii[192]="~",i.ascii[38]="Up",i.ascii[40]="Down",i.ascii[37]="Left",i.ascii[39]="Right",i.ascii[45]="Ins",i.ascii[46]="Del",i.ascii[33]="PgUp",i.ascii[34]="PgDn",i.ascii[35]="End",i.ascii[36]="Home",i.ascii[188]=",",i.ascii[190]=".",i.ascii[186]=";",i.ascii[222]="'",i.ascii[219]="[",i.ascii[221]="]",i.ascii[189]="-",i.ascii[187]="=",i.ascii[220]="\\",i.ascii[191]="/",i.ascii[9]="Tab",i.ascii[8]="Bksp",i.ascii[13]="Enter",i.ascii[19]="Break",i.ascii[27]="ESC"}}exports.Input=i,i.lastKey=0,i.timeSinceLastKey=0,i.mouseDown=!1,i.mouseReleased=!1,i.mousePressed=!1,i.mouseOver=!1,i.mouseWheelVal=0,i.mouseX=0,i.mouseY=0,i.mouseOffsetX=0,i.mouseOffsetY=0,i.mouseDragX=0,i.mouseDragY=0;
},{"../Main":"aM6Q"}],"xELh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Action=void 0;const t=require("../Parts/Part");class o{constructor(t){this.partAffected=t}UndoAction(){throw new t.IllegalOperationError("abstract Action.UndoAction() called")}RedoAction(){throw new t.IllegalOperationError("abstract Action.RedoAction() called")}}exports.Action=o;
},{"../Parts/Part":"eAVa"}],"IBBZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GuiButton=void 0;const t=require("pixi.js"),e=require("../Game/Graphics/Resource"),u=require("../Main");class i extends t.Container{constructor(s,o,r,n,l,c,a,h=null,B=!1,d=!1){super(),this.sCheckbox=null,this.buttonOffset=!1,this.depressed=!1,this.label=null,this.background=null,this._disabled=!1,a==i.PURPLE?(this.upTexture=i.purpleButtonBase(),this.overTexture=i.purpleButtonRoll(),this.downTexture=i.purpleButtonClick()):a==i.RED?(this.upTexture=i.redButtonBase(),this.overTexture=i.redButtonRoll(),this.downTexture=i.redButtonClick()):a==i.BLUE?(this.upTexture=i.blueButtonBase(),this.overTexture=i.blueButtonRoll(),this.downTexture=i.blueButtonClick()):a==i.PINK?(this.upTexture=i.pinkButtonBase(),this.overTexture=i.pinkButtonRoll(),this.downTexture=i.pinkButtonClick()):a==i.ORANGE?(this.upTexture=i.orangeButtonBase(),this.overTexture=i.orangeButtonRoll(),this.downTexture=i.orangeButtonClick()):a==i.PLAY?(this.upTexture=i.playButtonBase(),this.overTexture=i.playButtonRoll(),this.downTexture=i.playButtonClick()):a==i.X&&(this.upTexture=i.xButtonBase(),this.overTexture=i.xButtonRoll(),this.downTexture=i.xButtonClick()),h||((h=new t.TextStyle).fontSize=11),h.fill="#573D40",h.fontFamily=u.Main.GLOBAL_FONT,h.align="center",this.width=n,this.height=l,this.position.set(o,r),this.buttonMode=!0,this.interactive=!0,this.background=new t.Sprite(this.upTexture),this.background.width=n,this.background.height=l,this.addChild(this.background),this.label=new t.Text(s),this.label.style=h,this.label.anchor.set(.5),this.label.x=n/2,this.label.y=l/2,this.addChild(this.label),this.on("click",t=>{this.disabled||c(t)}).on("tap",t=>{this.disabled||c(t)}).on("mousedown",this.bDown).on("mouseover",this.mouseOver).on("mouseout",this.bUp).on("click",this.bUp).on("click",this.mouseClick),B&&(this.sCheckbox=d?new t.Sprite(e.Resource.cLevelSelectLevelCheckBoxB):new t.Sprite(e.Resource.cLevelSelectLevelCheckBoxA),this.sCheckbox.x=110,this.sCheckbox.y=12,this.sCheckbox.smoothing=!0,this.addChild(this.sCheckbox))}set disabled(e){if(this._disabled=e,this._disabled){const e=new t.filters.ColorMatrixFilter;e.brightness(.5,!0),this.interactive=!1,this.alpha=.7,this.filters=[e]}else this.interactive=!0,this.alpha=1,this.filters=[]}get disabled(){return this._disabled}SetState(t){t?(this.buttonOffset||(this.x+=2,this.y+=2,this.buttonOffset=!0),this.depressed=!0,this.background.texture=this.downTexture):(this.buttonOffset&&(this.x-=2,this.y-=2,this.buttonOffset=!1),this.depressed=!1,this.background.texture=this.upTexture)}bDown(){this.disabled||(this.buttonOffset||(this.x+=2,this.y+=2,this.buttonOffset=!0),this.background.texture=this.downTexture)}bUp(){this.disabled||(this.buttonOffset&&(this.x-=2,this.y-=2,this.buttonOffset=!1),this.background.texture=this.upTexture)}mouseOver(){this.disabled||(u.Main.enableSound&&i.lastRolloverFrame!=Math.floor(Date.now()/150)&&(i.rolloverSound.stop(),i.rolloverSound.volume=.2,i.rolloverSound.play(),i.lastRolloverFrame=Math.floor(Date.now()/150)),this.background.texture=this.overTexture)}mouseClick(){this.disabled||u.Main.enableSound&&(i.clickSound.volume=.8,i.clickSound.play())}static redButtonBase(){return e.Resource.cGuiButtonRedBase}static redButtonRoll(){return e.Resource.cGuiButtonRedRoll}static redButtonClick(){return e.Resource.cGuiButtonRedClick}static blueButtonBase(){return e.Resource.cGuiButtonBlueBase}static blueButtonRoll(){return e.Resource.cGuiButtonBlueRoll}static blueButtonClick(){return e.Resource.cGuiButtonBlueClick}static purpleButtonBase(){return e.Resource.cGuiButtonPurpleBase}static purpleButtonRoll(){return e.Resource.cGuiButtonPurpleRoll}static purpleButtonClick(){return e.Resource.cGuiButtonPurpleClick}static pinkButtonBase(){return e.Resource.cGuiButtonPinkBase}static pinkButtonRoll(){return e.Resource.cGuiButtonPinkRoll}static pinkButtonClick(){return e.Resource.cGuiButtonPinkClick}static orangeButtonBase(){return e.Resource.cGuiButtonOrangeBase}static orangeButtonRoll(){return e.Resource.cGuiButtonOrangeRoll}static orangeButtonClick(){return e.Resource.cGuiButtonOrangeClick}static playButtonBase(){return e.Resource.cGuiButtonPlayBase}static playButtonRoll(){return e.Resource.cGuiButtonPlayRoll}static playButtonClick(){return e.Resource.cGuiButtonPlayClick}static xButtonBase(){return e.Resource.cGuiButtonXBase}static xButtonRoll(){return e.Resource.cGuiButtonXRoll}static xButtonClick(){return e.Resource.cGuiButtonXClick}}exports.GuiButton=i,i.PURPLE=0,i.RED=1,i.BLUE=2,i.PINK=3,i.ORANGE=4,i.PLAY=5,i.X=6,i.rolloverSound=e.Resource.cRoll,i.clickSound=e.Resource.cClick,i.lastRolloverFrame=0;
},{"pixi.js":"aQiP","../Game/Graphics/Resource":"VWUR","../Main":"aM6Q"}],"BOXT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GuiWindow=void 0;const e=require("pixi.js"),i=require("../Game/Graphics/Resource");class t extends e.Graphics{constructor(t,r,s,u,d=!0){var n;if(super(),this.x=t,this.y=r,this.interactive=!0,this.lineStyle(0,0,0),800==s)this.beginTextureFill({texture:i.Resource.cGuiWindowMid800}),this.drawRect(17,0,s-34,u),this.endFill(),this.beginTextureFill({texture:i.Resource.cGuiWindowRight800}),this.drawRect(s-17,0,17,u),this.endFill(),(n=new e.Matrix).translate(-1,0),this.beginTextureFill({texture:i.Resource.cGuiWindowLeft800,matrix:n}),this.drawRect(-1,0,18,u),this.endFill();else if(720==s)this.beginTextureFill({texture:i.Resource.cGuiWindowMid700}),this.drawRect(24,0,s-48,u),this.endFill(),this.beginTextureFill({texture:i.Resource.cGuiWindowRight700}),this.drawRect(s-24,0,24,u),this.endFill(),this.beginTextureFill({texture:i.Resource.cGuiWindowLeft700}),this.drawRect(0,0,24,u),this.endFill(),(n=new e.Matrix).translate(12,287),this.beginTextureFill({texture:i.Resource.cGuiWindowLine,matrix:n}),this.drawRect(12,287,684,6),this.endFill(),(n=new e.Matrix).translate(53,20),this.beginTextureFill({texture:i.Resource.cGuiWindowLinebox,matrix:n}),this.drawRect(53,20,602,80),this.endFill(),(n=new e.Matrix).translate(53,315),this.beginTextureFill({texture:i.Resource.cGuiWindowLinebox,matrix:n}),this.drawRect(53,313,602,80),this.endFill();else if(600==s||312==s)this.beginTextureFill({texture:i.Resource.cGuiWindowMid600}),this.drawRect(24,0,s-48,u),this.endFill(),this.beginTextureFill({texture:i.Resource.cGuiWindowRight600}),this.drawRect(s-24,0,24,u),this.endFill(),this.beginTextureFill({texture:i.Resource.cGuiWindowLeft600}),this.drawRect(0,0,24,u),this.endFill(),d&&312==s&&((n=new e.Matrix).translate(12,287),this.beginTextureFill({texture:i.Resource.cGuiWindowLine,matrix:n}),this.drawRect(12,275,274,6),this.endFill());else{var o,l,h;120==s?(o=i.Resource.cGuiWindowTop120,l=i.Resource.cGuiWindowMid120,h=i.Resource.cGuiWindowBottom120):154==s?(o=i.Resource.cGuiWindowTop154,l=i.Resource.cGuiWindowMid154,h=i.Resource.cGuiWindowBottom154):200==s?(o=i.Resource.cGuiWindowTop200,l=i.Resource.cGuiWindowMid200,h=i.Resource.cGuiWindowBottom200):248==s?(o=i.Resource.cGuiWindowTop248,l=i.Resource.cGuiWindowMid248,h=i.Resource.cGuiWindowBottom248):(o=i.Resource.cGuiWindowTop547,l=i.Resource.cGuiWindowMid547,h=i.Resource.cGuiWindowBottom547),this.beginTextureFill({texture:l}),this.drawRect(-1,15,s+10,u-30),this.endFill(),this.beginTextureFill({texture:o}),this.drawRect(-1,0,s+10,15),this.endFill(),(n=new e.Matrix).translate(0,u-15),this.beginTextureFill({texture:h,matrix:n}),this.drawRect(-1,u-15,s+10,24),this.endFill()}this.fader=new e.Graphics,this.fader.beginFill(0,1),this.fader.lineStyle(0,0,1),this.fader.moveTo(0,0),this.fader.lineTo(s-1,0),this.fader.lineTo(s-1,u-1),this.fader.lineTo(0,u-1),this.fader.lineTo(0,0),this.fader.endFill(),this.fader.visible=!1,this.fader.interactive=!0,this.fader.buttonMode=!0,this.addChild(this.fader)}MouseOver(e,i){return this.visible&&e>=this.x&&e<this.x+this.width&&i>=this.y&&i<this.y+this.height}ShowFader(){this.fader.visible=!0}HideFader(){this.fader.visible=!1}}exports.GuiWindow=t;
},{"pixi.js":"aQiP","../Game/Graphics/Resource":"VWUR"}],"YujO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MainEditPanel=void 0;const t=require("pixi.js"),e=require("../Game/Globals/ControllerGameGlobals"),i=require("../Game/Graphics/Resource"),o=require("../General/Util"),n=require("../Main"),l=require("./GuiButton"),s=require("./GuiWindow");class u extends s.GuiWindow{constructor(i){super(0,5,800,95),this.cont=i,this.m_editPanel=new t.Container,this.addChild(this.m_editPanel),this.m_gamePanel=new t.Container,this.m_gamePanel.visible=!1,this.addChild(this.m_gamePanel),this.m_pausePanel=new t.Container,this.m_pausePanel.visible=!1,this.addChild(this.m_pausePanel);var o=new t.TextStyle;o.fontFamily=n.Main.GLOBAL_FONT,n.Main.inIFrame||(this.m_circleButton=new l.GuiButton("Circle",10,15,105,35,()=>this.cont.circleButton(),l.GuiButton.BLUE),this.m_editPanel.addChild(this.m_circleButton),this.m_rectButton=new l.GuiButton("Rectangle",110,15,105,35,()=>this.cont.rectButton(),l.GuiButton.BLUE),this.m_editPanel.addChild(this.m_rectButton),this.m_triangleButton=new l.GuiButton("Triangle",210,15,105,35,()=>this.cont.triangleButton(),l.GuiButton.BLUE),this.m_editPanel.addChild(this.m_triangleButton),this.m_fixedJointButton=new l.GuiButton("Fixed Joint",10,45,105,35,()=>this.cont.fjButton(),l.GuiButton.BLUE),this.m_editPanel.addChild(this.m_fixedJointButton),this.m_revoluteJointButton=new l.GuiButton("Rotating Joint",110,45,105,35,()=>this.cont.rjButton(),l.GuiButton.BLUE),this.m_editPanel.addChild(this.m_revoluteJointButton),this.m_prismaticJointButton=new l.GuiButton("Sliding Joint",210,45,105,35,()=>this.cont.pjButton(),l.GuiButton.BLUE),this.m_editPanel.addChild(this.m_prismaticJointButton),this.m_textButton=new l.GuiButton("Text",310,45,60,35,()=>this.cont.textButton(),l.GuiButton.BLUE),this.m_editPanel.addChild(this.m_textButton),this.m_pasteButton=new l.GuiButton("Paste",370,45,60,35,()=>this.cont.pasteButton(),l.GuiButton.ORANGE),this.m_editPanel.addChild(this.m_pasteButton),this.m_undoButton=new l.GuiButton("Undo",310,15,60,35,()=>this.cont.undoButton(),l.GuiButton.ORANGE),this.m_editPanel.addChild(this.m_undoButton),this.m_redoButton=new l.GuiButton("Redo",370,15,60,35,()=>this.cont.redoButton(),l.GuiButton.ORANGE),this.m_editPanel.addChild(this.m_redoButton)),this.m_zoomInButton=new l.GuiButton("Zoom In",430,15,80,35,()=>this.cont.zoomInButton(),l.GuiButton.PINK),this.m_editPanel.addChild(this.m_zoomInButton),this.m_zoomInButton=new l.GuiButton("Zoom In",430,15,80,35,()=>this.cont.zoomInButton(),l.GuiButton.PINK),this.m_gamePanel.addChild(this.m_zoomInButton),this.m_zoomInButton=new l.GuiButton("Zoom In",430,15,80,35,()=>this.cont.zoomInButton(),l.GuiButton.PINK),this.m_pausePanel.addChild(this.m_zoomInButton),this.m_zoomOutButton=new l.GuiButton("Zoom Out",430,45,80,35,()=>this.cont.zoomOutButton(),l.GuiButton.PINK),this.m_editPanel.addChild(this.m_zoomOutButton),this.m_zoomOutButton=new l.GuiButton("Zoom Out",430,45,80,35,()=>this.cont.zoomOutButton(),l.GuiButton.PINK),this.m_gamePanel.addChild(this.m_zoomOutButton),this.m_zoomOutButton=new l.GuiButton("Zoom Out",430,45,80,35,()=>this.cont.zoomOutButton(),l.GuiButton.PINK),this.m_pausePanel.addChild(this.m_zoomOutButton),this.m_conditionsButton=new l.GuiButton("Set Conditions",520,45,95,35,()=>this.cont.conditionsButton(),l.GuiButton.BLUE),this.m_buildBoxButton=new l.GuiButton("Build Box",610,45,85,35,()=>this.cont.buildBoxButton(),l.GuiButton.BLUE),this.m_restrictionsButton=new l.GuiButton("Restrictions",695,15,95,30,()=>this.cont.restrictionsButton(),l.GuiButton.BLUE),this.m_conditionsButton.visible=!1,this.m_restrictionsButton.visible=!1,this.m_buildBoxButton.visible=!1,this.m_loadButton=new l.GuiButton("Load...",520,45,95,35,()=>this.cont.loadButton(),l.GuiButton.PURPLE),this.m_loginButton=new l.GuiButton("Login",610,45,85,35,()=>this.cont.loginButton(),l.GuiButton.PURPLE),this.m_loginButton.visible="_Public"==e.ControllerGameGlobals.userName,this.m_logoutButton=new l.GuiButton("Logout",610,45,85,35,()=>this.cont.logoutButton(),l.GuiButton.PURPLE),this.m_logoutButton.visible="_Public"!=e.ControllerGameGlobals.userName,this.m_editPanel.addChild(this.m_loadButton),this.m_editPanel.addChild(this.m_loginButton),this.m_editPanel.addChild(this.m_logoutButton),this.m_editPanel.addChild(this.m_conditionsButton),this.m_editPanel.addChild(this.m_buildBoxButton),this.m_editPanel.addChild(this.m_restrictionsButton),this.m_saveButton=new l.GuiButton("Save...",520,15,95,35,()=>this.cont.saveButton(),l.GuiButton.PURPLE),this.m_editPanel.addChild(this.m_saveButton),this.m_newButton=new l.GuiButton("Main Menu",610,15,85,35,()=>this.cont.newButton(),l.GuiButton.PURPLE),this.m_editPanel.addChild(this.m_newButton),(o=new t.TextStyle).fontFamily=n.Main.GLOBAL_FONT,o.fontSize=15,this.m_playButton=new l.GuiButton("Resume",610,45,75,35,()=>this.cont.playButton(),l.GuiButton.RED),this.m_pausePanel.addChild(this.m_playButton),this.m_playButton=new l.GuiButton("Play!",700,35,85,45,()=>this.cont.playButton(),l.GuiButton.PLAY,o),this.m_editPanel.addChild(this.m_playButton),this.m_testButton=new l.GuiButton("    Test\nChallenge",700,35,85,45,()=>this.cont.playButton(),l.GuiButton.PLAY),this.m_testButton.visible=!1,this.m_editPanel.addChild(this.m_testButton),this.m_editButton=new l.GuiButton("Edit Challenge",695,15,95,30,()=>this.cont.editButton(),l.GuiButton.RED),this.m_editButton.visible=!1,this.m_editPanel.addChild(this.m_editButton),this.m_pauseButton=new l.GuiButton("Pause",610,45,75,35,()=>this.cont.pauseButton(),l.GuiButton.RED),this.m_gamePanel.addChild(this.m_pauseButton),this.m_resetButton=new l.GuiButton("Stop",700,35,85,45,()=>e.ControllerGameGlobals.playingReplay?this.cont.rewindButton():this.cont.resetButton(),l.GuiButton.PLAY,o),this.m_gamePanel.addChild(this.m_resetButton),this.m_resetButton2=new l.GuiButton("Stop",700,35,85,45,()=>e.ControllerGameGlobals.playingReplay?this.cont.rewindButton():this.cont.resetButton(),l.GuiButton.PLAY,o),this.m_pausePanel.addChild(this.m_resetButton2),this.m_rewindButton=new l.GuiButton(e.ControllerGameGlobals.playingReplay?"Rewind":"Restart",535,45,75,35,()=>e.ControllerGameGlobals.playingReplay?this.cont.resetButton():this.cont.rewindButton(),l.GuiButton.RED),this.m_gamePanel.addChild(this.m_rewindButton),this.m_rewindButton2=new l.GuiButton(e.ControllerGameGlobals.playingReplay?"Rewind":"Restart",535,45,75,35,()=>e.ControllerGameGlobals.playingReplay?this.cont.resetButton():this.cont.rewindButton(),l.GuiButton.RED),this.m_pausePanel.addChild(this.m_rewindButton2),e.ControllerGameGlobals.playingReplay||(this.m_saveReplayButton=new l.GuiButton("Save Replay",550,15,120,35,()=>this.cont.saveReplayButton(),l.GuiButton.PURPLE),this.m_gamePanel.addChild(this.m_saveReplayButton),this.m_saveReplayButton2=new l.GuiButton("Save Replay",550,15,120,35,()=>this.cont.saveReplayButton(),l.GuiButton.PURPLE),this.m_pausePanel.addChild(this.m_saveReplayButton2)),(o=new t.TextStyle).fontFamily=n.Main.GLOBAL_FONT,o.fontSize=12,o.fill="#242930",this.m_header=new t.Text(e.ControllerGameGlobals.playingReplay?"    Replay in Progress":"Simulation in Progress"),this.m_header.x=300,this.m_header.y=25,this.m_header.style=o,this.m_gamePanel.addChild(this.m_header),this.m_header=new t.Text(e.ControllerGameGlobals.playingReplay?"    Replay Paused":"Simulation Paused"),this.m_header.x=310,this.m_header.y=25,this.m_header.style=o,this.m_pausePanel.addChild(this.m_header),this.m_featureButton=new l.GuiButton("Feature!",85,15,90,35,()=>this.cont.featureButton(),l.GuiButton.PURPLE),this.m_featureButton.visible=!1,this.m_gamePanel.addChild(this.m_featureButton),this.m_featureButton2=new l.GuiButton("Feature!",85,15,90,35,()=>this.cont.featureButton(),l.GuiButton.PURPLE),this.m_featureButton2.visible=!1,this.m_pausePanel.addChild(this.m_featureButton2),this.ShowFeatureButton(),this.m_rateButton=new l.GuiButton(e.ControllerGameGlobals.playingReplay?"Rate this Replay!":"Rate this Robot!",165,15,140,35,()=>this.rateButton(),l.GuiButton.ORANGE),this.m_gamePanel.addChild(this.m_rateButton),this.m_rateButton2=new l.GuiButton(e.ControllerGameGlobals.playingReplay?"Rate this Replay!":"Rate this Robot!",165,15,140,35,()=>this.rateButton(),l.GuiButton.ORANGE),this.m_pausePanel.addChild(this.m_rateButton2),this.m_rateButton3=new l.GuiButton("Rate this Challenge!",165,15,140,35,()=>this.rateButton(),l.GuiButton.ORANGE),this.m_rateButton3.visible=!1,this.m_gamePanel.addChild(this.m_rateButton3),this.m_rateButton4=new l.GuiButton("Rate this Challenge!",165,15,140,35,()=>this.rateButton(),l.GuiButton.ORANGE),this.m_rateButton4.visible=!1,this.m_pausePanel.addChild(this.m_rateButton4),this.m_commentButton=new l.GuiButton(e.ControllerGameGlobals.playingReplay?"Comment on this Replay":"Comment on this Robot",15,45,160,35,()=>this.commentButton(),l.GuiButton.ORANGE),this.m_gamePanel.addChild(this.m_commentButton),this.m_commentButton2=new l.GuiButton(e.ControllerGameGlobals.playingReplay?"Comment on this Replay":"Comment on this Robot",15,45,160,35,()=>this.commentButton(),l.GuiButton.ORANGE),this.m_pausePanel.addChild(this.m_commentButton2),this.m_commentButton3=new l.GuiButton("Comment on this Challenge",15,45,160,35,()=>this.commentButton(),l.GuiButton.ORANGE),this.m_commentButton3.visible=!1,this.m_gamePanel.addChild(this.m_commentButton3),this.m_commentButton4=new l.GuiButton("Comment on this Challenge",15,45,160,35,()=>this.commentButton(),l.GuiButton.ORANGE),this.m_commentButton4.visible=!1,this.m_pausePanel.addChild(this.m_commentButton4),this.m_linkButton=new l.GuiButton(e.ControllerGameGlobals.playingReplay?"Link to this Replay":"Link to this Robot",165,45,140,35,()=>this.linkButton(),l.GuiButton.ORANGE),this.m_gamePanel.addChild(this.m_linkButton),this.m_linkButton2=new l.GuiButton(e.ControllerGameGlobals.playingReplay?"Link to this Replay":"Link to this Robot",165,45,140,35,()=>this.linkButton(),l.GuiButton.ORANGE),this.m_pausePanel.addChild(this.m_linkButton2),this.m_linkButton3=new l.GuiButton("Link to this Challenge",165,45,140,35,()=>this.linkButton(),l.GuiButton.ORANGE),this.m_linkButton3.visible=!1,this.m_gamePanel.addChild(this.m_linkButton3),this.m_linkButton4=new l.GuiButton("Link to this Challenge",165,45,140,35,()=>this.linkButton(),l.GuiButton.ORANGE),this.m_linkButton4.visible=!1,this.m_pausePanel.addChild(this.m_linkButton4),this.m_embedButton=new l.GuiButton(e.ControllerGameGlobals.playingReplay?"Embed this Replay":"Embed this Robot",295,45,140,35,()=>this.embedButton(),l.GuiButton.ORANGE),this.m_gamePanel.addChild(this.m_embedButton),this.m_embedButton2=new l.GuiButton(e.ControllerGameGlobals.playingReplay?"Embed this Replay":"Embed this Robot",295,45,140,35,()=>this.embedButton(),l.GuiButton.ORANGE),this.m_pausePanel.addChild(this.m_embedButton2),this.m_embedButton3=new l.GuiButton("Embed this Challenge",295,45,140,35,()=>this.embedButton(),l.GuiButton.ORANGE),this.m_embedButton3.visible=!1,this.m_gamePanel.addChild(this.m_embedButton3),this.m_embedButton4=new l.GuiButton("Embed this Challenge",295,45,140,35,()=>this.embedButton(),l.GuiButton.ORANGE),this.m_embedButton4.visible=!1,this.m_pausePanel.addChild(this.m_embedButton4);const s=this.cont.constructor.name;["ControllerTutorial","ControllerHomeMovies","ControllerRubeGoldberg","ControllerNewFeatures","ControllerChallengeEditor"].includes(s)&&(this.m_tutorialButton=new l.GuiButton("View Previous Tip",660,90,140,40,()=>this.cont.tutorialButton(),l.GuiButton.PURPLE),this.m_editPanel.addChild(this.m_tutorialButton)),(o=new t.TextStyle).fontFamily=n.Main.GLOBAL_FONT,o.fontSize=24,o.fill="#242930",this.m_timer1=new t.Text(""),this.m_timer1.text="0:00",this.m_timer1.x=30,this.m_timer1.y=22,this.m_timer1.style=o,this.m_gamePanel.addChild(this.m_timer1),this.m_timer2=new t.Text(""),this.m_timer2.text="0:00",this.m_timer2.x=30,this.m_timer2.y=22,this.m_timer2.style=o,this.m_pausePanel.addChild(this.m_timer2)}Update(t){n.Main.inIFrame||(t==e.ControllerGameGlobals.NEW_CIRCLE?this.m_circleButton.SetState(!0):this.m_circleButton.depressed&&this.m_circleButton.SetState(!1),t==e.ControllerGameGlobals.NEW_RECT?this.m_rectButton.SetState(!0):this.m_rectButton.depressed&&this.m_rectButton.SetState(!1),t==e.ControllerGameGlobals.NEW_TRIANGLE?this.m_triangleButton.SetState(!0):this.m_triangleButton.depressed&&this.m_triangleButton.SetState(!1),t==e.ControllerGameGlobals.NEW_FIXED_JOINT?this.m_fixedJointButton.SetState(!0):this.m_fixedJointButton.depressed&&this.m_fixedJointButton.SetState(!1),t==e.ControllerGameGlobals.NEW_REVOLUTE_JOINT?this.m_revoluteJointButton.SetState(!0):this.m_revoluteJointButton.depressed&&this.m_revoluteJointButton.SetState(!1),t==e.ControllerGameGlobals.NEW_PRISMATIC_JOINT?this.m_prismaticJointButton.SetState(!0):this.m_prismaticJointButton.depressed&&this.m_prismaticJointButton.SetState(!1),t==e.ControllerGameGlobals.NEW_TEXT?this.m_textButton.SetState(!0):this.m_textButton.depressed&&this.m_textButton.SetState(!1)),e.ControllerGameGlobals.playingReplay?(this.m_featureButton.label=e.ControllerGameGlobals.curReplayFeatured?"Un-feature!":"Feature!",this.m_featureButton2.label=e.ControllerGameGlobals.curReplayFeatured?"Un-feature!":"Feature!"):""!=e.ControllerGameGlobals.curChallengeID?(this.m_featureButton.label=e.ControllerGameGlobals.curChallengeFeatured?"Un-feature!":"Feature!",this.m_featureButton2.label=e.ControllerGameGlobals.curChallengeFeatured?"Un-feature!":"Feature!"):(this.m_featureButton.label=e.ControllerGameGlobals.curRobotFeatured?"Un-feature!":"Feature!",this.m_featureButton2.label=e.ControllerGameGlobals.curRobotFeatured?"Un-feature!":"Feature!")}rateButton(){e.ControllerGameGlobals.playingReplay&&""!=e.ControllerGameGlobals.curReplayID&&e.ControllerGameGlobals.curReplayPublic?this.cont.rateReplayButton():""!=e.ControllerGameGlobals.curChallengeID&&e.ControllerGameGlobals.curChallengePublic?this.cont.rateChallengeButton():this.cont.rateButton()}commentButton(){e.ControllerGameGlobals.playingReplay&&""!=e.ControllerGameGlobals.curReplayID&&e.ControllerGameGlobals.curReplayPublic?this.cont.commentReplayButton():""!=e.ControllerGameGlobals.curChallengeID&&e.ControllerGameGlobals.curChallengePublic?this.cont.commentChallengeButton():this.cont.commentButton()}linkButton(){e.ControllerGameGlobals.playingReplay&&""!=e.ControllerGameGlobals.curReplayID&&e.ControllerGameGlobals.curReplayPublic?this.cont.linkReplayButton():""!=e.ControllerGameGlobals.curChallengeID&&e.ControllerGameGlobals.curChallengePublic?this.cont.linkChallengeButton():this.cont.linkButton()}embedButton(){e.ControllerGameGlobals.playingReplay&&""!=e.ControllerGameGlobals.curReplayID&&e.ControllerGameGlobals.curReplayPublic?this.cont.embedReplayButton():""!=e.ControllerGameGlobals.curChallengeID&&e.ControllerGameGlobals.curChallengePublic?this.cont.embedChallengeButton():this.cont.embedButton()}ShowLogin(){this.m_loginButton.visible=!0,this.m_logoutButton.visible=!1}ShowLogout(){this.m_loginButton.visible=!1,this.m_logoutButton.visible=!0}ShowEditButton(){this.m_playButton.visible=!0,this.m_testButton.visible=!1,this.m_loadButton.visible=!0,this.m_loginButton.visible="_Public"==e.ControllerGameGlobals.userName,this.m_logoutButton.visible="_Public"!=e.ControllerGameGlobals.userName,this.m_conditionsButton.visible=!1,this.m_buildBoxButton.visible=!1,this.m_restrictionsButton.visible=!1,this.m_editButton.visible=!ControllerChallenge.playOnlyMode}HideEditButton(){this.m_playButton.visible=!1,this.m_testButton.visible=!0,this.m_loadButton.visible=!1,this.m_loginButton.visible=!1,this.m_logoutButton.visible=!1,this.m_conditionsButton.visible=!0,this.m_buildBoxButton.visible=!0,this.m_restrictionsButton.visible=!0,this.m_editButton.visible=!1}SetTimer(e){if(e>=108e3)this.m_timer1.text="59:59",this.m_timer2.text="59:59";else{var i=Math.floor(e/1800);e%=1800;var o=Math.floor(e/30);o<10?(this.m_timer1.text=i+":0"+o,this.m_timer2.text=i+":0"+o):(this.m_timer1.text=i+":"+o,this.m_timer2.text=i+":"+o)}var l=new t.TextStyle;l.fontFamily=n.Main.GLOBAL_FONT,l.fontSize=24,this.m_timer1.style=l,this.m_timer2.style=l}ShowEditPanel(e=!1){if(this.m_editPanel.visible=!0,this.m_gamePanel.visible=!1,this.m_pausePanel.visible=!1,e){this.m_gamePanel.removeChild(this.m_resetButton),this.m_pausePanel.removeChild(this.m_resetButton2),this.m_gamePanel.removeChild(this.m_rewindButton),this.m_pausePanel.removeChild(this.m_rewindButton2),this.m_gamePanel.removeChild(this.m_commentButton),this.m_pausePanel.removeChild(this.m_commentButton2),this.m_gamePanel.removeChild(this.m_linkButton),this.m_pausePanel.removeChild(this.m_linkButton2),this.m_gamePanel.removeChild(this.m_embedButton),this.m_pausePanel.removeChild(this.m_embedButton2);var i=new t.TextStyle;i.fontFamily=n.Main.GLOBAL_FONT,i.fontSize=15,this.m_resetButton=new l.GuiButton("Stop",700,35,85,45,this.cont.resetButton,l.GuiButton.PLAY,i),this.m_gamePanel.addChild(this.m_resetButton),this.m_resetButton2=new l.GuiButton("Stop",700,35,85,45,this.cont.resetButton,l.GuiButton.PLAY,i),this.m_pausePanel.addChild(this.m_resetButton2),this.m_rewindButton=new l.GuiButton("Restart",535,45,75,35,this.cont.rewindButton,l.GuiButton.RED),this.m_gamePanel.addChild(this.m_rewindButton),this.m_rewindButton2=new l.GuiButton("Restart",535,45,75,35,this.cont.rewindButton,l.GuiButton.RED),this.m_pausePanel.addChild(this.m_rewindButton2),this.m_saveReplayButton=new l.GuiButton("Save Replay",558,15,120,35,this.cont.saveReplayButton,l.GuiButton.PURPLE),this.m_gamePanel.addChild(this.m_saveReplayButton),this.m_saveReplayButton2=new l.GuiButton("Save Replay",558,15,120,35,this.cont.saveReplayButton,l.GuiButton.PURPLE),this.m_pausePanel.addChild(this.m_saveReplayButton2),this.m_commentButton=new l.GuiButton("Comment on this Robot",15,45,160,35,this.commentButton,l.GuiButton.ORANGE),this.m_gamePanel.addChild(this.m_commentButton),this.m_commentButton2=new l.GuiButton("Comment on this Robot",15,45,160,35,this.commentButton,l.GuiButton.ORANGE),this.m_pausePanel.addChild(this.m_commentButton2),this.m_linkButton=new l.GuiButton("Link to this Robot",165,45,140,35,this.linkButton,l.GuiButton.ORANGE),this.m_gamePanel.addChild(this.m_linkButton),this.m_linkButton2=new l.GuiButton("Link to this Robot",165,45,140,35,this.linkButton,l.GuiButton.ORANGE),this.m_pausePanel.addChild(this.m_linkButton2),this.m_embedButton=new l.GuiButton("Embed this Robot",295,45,140,35,this.embedButton,l.GuiButton.ORANGE),this.m_gamePanel.addChild(this.m_embedButton),this.m_embedButton2=new l.GuiButton("Embed this Robot",295,45,140,35,this.embedButton,l.GuiButton.ORANGE),this.m_pausePanel.addChild(this.m_embedButton2)}}ShowGamePanel(){this.m_editPanel.visible=!1,this.m_gamePanel.visible=!0,this.m_pausePanel.visible=!1,this.ShowFeatureButton(),e.ControllerGameGlobals.playingReplay&&""!=e.ControllerGameGlobals.curReplayID&&e.ControllerGameGlobals.curReplayPublic?(this.m_rateButton.visible=!0,this.m_rateButton3.visible=!1,this.m_commentButton.visible=!0,this.m_commentButton3.visible=!1,this.m_linkButton.visible=!0,this.m_linkButton3.visible=!1,this.m_embedButton.visible=!0,this.m_embedButton3.visible=!1):""!=e.ControllerGameGlobals.curChallengeID&&e.ControllerGameGlobals.curChallengePublic?(this.m_rateButton.visible=!1,this.m_rateButton3.visible=!0,this.m_commentButton.visible=!1,this.m_commentButton3.visible=!0,this.m_linkButton.visible=!1,this.m_linkButton3.visible=!0,this.m_embedButton.visible=!1,this.m_embedButton3.visible=!0):(this.m_rateButton.visible=!0,this.m_rateButton3.visible=!1,this.m_commentButton.visible=!0,this.m_commentButton3.visible=!1,this.m_linkButton.visible=!0,this.m_linkButton3.visible=!1,this.m_embedButton.visible=!0,this.m_embedButton3.visible=!1)}ShowPausePanel(t){this.m_editPanel.visible=!1,this.m_gamePanel.visible=!1,this.m_pausePanel.visible=!0,this.ShowFeatureButton(),this.m_saveReplayButton&&(this.m_saveReplayButton.visible=t),e.ControllerGameGlobals.playingReplay&&""!=e.ControllerGameGlobals.curReplayID&&e.ControllerGameGlobals.curReplayPublic?(this.m_rateButton2.visible=!0,this.m_rateButton4.visible=!1,this.m_commentButton2.visible=!0,this.m_commentButton4.visible=!1,this.m_linkButton2.visible=!0,this.m_linkButton4.visible=!1,this.m_embedButton2.visible=!0,this.m_embedButton4.visible=!1):""!=e.ControllerGameGlobals.curChallengeID&&e.ControllerGameGlobals.curChallengePublic?(this.m_rateButton2.visible=!1,this.m_rateButton4.visible=!0,this.m_commentButton2.visible=!1,this.m_commentButton4.visible=!0,this.m_linkButton2.visible=!1,this.m_linkButton4.visible=!0,this.m_embedButton2.visible=!1,this.m_embedButton4.visible=!0):(this.m_rateButton2.visible=!0,this.m_rateButton4.visible=!1,this.m_commentButton2.visible=!0,this.m_commentButton4.visible=!1,this.m_linkButton2.visible=!0,this.m_linkButton4.visible=!1,this.m_embedButton2.visible=!0,this.m_embedButton4.visible=!1)}ShowFeatureButton(){this.m_featureButton.visible=o.Util.ObjectInArray(e.ControllerGameGlobals.userName,e.ControllerGameGlobals.ADMIN_USERS),this.m_featureButton2.visible=o.Util.ObjectInArray(e.ControllerGameGlobals.userName,e.ControllerGameGlobals.ADMIN_USERS)}static scrollbarField(){var t=new i.Resource.cGuiScrollbarField;return t.smoothing=!0,t}static scrollbarBase(){var t=new i.Resource.cGuiScrollbarBase;return t.smoothing=!0,t}static scrollbarRoll(){var t=new i.Resource.cGuiScrollbarRoll;return t.smoothing=!0,t}static scrollbarClick(){var t=new i.Resource.cGuiScrollbarClick;return t.smoothing=!0,t}static scrollbarTallBase(){var t=new i.Resource.cGuiScrollbarTallBase;return t.smoothing=!0,t}static scrollbarTallRoll(){var t=new i.Resource.cGuiScrollbarTallRoll;return t.smoothing=!0,t}static scrollbarTallClick(){var t=new i.Resource.cGuiScrollbarTallClick;return t.smoothing=!0,t}static scrollbarButtonUpBase(){var t=new i.Resource.cGuiScrollbarButtonUpBase;return t.smoothing=!0,t}static scrollbarButtonUpRoll(){var t=new i.Resource.cGuiScrollbarButtonUpRoll;return t.smoothing=!0,t}static scrollbarButtonUpClick(){var t=new i.Resource.cGuiScrollbarButtonUpClick;return t.smoothing=!0,t}static scrollbarButtonDownBase(){var t=new i.Resource.cGuiScrollbarButtonDownBase;return t.smoothing=!0,t}static scrollbarButtonDownRoll(){var t=new i.Resource.cGuiScrollbarButtonDownRoll;return t.smoothing=!0,t}static scrollbarButtonDownClick(){var t=new i.Resource.cGuiScrollbarButtonDownClick;return t.smoothing=!0,t}}exports.MainEditPanel=u;
},{"pixi.js":"aQiP","../Game/Globals/ControllerGameGlobals":"K8aL","../Game/Graphics/Resource":"VWUR","../General/Util":"Zvyo","../Main":"aM6Q","./GuiButton":"IBBZ","./GuiWindow":"BOXT"}],"d4c4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DropDownMenuItem=void 0;const e=require("pixi.js"),i=require("../Game/Graphics/Resource"),h=require("../General/Input"),s=require("../Main");class t extends e.Graphics{constructor(h,t,c,o,l=!1,x=!1){super(),this.m_checkBoxBase=new e.Sprite,this.m_checkBoxRoll=new e.Sprite,this.m_checkBoxClick=new e.Sprite;var B=new e.TextStyle;B.fontFamily=s.Main.GLOBAL_FONT,B.fontSize=12,B.fill="#242930",this.interactive=!0,this.m_width=c,this.m_Text=new e.Text((l?"  ":"")+t),this.m_Text.x=10,this.m_Text.y=3,this.m_Text.style=B,this.addChild(this.m_Text),this.on("mouseup",()=>o()),this.on("mouseup",()=>h.HideAll()),this.on("mouseover",()=>this.highlight()),this.on("mouseout",()=>this.deHighlight()),l&&(x?(this.m_checkBoxBase.texture=i.Resource.cGuiMenuCheckBoxBBase,this.addChild(this.m_checkBoxBase),this.m_checkBoxRoll.texture=i.Resource.cGuiMenuCheckBoxBRoll,this.m_checkBoxRoll.visible=!1,this.addChild(this.m_checkBoxRoll),this.m_checkBoxClick.texture=i.Resource.cGuiMenuCheckBoxBClick,this.m_checkBoxClick.visible=!1,this.addChild(this.m_checkBoxClick)):(this.m_checkBoxBase.texture=i.Resource.cGuiMenuCheckBoxABase,this.addChild(this.m_checkBoxBase),this.m_checkBoxRoll.texture=i.Resource.cGuiMenuCheckBoxARoll,this.m_checkBoxRoll.visible=!1,this.addChild(this.m_checkBoxRoll),this.m_checkBoxClick.texture=i.Resource.cGuiMenuCheckBoxAClick,this.m_checkBoxClick.visible=!1,this.addChild(this.m_checkBoxClick)),this.m_checkBoxBase.x=3,this.m_checkBoxRoll.x=3,this.m_checkBoxClick.x=3,this.on("mousedown",()=>this.click()))}highlight(){this.beginFill(16692612,1),this.lineStyle(0,16692612),this.drawRect(1,1,this.m_width-2,18),this.m_checkBoxBase&&(this.m_checkBoxBase.visible=!1,this.m_checkBoxRoll.visible=!h.Input.mouseDown,this.m_checkBoxClick.visible=h.Input.mouseDown)}deHighlight(){this.beginFill(16644586,1),this.lineStyle(0,16644586),this.drawRect(1,1,this.m_width-2,18),this.m_checkBoxBase&&(this.m_checkBoxBase.visible=!0,this.m_checkBoxRoll.visible=!1,this.m_checkBoxClick.visible=!1)}click(){this.m_checkBoxBase.visible=!1,this.m_checkBoxRoll.visible=!1,this.m_checkBoxClick.visible=!0}}exports.DropDownMenuItem=t;
},{"pixi.js":"aQiP","../Game/Graphics/Resource":"VWUR","../General/Input":"xLqP","../Main":"aM6Q"}],"qU8f":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DropDownMenu=void 0;const t=require("pixi.js"),e=require("../Game/Globals/ControllerGameGlobals"),n=require("../Game/Graphics/Resource"),i=require("../Main"),s=require("./DropDownMenuItem");class u extends t.Graphics{constructor(e,n,i){super();const s=i;this.interactive=!0,this.text=new t.Text(e),this.text.anchor.set(.5),this.text.x=n+s/2,this.text.y=10.5,this.addChild(this.text),this.beginFill(16777215,.01),this.drawRect(n,0,s,21),this.endFill()}set style(t){this.text.style=t}get style(){return this.text.style}}class h extends t.Graphics{constructor(e){super(),this.mouseDown=!1,this.cont=e,this.m_currentMenu=null,this.interactive=!0,this.menuBitmap=n.Resource.cGuiMenuBar,this.menuBitmapRoll=n.Resource.cGuiMenuBarRoll,this.beginTextureFill({texture:this.menuBitmap}),this.drawRect(0,0,800,21);const s=new t.TextStyle;s.fontFamily=i.Main.GLOBAL_FONT,s.align="center",s.fill="#E1E1EA",s.fontSize=12,s.dropShadow=!0,s.dropShadowColor="#343550",s.dropShadowDistance=1,this.fileText=new u("File",0,40),this.fileText.interactive=!0,this.fileText.style=s,this.fileText.on("mousedown",t=>this.file(t)),this.fileText.on("mouseover",t=>this.maybeFile(t)),this.fileText.on("mouseout",t=>this.noFile(t)),this.addChild(this.fileText),this.editText=new u("Edit",40,40),this.editText.interactive=!0,this.editText.style=s,this.editText.on("mousedown",t=>this.edit(t)),this.editText.on("mouseover",t=>this.maybeEdit(t)),this.editText.on("mouseout",t=>this.noEdit(t)),this.addChild(this.editText),this.viewText=new u("View",80,40),this.viewText.interactive=!0,this.viewText.style=s,this.viewText.on("mousedown",t=>this.view(t)),this.viewText.on("mouseover",t=>this.maybeView(t)),this.viewText.on("mouseout",t=>this.noView(t)),this.addChild(this.viewText),this.commentText=new u("Share!",120,60),this.commentText.interactive=!0,this.commentText.style=s,this.commentText.on("mousedown",t=>this.comment(t)),this.commentText.on("mouseover",t=>this.maybeComment(t)),this.commentText.on("mouseout",t=>this.noComment(t)),this.addChild(this.commentText),this.helpText=new u("Help",180,45),this.helpText.interactive=!0,this.helpText.style=s,this.helpText.on("mousedown",t=>this.help(t)),this.helpText.on("mouseover",t=>this.maybeHelp(t)),this.helpText.on("mouseout",t=>this.noHelp(t)),this.addChild(this.helpText),this.aboutText=new u("About",750,50),this.aboutText.interactive=!0,this.aboutText.style=s,this.aboutText.on("mousedown",t=>this.about(t)),this.aboutText.on("mouseover",t=>this.maybeAbout(t)),this.aboutText.on("mouseout",t=>this.noAbout(t)),this.addChild(this.aboutText),this.extrasText=new u("Extras",225,50),this.extrasText.interactive=!0,this.extrasText.style=s,this.extrasText.on("mousedown",t=>this.extras(t)),this.extrasText.on("mouseover",t=>this.maybeExtras(t)),this.extrasText.on("mouseout",t=>this.noExtras(t)),this.addChild(this.extrasText)}Update(){}MouseClick(t,e,n){!(n>20)||this.m_currentMenu&&this.MouseOverMenu(e,n)||this.HideAll()}BuildFileMenu(){this.m_currentMenu&&this.removeChild(this.m_currentMenu),this.m_currentMenu=new t.Graphics,this.m_currentMenu.interactive=!0,this.m_currentMenu.x=0,this.m_currentMenu.y=20,this.m_currentMenu.beginFill(16644586,1),this.m_currentMenu.lineStyle(1,4404847),this.m_currentMenu.moveTo(0,0),this.m_currentMenu.drawRect(0,0,155,200);var e=new s.DropDownMenuItem(this,"Main Menu",155,()=>this.cont.newButton());e.y=0,this.m_currentMenu.addChild(e),(e=new s.DropDownMenuItem(this,"Save...",155,()=>this.cont.saveButton())).y=20,this.m_currentMenu.addChild(e),(e=new s.DropDownMenuItem(this,"Load Robot",155,()=>this.cont.loadRobotButton())).y=40,this.m_currentMenu.addChild(e),(e=new s.DropDownMenuItem(this,"Load And Insert",155,()=>this.cont.loadAndInsertButton())).y=60,this.m_currentMenu.addChild(e),(e=new s.DropDownMenuItem(this,"Load Replay",155,()=>this.cont.loadReplayButton())).y=80,this.m_currentMenu.addChild(e),(e=new s.DropDownMenuItem(this,"Load Challenge",155,()=>this.cont.loadChallengeButton())).y=100,this.m_currentMenu.addChild(e),(e=new s.DropDownMenuItem(this,"Log In",155,()=>this.cont.loginButton())).y=120,this.m_currentMenu.addChild(e),(e=new s.DropDownMenuItem(this,"View High Scores",155,()=>this.cont.highScoresButton())).y=140,this.m_currentMenu.addChild(e),(e=new s.DropDownMenuItem(this,"Report As Inappropriate",155,()=>this.cont.reportButton())).y=160,this.m_currentMenu.addChild(e),(e=new s.DropDownMenuItem(this,i.Main.enableSound?"Disable Sound":"Enable Sound",155,()=>this.soundButton())).y=180,this.m_currentMenu.addChild(e),this.addChild(this.m_currentMenu)}BuildEditMenu(){this.m_currentMenu&&this.removeChild(this.m_currentMenu),this.m_currentMenu=new t.Graphics,this.m_currentMenu.interactive=!0,this.m_currentMenu.x=40,this.m_currentMenu.y=20,this.m_currentMenu.beginFill(16644586,1),this.m_currentMenu.lineStyle(1,4404847),this.m_currentMenu.moveTo(0,0),this.m_currentMenu.drawRect(0,0,120,200);var e=new s.DropDownMenuItem(this,"Change Settings",120,()=>this.cont.sandboxSettingsButton());e.y=0,this.m_currentMenu.addChild(e),(e=new s.DropDownMenuItem(this,"Clear All",120,()=>this.cont.clearButton())).y=20,this.m_currentMenu.addChild(e),(e=new s.DropDownMenuItem(this,"Undo",120,()=>this.cont.undoButton())).y=40,this.m_currentMenu.addChild(e),(e=new s.DropDownMenuItem(this,"Redo",120,()=>this.cont.redoButton())).y=60,this.m_currentMenu.addChild(e),(e=new s.DropDownMenuItem(this,"Cut",120,()=>this.cont.cutButton())).y=80,this.m_currentMenu.addChild(e),(e=new s.DropDownMenuItem(this,"Copy",120,()=>this.cont.copyButton())).y=100,this.m_currentMenu.addChild(e),(e=new s.DropDownMenuItem(this,"Paste",120,()=>this.pasteButton())).y=120,this.m_currentMenu.addChild(e),(e=new s.DropDownMenuItem(this,"Delete",120,()=>this.cont.deleteButton())).y=140,this.m_currentMenu.addChild(e),(e=new s.DropDownMenuItem(this,"Move to Front",120,()=>this.cont.frontButton())).y=160,this.m_currentMenu.addChild(e),(e=new s.DropDownMenuItem(this,"Move to Back",120,()=>this.cont.backButton())).y=180,this.m_currentMenu.addChild(e),this.addChild(this.m_currentMenu)}BuildViewMenu(){this.m_currentMenu&&this.removeChild(this.m_currentMenu),this.m_currentMenu=new t.Graphics,this.m_currentMenu.interactive=!0,this.m_currentMenu.x=80,this.m_currentMenu.y=21,this.m_currentMenu.beginFill(16644586,1),this.m_currentMenu.lineStyle(1,4404847),this.m_currentMenu.moveTo(0,0),this.m_currentMenu.drawRect(0,0,140,140);var n=new s.DropDownMenuItem(this,"Zoom In",140,()=>this.cont.zoomInButton());n.y=0,this.m_currentMenu.addChild(n),(n=new s.DropDownMenuItem(this,"Zoom Out",140,()=>this.cont.zoomOutButton())).y=20,this.m_currentMenu.addChild(n),(n=new s.DropDownMenuItem(this,"Snap to Center",140,()=>this.cont.centerBox(),!0,e.ControllerGameGlobals.snapToCenter)).y=40,this.m_currentMenu.addChild(n),(n=new s.DropDownMenuItem(this,"Show Joints",140,()=>this.cont.jointBox(),!0,e.ControllerGameGlobals.showJoints)).y=60,this.m_currentMenu.addChild(n),(n=new s.DropDownMenuItem(this,"Show Colors",140,()=>this.cont.colourBox(),!0,e.ControllerGameGlobals.showColours)).y=80,this.m_currentMenu.addChild(n),(n=new s.DropDownMenuItem(this,"Show Outlines",140,()=>this.cont.globalOutlineBox(),!0,e.ControllerGameGlobals.showOutlines)).y=100,this.m_currentMenu.addChild(n),(n=new s.DropDownMenuItem(this,"Center on Selection",140,()=>this.cont.centerOnSelectedBox(),!0,e.ControllerGameGlobals.centerOnSelected)).y=120,this.m_currentMenu.addChild(n),this.addChild(this.m_currentMenu)}BuildCommentMenu(){if(this.m_currentMenu&&this.removeChild(this.m_currentMenu),this.m_currentMenu=new t.Graphics,this.m_currentMenu.interactive=!0,this.m_currentMenu.x=120,this.m_currentMenu.y=21,this.m_currentMenu.beginFill(16644586,1),this.m_currentMenu.lineStyle(1,4404847),this.m_currentMenu.moveTo(0,0),this.m_currentMenu.drawRect(0,0,180,60),e.ControllerGameGlobals.playingReplay){var n=new s.DropDownMenuItem(this,"Comment on this Replay",180,()=>this.cont.commentReplayButton());n.y=0,this.m_currentMenu.addChild(n),(n=new s.DropDownMenuItem(this,"Link to this Replay",180,()=>this.cont.linkReplayButton())).y=20,this.m_currentMenu.addChild(n),(n=new s.DropDownMenuItem(this,"Embed this Replay",180,()=>this.cont.embedReplayButton())).y=40,this.m_currentMenu.addChild(n)}else"ControllerChallenge"===this.cont.constructor.name&&""!=e.ControllerGameGlobals.curChallengeID&&e.ControllerGameGlobals.curChallengePublic?((n=new s.DropDownMenuItem(this,"Comment on this Challenge",180,()=>this.cont.commentChallengeButton())).y=0,this.m_currentMenu.addChild(n),(n=new s.DropDownMenuItem(this,"Link to this Challenge",180,()=>this.cont.linkChallengeButton())).y=20,this.m_currentMenu.addChild(n),(n=new s.DropDownMenuItem(this,"Embed this Challenge",180,()=>this.cont.embedChallengeButton())).y=40,this.m_currentMenu.addChild(n)):((n=new s.DropDownMenuItem(this,"Comment on this Robot",180,()=>this.cont.commentButton())).y=0,this.m_currentMenu.addChild(n),(n=new s.DropDownMenuItem(this,"Link to this Robot",180,()=>this.cont.linkButton())).y=20,this.m_currentMenu.addChild(n),(n=new s.DropDownMenuItem(this,"Embed this Robot",180,()=>this.cont.embedButton())).y=40,this.m_currentMenu.addChild(n));this.addChild(this.m_currentMenu)}BuildHelpMenu(){this.m_currentMenu&&this.removeChild(this.m_currentMenu),this.m_currentMenu=new t.Graphics,this.m_currentMenu.interactive=!0,this.m_currentMenu.x=180,this.m_currentMenu.y=21,this.m_currentMenu.beginFill(16644586,1),this.m_currentMenu.lineStyle(1,4404847),this.m_currentMenu.moveTo(0,0),this.m_currentMenu.drawRect(0,0,115,40);var e=new s.DropDownMenuItem(this,"Incredibots Help",115,()=>this.helpButton());e.y=0,this.m_currentMenu.addChild(e),(e=new s.DropDownMenuItem(this,"Forums",115,()=>this.forumsButton())).y=20,this.m_currentMenu.addChild(e),this.addChild(this.m_currentMenu)}BuildAboutMenu(){this.m_currentMenu&&this.removeChild(this.m_currentMenu),this.m_currentMenu=new t.Graphics,this.m_currentMenu.interactive=!0,this.m_currentMenu.x=670,this.m_currentMenu.y=21,this.m_currentMenu.beginFill(16644586,1),this.m_currentMenu.lineStyle(1,4404847),this.m_currentMenu.moveTo(0,0),this.m_currentMenu.drawRect(0,0,130,40);var e=new s.DropDownMenuItem(this,"Credits",130,()=>this.credits());e.y=0,this.m_currentMenu.addChild(e),(e=new s.DropDownMenuItem(this,"GrubbyGames.com",130,()=>this.grubby())).y=20,this.m_currentMenu.addChild(e),this.addChild(this.m_currentMenu)}BuildExtrasMenu(){this.m_currentMenu&&this.removeChild(this.m_currentMenu),this.m_currentMenu=new t.Graphics,this.m_currentMenu.interactive=!0,this.m_currentMenu.x=225,this.m_currentMenu.y=21,this.m_currentMenu.beginFill(16644586,1),this.m_currentMenu.lineStyle(1,4404847),this.m_currentMenu.moveTo(0,0),this.m_currentMenu.drawRect(0,0,115,"sandbox"===this.cont.controllerType?100:60);var e=new s.DropDownMenuItem(this,"Mirror Horizontal",115,()=>this.mirrorHorizontalButton());e.y=0,this.m_currentMenu.addChild(e),(e=new s.DropDownMenuItem(this,"Mirror Vertical",115,()=>this.mirrorVerticalButton())).y=20,this.m_currentMenu.addChild(e),(e=new s.DropDownMenuItem(this,"Scale",115,()=>this.cont.scaleButton())).y=40,this.m_currentMenu.addChild(e),"sandbox"===this.cont.controllerType&&((e=new s.DropDownMenuItem(this,"Thrusters",115,()=>this.cont.thrustersButton())).y=60,this.m_currentMenu.addChild(e),(e=new s.DropDownMenuItem(this,"Cannon",115,()=>this.cont.cannonButton())).y=80,this.m_currentMenu.addChild(e)),this.addChild(this.m_currentMenu)}MouseOverMenu(t,e){return!!this.m_currentMenu&&(this.m_currentMenu&&t>=this.m_currentMenu.x&&t<this.m_currentMenu.x+this.m_currentMenu.width&&e>=this.m_currentMenu.y&&e<this.m_currentMenu.y+this.m_currentMenu.height)}file(t,e=!0){this.mouseDown&&e?(this.noFile(t),this.mouseDown=!1):(this.noEdit(t),this.MakeDummyMenu(),this.noView(t),this.MakeDummyMenu(),this.noComment(t),this.MakeDummyMenu(),this.noHelp(t),this.MakeDummyMenu(),this.noAbout(t),this.MakeDummyMenu(),this.noExtras(t),this.beginTextureFill({texture:this.menuBitmapRoll}),this.drawRect(0,0,40,21),this.BuildFileMenu(),this.mouseDown=!0)}maybeFile(t){this.mouseDown&&this.file(t,!1)}noFile(t){t.target!==this&&t.target!==this.m_currentMenu&&this.m_currentMenu&&!this.MouseOverMenu(t.data.global.x,t.data.global.y)&&(this.beginTextureFill({texture:this.menuBitmap}),this.drawRect(0,0,40,21),this.removeChild(this.m_currentMenu),this.m_currentMenu=null)}edit(t,e=!0){this.mouseDown&&e?(this.noEdit(t),this.mouseDown=!1):(this.noFile(t),this.MakeDummyMenu(),this.noView(t),this.MakeDummyMenu(),this.noComment(t),this.MakeDummyMenu(),this.noHelp(t),this.MakeDummyMenu(),this.noAbout(t),this.MakeDummyMenu(),this.noExtras(t),this.beginTextureFill({texture:this.menuBitmapRoll}),this.drawRect(40,0,40,21),this.mouseDown=!0,this.BuildEditMenu())}maybeEdit(t){this.mouseDown&&this.edit(t,!1)}noEdit(t){t.target!==this&&t.target!==this.m_currentMenu&&this.m_currentMenu&&!this.MouseOverMenu(t.stageX,t.stageY)&&(this.beginTextureFill({texture:this.menuBitmap}),this.drawRect(40,0,40,21),this.removeChild(this.m_currentMenu),this.m_currentMenu=null)}view(t,e=!0){this.mouseDown&&e?(this.noView(t),this.mouseDown=!1):(this.noFile(t),this.MakeDummyMenu(),this.noEdit(t),this.MakeDummyMenu(),this.noComment(t),this.MakeDummyMenu(),this.noHelp(t),this.MakeDummyMenu(),this.noAbout(t),this.MakeDummyMenu(),this.noExtras(t),this.beginTextureFill({texture:this.menuBitmapRoll}),this.drawRect(80,0,40,21),this.mouseDown=!0,this.BuildViewMenu())}maybeView(t){this.mouseDown&&this.view(t,!1)}noView(t){t.target!==this&&t.target!==this.m_currentMenu&&this.m_currentMenu&&!this.MouseOverMenu(t.stageX,t.stageY)&&(this.beginTextureFill({texture:this.menuBitmap}),this.drawRect(80,0,40,21),this.removeChild(this.m_currentMenu),this.m_currentMenu=null)}comment(t,e=!0){this.mouseDown&&e?(this.noComment(t),this.mouseDown=!1):(this.noFile(t),this.MakeDummyMenu(),this.noEdit(t),this.MakeDummyMenu(),this.noView(t),this.MakeDummyMenu(),this.noHelp(t),this.MakeDummyMenu(),this.noAbout(t),this.MakeDummyMenu(),this.noExtras(t),this.beginTextureFill({texture:this.menuBitmapRoll}),this.drawRect(120,0,60,21),this.mouseDown=!0,this.BuildCommentMenu())}maybeComment(t){this.mouseDown&&this.comment(t,!1)}noComment(t){t.target!==this&&t.target!==this.m_currentMenu&&this.m_currentMenu&&!this.MouseOverMenu(t.stageX,t.stageY)&&(this.beginTextureFill({texture:this.menuBitmap}),this.drawRect(120,0,60,21),this.removeChild(this.m_currentMenu),this.m_currentMenu=null)}help(t,e=!0){this.mouseDown&&e?(this.noHelp(t),this.mouseDown=!1):(this.noFile(t),this.MakeDummyMenu(),this.noEdit(t),this.MakeDummyMenu(),this.noView(t),this.MakeDummyMenu(),this.noComment(t),this.MakeDummyMenu(),this.noAbout(t),this.MakeDummyMenu(),this.noExtras(t),this.beginTextureFill({texture:this.menuBitmapRoll}),this.drawRect(180,0,40,21),this.mouseDown=!0,this.BuildHelpMenu())}maybeHelp(t){this.mouseDown&&this.help(t,!1)}noHelp(t){t.target!==this&&t.target!==this.m_currentMenu&&this.m_currentMenu&&!this.MouseOverMenu(t.stageX,t.stageY)&&(this.beginTextureFill({texture:this.menuBitmap}),this.drawRect(180,0,40,21),this.removeChild(this.m_currentMenu),this.m_currentMenu=null)}about(t,e=!0){this.mouseDown&&e?(this.noAbout(t),this.mouseDown=!1):(this.noFile(t),this.MakeDummyMenu(),this.noEdit(t),this.MakeDummyMenu(),this.noView(t),this.MakeDummyMenu(),this.noComment(t),this.MakeDummyMenu(),this.noHelp(t),this.MakeDummyMenu(),this.noExtras(t),this.beginTextureFill({texture:this.menuBitmapRoll}),this.drawRect(750,0,50,21),this.mouseDown=!0,this.BuildAboutMenu())}maybeAbout(t){this.mouseDown&&this.about(t,!1)}noAbout(t){t.target!==this&&t.target!==this.m_currentMenu&&this.m_currentMenu&&!this.MouseOverMenu(t.stageX,t.stageY)&&(this.beginTextureFill({texture:this.menuBitmap}),this.drawRect(750,0,50,21),this.removeChild(this.m_currentMenu),this.m_currentMenu=null)}extras(t,e=!0){this.mouseDown&&e?(this.noExtras(t),this.mouseDown=!1):(this.noFile(t),this.MakeDummyMenu(),this.noEdit(t),this.MakeDummyMenu(),this.noView(t),this.MakeDummyMenu(),this.noComment(t),this.MakeDummyMenu(),this.noHelp(t),this.MakeDummyMenu(),this.noAbout(t),this.beginTextureFill({texture:this.menuBitmapRoll}),this.drawRect(225,0,50,21),this.mouseDown=!0,this.BuildExtrasMenu())}maybeExtras(t){this.mouseDown&&this.extras(t,!1)}noExtras(t){t.target!==this&&t.target!==this.m_currentMenu&&this.m_currentMenu&&!this.MouseOverMenu(t.stageX,t.stageY)&&(this.beginTextureFill({texture:this.menuBitmap}),this.drawRect(225,0,50,21),this.removeChild(this.m_currentMenu),this.m_currentMenu=null)}HideAll(){this.m_currentMenu&&(this.removeChild(this.m_currentMenu),this.m_currentMenu=null,this.beginTextureFill({texture:this.menuBitmap}),this.drawRect(0,0,800,21)),this.mouseDown=!1}MakeDummyMenu(){this.m_currentMenu=new t.Graphics,this.addChild(this.m_currentMenu)}pasteButton(){this.cont.ignoreAClick=!0,this.cont.pasteButton()}mirrorHorizontalButton(){this.cont.ignoreAClick=!0,this.cont.mirrorHorizontal()}mirrorVerticalButton(){this.cont.ignoreAClick=!0,this.cont.mirrorVertical()}soundButton(){i.Main.enableSound=!i.Main.enableSound}credits(){i.Main.BrowserRedirect("http://www.incredifriends.com/",!0)}grubby(){i.Main.BrowserRedirect("http://www.grubbygames.com",!0)}helpButton(){i.Main.BrowserRedirect("http://www.incredifriends.com/",!0)}forumsButton(){i.Main.BrowserRedirect("http://www.incredifriends.com/",!0)}}exports.DropDownMenu=h;
},{"pixi.js":"aQiP","../Game/Globals/ControllerGameGlobals":"K8aL","../Game/Graphics/Resource":"VWUR","../Main":"aM6Q","./DropDownMenuItem":"d4c4"}],"nOXD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GuiCheckBox=void 0;const e=require("pixi.js"),s=require("../Game/Graphics/Resource"),t=require("../Main");class i extends e.Graphics{constructor(t,i,l){super(),this.enabled=!0,this.focusEnabled=!0,this._selected=!1,this._disabled=!1,this._mouseOver=!1,this._mouseDown=!1,this._style=new e.TextStyle,this._disabledStyle=new e.TextStyle;this.buttonMode=!0,this.interactive=!0,this.x=t,this.y=i,this._icon=new e.Sprite,this._icon.x=5,this._icon.y=0,this._label=new e.Text(""),this._label.anchor.set(0,.5),this._label.x=32,this._label.y=12,this.textures={upIcon:s.Resource.cGuiCheckboxABase,overIcon:s.Resource.cGuiCheckboxARoll,downIcon:s.Resource.cGuiCheckboxAClick,disabledIcon:s.Resource.cGuiCheckboxADisabled,selectedUpIcon:s.Resource.cGuiCheckboxBBase,selectedOverIcon:s.Resource.cGuiCheckboxBRoll,selectedDownIcon:s.Resource.cGuiCheckboxBClick,selectedDisabledIcon:s.Resource.cGuiCheckboxBDisabled},this._icon.texture=this.selected?this.textures.selectedUpIcon:this.textures.upIcon,this.beginFill(16777215,.01),this.drawRect(0,0,l,22),this.endFill(),this.addChild(this._icon),this.addChild(this._label),this.on("click",e=>this.mouseClick(e)),this.on("mouseover",()=>{this._mouseOver=!0,this.updateIcon()}),this.on("mouseout",()=>{this._mouseOver=!1,this.updateIcon()}),this.on("mousedown",()=>{this._mouseDown=!0,this.updateIcon()}),this.on("mouseup",()=>{this._mouseDown=!1,this.updateIcon()})}set label(e){this._label.text=e}get label(){return this._label.text}set style(e){this._style=e,this.disabled||(this._label.style=e)}get style(){return this._style}set disabledStyle(e){this._disabledStyle=e,this.disabled&&(this._label.style=e)}get disabledStyle(){return this._disabledStyle}set selected(e){this._selected=e,this.updateIcon()}get selected(){return this._selected}set disabled(e){this._disabled=e,this._label.style=this._disabled?this._disabledStyle:this._style,this.updateIcon()}get disabled(){return this._disabled}async load(){}mouseClick(e){this.disabled||(this.toggle(),t.Main.enableSound&&i.clickSound.play(),this.emit("change",this.selected))}toggle(){this.selected=!this.selected,this.updateIcon()}updateIcon(){let e="Up";this._mouseOver&&(e="Over"),this._mouseDown&&(e="Down"),this._disabled&&(e="Disabled"),this._icon.texture=this.selected?this.textures[`selected${e}Icon`]:this.textures[`${e.toLowerCase()}Icon`]}}exports.GuiCheckBox=i,i.clickSound=s.Resource.cClick;
},{"pixi.js":"aQiP","../Game/Graphics/Resource":"VWUR","../Main":"aM6Q"}],"vG6C":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GuiComboboxItem=void 0;const e=require("pixi.js"),t=require("../Game/Graphics/Resource"),i=require("../Main");class s extends e.Container{constructor(o,r,u,l,h){super(),this.label=new e.Text(""),this.background=new e.Sprite,this._selected=!1,this._text="",this.width=l,this.height=h,this.x=r,this.y=u,this.buttonMode=!0,this.interactive=!0,this.text=o,this.upTexture=t.Resource.cGuiListboxBase,this.overTexture=t.Resource.cGuiListboxRoll,this.downTexture=t.Resource.cGuiListboxClick;const n=new e.TextStyle;n.fontSize=11,n.fill="#573D40",n.fontFamily=i.Main.GLOBAL_FONT,n.align="left",this.background.texture=this.upTexture,this.background.width=l,this.background.height=h,this.addChild(this.background),this.label.style=n,this.label.anchor.set(0,.5),this.label.x=10,this.label.y=h/2,this.addChild(this.label),this.on("click",e=>{i.Main.enableSound&&(s.clickSound.stop(),s.clickSound.volume=.2,s.clickSound.play()),e.stopPropagation(),this.emit("select",e)}).on("mousedown",e=>{this.background.texture=this.downTexture}).on("mouseover",e=>{this.background.texture=this.selected?this.downTexture:this.overTexture,i.Main.enableSound&&(s.rolloverSound.stop(),s.rolloverSound.volume=.2,s.rolloverSound.play())}).on("mouseout",e=>{this.background.texture=this.selected?this.downTexture:this.upTexture})}set selected(e){this._selected=e,this._selected?this.background.texture=this.downTexture:this.background.texture=this.upTexture}get selected(){return this._selected}set text(e){this._text=e,this.label.text=this._text}get text(){return this._text}}exports.GuiComboboxItem=s,s.rolloverSound=t.Resource.cRoll,s.clickSound=t.Resource.cClick;
},{"pixi.js":"aQiP","../Game/Graphics/Resource":"VWUR","../Main":"aM6Q"}],"a9Q3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GuiCombobox=void 0;const e=require("pixi.js"),t=require("../Game/Graphics/Resource"),i=require("../Main"),s=require("./GuiComboboxItem"),n=[];class h extends e.Container{constructor(s,o,r,u){super(),this.buttonOffset=!1,this.label=new e.Text(""),this.background=new e.Sprite,this.itemsTextStyle=null,this._selectedIndex=0,this._menuOpen=!1,this.items=[],this.itemsWidgets=[],this.width=r,this.height=u,this.x=s,this.y=o,n.push(this),this.upTexture=t.Resource.cGuiComboboxBase,this.overTexture=t.Resource.cGuiComboboxRoll,this.downTexture=t.Resource.cGuiComboboxClick,this.itemsTextStyle=new e.TextStyle,this.itemsTextStyle.fontSize=11,this.itemsTextStyle.fill="#573D40",this.itemsTextStyle.fontFamily=i.Main.GLOBAL_FONT,this.itemsTextStyle.align="left",this.width=r,this.height=u,this.position.set(s,o),this.buttonMode=!0,this.interactive=!0,this.background.texture=this.upTexture,this.background.width=r,this.background.height=u,this.addChild(this.background),this.label.text="",this.label.style=this.itemsTextStyle,this.label.anchor.set(0,.5),this.label.x=10,this.label.y=u/2,this.addChild(this.label),this.itemsContainer=new e.Container,this.itemsContainer.x=5,this.itemsContainer.width=r-10,this.itemsContainer.height=u,this.itemsContainer.y=u,this.itemsContainer.visible=this._menuOpen,this.addChild(this.itemsContainer),this.itemsContainerBackground=new e.Graphics,this.itemsContainerBackground.height=u,this.itemsContainerBackground.beginFill(255),this.itemsContainerBackground.drawRect(0,0,r-10,u),this.itemsContainerBackground.endFill(),this.itemsContainer.addChild(this.itemsContainerBackground),this.on("click",e=>{e.target===this&&(this.openMenu(),i.Main.enableSound&&(h.clickSound.volume=.8,h.clickSound.play()))}).on("mousedown",e=>{this.background.texture=this.downTexture,this.buttonOffset||(this.x+=2,this.y+=2,this.buttonOffset=!0)}).on("mouseover",e=>{this.background.texture=this.overTexture,i.Main.enableSound&&(h.rolloverSound.stop(),h.rolloverSound.volume=.2,h.rolloverSound.play())}).on("mouseout",e=>{this.menuOpen||(this.background.texture=this.upTexture,this.buttonOffset&&(this.x-=2,this.y-=2,this.buttonOffset=!1))}),this.zIndex=0}set selectedIndex(e){this._selectedIndex=e,this.itemsWidgets.forEach((e,t)=>{t===this._selectedIndex?(e.selected=!0,this.label.text=e.text):e.selected=!1}),this.menuOpen=!1,this.emit("change",this._selectedIndex)}get selectedIndex(){return this._selectedIndex}set menuOpen(e){this._menuOpen=e,this.zIndex=this._menuOpen?1e3:0,this.itemsContainer.visible=this._menuOpen}get menuOpen(){return this._menuOpen}addItem(e){this.items.push(e),this.label.text=this.items[this.selectedIndex].label,this.itemsContainer.removeChild(...this.itemsWidgets),this.itemsContainerBackground.height=20*this.items.length,this.itemsWidgets=[],this.items.forEach((e,t)=>{const i=new s.GuiComboboxItem(e.label,0,20*t,this.itemsContainer.width,20);i.on("select",()=>{this.selectedIndex=t}),this.itemsContainer.addChild(i),this.itemsWidgets.push(i)})}openMenu(){n.forEach(e=>{e!==this&&(e.menuOpen=!1)}),this.menuOpen=!this.menuOpen}}exports.GuiCombobox=h,h.rolloverSound=t.Resource.cRoll,h.clickSound=t.Resource.cClick;
},{"pixi.js":"aQiP","../Game/Graphics/Resource":"VWUR","../Main":"aM6Q","./GuiComboboxItem":"vG6C"}],"ms4f":[function(require,module,exports) {
!function(t){const e=t.PIXI;function i(t){if((t=t||{fill:13421772}).default)t.focused=t.focused||t.default,t.disabled=t.disabled||t.default;else{let e=t;(t={}).default=t.focused=t.disabled=e}return function(i,s,r){let o=t[r.toLowerCase()],h=new e.Graphics;return o.fill&&h.beginFill(o.fill),o.stroke&&h.lineStyle(o.stroke.width||1,o.stroke.color||0,o.stroke.alpha||1),o.rounded?h.drawRoundedRect(0,0,i,s,o.rounded):h.drawRect(0,0,i,s),h.endFill(),h.closePath(),h}}t.exportTo[0][t.exportTo[1]]=class extends e.Container{constructor(t){super(),this._input_style=Object.assign({position:"absolute",background:"none",border:"none",outline:"none",transformOrigin:"0 0",lineHeight:"1"},t.input),t.box?this._box_generator="function"==typeof t.box?t.box:new i(t.box):this._box_generator=null,this._input_style.hasOwnProperty("multiline")?(this._multiline=!!this._input_style.multiline,delete this._input_style.multiline):this._multiline=!1,this._box_cache={},this._previous={},this._dom_added=!1,this._dom_visible=!0,this._placeholder="",this._placeholderColor=11119017,this._selection=[0,0],this._restrict_value="",this._createDOMInput(),this.substituteText=!0,this._setState("DEFAULT"),this._addListeners()}get substituteText(){return this._substituted}set substituteText(t){this._substituted!=t&&(this._substituted=t,t?(this._createSurrogate(),this._dom_visible=!1):(this._destroySurrogate(),this._dom_visible=!0),this.placeholder=this._placeholder,this._update())}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this._substituted?(this._updateSurrogate(),this._dom_input.placeholder=""):this._dom_input.placeholder=t}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._dom_input.disabled=t,this._setState(t?"DISABLED":"DEFAULT")}get maxLength(){return this._max_length}set maxLength(t){this._max_length=t,this._dom_input.setAttribute("maxlength",t)}get restrict(){return this._restrict_regex}set restrict(t){t instanceof RegExp?("^"!==(t=t.toString().slice(1,-1)).charAt(0)&&(t="^"+t),"$"!==t.charAt(t.length-1)&&(t+="$"),t=new RegExp(t)):t=new RegExp("^["+t+"]*$"),this._restrict_regex=t}get text(){return this._dom_input.value}set text(t){this._dom_input.value=t,this._substituted&&this._updateSurrogate()}get htmlInput(){return this._dom_input}focus(){this._substituted&&!this.dom_visible&&this._setDOMInputVisible(!0),this._dom_input.focus()}blur(){this._dom_input.blur()}select(){this.focus(),this._dom_input.select()}setInputStyle(t,e){this._input_style[t]=e,this._dom_input.style[t]=e,!this._substituted||"fontFamily"!==t&&"fontSize"!==t||this._updateFontMetrics(),this._last_renderer&&this._update()}destroy(t){this._destroyBoxCache(),super.destroy(t)}_createDOMInput(){this._multiline?(this._dom_input=document.createElement("textarea"),this._dom_input.style.resize="none"):(this._dom_input=document.createElement("input"),this._dom_input.type="text");for(let t in this._input_style)this._dom_input.style[t]=this._input_style[t]}_addListeners(){this.on("added",this._onAdded.bind(this)),this.on("removed",this._onRemoved.bind(this)),this._dom_input.addEventListener("keydown",this._onInputKeyDown.bind(this)),this._dom_input.addEventListener("input",this._onInputInput.bind(this)),this._dom_input.addEventListener("keyup",this._onInputKeyUp.bind(this)),this._dom_input.addEventListener("focus",this._onFocused.bind(this)),this._dom_input.addEventListener("blur",this._onBlurred.bind(this))}_onInputKeyDown(t){this._selection=[this._dom_input.selectionStart,this._dom_input.selectionEnd],this.emit("keydown",t.keyCode)}_onInputInput(t){this._restrict_regex&&this._applyRestriction(),this._substituted&&this._updateSubstitution(),this.emit("input",this.text)}_onInputKeyUp(t){this.emit("keyup",t.keyCode)}_onFocused(){this._setState("FOCUSED"),this.emit("focus")}_onBlurred(){this._setState("DEFAULT"),this.emit("blur")}_onAdded(){document.body.appendChild(this._dom_input),this._dom_input.style.display="none",this._dom_added=!0}_onRemoved(){document.body.removeChild(this._dom_input),this._dom_added=!1}_setState(t){this.state=t,this._updateBox(),this._substituted&&this._updateSubstitution()}renderWebGL(t){super.renderWebGL(t),this._renderInternal(t)}renderCanvas(t){super.renderCanvas(t),this._renderInternal(t)}render(t){super.render(t),this._renderInternal(t)}_renderInternal(t){this._resolution=t.resolution,this._last_renderer=t,this._canvas_bounds=this._getCanvasBounds(),this._needsUpdate()&&this._update()}_update(){this._updateDOMInput(),this._substituted&&this._updateSurrogate(),this._updateBox()}_updateBox(){this._box_generator&&(this._needsNewBoxCache()&&this._buildBoxCache(),this.state==this._previous.state&&this._box==this._box_cache[this.state]||(this._box&&this.removeChild(this._box),this._box=this._box_cache[this.state],this.addChildAt(this._box,0),this._previous.state=this.state))}_updateSubstitution(){"FOCUSED"===this.state?(this._dom_visible=!0,this._surrogate.visible=0===this.text.length):(this._dom_visible=!1,this._surrogate.visible=!0),this._updateDOMInput(),this._updateSurrogate()}_updateDOMInput(){this._canvas_bounds&&(this._dom_input.style.top=(this._canvas_bounds.top||0)+"px",this._dom_input.style.left=(this._canvas_bounds.left||0)+"px",this._dom_input.style.transform=this._pixiMatrixToCSS(this._getDOMRelativeWorldTransform()),this._dom_input.style.opacity=this.worldAlpha,this._setDOMInputVisible(this.worldVisible&&this._dom_visible),this._previous.canvas_bounds=this._canvas_bounds,this._previous.world_transform=this.worldTransform.clone(),this._previous.world_alpha=this.worldAlpha,this._previous.world_visible=this.worldVisible)}_applyRestriction(){this._restrict_regex.test(this.text)?this._restrict_value=this.text:(this.text=this._restrict_value,this._dom_input.setSelectionRange(this._selection[0],this._selection[1]))}_needsUpdate(){return!this._comparePixiMatrices(this.worldTransform,this._previous.world_transform)||!this._compareClientRects(this._canvas_bounds,this._previous.canvas_bounds)||this.worldAlpha!=this._previous.world_alpha||this.worldVisible!=this._previous.world_visible}_needsNewBoxCache(){let t=this._getDOMInputBounds();return!this._previous.input_bounds||t.width!=this._previous.input_bounds.width||t.height!=this._previous.input_bounds.height}_createSurrogate(){this._surrogate_hitbox=new e.Graphics,this._surrogate_hitbox.alpha=0,this._surrogate_hitbox.interactive=!0,this._surrogate_hitbox.cursor="text",this._surrogate_hitbox.on("pointerdown",this._onSurrogateFocus.bind(this)),this.addChild(this._surrogate_hitbox),this._surrogate_mask=new e.Graphics,this.addChild(this._surrogate_mask),this._surrogate=new e.Text("",{}),this.addChild(this._surrogate),this._surrogate.mask=this._surrogate_mask,this._updateFontMetrics(),this._updateSurrogate()}_updateSurrogate(){let t=this._deriveSurrogatePadding(),e=this._getDOMInputBounds();switch(this._surrogate.style=this._deriveSurrogateStyle(),this._surrogate.style.padding=Math.max.apply(Math,t),this._surrogate.y=this._multiline?t[0]:(e.height-this._surrogate.height)/2,this._surrogate.x=t[3],this._surrogate.text=this._deriveSurrogateText(),this._surrogate.style.align){case"left":this._surrogate.x=t[3];break;case"center":this._surrogate.x=.5*e.width-.5*this._surrogate.width;break;case"right":this._surrogate.x=e.width-t[1]-this._surrogate.width}this._updateSurrogateHitbox(e),this._updateSurrogateMask(e,t)}_updateSurrogateHitbox(t){this._surrogate_hitbox.clear(),this._surrogate_hitbox.beginFill(0),this._surrogate_hitbox.drawRect(0,0,t.width,t.height),this._surrogate_hitbox.endFill(),this._surrogate_hitbox.interactive=!this._disabled}_updateSurrogateMask(t,e){this._surrogate_mask.clear(),this._surrogate_mask.beginFill(0),this._surrogate_mask.drawRect(e[3],0,t.width-e[3]-e[1],t.height),this._surrogate_mask.endFill()}_destroySurrogate(){this._surrogate&&(this.removeChild(this._surrogate),this.removeChild(this._surrogate_hitbox),this._surrogate.destroy(),this._surrogate_hitbox.destroy(),this._surrogate=null,this._surrogate_hitbox=null)}_onSurrogateFocus(){this._setDOMInputVisible(!0),setTimeout(this._ensureFocus.bind(this),10)}_ensureFocus(){this._hasFocus()||this.focus()}_deriveSurrogateStyle(){let t=new e.TextStyle;for(var i in this._input_style)switch(i){case"color":t.fill=this._input_style.color;break;case"fontFamily":case"fontSize":case"fontWeight":case"fontVariant":case"fontStyle":t[i]=this._input_style[i];break;case"letterSpacing":t.letterSpacing=parseFloat(this._input_style.letterSpacing);break;case"textAlign":t.align=this._input_style.textAlign}return this._multiline&&(t.lineHeight=parseFloat(t.fontSize),t.wordWrap=!0,t.wordWrapWidth=this._getDOMInputBounds().width),0===this._dom_input.value.length&&(t.fill=this._placeholderColor),t}_deriveSurrogatePadding(){let t=this._input_style.textIndent?parseFloat(this._input_style.textIndent):0;if(this._input_style.padding&&this._input_style.padding.length>0){let e=this._input_style.padding.trim().split(" ");if(1==e.length){let i=parseFloat(e[0]);return[i,i,i,i+t]}if(2==e.length){let i=parseFloat(e[0]),s=parseFloat(e[1]);return[i,s,i,s+t]}if(4==e.length){let i=e.map(t=>parseFloat(t));return i[3]+=t,i}}return[0,0,0,t]}_deriveSurrogateText(){return 0===this._dom_input.value.length?this._placeholder:this._dom_input.value}_updateFontMetrics(){const t=this._deriveSurrogateStyle().toFontString();this._font_metrics=e.TextMetrics.measureFont(t)}_buildBoxCache(){this._destroyBoxCache();let t=["DEFAULT","FOCUSED","DISABLED"],e=this._getDOMInputBounds();for(let i in t)this._box_cache[t[i]]=this._box_generator(e.width,e.height,t[i]);this._previous.input_bounds=e}_destroyBoxCache(){this._box&&(this.removeChild(this._box),this._box=null);for(let t in this._box_cache)this._box_cache[t].destroy(),this._box_cache[t]=null,delete this._box_cache[t]}_hasFocus(){return document.activeElement===this._dom_input}_setDOMInputVisible(t){this._dom_input.style.display=t?"block":"none"}_getCanvasBounds(){let t=this._last_renderer.view.getBoundingClientRect(),e={top:t.top,left:t.left,width:t.width,height:t.height};return e.left+=window.scrollX,e.top+=window.scrollY,e}_getDOMInputBounds(){let t=!1;this._dom_added||(document.body.appendChild(this._dom_input),t=!0);let e=this._dom_input.style.transform,i=this._dom_input.style.display;this._dom_input.style.transform="",this._dom_input.style.display="block";let s=this._dom_input.getBoundingClientRect();return this._dom_input.style.transform=e,this._dom_input.style.display=i,t&&document.body.removeChild(this._dom_input),s}_getDOMRelativeWorldTransform(){let t=this._last_renderer.view.getBoundingClientRect(),e=this.worldTransform.clone();return e.scale(this._resolution,this._resolution),e.scale(t.width/this._last_renderer.width,t.height/this._last_renderer.height),e}_pixiMatrixToCSS(t){return"matrix("+[t.a,t.b,t.c,t.d,t.tx,t.ty].join(",")+")"}_comparePixiMatrices(t,e){return!(!t||!e)&&t.a==e.a&&t.b==e.b&&t.c==e.c&&t.d==e.d&&t.tx==e.tx&&t.ty==e.ty}_compareClientRects(t,e){return!(!t||!e)&&t.left==e.left&&t.top==e.top&&t.width==e.width&&t.height==e.height}}}("object"==typeof PIXI?{PIXI:PIXI,exportTo:[PIXI,"TextInput"]}:"object"==typeof module?{PIXI:require("pixi.js"),exportTo:[module,"exports"]}:console.warn("[PIXI.TextInput] could not attach to PIXI namespace. Make sure to include this plugin after pixi.js")||{});
},{"pixi.js":"aQiP"}],"h4Qg":[function(require,module,exports) {
"use strict";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.GuiTextInput=void 0;const e=t(require("pixi-text-input")),i=require("pixi.js"),s=require("../Game/Graphics/Resource"),n=require("../Main"),u=[];class h extends i.Container{constructor(t,h,x,r,l=null){super(),this.x=t,this.y=h,u.push(this),this.baseSkin=s.Resource.cGuiTextAreaBase,this.rollSkin=s.Resource.cGuiTextAreaRoll,this.disabledSkin=s.Resource.cGuiTextAreaDisabled,l||(l=new i.TextStyle),l.fontFamily=n.Main.GLOBAL_FONT,l.fill="#4C3D57",this.textInput=new e.default({input:{fontSize:`${l.fontSize}pt`,color:l.fill,zIndex:1e3,width:`${x}px`,height:`${r}px`},box:(t,e,s)=>{const n=new i.Sprite;return n.texture=this.baseSkin,n.width=t,n.height=e,"DEFAULT"===s&&(n.texture=this.baseSkin),"FOCUSED"===s&&(n.texture=this.rollSkin),"DISABLED"===s&&(n.texture=this.disabledSkin),n}}),this.textInput.on("click",t=>{this.emit("click",t)}),this.textInput.on("focus",t=>{this.emit("focus",this.textInput.text)}),this.textInput.on("blur",t=>{this.emit("blur",this.textInput.text)}),this.textInput.on("input",t=>{this.emit("change",t),this.text=t}),this.textInput.on("keydown",t=>{this.emit("keydown",this,t)}),this.textInput.on("keyup",t=>{this.emit("keyup",this,t)}),this.addChild(this.textInput)}set maxLength(t){this.textInput.maxLength=t||0}get maxLength(){return this.textInput.maxLength}get enabled(){return!this.textInput.disabled}set enabled(t){this.textInput.disabled=!t}get editable(){return!this.textInput.disabled}set editable(t){this.textInput.disabled=!t}get text(){return this.textInput.text}set text(t){this.textInput.text=t}setSelection(t,e){this.textInput.htmlInput.setSelectionRange(t,e)}}exports.GuiTextInput=h;
},{"pixi-text-input":"ms4f","pixi.js":"aQiP","../Game/Graphics/Resource":"VWUR","../Main":"aM6Q"}],"viLo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ColourChangeWindow=void 0;const e=require("pixi.js"),t=require("../Main"),i=require("../Parts/TextPart"),r=require("./GuiButton"),s=require("./GuiCheckBox"),a=require("./GuiCombobox"),o=require("./GuiTextInput"),h=require("./GuiWindow");class l extends h.GuiWindow{constructor(i,h){super(119,0,120,260),this.sortableChildren=!0,this.cont=i,this.m_sidePanel=h,this.m_colourSelector=new e.Graphics,this.addChild(this.m_colourSelector);var l=new e.TextStyle;l.fontFamily=t.Main.GLOBAL_FONT,l.fill=2369840,l.fontSize=12,this.m_redLabel=new e.Text(""),this.m_redLabel.text="Red:",this.m_redLabel.x=18,this.m_redLabel.y=20,this.m_redLabel.style=l,this.addChild(this.m_redLabel),this.m_greenLabel=new e.Text(""),this.m_greenLabel.text="Green:",this.m_greenLabel.x=18,this.m_greenLabel.y=40,this.m_greenLabel.style=l,this.addChild(this.m_greenLabel),this.m_blueLabel=new e.Text(""),this.m_blueLabel.text="Blue:",this.m_blueLabel.x=18,this.m_blueLabel.y=60,this.m_blueLabel.style=l,this.addChild(this.m_blueLabel),this.m_opacityLabel=new e.Text(""),this.m_opacityLabel.text="Opacity:",this.m_opacityLabel.x=18,this.m_opacityLabel.y=80,this.m_opacityLabel.style=l,this.addChild(this.m_opacityLabel),(l=new e.TextStyle).fontSize=9,this.m_redArea=new o.GuiTextInput(67,20,30,15,l),this.m_redArea.text="253",this.m_redArea.maxLength=3,this.m_redArea.on("click",e=>this.redFocus(e)),this.m_redArea.on("focus",e=>this.m_sidePanel.TextAreaGotFocus(e)),this.m_redArea.on("change",e=>this.redText(e)),this.m_redArea.on("blur",e=>this.focusOut(e)),this.addChild(this.m_redArea),this.m_greenArea=new o.GuiTextInput(67,40,30,15,l),this.m_greenArea.text="136",this.m_greenArea.maxLength=3,this.m_greenArea.on("click",e=>this.greenFocus(e)),this.m_greenArea.on("focus",e=>this.m_sidePanel.TextAreaGotFocus(e)),this.m_greenArea.on("change",e=>this.greenText(e)),this.m_greenArea.on("blur",e=>this.focusOut(e)),this.addChild(this.m_greenArea),this.m_blueArea=new o.GuiTextInput(67,60,30,15,l),this.m_blueArea.text="92",this.m_blueArea.maxLength=3,this.m_blueArea.on("click",e=>this.blueFocus(e)),this.m_blueArea.on("focus",e=>this.m_sidePanel.TextAreaGotFocus(e)),this.m_blueArea.on("change",e=>this.blueText(e)),this.m_blueArea.on("blur",e=>this.focusOut(e)),this.addChild(this.m_blueArea),this.m_opacityArea=new o.GuiTextInput(67,80,30,15,l),this.m_opacityArea.text="210",this.m_opacityArea.maxLength=3,this.m_opacityArea.on("click",e=>this.opacityFocus(e)),this.m_opacityArea.on("focus",e=>this.m_sidePanel.TextAreaGotFocus(e)),this.m_opacityArea.on("change",e=>this.opacityText(e)),this.m_opacityArea.on("blur",e=>this.focusOut(e)),this.addChild(this.m_opacityArea),this.m_colourBox=new a.GuiCombobox(10,95,100,30),this.m_colourBox.addItem({label:"  --"}),this.m_colourBox.addItem({label:"  Red"}),this.m_colourBox.addItem({label:"  Orange"}),this.m_colourBox.addItem({label:"  Yellow"}),this.m_colourBox.addItem({label:"  Green"}),this.m_colourBox.addItem({label:"  Turquoise"}),this.m_colourBox.addItem({label:"  Blue"}),this.m_colourBox.addItem({label:"  Purple"}),this.m_colourBox.addItem({label:"  Pink"}),this.m_colourBox.addItem({label:"  Beige"}),this.m_colourBox.addItem({label:"  Brown"}),this.m_colourBox.addItem({label:"  White"}),this.m_colourBox.addItem({label:"  Grey"}),this.m_colourBox.addItem({label:"  Black"}),this.m_colourBox.on("change",e=>this.colourBox(e)),this.m_colourBox.on("close",e=>this.colourBox(e)),(l=new e.TextStyle).fontFamily=t.Main.GLOBAL_FONT,l.fontSize=10,l.fill=4996439,this.m_colourBox.label.style=l,this.addChild(this.m_colourBox),this.redrawBox(),(l=new e.TextStyle).fontFamily=t.Main.GLOBAL_FONT,l.fontSize=10,l.fill=2369840,this.m_defaultBox=new s.GuiCheckBox(5,160,120),this.m_defaultBox.style=l,this.m_defaultBox.label="Make Default",this.m_defaultBox.selected=!1,this.addChild(this.m_defaultBox),this.m_okButton=new r.GuiButton("OK",10,180,100,35,e=>this.okButton(e),r.GuiButton.PURPLE),this.addChild(this.m_okButton),this.m_cancelButton=new r.GuiButton("Cancel",10,210,100,35,e=>this.cancelButton(e),r.GuiButton.PURPLE),this.addChild(this.m_cancelButton)}SetVals(){var e=this.cont.selectedParts[0];this.m_redArea.text=e.red+"",this.m_greenArea.text=e.green+"",this.m_blueArea.text=e.blue+"",this.m_opacityArea.text=e instanceof i.TextPart?"255":e.opacity+"",this.SetComboBoxIndex(),this.redrawBox()}SetComboBoxIndex(){var e=parseInt(this.m_redArea.text),t=parseInt(this.m_greenArea.text),i=parseInt(this.m_blueArea.text);this.m_colourBox.selectedIndex=253==e&&66==t&&42==i?1:253==e&&116==t&&10==i?2:251==e&&241==t&&56==i?3:80==e&&255==t&&72==i?4:52==e&&245==t&&227==i?5:54==e&&89==t&&255==i?6:189==e&&87==t&&255==i?7:255==e&&155==t&&152==i?8:255==e&&216==t&&136==i?9:151==e&&122==t&&46==i?10:253==e&&253==t&&253==i?11:160==e&&160==t&&160==i?12:24==e&&24==t&&24==i?13:0}cancelButton(e){this.visible=!1}redFocus(e){this.m_redArea.setSelection(0,3)}greenFocus(e){this.m_greenArea.setSelection(0,3)}blueFocus(e){this.m_blueArea.setSelection(0,3)}opacityFocus(e){this.m_opacityArea.setSelection(0,3)}focusOut(e){this.m_sidePanel.TextAreaLostFocus()}redText(e){var t=parseInt(e);t<0&&(t=0),t>255&&(t=255),isNaN(t)&&(t=0),e=t+"",this.SetComboBoxIndex(),this.redrawBox(),this.cont.textEntered()}greenText(e){var t=parseInt(e);t<0&&(t=0),t>255&&(t=255),isNaN(t)&&(t=0),e=t+"",this.SetComboBoxIndex(),this.redrawBox(),this.cont.textEntered()}blueText(e){var t=parseInt(e);t<0&&(t=0),t>255&&(t=255),isNaN(t)&&(t=0),e=t+"",this.SetComboBoxIndex(),this.redrawBox(),this.cont.textEntered()}opacityText(e){var t=parseInt(e);t<0&&(t=0),t>255&&(t=255),isNaN(t)&&(t=0),e=t+"",this.cont.textEntered()}colourBox(e){1==e?(this.m_redArea.text="253",this.m_greenArea.text="66",this.m_blueArea.text="42"):2==e?(this.m_redArea.text="253",this.m_greenArea.text="116",this.m_blueArea.text="10"):3==e?(this.m_redArea.text="251",this.m_greenArea.text="241",this.m_blueArea.text="56"):4==e?(this.m_redArea.text="80",this.m_greenArea.text="255",this.m_blueArea.text="72"):5==e?(this.m_redArea.text="52",this.m_greenArea.text="245",this.m_blueArea.text="227"):6==e?(this.m_redArea.text="54",this.m_greenArea.text="89",this.m_blueArea.text="255"):7==e?(this.m_redArea.text="189",this.m_greenArea.text="87",this.m_blueArea.text="255"):8==e?(this.m_redArea.text="255",this.m_greenArea.text="155",this.m_blueArea.text="152"):9==e?(this.m_redArea.text="255",this.m_greenArea.text="216",this.m_blueArea.text="136"):10==e?(this.m_redArea.text="151",this.m_greenArea.text="122",this.m_blueArea.text="46"):11==e?(this.m_redArea.text="253",this.m_greenArea.text="253",this.m_blueArea.text="253"):12==e?(this.m_redArea.text="160",this.m_greenArea.text="160",this.m_blueArea.text="160"):13==e&&(this.m_redArea.text="24",this.m_greenArea.text="24",this.m_blueArea.text="24"),this.redrawBox()}okButton(e){this.cancelButton(e),this.cont.colourButton(parseInt(this.m_redArea.text),parseInt(this.m_greenArea.text),parseInt(this.m_blueArea.text),parseInt(this.m_opacityArea.text),this.m_defaultBox.selected)}redrawBox(){this.m_colourSelector.clear(),this.m_colourSelector.beginFill(e.utils.rgb2hex([parseInt(this.m_redArea.text)/255,parseInt(this.m_greenArea.text)/255,parseInt(this.m_blueArea.text)/255]),1),this.m_colourSelector.lineStyle(1,2236962,1),this.m_colourSelector.drawRect(40,128,40,30),this.m_colourSelector.endFill()}}exports.ColourChangeWindow=l;
},{"pixi.js":"aQiP","../Main":"aM6Q","../Parts/TextPart":"T0pq","./GuiButton":"IBBZ","./GuiCheckBox":"nOXD","./GuiCombobox":"a9Q3","./GuiTextInput":"h4Qg","./GuiWindow":"BOXT"}],"GxIj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.KawaseBlurFilter=void 0;var e=require("@pixi/core"),t=require("@pixi/math"),r="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",i="\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec2 uOffset;\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n\n    // Sample top left pixel\n    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));\n\n    // Sample top right pixel\n    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));\n\n    // Sample bottom right pixel\n    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));\n\n    // Sample bottom left pixel\n    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));\n\n    // Average\n    color *= 0.25;\n\n    gl_FragColor = color;\n}",o="\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec2 uOffset;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n\n    // Sample top left pixel\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));\n\n    // Sample top right pixel\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));\n\n    // Sample bottom right pixel\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));\n\n    // Sample bottom left pixel\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));\n\n    // Average\n    color *= 0.25;\n\n    gl_FragColor = color;\n}\n",n=function(e){function n(n,l,u){void 0===n&&(n=4),void 0===l&&(l=3),void 0===u&&(u=!1),e.call(this,r,u?o:i),this.uniforms.uOffset=new Float32Array(2),this._pixelSize=new t.Point,this.pixelSize=1,this._clamp=u,this._kernels=null,Array.isArray(n)?this.kernels=n:(this._blur=n,this.quality=l)}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var l={kernels:{configurable:!0},clamp:{configurable:!0},pixelSize:{configurable:!0},quality:{configurable:!0},blur:{configurable:!0}};return n.prototype.apply=function(e,t,r,i){var o,n=this._pixelSize.x/t._frame.width,l=this._pixelSize.y/t._frame.height;if(1===this._quality||0===this._blur)o=this._kernels[0]+.5,this.uniforms.uOffset[0]=o*n,this.uniforms.uOffset[1]=o*l,e.applyFilter(this,t,r,i);else{for(var u,s=e.getFilterTexture(),a=t,f=s,p=this._quality-1,x=0;x<p;x++)o=this._kernels[x]+.5,this.uniforms.uOffset[0]=o*n,this.uniforms.uOffset[1]=o*l,e.applyFilter(this,a,f,1),u=a,a=f,f=u;o=this._kernels[p]+.5,this.uniforms.uOffset[0]=o*n,this.uniforms.uOffset[1]=o*l,e.applyFilter(this,a,r,i),e.returnFilterTexture(s)}},n.prototype._updatePadding=function(){this.padding=Math.ceil(this._kernels.reduce(function(e,t){return e+t+.5},0))},n.prototype._generateKernels=function(){var e=this._blur,t=this._quality,r=[e];if(e>0)for(var i=e,o=e/t,n=1;n<t;n++)i-=o,r.push(i);this._kernels=r,this._updatePadding()},l.kernels.get=function(){return this._kernels},l.kernels.set=function(e){Array.isArray(e)&&e.length>0?(this._kernels=e,this._quality=e.length,this._blur=Math.max.apply(Math,e)):(this._kernels=[0],this._quality=1)},l.clamp.get=function(){return this._clamp},l.pixelSize.set=function(e){"number"==typeof e?(this._pixelSize.x=e,this._pixelSize.y=e):Array.isArray(e)?(this._pixelSize.x=e[0],this._pixelSize.y=e[1]):e instanceof t.Point?(this._pixelSize.x=e.x,this._pixelSize.y=e.y):(this._pixelSize.x=1,this._pixelSize.y=1)},l.pixelSize.get=function(){return this._pixelSize},l.quality.get=function(){return this._quality},l.quality.set=function(e){this._quality=Math.max(1,Math.round(e)),this._generateKernels()},l.blur.get=function(){return this._blur},l.blur.set=function(e){this._blur=e,this._generateKernels()},Object.defineProperties(n.prototype,l),n}(e.Filter);exports.KawaseBlurFilter=n;
},{"@pixi/core":"lj2a","@pixi/math":"w9h1"}],"wgG9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DropShadowFilter=void 0;var t=require("@pixi/filter-kawase-blur"),i=require("@pixi/core"),e=require("@pixi/settings"),r=require("@pixi/math"),n=require("@pixi/utils"),o="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",l="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform vec3 color;\n\nuniform vec2 shift;\nuniform vec4 inputSize;\n\nvoid main(void){\n    vec4 sample = texture2D(uSampler, vTextureCoord - shift * inputSize.zw);\n\n    // Premultiply alpha\n    sample.rgb = color.rgb * sample.a;\n\n    // alpha user alpha\n    sample *= alpha;\n\n    gl_FragColor = sample;\n}",s=function(i){function s(n){n&&n.constructor!==Object&&(console.warn("DropShadowFilter now uses options instead of (rotation, distance, blur, color, alpha)"),n={rotation:n},void 0!==arguments[1]&&(n.distance=arguments[1]),void 0!==arguments[2]&&(n.blur=arguments[2]),void 0!==arguments[3]&&(n.color=arguments[3]),void 0!==arguments[4]&&(n.alpha=arguments[4])),n=Object.assign({rotation:45,distance:5,color:0,alpha:.5,shadowOnly:!1,kernels:null,blur:2,quality:3,pixelSize:1,resolution:e.settings.FILTER_RESOLUTION},n),i.call(this);var s=n.kernels,a=n.blur,u=n.quality,h=n.pixelSize,c=n.resolution;this._tintFilter=new i(o,l),this._tintFilter.uniforms.color=new Float32Array(4),this._tintFilter.uniforms.shift=new r.Point,this._tintFilter.resolution=c,this._blurFilter=s?new t.KawaseBlurFilter(s):new t.KawaseBlurFilter(a,u),this.pixelSize=h,this.resolution=c;var p=n.shadowOnly,f=n.rotation,d=n.distance,_=n.alpha,b=n.color;this.shadowOnly=p,this.rotation=f,this.distance=d,this.alpha=_,this.color=b,this._updatePadding()}i&&(s.__proto__=i),s.prototype=Object.create(i&&i.prototype),s.prototype.constructor=s;var a={resolution:{configurable:!0},distance:{configurable:!0},rotation:{configurable:!0},alpha:{configurable:!0},color:{configurable:!0},kernels:{configurable:!0},blur:{configurable:!0},quality:{configurable:!0},pixelSize:{configurable:!0}};return s.prototype.apply=function(t,i,e,r){var n=t.getFilterTexture();this._tintFilter.apply(t,i,n,1),this._blurFilter.apply(t,n,e,r),!0!==this.shadowOnly&&t.applyFilter(this,i,e,0),t.returnFilterTexture(n)},s.prototype._updatePadding=function(){this.padding=this.distance+2*this.blur},s.prototype._updateShift=function(){this._tintFilter.uniforms.shift.set(this.distance*Math.cos(this.angle),this.distance*Math.sin(this.angle))},a.resolution.get=function(){return this._resolution},a.resolution.set=function(t){this._resolution=t,this._tintFilter&&(this._tintFilter.resolution=t),this._blurFilter&&(this._blurFilter.resolution=t)},a.distance.get=function(){return this._distance},a.distance.set=function(t){this._distance=t,this._updatePadding(),this._updateShift()},a.rotation.get=function(){return this.angle/r.DEG_TO_RAD},a.rotation.set=function(t){this.angle=t*r.DEG_TO_RAD,this._updateShift()},a.alpha.get=function(){return this._tintFilter.uniforms.alpha},a.alpha.set=function(t){this._tintFilter.uniforms.alpha=t},a.color.get=function(){return(0,n.rgb2hex)(this._tintFilter.uniforms.color)},a.color.set=function(t){(0,n.hex2rgb)(t,this._tintFilter.uniforms.color)},a.kernels.get=function(){return this._blurFilter.kernels},a.kernels.set=function(t){this._blurFilter.kernels=t},a.blur.get=function(){return this._blurFilter.blur},a.blur.set=function(t){this._blurFilter.blur=t,this._updatePadding()},a.quality.get=function(){return this._blurFilter.quality},a.quality.set=function(t){this._blurFilter.quality=t},a.pixelSize.get=function(){return this._blurFilter.pixelSize},a.pixelSize.set=function(t){this._blurFilter.pixelSize=t},Object.defineProperties(s.prototype,a),s}(i.Filter);exports.DropShadowFilter=s;
},{"@pixi/filter-kawase-blur":"GxIj","@pixi/core":"lj2a","@pixi/settings":"Xe2x","@pixi/math":"w9h1","@pixi/utils":"X4iF"}],"u6bk":[function(require,module,exports) {
var global = arguments[3];

var t=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=L,exports.wrapEase=N,exports.WidgetGroup=exports.Widget=exports.TilingSprite=exports.Ticker=exports.TextWidget=exports.TextInput=exports.TEXT_STYLE_PROPERTIES=exports.StyleSheet=exports.Style=exports.Stage=exports.Sprite=exports.SortableList=exports.Slider=exports.SliceSprite=exports.ScrollWidget=exports.ScrollManager=exports.ScrollBar=exports.MeasureMode=exports.LinearLayout=exports.LayoutOptions=exports.InteractiveGroup=exports.Insets=exports.ImageWidget=exports.ImageButton=exports.Helpers=exports.FastLayoutOptions=exports.FastLayout=exports.EventManager=exports.EventBroker=exports.Ease=exports.ClickManager=exports.CheckBox=exports.Button=exports.BorderLayoutOptions=exports.BorderLayout=exports.AnchorLayoutOptions=exports.AnchorLayout=exports.ALIGN=void 0;var e=require("pixi.js"),i=require("@pixi/filter-drop-shadow");const r=[],s={add:(t,e)=>(t._dragDropEventId=e.data.identifier,-1===r.indexOf(t)&&(r.push(t),!0)),getItem(t){let e,i=null;for(let s=0;s<r.length;s++)if(r[s]===t){i=r[s],e=s;break}return null!==i&&(r.splice(e,1),i)},getEventItem(t,e){let i,s=null;const n=t.data.identifier;for(let o=0;o<r.length;o++)if(r[o]._dragDropEventId===n){if(e!==r[o].dragGroup)return!1;s=r[o],i=o;break}return null!==s&&(r.splice(i,1),s)}};class n{constructor(){this.reset(),this.dirtyId=0}reset(){this.left=-1,this.top=-1,this.right=-1,this.bottom=-1}}var o;exports.Insets=n,exports.MeasureMode=o,function(t){t[t.UNBOUNDED=0]="UNBOUNDED",t[t.EXACTLY=1]="EXACTLY",t[t.AT_MOST=2]="AT_MOST"}(o||(exports.MeasureMode=o={}));class h{constructor(t){this.target=t,this.isEnabled=!1}getTarget(){return this.target}}exports.EventManager=h;class a extends h{constructor(t,i,r,s){super(t),this.startEvent=((t=this._includeHover,e=this._rightMouseButton,i=this._doubleClick)=>{if(this.isEnabled)return;this._includeHover=t,this.rightMouseButton=e,this._doubleClick=i;const{target:r}=this;r.insetContainer.on(this.evMouseDown,this.onMouseDownImpl),this._rightMouseButton||r.insetContainer.on("touchstart",this.onMouseDownImpl),this._includeHover&&(r.insetContainer.on("mouseover",this.onMouseOverImpl),r.insetContainer.on("mouseout",this.onMouseOutImpl)),this.isEnabled=!0}),this.stopEvent=(()=>{if(!this.isEnabled)return;const{target:t}=this;this.bound&&(t.insetContainer.removeListener(this.evMouseUp,this.onMouseUpImpl),t.insetContainer.removeListener(this.evMouseUpOutside,this.onMouseUpOutsideImpl),this._rightMouseButton||(t.insetContainer.removeListener("touchend",this.onMouseUpImpl),t.insetContainer.removeListener("touchendoutside",this.onMouseUpOutsideImpl)),this.bound=!1),t.insetContainer.removeListener(this.evMouseDown,this.onMouseDownImpl),this._rightMouseButton||t.insetContainer.removeListener("touchstart",this.onMouseDownImpl),this._includeHover&&(t.insetContainer.removeListener("mouseover",this.onMouseOverImpl),t.insetContainer.removeListener("mouseout",this.onMouseOutImpl),t.insetContainer.removeListener("mousemove",this.onMouseMoveImpl),t.insetContainer.removeListener("touchmove",this.onMouseMoveImpl)),this.isEnabled=!1}),this.onMouseDownImpl=(t=>{const{target:e,evMouseUp:i,onMouseUpImpl:r,evMouseUpOutside:s,onMouseUpOutsideImpl:n,_rightMouseButton:o}=this;if(this.mouse.copyFrom(t.data.global),this.id=t.data.identifier,this.onPress.call(this.target,t,!0),this.bound||(e.insetContainer.on(i,r),e.insetContainer.on(s,n),o||(e.insetContainer.on("touchend",r),e.insetContainer.on("touchendoutside",n)),this.bound=!0),this._doubleClick){const i=performance.now();i-this.time<210?this.onClick.call(e,t):this.time=i}t.data.originalEvent.preventDefault()}),this.onMouseUpCommonImpl=(t=>{const{target:e,evMouseUp:i,onMouseUpImpl:r,evMouseUpOutside:s,onMouseUpOutsideImpl:n}=this;t.data.identifier===this.id&&(this.offset.set(t.data.global.x-this.mouse.x,t.data.global.y-this.mouse.y),this.bound&&(e.insetContainer.removeListener(i,r),e.insetContainer.removeListener(s,n),this._rightMouseButton||(e.insetContainer.removeListener("touchend",r),e.insetContainer.removeListener("touchendoutside",n)),this.bound=!1),this.onPress.call(e,t,!1))}),this.onMouseUpImpl=(t=>{t.data.identifier===this.id&&(this.onMouseUpCommonImpl(t),this.target.dragThreshold&&(this.movementX=Math.abs(this.offset.x),this.movementY=Math.abs(this.offset.y),Math.max(this.movementX,this.movementY)>this.target.dragThreshold)||this._doubleClick||this.onClick.call(this.target,t))}),this.onMouseUpOutsideImpl=(t=>{t.data.identifier===this.id&&this.onMouseUpCommonImpl(t)}),this.onMouseOverImpl=(t=>{this.ishover||(this.ishover=!0,this.target.insetContainer.on("mousemove",this.onMouseMoveImpl),this.target.insetContainer.on("touchmove",this.onMouseMoveImpl),this.onHover.call(this.target,t,!0))}),this.onMouseOutImpl=(t=>{this.ishover&&(this.ishover=!1,this.target.insetContainer.removeListener("mousemove",this.onMouseMoveImpl),this.target.insetContainer.removeListener("touchmove",this.onMouseMoveImpl),this.onHover.call(this.target,t,!1))}),this.onMouseMoveImpl=(t=>{this.onMove.call(this.target,t)}),this.bound=!1,this.id=0,this.ishover=!1,this.mouse=new e.Point,this.offset=new e.Point,this.movementX=0,this.movementY=0,this._includeHover=void 0===i||i,this.rightMouseButton=void 0!==r&&r,this._doubleClick=void 0!==s&&s,t.interactive=!0,this.time=0,this.startEvent(),this.onHover=(()=>null),this.onPress=(()=>null),this.onClick=(()=>null),this.onMove=(()=>null)}get rightMouseButton(){return this._rightMouseButton}set rightMouseButton(t){this._rightMouseButton=t,this.evMouseDown=this._rightMouseButton?"rightdown":"mousedown",this.evMouseUp=this._rightMouseButton?"rightup":"mouseup",this.evMouseUpOutside=this._rightMouseButton?"rightupoutside":"mouseupoutside"}}exports.ClickManager=a;class u extends h{constructor(t){super(t),this.onDragStartImpl=(t=>{const{target:e}=this;this.id=t.data.identifier,this.onPress(t,!0),this.isBound||(this.dragStart.copyFrom(t.data.global),e.stage.on("mousemove",this.onDragMoveImpl),e.stage.on("touchmove",this.onDragMoveImpl),e.stage.on("mouseup",this.onDragEndImpl),e.stage.on("mouseupoutside",this.onDragEndImpl),e.stage.on("touchend",this.onDragEndImpl),e.stage.on("touchendoutside",this.onDragEndImpl),e.stage.on("touchcancel",this.onDragEndImpl),this.isBound=!0),t.data.originalEvent.preventDefault()}),this.onDragMoveImpl=(t=>{if(t.data.identifier!==this.id)return;const{lastCursor:e,dragOffset:i,dragStart:r,target:s}=this;if(this.lastCursor.copyFrom(t.data.global),this.dragOffset.set(e.x-r.x,e.y-r.y),!this.isDragging){if(this.movementX=Math.abs(i.x),this.movementY=Math.abs(i.y),0===this.movementX&&0===this.movementY||Math.max(this.movementX,this.movementY)<s.dragThreshold)return;if(null!==s.dragRestrictAxis&&(this.cancel=!1,"x"===s.dragRestrictAxis&&this.movementY>this.movementX?this.cancel=!0:"y"===s.dragRestrictAxis&&this.movementY<=this.movementX&&(this.cancel=!0),this.cancel))return void this.onDragEndImpl(t);this.onDragStart(t),this.isDragging=!0}this.onDragMove(t,i)}),this.onDragEndImpl=(t=>{if(t.data.identifier!==this.id)return;const{target:e}=this;this.isBound&&(e.stage.removeListener("mousemove",this.onDragMoveImpl),e.stage.removeListener("touchmove",this.onDragMoveImpl),e.stage.removeListener("mouseup",this.onDragEndImpl),e.stage.removeListener("mouseupoutside",this.onDragEndImpl),e.stage.removeListener("touchend",this.onDragEndImpl),e.stage.removeListener("touchendoutside",this.onDragEndImpl),e.stage.removeListener("touchcancel",this.onDragEndImpl),this.isDragging=!1,this.isBound=!1,this.onDragEnd(t),this.onPress(t,!1))}),this.isBound=!1,this.isDragging=!1,this.id=0,this.dragStart=new e.Point,this.dragOffset=new e.Point,this.lastCursor=new e.Point,this.movementX=0,this.movementY=0,this.cancel=!1,this.target.interactive=!0,this.onPress=(()=>null),this.onDragStart=(()=>null),this.onDragMove=(()=>null),this.onDragEnd=(()=>null),this.startEvent()}startEvent(){if(this.isEnabled)return;const{target:t}=this;t.insetContainer.on("mousedown",this.onDragStartImpl),t.insetContainer.on("touchstart",this.onDragStartImpl),this.isEnabled=!0}stopEvent(){if(!this.isEnabled)return;const{target:t}=this;this.isBound&&(t.stage.removeListener("mousemove",this.onDragMoveImpl),t.stage.removeListener("touchmove",this.onDragMoveImpl),t.stage.removeListener("mouseup",this.onDragEndImpl),t.stage.removeListener("mouseupoutside",this.onDragEndImpl),t.stage.removeListener("touchend",this.onDragEndImpl),t.stage.removeListener("touchendoutside",this.onDragEndImpl),this.isBound=!1),t.insetContainer.removeListener("mousedown",this.onDragStartImpl),t.insetContainer.removeListener("touchstart",this.onDragStartImpl),this.isEnabled=!1}}class l{constructor(t){this.target=t;for(const e of Object.keys(l.MANAGER_MAP))Object.defineProperty(this,e,{get(){return this[`_${e}`]||(this[`_${e}`]=new l.MANAGER_MAP[e](this.target)),this[`_${e}`]}})}}exports.EventBroker=l,l.MANAGER_MAP={click:a,dnd:u};class d extends h{constructor(t,i=!0){super(t),this.onMouseScrollImpl=(t=>{const{target:e,preventDefault:i,delta:r}=this;i&&event.preventDefault(),void 0!==t.deltaX?r.set(t.deltaX,t.deltaY):r.set(1===t.axis?60*t.detail:0,2===t.axis?60*t.detail:0),this.onMouseScroll.call(e,event,r)}),this.onHoverImpl=(t=>{const{onMouseScrollImpl:e}=this;this.bound||(document.addEventListener("mousewheel",e,!1),document.addEventListener("DOMMouseScroll",e,!1),this.bound=!0)}),this.onMouseOutImpl=(t=>{const{onMouseScrollImpl:e}=this;this.bound&&(document.removeEventListener("mousewheel",e),document.removeEventListener("DOMMouseScroll",e),this.bound=!1)}),this.onMouseScroll=function(t,e){},this.bound=!1,this.delta=new e.Point,this.preventDefault=i,this.startEvent()}startEvent(){const{target:t,onHoverImpl:e,onMouseOutImpl:i}=this;t.contentContainer.on("mouseover",e),t.contentContainer.on("mouseout",i)}stopEvent(){const{target:t,onMouseScrollImpl:e,onHoverImpl:i,onMouseOutImpl:r}=this;this.bound&&(document.removeEventListener("mousewheel",e),document.removeEventListener("DOMMouseScroll",e),this.bound=!1),t.contentContainer.removeListener("mouseover",i),t.contentContainer.removeListener("mouseout",r)}}exports.ScrollManager=d;const c=["paddingLeft","paddingTop","paddingRight","paddingBottom"],p=["paddingHorizontal","paddingVertical"],f=["fontFamily","fontSize","fontWeight","letterSpacing"];exports.TEXT_STYLE_PROPERTIES=f;class g extends e.utils.EventEmitter{constructor(){super(),this.insetContainer=new e.Container,this.contentContainer=this.insetContainer.addChild(new e.Container),this.widgetChildren=[],this.stage=null,this.layoutMeasure=new n,this.initialized=!1,this.dragInitialized=!1,this.dropInitialized=!1,this.dirty=!0,this._oldWidth=-1,this._oldHeight=-1,this.pixelPerfect=!0,this._paddingLeft=0,this._paddingTop=0,this._paddingRight=0,this._paddingBottom=0,this._elevation=0,this.tint=0,this.blendMode=e.BLEND_MODES.NORMAL,this.draggable=!1,this.droppable=!1,this.singleClickTimeout=null,this.style=null,this.styleID=-1,this.insetContainer.on("pointerdown",t=>{this.onPointerPress(t)}),this.insetContainer.on("pointermove",t=>{this.onPointerMove(t)}),this.insetContainer.on("pointerup",t=>{this.onPointerRelease(t)}),this.insetContainer.on("pointerover",t=>{this.onPointerEnter(t)}),this.insetContainer.on("pointerout",t=>{this.onPointerExit(t)}),this.insetContainer.on("rightclick",t=>{this.onRightClick(t)})}update(){this._layoutDirty&&(console.log("here"),setTimeout(()=>{this._layoutDirty&&this.stage.measureAndLayout()},0)),this.style&&this.styleID!==this.style.dirtyID&&(this.onStyleChange(this.style),this.styleID=this.style.dirtyID)}get measuredWidth(){return this._measuredWidth}get measuredHeight(){return this._measuredHeight}getMeasuredWidth(){return this._measuredWidth}getMeasuredHeight(){return this._measuredHeight}onMeasure(t,e,i,r){const s=this.contentContainer.width+this.paddingHorizontal,n=this.contentContainer.height+this.paddingVertical;switch(i){case o.EXACTLY:this._measuredWidth=t;break;case o.UNBOUNDED:this._measuredWidth=s;break;case o.AT_MOST:this._measuredWidth=Math.min(t,s)}switch(r){case o.EXACTLY:this._measuredHeight=e;break;case o.UNBOUNDED:this._measuredHeight=n;break;case o.AT_MOST:this._measuredHeight=Math.min(e,n)}}measure(t,e,i,r){this.onMeasure(t,e,i,r)}onLayout(t,e=t,i=t,r=e,s=!0){this.layoutMeasure.left=t,this.layoutMeasure.top=e,this.layoutMeasure.right=i,this.layoutMeasure.bottom=r,this._width=i-t,this._height=r-e,this.background&&(this.background.x=0,this.background.y=0,this.background.width=i-t,this.background.height=r-e),this.insetContainer.x=t,this.insetContainer.y=e,this.contentContainer.x=this._paddingLeft,this.contentContainer.y=this._paddingTop,this._layoutDirty=!1}layout(t,e=t,i=t,r=e,s=!0){this.onLayout(t,e,i,r,s)}setLayoutOptions(t){return this.layoutOptions=t,this}onStyleChange(t){const e=t.getProperties("backgroundColor","background","elevation","padding","paddingHorizontal","paddingVertical","paddingLeft","paddingTop","paddingRight","paddingBottom");e.background?this.setBackground(e.background):void 0!==e.backgroundColor&&this.setBackground(e.backgroundColor),void 0!==e.elevation&&this.setElevation(e.elevation),c.forEach((t,i)=>{"number"==typeof e[t]?this[`_${t}`]=e[t]:"number"==typeof e[p[i%2]]?this[`_${t}`]=e[p[i%2]]:"number"==typeof e.padding&&(this[`_${t}`]=e.padding)}),this.dirty=!0}onPointerEnter(t){this.onHoverChange(t,!0)}onPointerExit(t){this.onHoverChange(t,!1)}onPointerPress(t){}onPointerMove(t){}onPointerRelease(t){this.singleClickTimeout?(clearTimeout(this.singleClickTimeout),this.singleClickTimeout=null,setTimeout(()=>{this.onDoubleClick(t)},0)):(this.singleClickTimeout=setTimeout(()=>{this.singleClickTimeout=null},g.CLICK_DELAY),this.onClick(t))}onHoverChange(t,e){}onClick(t){}onDoubleClick(t){}onRightClick(t){if(console.log("RIGHT_CLICK"),t.data.originalEvent.preventDefault(),this.contextMenu){this.contextPopup;t.data.getLocalPosition(this.stage)}}get eventBroker(){return this._eventBroker||(this._eventBroker=new l(this)),this._eventBroker}get paddingLeft(){return this._paddingLeft}set paddingLeft(t){this._paddingLeft=t,this.dirty=!0}get paddingTop(){return this._paddingTop}set paddingTop(t){this._paddingTop=t,this.dirty=!0}get paddingRight(){return this._paddingRight}set paddingRight(t){this._paddingRight=t,this.dirty=!0}get paddingBottom(){return this._paddingBottom}set paddingBottom(t){this._paddingBottom=t,this.dirty=!0}get paddingHorizontal(){return this._paddingLeft+this._paddingRight}get paddingVertical(){return this._paddingTop+this._paddingBottom}get interactive(){return this.insetContainer.interactive}set interactive(t){this.insetContainer.interactive=!0,this.contentContainer.interactive=!0}get width(){return this._width}get height(){return this._height}get contentWidth(){return this._width-this.paddingHorizontal}get contentHeight(){return this._height-this.paddingVertical}get alpha(){return this.insetContainer.alpha}set alpha(t){this.insetContainer.alpha=t}setPadding(t,e=t,i=t,r=e){return this._paddingLeft=t,this._paddingTop=e,this._paddingRight=i,this._paddingBottom=r,this.dirty=!0,this}getBackground(){return this.background}setBackground(t){return this.background&&this.insetContainer.removeChild(this.background),"string"==typeof t&&(t=e.utils.string2hex(t)),"number"==typeof t&&(t=(new e.Graphics).beginFill(t).drawRect(0,0,1,1).endFill()),this.background=t,t&&(t.width=this.width,t.height=this.height,this.insetContainer.addChildAt(t,0)),t&&this._elevation&&this._dropShadow&&(this.background.filters||(this.background.filters=[]),this.background.filters.push(this._dropShadow)),this}getBackgroundAlpha(){return this.background?this.background.alpha:1}setBackgroundAlpha(t){return this.background||this.setBackground(16777215),this.background.alpha=t,this}setContextMenu(t){this.contextMenu=t}getElevation(){return this._elevation}setElevation(t){if(this._elevation=t,0===t&&this._dropShadow){if(!this.background)return this;const t=this.background.filters.indexOf(this._dropShadow);t>0&&this.background.filters.splice(t,1)}else t>0&&(this._dropShadow||(this.background&&!this.background.filters&&(this.background.filters=[]),this._dropShadow=new i.DropShadowFilter({distance:t}),this.background&&this.background.filters.push(this._dropShadow)),this._dropShadow.distance=t);return this}setStyle(t){return this.style=t,this.styleID=-1,this}requestLayout(){this._layoutDirty=!0}addChild(...t){for(let e=0;e<t.length;e++){const i=t[e];i.parent&&i.parent.removeChild(i),i.parent=this,this.contentContainer.addChild(i.insetContainer),this.widgetChildren.push(i)}return this}removeChild(...t){for(let e=0;e<t.length;e++){const i=t[e],r=this.widgetChildren.indexOf(i);-1!==r&&(i.insetContainer.parent.removeChild(i.insetContainer),this.widgetChildren.splice(r,1),i.parent=null)}return this}openPopupMenu(t,e){this.stage;const i=this.contextPopup.layoutOptions;i.x=t,i.y=e,this.stage.addChild(this.contextPopup)}closePopupMenu(){this.stage.removeChild(this.contextPopup)}makeDraggable(){return this.draggable=!0,this.initialized&&this.initDraggable(),this}clearDraggable(){this.dragInitialized&&(this.dragInitialized=!1,this.eventBroker.dnd.stopEvent())}initialize(){this.initialized||(this.draggable&&this.initDraggable(),this.droppable&&this.initDroppable(),this.initialized=!0)}initDraggable(){if(this.dragInitialized)return;this.dragInitialized=!0;const t=new e.Point,i=new e.Point,r=this.eventBroker.dnd,{insetContainer:n}=this;r.onDragStart=(e=>{const i=s.add(this,e);!this.isDragging&&i&&(this.isDragging=!0,n.interactive=!1,t.copyFrom(n.position),this.emit("draggablestart",e))}),r.onDragMove=((e,r)=>{this.isDragging&&(i.set(t.x+r.x,t.y+r.y),n.x=i.x,n.y=i.y,this.emit("draggablemove",e))}),r.onDragEnd=(e=>{this.isDragging&&(this.isDragging=!1,s.getItem(this),setTimeout(()=>{this.insetContainer.interactive=!0,this.insetContainer.position.copyFrom(t),this.emit("draggableend",e)},0))})}makeDroppable(){return this.droppable=!0,this.initialized&&this.initDroppable(),this}clearDroppable(){this.dropInitialized&&(this.dropInitialized=!1,this.contentContainer.removeListener("mouseup",this.onDrop),this.contentContainer.removeListener("touchend",this.onDrop))}initDroppable(){if(!this.dropInitialized){this.dropInitialized=!0;const t=this.contentContainer;this.contentContainer.interactive=!0,this.onDrop=(t=>{const e=s.getEventItem(t,this.dropGroup);if(e&&e.isDragging){e.isDragging=!1,e.insetContainer.interactive=!0;const t=null!==this.droppableReparent?this.droppableReparent:self;t.container.toLocal(e.container.position,e.container.parent,e),t.container!=e.container.parent&&t.addChild(e)}}),t.on("mouseup",this.onDrop),t.on("touchend",this.onDrop)}}static fromContent(t){if(t instanceof g)return t;const e=new g;return e.contentContainer.addChild(t),e}static resolveMeasuredDimen(t,e,i){return i===o.EXACTLY?e:i===o.AT_MOST?Math.min(e,t):t}}var m;exports.Widget=g,g.CLICK_DELAY=300,exports.ALIGN=m,function(t){t[t.LEFT=0]="LEFT",t[t.TOP=0]="TOP",t[t.MIDDLE=4081]="MIDDLE",t[t.CENTER=4081]="CENTER",t[t.RIGHT=1048561]="RIGHT",t[t.BOTTOM=1048561]="BOTTOM",t[t.NONE=4294967295]="NONE"}(m||(exports.ALIGN=m={}));class v{constructor(t=v.WRAP_CONTENT,e=v.WRAP_CONTENT){this.setWidth(t),this.setHeight(e),this.cache={}}setWidth(t){this.width=v.parseDimen(t)}setHeight(t){this.height=v.parseDimen(t)}get isWidthPredefined(){return this.width>1&&this.width<=v.MAX_DIMEN}get isHeightPredefined(){return this.height>1&&this.height<=v.MAX_DIMEN}get marginLeft(){return this._marginLeft||0}set marginLeft(t){this._marginLeft=t}get marginTop(){return this._marginTop||0}set marginTop(t){this._marginTop=t}get marginRight(){return this._marginRight||0}set marginRight(t){this._marginRight=t}get marginBottom(){return this._marginBottom||0}set marginBottom(t){this._marginBottom=t}setMargin(t,e,i,r){this._marginLeft=t,this._marginTop=e,this._marginRight=i,this._marginBottom=r}static parseDimen(t){if("string"==typeof t&&(t.endsWith("%")?t=parseFloat(t.replace("%",""))/100:t.endsWith("px")&&(t=parseFloat(t.replace("px",""))),"string"==typeof t||isNaN(t)))throw new Error("Width could not be parsed!");return t}}exports.LayoutOptions=v,v.FILL_PARENT=4294967281,v.WRAP_CONTENT=4294967282,v.MAX_DIMEN=4294967280,v.DEFAULT=new v;class y extends v{constructor(t){super(t.width,t.height),this.anchorLeft=t.anchorLeft||0,this.anchorTop=t.anchorTop||0,this.anchorBottom=t.anchorBottom||0,this.anchorRight=t.anchorRight||0,this.horizontalAlign=t.horizontalAlign||m.LEFT,this.verticalAlign=t.verticalAlign||m.CENTER}}exports.AnchorLayoutOptions=y;class _ extends v{constructor(t){super(t.width,t.height),this.x=t.x||0,this.y=t.y||0,this.anchor=t.anchor||_.DEFAULT_ANCHOR.clone()}}exports.FastLayoutOptions=_,_.DEFAULT_ANCHOR=new e.Point(0,0),_.CENTER_ANCHOR=new e.Point(.5,.5);class x extends v{constructor(t){super(t.width,t.height),this.region=t.region||x.REGION_CENTER,this.horizontalAlign=t.horizontalAlign||m.LEFT,this.verticalAlign=t.verticalAlign||m.TOP}}exports.BorderLayoutOptions=x,x.REGION_LEFT=61425,x.REGION_TOP=61426,x.REGION_RIGHT=61427,x.REGION_BOTTOM=61428,x.REGION_CENTER=61429;class T{onAttach(t){this.host=t}onDetach(){this.host=null}onLayout(){const t=this.host,{contentWidth:e,contentHeight:i,widgetChildren:r}=t;for(let s=0,n=r.length;s<n;s++){const t=r[s],n=t.layoutOptions||v.DEFAULT;let o=n.x?n.x:0,h=n.y?n.y:0;Math.abs(o)<1&&(o*=e),Math.abs(h)<1&&(h*=i);const a=n.anchor||_.DEFAULT_ANCHOR,u=o-a.x*t.getMeasuredWidth(),l=h-a.y*t.getMeasuredHeight();t.layout(u,l,u+t.getMeasuredWidth(),l+t.getMeasuredHeight())}}onMeasure(t,e,i,r){this._measuredWidth=t,this._measuredHeight=e;const s=this.host.widgetChildren;for(let n=0,o=s.length;n<o;n++){const o=s[n],h=o.layoutOptions||v.DEFAULT,a=Math.abs(h.width)<1?h.width*t:h.width,u=Math.abs(h.height)<1?h.height*e:h.height,l=this.getChildMeasureMode(h.width,i),d=this.getChildMeasureMode(h.height,r);o.measure(a,u,l,d)}this._measuredWidth=this.measureWidthReach(t,i),this._measuredHeight=this.measureHeightReach(e,r),this.measureChildFillers()}getChildMeasureMode(t,e){return t===v.WRAP_CONTENT?e===o.UNBOUNDED?o.UNBOUNDED:o.AT_MOST:e}measureWidthReach(t,e){if(e===o.EXACTLY)return t;const i=this.host.widgetChildren;let r=0;for(let s=0,n=i.length;s<n;s++){const t=i[s],e=t.getMeasuredWidth(),n=t.layoutOptions||v.DEFAULT,o=n.x?n.x:0,h=n.anchor?n.anchor:_.DEFAULT_ANCHOR,a=Math.abs(o)<1?(1-h.x)*e/(1-o):o+e;r=Math.max(r,a)}return e===o.AT_MOST&&(r=Math.min(t,r)),r}measureHeightReach(t,e){if(e===o.EXACTLY)return t;const i=this.host.widgetChildren;let r=0;for(let s=0,n=i.length;s<n;s++){const t=i[s],e=t.getMeasuredHeight(),n=t.layoutOptions||v.DEFAULT,o=n.y?n.y:0,h=n.anchor?n.anchor:_.DEFAULT_ANCHOR,a=Math.abs(o)<1?(1-h.y)*e/(1-o):o+e;r=Math.max(r,a)}return e===o.AT_MOST&&(r=Math.min(t,r)),r}measureChildFillers(){const t=this.host.widgetChildren;for(let e=0,i=t.length;e<i;e++){const i=t[e],r=i.layoutOptions||v.DEFAULT;let s=Math.abs(r.width)<1?r.width*this._measuredWidth:r.width,n=Math.abs(r.height)<1?r.height*this._measuredHeight:r.height;s===v.WRAP_CONTENT&&(s=i.getMeasuredWidth()),n===v.WRAP_CONTENT&&(n=i.getMeasuredHeight()),r.width!==v.FILL_PARENT&&r.height!==v.FILL_PARENT||i.measure(r.width===v.FILL_PARENT?this._measuredWidth:s,r.height===v.FILL_PARENT?this._measuredHeight:n,o.EXACTLY,o.EXACTLY)}}getMeasuredWidth(){return this._measuredWidth}getMeasuredHeight(){return this._measuredHeight}}exports.FastLayout=T;class b extends g{useLayout(t){return this.layoutMgr&&this.layoutMgr.onDetach(),this.layoutMgr=t,t&&this.layoutMgr.onAttach(this),this}useDefaultLayout(){this.useLayout(new T)}onMeasure(t,e,i,r){super.onMeasure(t,e,i,r),0!==this.widgetChildren.length&&(this.layoutMgr||this.useDefaultLayout(),this.layoutMgr.onMeasure(t-this.paddingHorizontal,e-this.paddingVertical,i,r),this._measuredWidth=Math.max(this.measuredWidth,this.layoutMgr.getMeasuredWidth()),this._measuredHeight=Math.max(this.measuredHeight,this.layoutMgr.getMeasuredHeight()))}onLayout(t,e,i,r,s=!0){super.onLayout(t,e,i,r,s),0!==this.widgetChildren.length&&(this.layoutMgr||this.useDefaultLayout(),this.layoutMgr.onLayout())}}exports.WidgetGroup=b;class E extends b{constructor(){super(),this.hitArea=new e.Rectangle,this.insetContainer.hitArea=this.hitArea}update(){super.update()}layout(t,e,i,r,s){super.layout(t,e,i,r,s),this.hitArea.width=this.width,this.hitArea.height=this.height}}exports.InteractiveGroup=E;class w extends E{constructor(t={}){super(),this.bindEvents=(()=>{this.stage.on("pointerdown",this.onDocumentPointerDownImpl),document.addEventListener("keydown",this.onKeyDownImpl)}),this.clearEvents=(()=>{this.stage.off("pointerdown",this.onDocumentPointerDownImpl),document.removeEventListener("keydown",this.onKeyDownImpl)}),this.onKeyDownImpl=(t=>{const e=this.stage.focusController;9===t.which&&e.useTab?(e.onTab(),t.preventDefault()):38===t.which&&e.useBack?(e.onBack(),t.preventDefault()):40===t.which&&e.useForward&&(e.onForward(),t.preventDefault()),this.emit("keydown")}),this.onDocumentPointerDownImpl=(()=>{this._isMousePressed||this.blur()}),t.background&&super.setBackground(t.background),this._isFocused=!1,this._isMousePressed=!1,this.interactive=!0,this.tabIndex=t.tabIndex,this.tabGroup=t.tabGroup,this.insetContainer.on("pointerdown",()=>{this.focus(),this._isMousePressed=!0}),this.insetContainer.on("pointerup",()=>{this._isMousePressed=!1}),this.insetContainer.on("pointerupoutside",()=>{this._isMousePressed=!1})}focus(){this.isFocused||(this.stage.focusController.notifyFocus(this),this._isFocused=!0,this.bindEvents(),this.emit("focusChanged",!0),this.emit("focus"))}blur(){this._isFocused&&(this.stage.focusController.notifyBlur(),this._isFocused=!1,this.clearEvents(),this.emit("focusChanged",!1),this.emit("blur"))}get isFocused(){return this._isFocused}initialize(){super.initialize(),this.stage.focusController.in(this,this.tabIndex,this.tabGroup)}}class C extends g{constructor(t,i){super(),this.textDisplay=new e.Text(t,i),this.contentContainer.addChild(this.textDisplay)}update(){super.update(),null!==this.tint&&(this.textDisplay.tint=this.tint),null!==this.blendMode&&(this.textDisplay.blendMode=this.blendMode)}get value(){return this.textDisplay.text}set value(t){this.textDisplay.text=t}get text(){return this.value}set text(t){this.value=t}getTextStyle(){return this.textDisplay.style}setTextStyle(t){return this.textDisplay.style=t,this}onStyleChange(t){super.onStyleChange(t);const e=t.getProperties(...f),i=this.textDisplay.style;f.forEach(t=>{void 0!==e[t]&&(i[t]=e[t])})}}exports.TextWidget=C;class A extends w{constructor(t){super(t),this.isHover=!1,"string"==typeof t.text&&(t.text=new C(t.text,new e.TextStyle)),this.textWidget=t.text.setLayoutOptions(new _({width:v.WRAP_CONTENT,height:v.WRAP_CONTENT,x:.5,y:.5,anchor:_.CENTER_ANCHOR})),this.textWidget&&this.addChild(this.textWidget),this.contentContainer.buttonMode=!0}onClick(t){super.onClick(t),this.emit("click",t)}onDoubleClick(t){super.onDoubleClick(t),this.emit("doubleclick",t)}update(){super.update()}initialize(){super.initialize(),this.insetContainer.interactiveChildren=!1}get value(){return this.textWidget?this.textWidget.text:""}set value(t){this.textWidget&&(this.textWidget.text=t)}get text(){return this.textWidget}set text(t){this.value=t}onStyleChange(t){this.textWidget.onStyleChange(t)}}exports.Button=A;class I extends w{constructor(t){super(t),this.change=(t=>{this.checkmark&&(this.checkmark.alpha=t?1:0)}),this.click=(()=>{this.emit("click"),null!==this.checkGroup&&this.checked||(this.checked=!this.checked,this.emit("changed",this.checked))}),this._checked=void 0!==t.checked&&t.checked,this._value=t.value||"",this.checkGroup=t.checkGroup||null,this.checkmark=new E,this.checkmark.contentContainer.addChild(t.checkmark),this.checkmark.setLayoutOptions(new _({width:v.WRAP_CONTENT,height:v.WRAP_CONTENT,x:.5,y:.5,anchor:_.CENTER_ANCHOR})),this.checkmark.alpha=this._checked?1:0,this.addChild(this.checkmark),this.contentContainer.buttonMode=!0}update(){}get checked(){return this._checked}set checked(t){t!==this._checked&&(null!==this.checkGroup&&t&&this.stage.checkBoxGroupController.notifyCheck(this),this._checked=t,this.change(t))}get value(){return this._value}set value(t){this._value=t,this.checked&&this.stage.checkBoxGroupController.notifyCheck(this)}get selectedValue(){var t;return null===(t=this.stage)||void 0===t?void 0:t.checkBoxGroupController.getSelected(this.checkGroup).value}initialize(){super.initialize();const t=this.eventBroker.click;t.onHover=((t,e)=>{this.emit("hover",e)}),t.onPress=((t,e)=>{e&&(this.focus(),t.data.originalEvent.preventDefault()),this.emit("press",e)}),t.onClick=(()=>{this.click()}),null!==this.checkGroup&&this.stage.checkBoxGroupController.in(this,this.checkGroup)}}exports.CheckBox=I;class M{getPosition(t){return t}}function S(t,e,i){const r=t,s=e&&i?3:i?1:2;this.getPosition=function(t){let e=1===s?1-t:2===s?t:t<.5?2*t:2*(1-t);return 1===r?e*=e:2===r?e*=e*e:3===r?e*=e*e*e:4===r&&(e*=e*e*e*e),1===s?1-e:2===s?e:t<.5?e/2:1-e/2}}S.prototype=Object.create(M.prototype),S.prototype.constructor=S;const O={};exports.Ease=O;const R=.5*Math.PI;function L(t){const e=Object.create(M.prototype);return e.getPosition=t,e}const P=new M;function N(t,e,i){return{easeIn:t,easeOut:e,easeInOut:i}}O.Linear=P,O.Power0={easeNone:P},O.Power1=O.Quad=N(new S(1,1,0),new S(1,0,1),new S(1,1,1)),O.Power2=O.Cubic=N(new S(2,1,0),new S(2,0,1),new S(2,1,1)),O.Power3=O.Quart=N(new S(3,1,0),new S(3,0,1),new S(3,1,1)),O.Power4=O.Quint=N(new S(4,1,0),new S(4,0,1),new S(4,1,1)),O.Bounce={BounceIn:L(function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),BounceOut:L(function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),BounceInOut:L(function(t){const e=t<.5;return(t=e?1-2*t:2*t-1)<1/2.75?t*=7.5625*t:t=t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})},O.Circ={CircIn:L(function(t){return-(Math.sqrt(1-t*t)-1)}),CircOut:L(function(t){return Math.sqrt(1-(t-=1)*t)}),CircInOut:L(function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})},O.Expo={ExpoIn:L(function(t){return Math.pow(2,10*(t-1))-.001}),ExpoOut:L(function(t){return 1-Math.pow(2,-10*t)}),ExpoInOut:L(function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})},O.Sine={SineIn:L(function(t){return 1-Math.cos(t*R)}),SineOut:L(function(t){return Math.sin(t*R)}),SineInOut:L(function(t){return-.5*(Math.cos(Math.PI*t)-1)})};const D={Lerp:(t,e,i)=>(i>1?i=1:i<0&&(i=0),t+(e-t)*i),Round(t,e){const i=Math.pow(10,e);return Math.round(t*i)/i},componentToHex(t){const e=t.toString(16);return 1==e.length?`0${e}`:e},rgbToHex(t,e,i){return`#${this.componentToHex(t)}${this.componentToHex(e)}${this.componentToHex(i)}`},rgbToNumber:(t,e,i)=>65536*t+256*e+i,numberToRgb:t=>({r:Math.floor(t/65536),g:Math.floor(t/256)%256,b:t%256}),hexToRgb(t){if(null===t&&(t=16777215),!isNaN(t))return this.numberToRgb(t);t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,i,r){return e+e+i+i+r+r});const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}};exports.Helpers=D;class F extends g{constructor(t){super(),this.spriteDisplay=new e.Sprite(t),this.contentContainer.addChild(this.spriteDisplay)}update(){null!==this.tint&&(this.spriteDisplay.tint=this.tint),null!==this.blendMode&&(this.spriteDisplay.blendMode=this.blendMode)}static fromImage(t){return new F(new e.Texture(new e.BaseTexture(t)))}}exports.Sprite=F;const k=F;exports.ImageWidget=k;var U=/iPhone/i,B=/iPod/i,H=/iPad/i,G=/\biOS-universal(?:.+)Mac\b/i,W=/\bAndroid(?:.+)Mobile\b/i,V=/Android/i,X=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,j=/Silk/i,z=/Windows Phone/i,Y=/\bWindows(?:.+)ARM\b/i,K=/BlackBerry/i,q=/BB10/i,Z=/Opera Mini/i,$=/\b(CriOS|Chrome)(?:.+)Mobile/i,J=/Mobile(?:.+)Firefox\b/i,Q=function(t){return void 0!==t&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&t.maxTouchPoints>1&&"undefined"==typeof MSStream};function tt(t){return function(e){return e.test(t)}}function et(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"==typeof navigator?"string"==typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var i=e.userAgent,r=i.split("[FBAN");void 0!==r[1]&&(i=r[0]),void 0!==(r=i.split("Twitter"))[1]&&(i=r[0]);var s=tt(i),n={apple:{phone:s(U)&&!s(z),ipod:s(B),tablet:!s(U)&&(s(H)||Q(e))&&!s(z),universal:s(G),device:(s(U)||s(B)||s(H)||s(G)||Q(e))&&!s(z)},amazon:{phone:s(X),tablet:!s(X)&&s(j),device:s(X)||s(j)},android:{phone:!s(z)&&s(X)||!s(z)&&s(W),tablet:!s(z)&&!s(X)&&!s(W)&&(s(j)||s(V)),device:!s(z)&&(s(X)||s(j)||s(W)||s(V))||s(/\bokhttp\b/i)},windows:{phone:s(z),tablet:s(Y),device:s(z)||s(Y)},other:{blackberry:s(K),blackberry10:s(q),opera:s(Z),firefox:s(J),chrome:s($),device:s(K)||s(q)||s(Z)||s(J)||s($)},any:!1,phone:!1,tablet:!1};return n.any=n.apple.device||n.android.device||n.windows.device||n.other.device,n.phone=n.apple.phone||n.android.phone||n.windows.phone,n.tablet=n.apple.tablet||n.android.tablet||n.windows.tablet,n}var it=et(window.navigator);function rt(t){var e=!0;if(it.tablet||it.phone){var i;if(it.apple.device)if(i=navigator.userAgent.match(/OS (\d+)_(\d+)?/))parseInt(i[1],10)<11&&(e=!1);if(it.android.device)if(i=navigator.userAgent.match(/Android\s([0-9.]*)/))parseInt(i[1],10)<7&&(e=!1)}return e?t:4}function nt(){return!it.apple.device}var ot,ht,at,ut,lt,dt,ct,pt,ft,gt,mt,vt,yt,_t,xt,Tt,bt,Et={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:rt(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:it.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:nt(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(ot||(ot={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(ht||(ht={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(at||(at={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(ut||(ut={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(lt||(lt={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(dt||(dt={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(ct||(ct={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(pt||(pt={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(ft||(ft={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(gt||(gt={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON"}(mt||(mt={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(vt||(vt={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(yt||(yt={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(_t||(_t={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(xt||(xt={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(Tt||(Tt={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(bt||(bt={}));var wt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function Ct(t,e){return t(e={exports:{}},e.exports),e.exports}var At=Ct(function(t){var e=Object.prototype.hasOwnProperty,i="~";function r(){}function s(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function n(t,e,r,n,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var h=new s(r,n||t,o),a=i?i+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],h]:t._events[a].push(h):(t._events[a]=h,t._eventsCount++),t}function o(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function h(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(i=!1)),h.prototype.eventNames=function(){var t,r,s=[];if(0===this._eventsCount)return s;for(r in t=this._events)e.call(t,r)&&s.push(i?r.slice(1):r);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(t)):s},h.prototype.listeners=function(t){var e=i?i+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var s=0,n=r.length,o=new Array(n);s<n;s++)o[s]=r[s].fn;return o},h.prototype.listenerCount=function(t){var e=i?i+t:t,r=this._events[e];return r?r.fn?1:r.length:0},h.prototype.emit=function(t,e,r,s,n,o){var h=i?i+t:t;if(!this._events[h])return!1;var a,u,l=this._events[h],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,s),!0;case 5:return l.fn.call(l.context,e,r,s,n),!0;case 6:return l.fn.call(l.context,e,r,s,n,o),!0}for(u=1,a=new Array(d-1);u<d;u++)a[u-1]=arguments[u];l.fn.apply(l.context,a)}else{var c,p=l.length;for(u=0;u<p;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),d){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,r);break;case 4:l[u].fn.call(l[u].context,e,r,s);break;default:if(!a)for(c=1,a=new Array(d-1);c<d;c++)a[c-1]=arguments[c];l[u].fn.apply(l[u].context,a)}}return!0},h.prototype.on=function(t,e,i){return n(this,t,e,i,!1)},h.prototype.once=function(t,e,i){return n(this,t,e,i,!0)},h.prototype.removeListener=function(t,e,r,s){var n=i?i+t:t;if(!this._events[n])return this;if(!e)return o(this,n),this;var h=this._events[n];if(h.fn)h.fn!==e||s&&!h.once||r&&h.context!==r||o(this,n);else{for(var a=0,u=[],l=h.length;a<l;a++)(h[a].fn!==e||s&&!h[a].once||r&&h[a].context!==r)&&u.push(h[a]);u.length?this._events[n]=1===u.length?u[0]:u:o(this,n)}return this},h.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&o(this,e)):(this._events=new r,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=i,h.EventEmitter=h,t.exports=h}),It=Ct(function(t,e){!function(i){var r=e&&!e.nodeType&&e,s=t&&!t.nodeType&&t,n="object"==typeof wt&&wt;n.global!==n&&n.window!==n&&n.self!==n||(i=n);var o,h,a=2147483647,u=36,l=1,d=26,c=38,p=700,f=72,g=128,m="-",v=/^xn--/,y=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},T=u-l,b=Math.floor,E=String.fromCharCode;function w(t){throw RangeError(x[t])}function C(t,e){for(var i=t.length,r=[];i--;)r[i]=e(t[i]);return r}function A(t,e){var i=t.split("@"),r="";return i.length>1&&(r=i[0]+"@",t=i[1]),r+C((t=t.replace(_,".")).split("."),e).join(".")}function I(t){for(var e,i,r=[],s=0,n=t.length;s<n;)(e=t.charCodeAt(s++))>=55296&&e<=56319&&s<n?56320==(64512&(i=t.charCodeAt(s++)))?r.push(((1023&e)<<10)+(1023&i)+65536):(r.push(e),s--):r.push(e);return r}function M(t){return C(t,function(t){var e="";return t>65535&&(e+=E((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=E(t)}).join("")}function S(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function O(t,e,i){var r=0;for(t=i?b(t/p):t>>1,t+=b(t/e);t>T*d>>1;r+=u)t=b(t/T);return b(r+(T+1)*t/(t+c))}function R(t){var e,i,r,s,n,o,h,c,p,v,y,_=[],x=t.length,T=0,E=g,C=f;for((i=t.lastIndexOf(m))<0&&(i=0),r=0;r<i;++r)t.charCodeAt(r)>=128&&w("not-basic"),_.push(t.charCodeAt(r));for(s=i>0?i+1:0;s<x;){for(n=T,o=1,h=u;s>=x&&w("invalid-input"),((c=(y=t.charCodeAt(s++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:u)>=u||c>b((a-T)/o))&&w("overflow"),T+=c*o,!(c<(p=h<=C?l:h>=C+d?d:h-C));h+=u)o>b(a/(v=u-p))&&w("overflow"),o*=v;C=O(T-n,e=_.length+1,0==n),b(T/e)>a-E&&w("overflow"),E+=b(T/e),T%=e,_.splice(T++,0,E)}return M(_)}function L(t){var e,i,r,s,n,o,h,c,p,v,y,_,x,T,C,A=[];for(_=(t=I(t)).length,e=g,i=0,n=f,o=0;o<_;++o)(y=t[o])<128&&A.push(E(y));for(r=s=A.length,s&&A.push(m);r<_;){for(h=a,o=0;o<_;++o)(y=t[o])>=e&&y<h&&(h=y);for(h-e>b((a-i)/(x=r+1))&&w("overflow"),i+=(h-e)*x,e=h,o=0;o<_;++o)if((y=t[o])<e&&++i>a&&w("overflow"),y==e){for(c=i,p=u;!(c<(v=p<=n?l:p>=n+d?d:p-n));p+=u)C=c-v,T=u-v,A.push(E(S(v+C%T,0))),c=b(C/T);A.push(E(S(c,0))),n=O(i,x,r==s),i=0,++r}++i,++e}return A.join("")}if(o={version:"1.3.2",ucs2:{decode:I,encode:M},decode:R,encode:L,toASCII:function(t){return A(t,function(t){return y.test(t)?"xn--"+L(t):t})},toUnicode:function(t){return A(t,function(t){return v.test(t)?R(t.slice(4).toLowerCase()):t})}},r&&s)if(t.exports==r)s.exports=o;else for(h in o)o.hasOwnProperty(h)&&(r[h]=o[h]);else i.punycode=o}(wt)}),Mt={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}};function St(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Ot=function(t,e,i,r){e=e||"&",i=i||"=";var s={};if("string"!=typeof t||0===t.length)return s;var n=/\+/g;t=t.split(e);var o=1e3;r&&"number"==typeof r.maxKeys&&(o=r.maxKeys);var h=t.length;o>0&&h>o&&(h=o);for(var a=0;a<h;++a){var u,l,d,c,p=t[a].replace(n,"%20"),f=p.indexOf(i);f>=0?(u=p.substr(0,f),l=p.substr(f+1)):(u=p,l=""),d=decodeURIComponent(u),c=decodeURIComponent(l),St(s,d)?Array.isArray(s[d])?s[d].push(c):s[d]=[s[d],c]:s[d]=c}return s},Rt=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},Lt=function(t,e,i,r){return e=e||"&",i=i||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(r){var s=encodeURIComponent(Rt(r))+i;return Array.isArray(t[r])?t[r].map(function(t){return s+encodeURIComponent(Rt(t))}).join(e):s+encodeURIComponent(Rt(t[r]))}).join(e):r?encodeURIComponent(Rt(r))+i+encodeURIComponent(Rt(t)):""},Pt=Ct(function(t,e){e.decode=e.parse=Ot,e.encode=e.stringify=Lt}),Nt=Pt.decode,Dt=Pt.parse,Ft=Pt.encode,kt=Pt.stringify,Ut=te;function Bt(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Ht=/^([a-z0-9.+-]+:)/i,Gt=/:[0-9]*$/,Wt=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Vt=["<",">",'"',"`"," ","\r","\n","\t"],Xt=["{","}","|","\\","^","`"].concat(Vt),jt=["'"].concat(Xt),zt=["%","/","?",";","#"].concat(jt),Yt=["/","?","#"],Kt=255,qt=/^[+a-z0-9A-Z_-]{0,63}$/,Zt=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,$t={javascript:!0,"javascript:":!0},Jt={javascript:!0,"javascript:":!0},Qt={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function te(t,e,i){if(t&&Mt.isObject(t)&&t instanceof Bt)return t;var r=new Bt;return r.parse(t,e,i),r}Bt.prototype.parse=function(t,e,i){if(!Mt.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),s=-1!==r&&r<t.indexOf("#")?"?":"#",n=t.split(s);n[0]=n[0].replace(/\\/g,"/");var o=t=n.join(s);if(o=o.trim(),!i&&1===t.split("#").length){var h=Wt.exec(o);if(h)return this.path=o,this.href=o,this.pathname=h[1],h[2]?(this.search=h[2],this.query=e?Pt.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var a=Ht.exec(o);if(a){var u=(a=a[0]).toLowerCase();this.protocol=u,o=o.substr(a.length)}if(i||a||o.match(/^\/\/[^@\/]+@[^@\/]+/)){var l="//"===o.substr(0,2);!l||a&&Jt[a]||(o=o.substr(2),this.slashes=!0)}if(!Jt[a]&&(l||a&&!Qt[a])){for(var d,c,p=-1,f=0;f<Yt.length;f++){-1!==(g=o.indexOf(Yt[f]))&&(-1===p||g<p)&&(p=g)}-1!==(c=-1===p?o.lastIndexOf("@"):o.lastIndexOf("@",p))&&(d=o.slice(0,c),o=o.slice(c+1),this.auth=decodeURIComponent(d)),p=-1;for(f=0;f<zt.length;f++){var g;-1!==(g=o.indexOf(zt[f]))&&(-1===p||g<p)&&(p=g)}-1===p&&(p=o.length),this.host=o.slice(0,p),o=o.slice(p),this.parseHost(),this.hostname=this.hostname||"";var m="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!m)for(var v=this.hostname.split(/\./),y=(f=0,v.length);f<y;f++){var _=v[f];if(_&&!_.match(qt)){for(var x="",T=0,b=_.length;T<b;T++)_.charCodeAt(T)>127?x+="x":x+=_[T];if(!x.match(qt)){var E=v.slice(0,f),w=v.slice(f+1),C=_.match(Zt);C&&(E.push(C[1]),w.unshift(C[2])),w.length&&(o="/"+w.join(".")+o),this.hostname=E.join(".");break}}}this.hostname.length>Kt?this.hostname="":this.hostname=this.hostname.toLowerCase(),m||(this.hostname=It.toASCII(this.hostname));var A=this.port?":"+this.port:"",I=this.hostname||"";this.host=I+A,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==o[0]&&(o="/"+o))}if(!$t[u])for(f=0,y=jt.length;f<y;f++){var M=jt[f];if(-1!==o.indexOf(M)){var S=encodeURIComponent(M);S===M&&(S=escape(M)),o=o.split(M).join(S)}}var O=o.indexOf("#");-1!==O&&(this.hash=o.substr(O),o=o.slice(0,O));var R=o.indexOf("?");if(-1!==R?(this.search=o.substr(R),this.query=o.substr(R+1),e&&(this.query=Pt.parse(this.query)),o=o.slice(0,R)):e&&(this.search="",this.query={}),o&&(this.pathname=o),Qt[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){A=this.pathname||"";var L=this.search||"";this.path=A+L}return this.href=this.format(),this},Bt.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",i=this.pathname||"",r=this.hash||"",s=!1,n="";this.host?s=t+this.host:this.hostname&&(s=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&Mt.isObject(this.query)&&Object.keys(this.query).length&&(n=Pt.stringify(this.query));var o=this.search||n&&"?"+n||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||Qt[e])&&!1!==s?(s="//"+(s||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):s||(s=""),r&&"#"!==r.charAt(0)&&(r="#"+r),o&&"?"!==o.charAt(0)&&(o="?"+o),e+s+(i=i.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(o=o.replace("#","%23"))+r},Bt.prototype.resolve=function(t){return this.resolveObject(te(t,!1,!0)).format()},Bt.prototype.resolveObject=function(t){if(Mt.isString(t)){var e=new Bt;e.parse(t,!1,!0),t=e}for(var i=new Bt,r=Object.keys(this),s=0;s<r.length;s++){var n=r[s];i[n]=this[n]}if(i.hash=t.hash,""===t.href)return i.href=i.format(),i;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),h=0;h<o.length;h++){var a=o[h];"protocol"!==a&&(i[a]=t[a])}return Qt[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(t.protocol&&t.protocol!==i.protocol){if(!Qt[t.protocol]){for(var u=Object.keys(t),l=0;l<u.length;l++){var d=u[l];i[d]=t[d]}return i.href=i.format(),i}if(i.protocol=t.protocol,t.host||Jt[t.protocol])i.pathname=t.pathname;else{for(var c=(t.pathname||"").split("/");c.length&&!(t.host=c.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==c[0]&&c.unshift(""),c.length<2&&c.unshift(""),i.pathname=c.join("/")}if(i.search=t.search,i.query=t.query,i.host=t.host||"",i.auth=t.auth,i.hostname=t.hostname||t.host,i.port=t.port,i.pathname||i.search){var p=i.pathname||"",f=i.search||"";i.path=p+f}return i.slashes=i.slashes||t.slashes,i.href=i.format(),i}var g=i.pathname&&"/"===i.pathname.charAt(0),m=t.host||t.pathname&&"/"===t.pathname.charAt(0),v=m||g||i.host&&t.pathname,y=v,_=i.pathname&&i.pathname.split("/")||[],x=(c=t.pathname&&t.pathname.split("/")||[],i.protocol&&!Qt[i.protocol]);if(x&&(i.hostname="",i.port=null,i.host&&(""===_[0]?_[0]=i.host:_.unshift(i.host)),i.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===c[0]?c[0]=t.host:c.unshift(t.host)),t.host=null),v=v&&(""===c[0]||""===_[0])),m)i.host=t.host||""===t.host?t.host:i.host,i.hostname=t.hostname||""===t.hostname?t.hostname:i.hostname,i.search=t.search,i.query=t.query,_=c;else if(c.length)_||(_=[]),_.pop(),_=_.concat(c),i.search=t.search,i.query=t.query;else if(!Mt.isNullOrUndefined(t.search)){if(x)i.hostname=i.host=_.shift(),(C=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=C.shift(),i.host=i.hostname=C.shift());return i.search=t.search,i.query=t.query,Mt.isNull(i.pathname)&&Mt.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i}if(!_.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var T=_.slice(-1)[0],b=(i.host||t.host||_.length>1)&&("."===T||".."===T)||""===T,E=0,w=_.length;w>=0;w--)"."===(T=_[w])?_.splice(w,1):".."===T?(_.splice(w,1),E++):E&&(_.splice(w,1),E--);if(!v&&!y)for(;E--;E)_.unshift("..");!v||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),b&&"/"!==_.join("/").substr(-1)&&_.push("");var C,A=""===_[0]||_[0]&&"/"===_[0].charAt(0);x&&(i.hostname=i.host=A?"":_.length?_.shift():"",(C=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=C.shift(),i.host=i.hostname=C.shift()));return(v=v||i.host&&_.length)&&!A&&_.unshift(""),_.length?i.pathname=_.join("/"):(i.pathname=null,i.path=null),Mt.isNull(i.pathname)&&Mt.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=t.auth||i.auth,i.slashes=i.slashes||t.slashes,i.href=i.format(),i},Bt.prototype.parseHost=function(){var t=this.host,e=Gt.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)},Et.RETINA_PREFIX=/@([0-9\.]+)x/,Et.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var ee,ie=!1,re="5.3.1";function se(t){var e;if(!ie){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var i=["\n %c %c %c PixiJS "+re+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=window.console).log.apply(e,i)}else window.console&&window.console.log("PixiJS "+re+" - "+t+" - http://www.pixijs.com/");ie=!0}}function ne(){return void 0===ee&&(ee=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:Et.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),r=!(!i||!i.getContextAttributes().stencil);if(i){var s=i.getExtension("WEBGL_lose_context");s&&s.loseContext()}return i=null,r}catch(n){return!1}}()),ee}function oe(t,e){return void 0===e&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function he(t){var e=t.toString(16);return"#"+(e="000000".substr(0,6-e.length)+e)}function ae(){for(var t=[],e=[],i=0;i<32;i++)t[i]=i,e[i]=i;t[ut.NORMAL_NPM]=ut.NORMAL,t[ut.ADD_NPM]=ut.ADD,t[ut.SCREEN_NPM]=ut.SCREEN,e[ut.NORMAL]=ut.NORMAL_NPM,e[ut.ADD]=ut.ADD_NPM,e[ut.SCREEN]=ut.SCREEN_NPM;var r=[];return r.push(e),r.push(t),r}var ue=ae();function le(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var i=t>>16&255,r=t>>8&255,s=255&t;return(255*e<<24)+((i=i*e+.5|0)<<16)+((r=r*e+.5|0)<<8)+(s=s*e+.5|0)}function de(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1}function ce(t){return!(t&t-1||!t)}function pe(t){var e=(t>65535?1:0)<<4,i=((t>>>=e)>255?1:0)<<3;return e|=i,e|=i=((t>>>=i)>15?1:0)<<2,(e|=i=((t>>>=i)>3?1:0)<<1)|(t>>>=i)>>1}function fe(t,e,i){var r,s=t.length;if(!(e>=s||0===i)){var n=s-(i=e+i>s?s-e:i);for(r=e;r<n;++r)t[r]=t[r+i];t.length=n}}var ge=0;function me(){return++ge}var ve={};function ye(t,e,i){if(void 0===i&&(i=3),!ve[e]){var r=(new Error).stack;void 0===r?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(r=r.split("\n").splice(i).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(r))),ve[e]=!0}}var _e,xe={},Te=Object.create(null),be=Object.create(null),Ee=function(){function t(t,e,i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||Et.RESOLUTION,this.resize(t,e)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t},enumerable:!1,configurable:!0}),t}();function we(t,e){if(void 0===e&&(e=window.location),0===t.indexOf("data:"))return"";e=e||window.location,_e||(_e=document.createElement("a")),_e.href=t;var i=Ut(_e.href),r=!i.port&&""===e.port||i.port===e.port;return i.hostname===e.hostname&&r&&i.protocol===e.protocol?"":"anonymous"}function Ce(t,e){var i=Et.RETINA_PREFIX.exec(t);return i?parseFloat(i[1]):void 0!==e?e:1}var Ae,Ie=function(){function t(t){this.items=[],this._name=t,this._aliasCount=0}return t.prototype.emit=function(t,e,i,r,s,n,o,h){if(arguments.length>8)throw new Error("max arguments reached");var a=this.name,u=this.items;this._aliasCount++;for(var l=0,d=u.length;l<d;l++)u[l][a](t,e,i,r,s,n,o,h);return u===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},t.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},t.prototype.contains=function(t){return-1!==this.items.indexOf(t)},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(Ie.prototype,{dispatch:{value:Ie.prototype.emit},run:{value:Ie.prototype.emit}}),Et.TARGET_FPMS=.06,function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"}(Ae||(Ae={}));var Me,Se=function(){function t(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=0),void 0===r&&(r=!1),this.fn=t,this.context=e,this.priority=i,this.once=r,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}(),Oe=function(){function t(){var t=this;this._head=new Se(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/Et.TARGET_FPMS,this.elapsedMS=1/Et.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e,i){return void 0===i&&(i=Ae.NORMAL),this._addListener(new Se(t,e,i))},t.prototype.addOnce=function(t,e,i){return void 0===i&&(i=Ae.NORMAL),this._addListener(new Se(t,e,i,!0))},t.prototype._addListener=function(t){var e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var i=this._head.next;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Et.TARGET_FPMS;for(var r=this._head,s=r.next;s;)s=s.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),i=Math.min(Math.max(0,e)/1e3,Et.TARGET_FPMS);this._maxElapsedMS=1/i},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),Re=2*Math.PI;!function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"}(Me||(Me={}));var Le=function(){function t(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(r),this.type=Me.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},t.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},t.prototype.fit=function(t){var e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),r=Math.max(this.y,t.y),s=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(i-e,0),this.y=r,this.height=Math.max(s-r,0),this},t.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var i=Math.ceil((this.x+this.width-e)*t)/t,r=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=r-this.y,this},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),s=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=i-e,this.y=r,this.height=s-r,this},t}(),Pe=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},t.prototype.copyTo=function(t){return t.set(this.x,this.y),t},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},t}(),Ne=function(){function t(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0),this._x=i,this._y=r,this.cb=t,this.scope=e}return t.prototype.clone=function(e,i){return void 0===e&&(e=this.cb),void 0===i&&(i=this.scope),new t(e,i,this._x,this._y)},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this._x===t&&this._y===e||(this._x=t,this._y=e,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(t){return t.set(this._x,this._y),t},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),De=function(){function t(t,e,i,r,s,n){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===s&&(s=0),void 0===n&&(n=0),this.array=null,this.a=t,this.b=e,this.c=i,this.d=r,this.tx=s,this.ty=n}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,i,r,s,n){return this.a=t,this.b=e,this.c=i,this.d=r,this.tx=s,this.ty=n,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},t.prototype.apply=function(t,e){e=e||new Pe;var i=t.x,r=t.y;return e.x=this.a*i+this.c*r+this.tx,e.y=this.b*i+this.d*r+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new Pe;var i=1/(this.a*this.d+this.c*-this.b),r=t.x,s=t.y;return e.x=this.d*i*r+-this.c*i*s+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*s+-this.b*i*r+(-this.ty*this.a+this.tx*this.b)*i,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),r=this.a,s=this.c,n=this.tx;return this.a=r*e-this.b*i,this.b=r*i+this.b*e,this.c=s*e-this.d*i,this.d=s*i+this.d*e,this.tx=n*e-this.ty*i,this.ty=n*i+this.ty*e,this},t.prototype.append=function(t){var e=this.a,i=this.b,r=this.c,s=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*s,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*s,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*s+this.ty,this},t.prototype.setTransform=function(t,e,i,r,s,n,o,h,a){return this.a=Math.cos(o+a)*s,this.b=Math.sin(o+a)*s,this.c=-Math.sin(o-h)*n,this.d=Math.cos(o-h)*n,this.tx=t-(i*this.a+r*this.c),this.ty=e-(i*this.b+r*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var i=this.a,r=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,i=this.b,r=this.c,s=this.d,n=-Math.atan2(-r,s),o=Math.atan2(i,e),h=Math.abs(n+o);return h<1e-5||Math.abs(Re-h)<1e-5?(t.rotation=o,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=n,t.skew.y=o),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(r*r+s*s),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,r=this.d,s=this.tx,n=t*r-e*i;return this.a=r/n,this.b=-e/n,this.c=-i/n,this.d=t/n,this.tx=(i*this.ty-r*s)/n,this.ty=-(t*this.ty-e*s)/n,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},t.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),Fe=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],ke=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Ue=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Be=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],He=[],Ge=[],We=Math.sign;function Ve(){for(var t=0;t<16;t++){var e=[];He.push(e);for(var i=0;i<16;i++)for(var r=We(Fe[t]*Fe[i]+Ue[t]*ke[i]),s=We(ke[t]*Fe[i]+Be[t]*ke[i]),n=We(Fe[t]*Ue[i]+Ue[t]*Be[i]),o=We(ke[t]*Ue[i]+Be[t]*Be[i]),h=0;h<16;h++)if(Fe[h]===r&&ke[h]===s&&Ue[h]===n&&Be[h]===o){e.push(h);break}}for(t=0;t<16;t++){var a=new De;a.set(Fe[t],ke[t],Ue[t],Be[t],0,0),Ge.push(a)}}Ve();var Xe={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return Fe[t]},uY:function(t){return ke[t]},vX:function(t){return Ue[t]},vY:function(t){return Be[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return He[t][e]},sub:function(t,e){return He[t][Xe.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?Xe.S:Xe.N:2*Math.abs(e)<=Math.abs(t)?t>0?Xe.E:Xe.W:e>0?t>0?Xe.SE:Xe.SW:t>0?Xe.NE:Xe.NW},matrixAppendRotationInv:function(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0);var s=Ge[Xe.inv(e)];s.tx=i,s.ty=r,t.append(s)}},je=function(){function t(){this.worldTransform=new De,this.localTransform=new De,this.position=new Ne(this.onChange,this,0,0),this.scale=new Ne(this.onChange,this,1,1),this.pivot=new Ne(this.onChange,this,0,0),this.skew=new Ne(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var i=t.worldTransform,r=this.worldTransform;r.a=e.a*i.a+e.b*i.c,r.b=e.a*i.b+e.b*i.d,r.c=e.c*i.a+e.d*i.c,r.d=e.c*i.b+e.d*i.d,r.tx=e.tx*i.a+e.ty*i.c+i.tx,r.ty=e.tx*i.b+e.ty*i.d+i.ty,this._parentID=t._worldID,this._worldID++}},t.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();Et.PREFER_ENV=it.any?ot.WEBGL:ot.WEBGL2,Et.STRICT_TEXTURE_CACHE=!1;var ze=[];function Ye(t,e){if(!t)return null;var i="";if("string"==typeof t){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);r&&(i=r[1].toLowerCase())}for(var s=ze.length-1;s>=0;--s){var n=ze[s];if(n.test&&n.test(t,i))return new n(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}var Ke=function(t,e){return(Ke=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function qe(t,e){function i(){this.constructor=t}Ke(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var Ze=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new Ie("setRealSize"),this.onUpdate=new Ie("update"),this.onError=new Ie("onError")}return t.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},t.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(t,e,i){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(t,e){return!1},t}(),$e=function(t){function e(e,i){var r=this,s=i||{},n=s.width,o=s.height;if(!n||!o)throw new Error("BufferResource width or height invalid");return(r=t.call(this,n,o)||this).data=e,r}return qe(e,t),e.prototype.upload=function(t,e,i){var r=t.gl;return r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===vt.UNPACK),i.width===e.width&&i.height===e.height?r.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(i.width=e.width,i.height=e.height,r.texImage2D(e.target,0,i.internalFormat,e.width,e.height,0,e.format,i.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},e}(Ze),Je={scaleMode:ft.NEAREST,format:dt.RGBA,alphaMode:vt.NPM},Qe=function(t){function e(e,i){void 0===e&&(e=null),void 0===i&&(i=null);var r=t.call(this)||this,s=(i=i||{}).alphaMode,n=i.mipmap,o=i.anisotropicLevel,h=i.scaleMode,a=i.width,u=i.height,l=i.wrapMode,d=i.format,c=i.type,p=i.target,f=i.resolution,g=i.resourceOptions;return!e||e instanceof Ze||((e=Ye(e,g)).internal=!0),r.width=a||0,r.height=u||0,r.resolution=f||Et.RESOLUTION,r.mipmap=void 0!==n?n:Et.MIPMAP_TEXTURES,r.anisotropicLevel=void 0!==o?o:Et.ANISOTROPIC_LEVEL,r.wrapMode=l||Et.WRAP_MODE,r.scaleMode=void 0!==h?h:Et.SCALE_MODE,r.format=d||dt.RGBA,r.type=c||pt.UNSIGNED_BYTE,r.target=p||ct.TEXTURE_2D,r.alphaMode=void 0!==s?s:vt.UNPACK,void 0!==i.premultiplyAlpha&&(r.premultiplyAlpha=i.premultiplyAlpha),r.uid=me(),r.touched=0,r.isPowerOfTwo=!1,r._refreshPOT(),r._glTextures={},r.dirtyId=0,r.dirtyStyleId=0,r.cacheId=null,r.valid=a>0&&u>0,r.textureCacheIds=[],r.destroyed=!1,r.resource=null,r._batchEnabled=0,r._batchLocation=0,r.parentTextureArray=null,r.setResource(e),r}return qe(e,t),Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(t,e){var i;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,i=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,i=!0),i&&this.dirtyStyleId++,this},e.prototype.setSize=function(t,e,i){return this.resolution=i||this.resolution,this.width=t,this.height=e,this._refreshPOT(),this.update(),this},e.prototype.setRealSize=function(t,e,i){return this.resolution=i||this.resolution,this.width=t/this.resolution,this.height=e/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=ce(this.realWidth)&&ce(this.realHeight)},e.prototype.setResolution=function(t){var e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=this.width*e/t,this.height=this.height*e/t,this.emit("update",this)),this._refreshPOT(),this)},e.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(t){this.emit("error",this,t)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete be[this.cacheId],delete Te[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(t,i,r){void 0===r&&(r=Et.STRICT_TEXTURE_CACHE);var s="string"==typeof t,n=null;s?n=t:(t._pixiId||(t._pixiId="pixiid_"+me()),n=t._pixiId);var o=be[n];if(s&&r&&!o)throw new Error('The cacheId "'+n+'" does not exist in BaseTextureCache.');return o||((o=new e(t,i)).cacheId=n,e.addToCache(o,n)),o},e.fromBuffer=function(t,i,r,s){t=t||new Float32Array(i*r*4);var n=new $e(t,{width:i,height:r}),o=t instanceof Float32Array?pt.FLOAT:pt.UNSIGNED_BYTE;return new e(n,Object.assign(Je,s||{width:i,height:r,type:o}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),be[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),be[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=be[t];if(e){var i=e.textureCacheIds.indexOf(t);return i>-1&&e.textureCacheIds.splice(i,1),delete be[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)delete be[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},e._globalBatch=0,e}(At),ti=function(t){function e(e,i){var r=this,s=i||{},n=s.width,o=s.height;(r=t.call(this,n,o)||this).items=[],r.itemDirtyIds=[];for(var h=0;h<e;h++){var a=new Qe;r.items.push(a),r.itemDirtyIds.push(-2)}return r.length=e,r._load=null,r.baseTexture=null,r}return qe(e,t),e.prototype.initFromArray=function(t,e){for(var i=0;i<this.length;i++)t[i]&&(t[i].castToBaseTexture?this.addBaseTextureAt(t[i].castToBaseTexture(),i):t[i]instanceof Ze?this.addResourceAt(t[i],i):this.addResourceAt(Ye(t[i],e),i))},e.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},e.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=e,this.items[i].on("update",e.update,e)},e.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=null,this.items[i].off("update",e.update,e)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.items.map(function(t){return t.resource}).filter(function(t){return t}).map(function(t){return t.load()});return this._load=Promise.all(e).then(function(){var e=t.items[0],i=e.realWidth,r=e.realHeight;return t.resize(i,r),Promise.resolve(t)}),this._load},e}(Ze),ii=function(t){function e(e,i){var r,s,n=this,o=i||{},h=o.width,a=o.height;return Array.isArray(e)?(r=e,s=e.length):s=e,n=t.call(this,s,{width:h,height:a})||this,r&&n.initFromArray(r,i),n}return qe(e,t),e.prototype.addBaseTextureAt=function(t,e){if(!t.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(t.resource,e),this},e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=ct.TEXTURE_2D_ARRAY},e.prototype.upload=function(t,e,i){var r=this.length,s=this.itemDirtyIds,n=this.items,o=t.gl;i.dirtyId<0&&o.texImage3D(o.TEXTURE_2D_ARRAY,0,e.format,this._width,this._height,r,0,e.format,e.type,null);for(var h=0;h<r;h++){var a=n[h];s[h]<a.dirtyId&&(s[h]=a.dirtyId,a.valid&&o.texSubImage3D(o.TEXTURE_2D_ARRAY,0,0,0,h,a.resource.width,a.resource.height,1,e.format,e.type,a.resource.source))}return!0},e}(ti),ri=function(t){function e(e){var i=this,r=e,s=r.naturalWidth||r.videoWidth||r.width,n=r.naturalHeight||r.videoHeight||r.height;return(i=t.call(this,s,n)||this).source=e,i.noSubImage=!1,i}return qe(e,t),e.crossOrigin=function(t,e,i){void 0===i&&0!==e.indexOf("data:")?t.crossOrigin=we(e):!1!==i&&(t.crossOrigin="string"==typeof i?i:"anonymous")},e.prototype.upload=function(t,e,i,r){var s=t.gl,n=e.realWidth,o=e.realHeight;return r=r||this.source,s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===vt.UNPACK),this.noSubImage||e.target!==s.TEXTURE_2D||i.width!==n||i.height!==o?(i.width=n,i.height=o,s.texImage2D(e.target,0,e.format,e.format,e.type,r)):s.texSubImage2D(s.TEXTURE_2D,0,0,0,e.format,e.type,r),!0},e.prototype.update=function(){if(!this.destroyed){var e=this.source,i=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(i,r),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(Ze),si=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qe(e,t),e.test=function(t){var e=window.OffscreenCanvas;return!!(e&&t instanceof e)||t instanceof HTMLCanvasElement},e}(ri),ni=function(t){function e(i,r){var s=this,n=r||{},o=n.width,h=n.height,a=n.autoLoad,u=n.linkBaseTexture;if(i&&i.length!==e.SIDES)throw new Error("Invalid length. Got "+i.length+", expected 6");s=t.call(this,6,{width:o,height:h})||this;for(var l=0;l<e.SIDES;l++)s.items[l].target=ct.TEXTURE_CUBE_MAP_POSITIVE_X+l;return s.linkBaseTexture=!1!==u,i&&s.initFromArray(i,r),!1!==a&&s.load(),s}return qe(e,t),e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=ct.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(t,e,i){if(void 0===i&&(i=this.linkBaseTexture),!this.items[e])throw new Error("Index "+e+" is out of bounds");if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0){if(!t.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(t.resource,e)}else t.target=ct.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this},e.prototype.upload=function(t,i,r){for(var s=this.itemDirtyIds,n=0;n<e.SIDES;n++){var o=this.items[n];s[n]<o.dirtyId&&(o.valid&&o.resource?(o.resource.upload(t,o,r),s[n]=o.dirtyId):s[n]<-1&&(t.gl.texImage2D(o.target,0,r.internalFormat,i.realWidth,i.realHeight,0,i.format,r.type,null),s[n]=-1))}return!0},e.test=function(t){return Array.isArray(t)&&t.length===e.SIDES},e.SIDES=6,e}(ti),oi=function(t){function e(e,i){var r=this;if(i=i||{},!(e instanceof HTMLImageElement)){var s=new Image;ri.crossOrigin(s,e,i.crossorigin),s.src=e,e=s}return r=t.call(this,e)||this,!e.complete&&r._width&&r._height&&(r._width=0,r._height=0),r.url=e.src,r._process=null,r.preserveBitmap=!1,r.createBitmap=(void 0!==i.createBitmap?i.createBitmap:Et.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,r.alphaMode="number"==typeof i.alphaMode?i.alphaMode:null,void 0!==i.premultiplyAlpha&&(r.premultiplyAlpha=i.premultiplyAlpha),r.bitmap=null,r._load=null,!1!==i.autoLoad&&r.load(),r}return qe(e,t),e.prototype.load=function(t){var e=this;return this._load?this._load:(void 0!==t&&(this.createBitmap=t),this._load=new Promise(function(t,i){var r=e.source;e.url=r.src;var s=function(){e.destroyed||(r.onload=null,r.onerror=null,e.resize(r.width,r.height),e._load=null,e.createBitmap?t(e.process()):t(e))};r.complete&&r.src?s():(r.onload=s,r.onerror=function(t){i(t),e.onError.emit(t)})}),this._load)},e.prototype.process=function(){var t=this,e=this.source;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(e,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===vt.UNPACK?"premultiply":"none"}).then(function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))}),this._process):Promise.resolve(this)},e.prototype.upload=function(e,i,r){if("number"==typeof this.alphaMode&&(i.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,e,i,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,i,r,this.bitmap),!this.preserveBitmap){var s=!0,n=i._glTextures;for(var o in n){var h=n[o];if(h!==r&&h.dirtyId!==i.dirtyId){s=!1;break}}s&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(t){return"string"==typeof t||t instanceof HTMLImageElement},e}(ri),hi=function(t){function e(e,i){var r=this;return i=i||{},(r=t.call(this,document.createElement("canvas"))||this)._width=0,r._height=0,r.svg=e,r.scale=i.scale||1,r._overrideWidth=i.width,r._overrideHeight=i.height,r._resolve=null,r._crossorigin=i.crossorigin,r._load=null,!1!==i.autoLoad&&r.load(),r}return qe(e,t),e.prototype.load=function(){var t=this;return this._load?this._load:(this._load=new Promise(function(e){if(t._resolve=function(){t.resize(t.source.width,t.source.height),e(t)},/^\<svg/.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()}),this._load)},e.prototype._loadSvg=function(){var t=this,e=new Image;ri.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=function(i){t._resolve&&(e.onerror=null,t.onError.emit(i))},e.onload=function(){if(t._resolve){var i=e.width,r=e.height;if(!i||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var s=i*t.scale,n=r*t.scale;(t._overrideWidth||t._overrideHeight)&&(s=t._overrideWidth||t._overrideHeight/r*i,n=t._overrideHeight||t._overrideWidth/i*r),s=Math.round(s),n=Math.round(n);var o=t.source;o.width=s,o.height=n,o._pixiId="canvas_"+me(),o.getContext("2d").drawImage(e,0,0,i,r,0,0,s,n),t._resolve(),t._resolve=null}}},e.getSize=function(t){var i=e.SVG_SIZE.exec(t),r={};return i&&(r[i[1]]=Math.round(parseFloat(i[3])),r[i[5]]=Math.round(parseFloat(i[7]))),r},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(t,e){return"svg"===e||"string"==typeof t&&0===t.indexOf("data:image/svg+xml;base64")||"string"==typeof t&&0===t.indexOf("<svg")},e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(ri),ai=function(t){function e(i,r){var s=this;if(r=r||{},!(i instanceof HTMLVideoElement)){var n=document.createElement("video");n.setAttribute("preload","auto"),n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline",""),"string"==typeof i&&(i=[i]);var o=i[0].src||i[0];ri.crossOrigin(n,o,r.crossorigin);for(var h=0;h<i.length;++h){var a=document.createElement("source"),u=i[h],l=u.src,d=u.mime,c=(l=l||i[h]).split("?").shift().toLowerCase(),p=c.substr(c.lastIndexOf(".")+1);d=d||e.MIME_TYPES[p]||"video/"+p,a.src=l,a.type=d,n.appendChild(a)}i=n}return(s=t.call(this,i)||this).noSubImage=!0,s._autoUpdate=!0,s._isConnectedToTicker=!1,s._updateFPS=r.updateFPS||0,s._msToNextUpdate=0,s.autoPlay=!1!==r.autoPlay,s._load=null,s._resolve=null,s._onCanPlay=s._onCanPlay.bind(s),s._onError=s._onError.bind(s),!1!==r.autoLoad&&s.load(),s}return qe(e,t),e.prototype.update=function(e){if(!this.destroyed){var i=Oe.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-i),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){t.valid?i(t):(t._resolve=i,e.load())}),this._load},e.prototype._onError=function(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)},e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){var t=this.source;return 3===t.readyState||4===t.readyState},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Oe.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Oe.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&Oe.shared.remove(this.update,this);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Oe.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Oe.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(t){t!==this._updateFPS&&(this._updateFPS=t)},enumerable:!1,configurable:!0}),e.test=function(t,i){return t instanceof HTMLVideoElement||e.TYPES.indexOf(i)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(ri),ui=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qe(e,t),e.test=function(t){return!!window.createImageBitmap&&t instanceof ImageBitmap},e}(ri);ze.push(oi,ui,si,ai,hi,$e,ni,ii);var li=function(){function t(t){this.renderer=t}return t.prototype.destroy=function(){this.renderer=null},t}(),di=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qe(e,t),e.prototype.upload=function(t,e,i){var r=t.gl;return r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===vt.UNPACK),i.width===e.width&&i.height===e.height?r.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(i.width=e.width,i.height=e.height,r.texImage2D(e.target,0,1===t.context.webGLVersion?r.DEPTH_COMPONENT:r.DEPTH_COMPONENT16,e.width,e.height,0,e.format,e.type,this.data)),!0},e}($e),ci=function(){function t(t,e){this.width=Math.ceil(t||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Ie("disposeFramebuffer"),this.multisample=bt.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new Qe(null,{scaleMode:ft.NEAREST,resolution:1,mipmap:mt.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(t){return this.depthTexture=t||new Qe(new di(null,{width:this.width,height:this.height}),{scaleMode:ft.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:mt.OFF,format:dt.DEPTH_COMPONENT,type:pt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(t,e){if(t=Math.ceil(t),e=Math.ceil(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var i=0;i<this.colorTextures.length;i++){var r=this.colorTextures[i],s=r.resolution;r.setSize(t/s,e/s)}if(this.depthTexture){s=this.depthTexture.resolution;this.depthTexture.setSize(t/s,e/s)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),pi=function(t){function e(e){var i=this;"number"==typeof e&&(e={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]});i=t.call(this,null,e)||this;var r=e||{},s=r.width,n=r.height;return i.mipmap=0,i.width=Math.ceil(s)||100,i.height=Math.ceil(n)||100,i.valid=!0,i.clearColor=[0,0,0,0],i.framebuffer=new ci(i.width*i.resolution,i.height*i.resolution).addColorTexture(0,i),i.maskStack=[],i.filterStack=[{}],i}return qe(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),this.framebuffer.resize(t*this.resolution,e*this.resolution)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(Qe),fi=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(t,e,i){var r=e.width,s=e.height;if(i){var n=t.width/2/r,o=t.height/2/s,h=t.x/r+n,a=t.y/s+o;i=Xe.add(i,Xe.NW),this.x0=h+n*Xe.uX(i),this.y0=a+o*Xe.uY(i),i=Xe.add(i,2),this.x1=h+n*Xe.uX(i),this.y1=a+o*Xe.uY(i),i=Xe.add(i,2),this.x2=h+n*Xe.uX(i),this.y2=a+o*Xe.uY(i),i=Xe.add(i,2),this.x3=h+n*Xe.uX(i),this.y3=a+o*Xe.uY(i)}else this.x0=t.x/r,this.y0=t.y/s,this.x1=(t.x+t.width)/r,this.y1=t.y/s,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/s,this.x3=t.x/r,this.y3=(t.y+t.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t}(),gi=new fi,mi=function(t){function e(i,r,s,n,o,h){var a=t.call(this)||this;if(a.noFrame=!1,r||(a.noFrame=!0,r=new Le(0,0,1,1)),i instanceof e&&(i=i.baseTexture),a.baseTexture=i,a._frame=r,a.trim=n,a.valid=!1,a._uvs=gi,a.uvMatrix=null,a.orig=s||r,a._rotate=Number(o||0),!0===o)a._rotate=2;else if(a._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return a.defaultAnchor=h?new Pe(h.x,h.y):new Pe(0,0),a._updateID=0,a.textureCacheIds=[],i.valid?a.noFrame?i.valid&&a.onBaseTextureUpdated(i):a.frame=r:i.once("loaded",a.onBaseTextureUpdated,a),a.noFrame&&i.on("update",a.onBaseTextureUpdated,a),a}return qe(e,t),e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(t){if(this.baseTexture){if(t){var i=this.baseTexture;i&&i.url&&Te[i.url]&&e.removeFromCache(i.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},e.prototype.updateUvs=function(){this._uvs===gi&&(this._uvs=new fi),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,i,r){void 0===i&&(i={}),void 0===r&&(r=Et.STRICT_TEXTURE_CACHE);var s="string"==typeof t,n=null;s?n=t:(t._pixiId||(t._pixiId="pixiid_"+me()),n=t._pixiId);var o=Te[n];if(s&&r&&!o)throw new Error('The cacheId "'+n+'" does not exist in TextureCache.');return o||(i.resolution||(i.resolution=Ce(t)),(o=new e(new Qe(t,i))).baseTexture.cacheId=n,Qe.addToCache(o.baseTexture,n),e.addToCache(o,n)),o},e.fromURL=function(t,i){var r=Object.assign({autoLoad:!1},null==i?void 0:i.resourceOptions),s=e.from(t,Object.assign({resourceOptions:r},i),!1),n=s.baseTexture.resource;return s.baseTexture.valid?Promise.resolve(s):n.load().then(function(){return Promise.resolve(s)})},e.fromBuffer=function(t,i,r,s){return new e(Qe.fromBuffer(t,i,r,s))},e.fromLoader=function(t,i,r){var s=new oi(t);s.url=i;var n=new e(new Qe(s,{scaleMode:Et.SCALE_MODE,resolution:Ce(i)}));return r||(r=i),Qe.addToCache(n.baseTexture,r),e.addToCache(n,r),r!==i&&(Qe.addToCache(n.baseTexture,i),e.addToCache(n,i)),n},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),Te[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),Te[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=Te[t];if(e){var i=e.textureCacheIds.indexOf(t);return i>-1&&e.textureCacheIds.splice(i,1),delete Te[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)Te[t.textureCacheIds[r]]===t&&delete Te[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,i=t.y,r=t.width,s=t.height,n=e+r>this.baseTexture.width,o=i+s>this.baseTexture.height;if(n||o){var h=n&&o?"and":"or",a="X: "+e+" + "+r+" = "+(e+r)+" > "+this.baseTexture.width,u="Y: "+i+" + "+s+" = "+(i+s)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+a+" "+h+" "+u)}this.valid=r&&s&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},e}(At);function vi(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new mi(new Qe(new si(t)))}function yi(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}mi.EMPTY=new mi(new Qe),yi(mi.EMPTY),yi(mi.EMPTY.baseTexture),mi.WHITE=vi(),yi(mi.WHITE),yi(mi.WHITE.baseTexture);var _i=function(t){function e(e,i){var r=this,s=null;if(!(e instanceof pi)){var n=arguments[1],o=arguments[2],h=arguments[3],a=arguments[4];console.warn("Please use RenderTexture.create("+n+", "+o+") instead of the ctor directly."),s=arguments[0],i=null,e=new pi({width:n,height:o,scaleMode:h,resolution:a})}return(r=t.call(this,e,i)||this).legacyRenderer=s,r.valid=!0,r.filterFrame=null,r.filterPoolKey=null,r.updateUvs(),r}return qe(e,t),Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e,i){void 0===i&&(i=!0),t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,i&&this.baseTexture.resize(t,e),this.updateUvs()},e.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},e.create=function(t){return"number"==typeof t&&(t={width:t,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new e(new pi(t))},e}(mi),xi=function(){function t(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(t,e){var i=new pi(Object.assign({width:t,height:e,resolution:1},this.textureOptions));return new _i(i)},t.prototype.getOptimalTexture=function(e,i,r){void 0===r&&(r=1);var s=t.SCREEN_KEY;e*=r,i*=r,this.enableFullScreen&&e===this._pixelsWidth&&i===this._pixelsHeight||(s=(65535&(e=de(e)))<<16|65535&(i=de(i))),this.texturePool[s]||(this.texturePool[s]=[]);var n=this.texturePool[s].pop();return n||(n=this.createTexture(e,i)),n.filterPoolKey=s,n.setResolution(r),n},t.prototype.getFilterTexture=function(t,e){var i=this.getOptimalTexture(t.width,t.height,e||t.resolution);return i.filterFrame=t.filterFrame,i},t.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},t.prototype.returnFilterTexture=function(t){this.returnTexture(t)},t.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(e){if(e.width!==this._pixelsWidth||e.height!==this._pixelsHeight){var i=t.SCREEN_KEY,r=this.texturePool[i];if(this.enableFullScreen=e.width>0&&e.height>0,r)for(var s=0;s<r.length;s++)r[s].destroy(!0);this.texturePool[i]=[],this._pixelsWidth=e.width,this._pixelsHeight=e.height}},t.SCREEN_KEY="screen",t}(),Ti=function(){function t(t,e,i,r,s,n,o){void 0===e&&(e=0),void 0===i&&(i=!1),void 0===r&&(r=5126),this.buffer=t,this.size=e,this.normalized=i,this.type=r,this.stride=s,this.start=n,this.instance=o}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,i,r,s,n){return new t(e,i,r,s,n)},t}(),bi=0,Ei=function(){function t(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=e,this.id=bi++,this.disposeRunner=new Ie("disposeBuffer")}return t.prototype.update=function(t){this.data=t||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}();function wi(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var Ci={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};function Ai(t,e){for(var i=0,r=0,s={},n=0;n<t.length;n++)r+=e[n],i+=t[n].length;var o=new ArrayBuffer(4*i),h=null,a=0;for(n=0;n<t.length;n++){var u=e[n],l=t[n],d=wi(l);s[d]||(s[d]=new Ci[d](o)),h=s[d];for(var c=0;c<l.length;c++){h[(c/u|0)*r+a+c%u]=l[c]}a+=u}return new Float32Array(o)}var Ii={5126:4,5123:2,5121:1},Mi=0,Si={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},Oi=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=Mi++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Ie("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(t,e,i,r,s,n,o,h){if(void 0===i&&(i=0),void 0===r&&(r=!1),void 0===h&&(h=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof Ei||(e instanceof Array&&(e=new Float32Array(e)),e=new Ei(e));var a=t.split("|");if(a.length>1){for(var u=0;u<a.length;u++)this.addAttribute(a[u],e,i,r,s);return this}var l=this.buffers.indexOf(e);return-1===l&&(this.buffers.push(e),l=this.buffers.length-1),this.attributes[t]=new Ti(l,i,r,s,n,o,h),this.instanced=this.instanced||h,this},t.prototype.getAttribute=function(t){return this.attributes[t]},t.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},t.prototype.addIndex=function(t){return t instanceof Ei||(t instanceof Array&&(t=new Uint16Array(t)),t=new Ei(t)),t.index=!0,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],i=[],r=new Ei;for(t in this.attributes){var s=this.attributes[t],n=this.buffers[s.buffer];e.push(n.data),i.push(s.size*Ii[s.type]/4),s.buffer=0}for(r.data=Ai(e,i),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,i=0;i<this.buffers.length;i++)e.buffers[i]=new Ei(this.buffers[i].data.slice(0));for(var i in this.attributes){var r=this.attributes[i];e.attributes[i]=new Ti(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.index=!0),e},t.merge=function(e){for(var i,r=new t,s=[],n=[],o=[],h=0;h<e.length;h++){i=e[h];for(var a=0;a<i.buffers.length;a++)n[a]=n[a]||0,n[a]+=i.buffers[a].data.length,o[a]=0}for(h=0;h<i.buffers.length;h++)s[h]=new(Si[wi(i.buffers[h].data)])(n[h]),r.buffers[h]=new Ei(s[h]);for(h=0;h<e.length;h++){i=e[h];for(a=0;a<i.buffers.length;a++)s[a].set(i.buffers[a].data,o[a]),o[a]+=i.buffers[a].data.length}if(r.attributes=i.attributes,i.indexBuffer){r.indexBuffer=r.buffers[i.buffers.indexOf(i.indexBuffer)],r.indexBuffer.index=!0;var u=0,l=0,d=0,c=0;for(h=0;h<i.buffers.length;h++)if(i.buffers[h]!==i.indexBuffer){c=h;break}for(var h in i.attributes){var p=i.attributes[h];(0|p.buffer)===c&&(l+=p.size*Ii[p.type]/4)}for(h=0;h<e.length;h++){var f=e[h].indexBuffer.data;for(a=0;a<f.length;a++)r.indexBuffer.data[a+d]+=u;u+=i.buffers[c].data.length/l,d+=f.length}}return r},t}(),Ri=function(t){function e(){var e=t.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return qe(e,t),e}(Oi),Li=function(t){function e(){var e=t.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new Ei(e.vertices),e.uvBuffer=new Ei(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return qe(e,t),e.prototype.map=function(t,e){var i=0,r=0;return this.uvs[0]=i,this.uvs[1]=r,this.uvs[2]=i+e.width/t.width,this.uvs[3]=r,this.uvs[4]=i+e.width/t.width,this.uvs[5]=r+e.height/t.height,this.uvs[6]=i,this.uvs[7]=r+e.height/t.height,i=e.x,r=e.y,this.vertices[0]=i,this.vertices[1]=r,this.vertices[2]=i+e.width,this.vertices[3]=r,this.vertices[4]=i+e.width,this.vertices[5]=r+e.height,this.vertices[6]=i,this.vertices[7]=r+e.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(Oi),Pi=0,Ni=function(){function t(t,e){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Pi++,this.static=!!e}return t.prototype.update=function(){this.dirtyId++},t.prototype.add=function(e,i,r){this.uniforms[e]=new t(i,r)},t.from=function(e,i){return new t(e,i)},t}(),Di=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new Le,this.destinationFrame=new Le,this.filters=[]}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),Fi=function(t){function e(e){var i=t.call(this,e)||this;return i.defaultFilterStack=[{}],i.texturePool=new xi,i.texturePool.setScreenSize(e.view),i.statePool=[],i.quad=new Ri,i.quadUv=new Li,i.tempRect=new Le,i.activeState={},i.globalUniforms=new Ni({outputFrame:i.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),i.forceClear=!1,i.useMaxPadding=!1,i}return qe(e,t),e.prototype.push=function(t,e){for(var i=this.renderer,r=this.defaultFilterStack,s=this.statePool.pop()||new Di,n=e[0].resolution,o=e[0].padding,h=e[0].autoFit,a=e[0].legacy,u=1;u<e.length;u++){var l=e[u];n=Math.min(n,l.resolution),o=this.useMaxPadding?Math.max(o,l.padding):o+l.padding,h=h||l.autoFit,a=a||l.legacy}1===r.length&&(this.defaultFilterStack[0].renderTexture=i.renderTexture.current),r.push(s),s.resolution=n,s.legacy=a,s.target=t,s.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),s.sourceFrame.pad(o),h&&s.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),s.sourceFrame.ceil(n),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,n),s.filters=e,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;var d=this.tempRect;d.width=s.sourceFrame.width,d.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,i.renderTexture.bind(s.renderTexture,s.sourceFrame,d),i.renderTexture.clear()},e.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),i=e.filters;this.activeState=e;var r=this.globalUniforms.uniforms;r.outputFrame=e.sourceFrame,r.resolution=e.resolution;var s=r.inputSize,n=r.inputPixel,o=r.inputClamp;if(s[0]=e.destinationFrame.width,s[1]=e.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],n[0]=s[0]*e.resolution,n[1]=s[1]*e.resolution,n[2]=1/n[0],n[3]=1/n[1],o[0]=.5*n[2],o[1]=.5*n[3],o[2]=e.sourceFrame.width*s[2]-.5*n[2],o[3]=e.sourceFrame.height*s[3]-.5*n[3],e.legacy){var h=r.filterArea;h[0]=e.destinationFrame.width,h[1]=e.destinationFrame.height,h[2]=e.sourceFrame.x,h[3]=e.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();var a=t[t.length-1];if(e.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),1===i.length)i[0].apply(this,e.renderTexture,a.renderTexture,yt.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var u=e.renderTexture,l=this.getOptimalFilterTexture(u.width,u.height,e.resolution);l.filterFrame=u.filterFrame;var d=0;for(d=0;d<i.length-1;++d){i[d].apply(this,u,l,yt.CLEAR,e);var c=u;u=l,l=c}i[d].apply(this,u,a.renderTexture,yt.BLEND,e),this.returnFilterTexture(u),this.returnFilterTexture(l)}e.clear(),this.statePool.push(e)},e.prototype.bindAndClear=function(t,e){if(void 0===e&&(e=yt.CLEAR),t&&t.filterFrame){var i=this.tempRect;i.width=t.filterFrame.width,i.height=t.filterFrame.height,this.renderer.renderTexture.bind(t,t.filterFrame,i)}else this.renderer.renderTexture.bind(t);"boolean"==typeof e&&(e=e?yt.CLEAR:yt.BLEND,ye("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(e===yt.CLEAR||e===yt.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},e.prototype.applyFilter=function(t,e,i,r){var s=this.renderer;this.bindAndClear(i,r),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,s.state.set(t.state),s.shader.bind(t),t.legacy?(this.quadUv.map(e._frame,e.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(lt.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(lt.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(t,e){var i=this.activeState,r=i.sourceFrame,s=i.destinationFrame,n=e._texture.orig,o=t.set(s.width,0,0,s.height,r.x,r.y),h=e.worldTransform.copyTo(De.TEMP_MATRIX);return h.invert(),o.prepend(h),o.scale(1/n.width,1/n.height),o.translate(e.anchor.x,e.anchor.y),o},e.prototype.destroy=function(){this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(t,e,i){return void 0===i&&(i=1),this.texturePool.getOptimalTexture(t,e,i)},e.prototype.getFilterTexture=function(t,e){if("number"==typeof t){var i=t;t=e,e=i}t=t||this.activeState.renderTexture;var r=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution);return r.filterFrame=t.filterFrame,r},e.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e}(li),ki=function(){function t(t){this.renderer=t}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(t){},t}(),Ui=function(t){function e(e){var i=t.call(this,e)||this;return i.emptyRenderer=new ki(e),i.currentRenderer=i.emptyRenderer,i}return qe(e,t),e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.copyBoundTextures=function(t,e){for(var i=this.renderer.texture.boundTextures,r=e-1;r>=0;--r)t[r]=i[r]||null,t[r]&&(t[r]._batchLocation=r)},e.prototype.boundArray=function(t,e,i,r){for(var s=t.elements,n=t.ids,o=t.count,h=0,a=0;a<o;a++){var u=s[a],l=u._batchLocation;if(l>=0&&l<r&&e[l]===u)n[a]=l;else for(;h<r;){var d=e[h];if(!d||d._batchEnabled!==i||d._batchLocation!==h){n[a]=h,u._batchLocation=h,e[h]=u;break}h++}}},e}(li),Bi=0,Hi=function(t){function e(e){var i=t.call(this,e)||this;return i.webGLVersion=1,i.extensions={},i.supports={uint32Indices:!1},i.handleContextLost=i.handleContextLost.bind(i),i.handleContextRestored=i.handleContextRestored.bind(i),e.view.addEventListener("webglcontextlost",i.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",i.handleContextRestored,!1),i}return qe(e,t),Object.defineProperty(e.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),e.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=Bi++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=Bi++,this.renderer.runners.contextChange.emit(t)},e.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},e.prototype.createContext=function(t,e){var i;if(Et.PREFER_ENV>=ot.WEBGL2&&(i=t.getContext("webgl2",e)),i)this.webGLVersion=2;else if(this.webGLVersion=1,!(i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl},e.prototype.getExtensions=function(){var t=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:t.getExtension("EXT_color_buffer_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear")})},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},e.prototype.destroy=function(){var t=this.renderer.view;t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},e.prototype.validateContext=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var e="WebGL2RenderingContext"in window&&t instanceof window.WebGL2RenderingContext||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=e,e||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},e}(li),Gi=function(){return function(t){this.framebuffer=t,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=bt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null}}(),Wi=new Le,Vi=function(t){function e(e){var i=t.call(this,e)||this;return i.managedFramebuffers=[],i.unknownFramebuffer=new ci(10,10),i.msaaSamples=null,i}return qe(e,t),e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Le,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;Et.PREFER_ENV===ot.WEBGL_LEGACY&&(e=null,i=null),e?t.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,t.drawBuffers=function(){}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},e.prototype.bind=function(t,e){var i=this.gl;if(t){var r=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,i.bindFramebuffer(i.FRAMEBUFFER,r.framebuffer)),r.dirtyId!==t.dirtyId&&(r.dirtyId=t.dirtyId,r.dirtyFormat!==t.dirtyFormat?(r.dirtyFormat=t.dirtyFormat,this.updateFramebuffer(t)):r.dirtySize!==t.dirtySize&&(r.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var s=0;s<t.colorTextures.length;s++){var n=t.colorTextures[s];this.renderer.texture.unbind(n.parentTextureArray||n)}t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,t.width,t.height)}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(t,e,i,r){var s=this.viewport;s.width===i&&s.height===r&&s.x===t&&s.y===e||(s.x=t,s.y=e,s.width=i,s.height=r,this.gl.viewport(t,e,i,r))},Object.defineProperty(e.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),e.prototype.clear=function(t,e,i,r,s){void 0===s&&(s=at.COLOR|at.DEPTH);var n=this.gl;n.clearColor(t,e,i,r),n.clear(s)},e.prototype.initFramebuffer=function(t){var e=this.gl,i=new Gi(e.createFramebuffer());return i.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(t),t.disposeRunner.add(this),i},e.prototype.resizeFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID];i.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));for(var r=t.colorTextures,s=0;s<r.length;s++)this.renderer.texture.bind(r[s],0);t.depthTexture&&this.renderer.texture.bind(t.depthTexture,0)},e.prototype.updateFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID],r=t.colorTextures.length;e.drawBuffers||(r=Math.min(r,1)),i.multisample>1&&(i.msaaBuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,i.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.RGBA8,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,i.msaaBuffer));for(var s=[],n=0;n<r;n++)if(!(0===n&&i.multisample>1)){var o=t.colorTextures[n],h=o.parentTextureArray||o;this.renderer.texture.bind(h,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+n,o.target,h._glTextures[this.CONTEXT_UID].texture,0),s.push(e.COLOR_ATTACHMENT0+n)}if((s.length>1&&e.drawBuffers(s),t.depthTexture)&&this.writeDepthTexture){var a=t.depthTexture;this.renderer.texture.bind(a,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a._glTextures[this.CONTEXT_UID].texture,0)}i.stencil||!t.stencil&&!t.depth||(i.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height),t.depthTexture||e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,i.stencil))},e.prototype.detectSamples=function(t){var e=this.msaaSamples,i=bt.NONE;if(t<=1||null===e)return i;for(var r=0;r<e.length;r++)if(e[r]<=t){i=e[r];break}return 1===i&&(i=bt.NONE),i},e.prototype.blit=function(t,e,i){var r=this.current,s=this.renderer,n=this.gl,o=this.CONTEXT_UID;if(2===s.context.webGLVersion&&r){var h=r.glFramebuffers[o];if(h){if(!t){if(h.multisample<=1)return;h.blitFramebuffer||(h.blitFramebuffer=new ci(r.width,r.height),h.blitFramebuffer.addColorTexture(0,r.colorTextures[0])),(t=h.blitFramebuffer).width=r.width,t.height=r.height}e||((e=Wi).width=r.width,e.height=r.height),i||(i=e);var a=e.width===i.width&&e.height===i.height;this.bind(t),n.bindFramebuffer(n.READ_FRAMEBUFFER,h.framebuffer),n.blitFramebuffer(e.x,e.y,e.width,e.height,i.x,i.y,i.width,i.height,n.COLOR_BUFFER_BIT,a?n.NEAREST:n.LINEAR)}}},e.prototype.disposeFramebuffer=function(t,e){var i=t.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(i){delete t.glFramebuffers[this.CONTEXT_UID];var s=this.managedFramebuffers.indexOf(t);s>=0&&this.managedFramebuffers.splice(s,1),t.disposeRunner.remove(this),e||(r.deleteFramebuffer(i.framebuffer),i.stencil&&r.deleteRenderbuffer(i.stencil))}},e.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var i=0;i<e.length;i++)this.disposeFramebuffer(e[i],t)},e.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.enableStencil();var i=t.width,r=t.height,s=this.gl,n=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,n),s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,i,r),e.stencil=n,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,n)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Le},e}(li),Xi=function(){return function(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}(),ji={5126:4,5123:2,5121:1},zi=function(t){function e(e){var i=t.call(this,e)||this;return i._activeGeometry=null,i._activeVao=null,i.hasVao=!0,i.hasInstance=!0,i.canUseUInt32ElementIndex=!1,i.managedGeometries={},i.managedBuffers={},i}return qe(e,t),e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,!t.createVertexArray){var i=this.renderer.context.extensions.vertexArrayObject;Et.PREFER_ENV===ot.WEBGL_LEGACY&&(i=null),i?(t.createVertexArray=function(){return i.createVertexArrayOES()},t.bindVertexArray=function(t){return i.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return i.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(!t.vertexAttribDivisor){var r=t.getExtension("ANGLE_instanced_arrays");r?(t.vertexAttribDivisor=function(t,e){return r.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,i,s,n){return r.drawElementsInstancedANGLE(t,e,i,s,n)},t.drawArraysInstanced=function(t,e,i,s){return r.drawArraysInstancedANGLE(t,e,i,s)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},e.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var i=this.gl,r=t.glVertexArrayObjects[this.CONTEXT_UID];r||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=r={});var s=r[e.program.id]||this.initGeometryVao(t,e.program);this._activeGeometry=t,this._activeVao!==s&&(this._activeVao=s,this.hasVao?i.bindVertexArray(s):this.activateVao(t,e.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.gl,i=0;i<t.buffers.length;i++){var r=t.buffers[i],s=r._glBuffers[this.CONTEXT_UID];if(r._updateID!==s.updateID){s.updateID=r._updateID;var n=r.index?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;if(e.bindBuffer(n,s.buffer),this._boundBuffer=s,s.byteLength>=r.data.byteLength)e.bufferSubData(n,0,r.data);else{var o=r.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;s.byteLength=r.data.byteLength,e.bufferData(n,r.data,o)}}}},e.prototype.checkCompatibility=function(t,e){var i=t.attributes,r=e.attributeData;for(var s in r)if(!i[s])throw new Error('shader and geometry incompatible, geometry missing the "'+s+'" attribute')},e.prototype.getSignature=function(t,e){var i=t.attributes,r=e.attributeData,s=["g",t.id];for(var n in i)r[n]&&s.push(n);return s.join("-")},e.prototype.initGeometryVao=function(t,e){this.checkCompatibility(t,e);var i=this.gl,r=this.CONTEXT_UID,s=this.getSignature(t,e),n=t.glVertexArrayObjects[this.CONTEXT_UID],o=n[s];if(o)return n[e.id]=o,o;var h=t.buffers,a=t.attributes,u={},l={};for(var d in h)u[d]=0,l[d]=0;for(var d in a)!a[d].size&&e.attributeData[d]?a[d].size=e.attributeData[d].size:a[d].size||console.warn("PIXI Geometry attribute '"+d+"' size cannot be determined (likely the bound shader does not have the attribute)"),u[a[d].buffer]+=a[d].size*ji[a[d].type];for(var d in a){var c=a[d],p=c.size;void 0===c.stride&&(u[c.buffer]===p*ji[c.type]?c.stride=0:c.stride=u[c.buffer]),void 0===c.start&&(c.start=l[c.buffer],l[c.buffer]+=p*ji[c.type])}o=i.createVertexArray(),i.bindVertexArray(o);for(var f=0;f<h.length;f++){var g=h[f];g._glBuffers[r]||(g._glBuffers[r]=new Xi(i.createBuffer()),this.managedBuffers[g.id]=g,g.disposeRunner.add(this)),g._glBuffers[r].refCount++}return this.activateVao(t,e),this._activeVao=o,n[e.id]=o,n[s]=o,o},e.prototype.disposeBuffer=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var i=t._glBuffers[this.CONTEXT_UID],r=this.gl;t.disposeRunner.remove(this),i&&(e||r.deleteBuffer(i.buffer),delete t._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeGeometry=function(t,e){if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var i=t.glVertexArrayObjects[this.CONTEXT_UID],r=this.gl,s=t.buffers;if(t.disposeRunner.remove(this),i){for(var n=0;n<s.length;n++){var o=s[n]._glBuffers[this.CONTEXT_UID];o.refCount--,0!==o.refCount||e||this.disposeBuffer(s[n],e)}if(!e)for(var h in i)if("g"===h[0]){var a=i[h];this._activeVao===a&&this.unbind(),r.deleteVertexArray(a)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),i=0;i<e.length;i++)this.disposeGeometry(this.managedGeometries[e[i]],t);e=Object.keys(this.managedBuffers);for(i=0;i<e.length;i++)this.disposeBuffer(this.managedBuffers[e[i]],t)},e.prototype.activateVao=function(t,e){var i=this.gl,r=this.CONTEXT_UID,s=t.buffers,n=t.attributes;t.indexBuffer&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,t.indexBuffer._glBuffers[r].buffer);var o=null;for(var h in n){var a=n[h],u=s[a.buffer]._glBuffers[r];if(e.attributeData[h]){o!==u&&(i.bindBuffer(i.ARRAY_BUFFER,u.buffer),o=u);var l=e.attributeData[h].location;if(i.enableVertexAttribArray(l),i.vertexAttribPointer(l,a.size,a.type||i.FLOAT,a.normalized,a.stride,a.start),a.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");i.vertexAttribDivisor(l,1)}}}},e.prototype.draw=function(t,e,i,r){var s=this.gl,n=this._activeGeometry;if(n.indexBuffer){var o=n.indexBuffer.data.BYTES_PER_ELEMENT,h=2===o?s.UNSIGNED_SHORT:s.UNSIGNED_INT;2===o||4===o&&this.canUseUInt32ElementIndex?n.instanced?s.drawElementsInstanced(t,e||n.indexBuffer.data.length,h,(i||0)*o,r||1):s.drawElements(t,e||n.indexBuffer.data.length,h,(i||0)*o):console.warn("unsupported index buffer type: uint32")}else n.instanced?s.drawArraysInstanced(t,i,e||n.getSize(),r||1):s.drawArrays(t,i,e||n.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e}(li),Yi=function(){function t(t){void 0===t&&(t=null),this.type=Tt.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=Tt.NONE,this.autoDetect=!0),this._target=null},t.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function Ki(t,e,i){var r=t.createShader(e);return t.shaderSource(r,i),t.compileShader(r),r}function qi(t,e,i,r){var s=Ki(t,t.VERTEX_SHADER,e),n=Ki(t,t.FRAGMENT_SHADER,i),o=t.createProgram();if(t.attachShader(o,s),t.attachShader(o,n),r)for(var h in r)t.bindAttribLocation(o,r[h],h);return t.linkProgram(o),t.getProgramParameter(o,t.LINK_STATUS)||(t.getShaderParameter(s,t.COMPILE_STATUS)||(console.warn(e),console.error(t.getShaderInfoLog(s))),t.getShaderParameter(n,t.COMPILE_STATUS)||(console.warn(i),console.error(t.getShaderInfoLog(n))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(o,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(o)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(o)),t.deleteProgram(o),o=null),t.deleteShader(s),t.deleteShader(n),o}function Zi(t){for(var e=new Array(t),i=0;i<e.length;i++)e[i]=!1;return e}function $i(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return Zi(2*e);case"bvec3":return Zi(3*e);case"bvec4":return Zi(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var Ji,Qi={},tr=Qi;function er(){if(tr===Qi||tr&&tr.isContextLost()){var t=document.createElement("canvas"),e=void 0;Et.PREFER_ENV>=ot.WEBGL2&&(e=t.getContext("webgl2",{})),e||((e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}))?e.getExtension("WEBGL_draw_buffers"):e=null),tr=e}return tr}function ir(){if(!Ji){Ji=xt.MEDIUM;var t=er();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);Ji=e.precision?xt.HIGH:xt.MEDIUM}}return Ji}function rr(t,e,i){if("precision"!==t.substring(0,9)){var r=e;return e===xt.HIGH&&i!==xt.HIGH&&(r=xt.MEDIUM),"precision "+r+" float;\n"+t}return i!==xt.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}var nr={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function or(t){return nr[t]}var hr=null,ar={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function ur(t,e){if(!hr){var i=Object.keys(ar);hr={};for(var r=0;r<i.length;++r){var s=i[r];hr[t[s]]=ar[s]}}return hr[e]}var lr=[{test:function(t){return"float"===t.type&&1===t.size},code:function(t){return'\n            if(uv["'+t+'"] !== ud["'+t+'"].value)\n            {\n                ud["'+t+'"].value = uv["'+t+'"]\n                gl.uniform1f(ud["'+t+'"].location, uv["'+t+'"])\n            }\n            '}},{test:function(t){return("sampler2D"===t.type||"samplerCube"===t.type||"sampler2DArray"===t.type)&&1===t.size&&!t.isArray},code:function(t){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+t+'"], t);\n\n            if(ud["'+t+'"].value !== t)\n            {\n                ud["'+t+'"].value = t;\n                gl.uniform1i(ud["'+t+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(t,e){return"mat3"===t.type&&1===t.size&&void 0!==e.a},code:function(t){return'\n            gl.uniformMatrix3fv(ud["'+t+'"].location, false, uv["'+t+'"].toArray(true));\n            '}},{test:function(t,e){return"vec2"===t.type&&1===t.size&&void 0!==e.x},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+t+'"].location, v.x, v.y);\n                }'}},{test:function(t){return"vec2"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+t+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(t,e){return"vec4"===t.type&&1===t.size&&void 0!==e.width},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+t+'"].location, v.x, v.y, v.width, v.height)\n                }'}},{test:function(t){return"vec4"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+t+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],dr={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},cr={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function pr(t,e){var i=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(var r in t.uniforms){var s=e[r];if(s){for(var n=t.uniforms[r],o=!1,h=0;h<lr.length;h++)if(lr[h].test(s,n)){i.push(lr[h].code(r,n)),o=!0;break}if(!o){var a=(1===s.size?dr:cr)[s.type].replace("location",'ud["'+r+'"].location');i.push('\n            cv = ud["'+r+'"].value;\n            v = uv["'+r+'"];\n            '+a+";")}}else t.uniforms[r].group&&i.push('\n                    renderer.shader.syncUniformGroup(uv["'+r+'"], syncData);\n                ')}return new Function("ud","uv","renderer","syncData",i.join("\n"))}var fr,gr=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function mr(t){for(var e="",i=0;i<t;++i)i>0&&(e+="\nelse "),i<t-1&&(e+="if(test == "+i+".0){}");return e}function vr(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var i=e.createShader(e.FRAGMENT_SHADER);;){var r=gr.replace(/%forloop%/gi,mr(t));if(e.shaderSource(i,r),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))break;t=t/2|0}return t}function yr(){if("boolean"==typeof fr)return fr;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");fr=!0===t({a:"b"},"a","b")}catch(e){fr=!1}return fr}var _r="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}",xr="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n",Tr=0,br={},Er=function(){function t(e,i,r){void 0===r&&(r="pixi-shader"),this.id=Tr++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=i||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(r=r.replace(/\s+/g,"-"),br[r]?(br[r]++,r+="-"+br[r]):br[r]=1,this.vertexSrc="#define SHADER_NAME "+r+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+r+"\n"+this.fragmentSrc,this.vertexSrc=rr(this.vertexSrc,Et.PRECISION_VERTEX,xt.HIGH),this.fragmentSrc=rr(this.fragmentSrc,Et.PRECISION_FRAGMENT,ir())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return t.prototype.extractData=function(t,e){var i=er();if(i){var r=qi(i,t,e);this.attributeData=this.getAttributeData(r,i),this.uniformData=this.getUniformData(r,i),i.deleteProgram(r)}else this.uniformData={},this.attributeData={}},t.prototype.getAttributeData=function(t,e){for(var i={},r=[],s=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),n=0;n<s;n++){var o=e.getActiveAttrib(t,n),h=ur(e,o.type),a={type:h,name:o.name,size:or(h),location:0};i[o.name]=a,r.push(a)}r.sort(function(t,e){return t.name>e.name?1:-1});for(n=0;n<r.length;n++)r[n].location=n;return i},t.prototype.getUniformData=function(t,e){for(var i={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),s=0;s<r;s++){var n=e.getActiveUniform(t,s),o=n.name.replace(/\[.*?\]$/,""),h=n.name.match(/\[.*?\]$/),a=ur(e,n.type);i[o]={type:a,size:n.size,isArray:h,value:$i(a,n.size)}}return i},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return xr},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return _r},enumerable:!1,configurable:!0}),t.from=function(e,i,r){var s=e+i,n=xe[s];return n||(xe[s]=n=new t(e,i,r)),n},t}(),wr=function(){function t(t,e){for(var i in this.program=t,this.uniformGroup=e?e instanceof Ni?e:new Ni(e):new Ni({}),t.uniformData)this.uniformGroup.uniforms[i]instanceof Array&&(this.uniformGroup.uniforms[i]=new Float32Array(this.uniformGroup.uniforms[i]))}return t.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var i in e.uniforms){var r=e.uniforms[i];if(r.group&&this.checkUniformExists(t,r))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,i,r){return new t(Er.from(e,i),r)},t}(),Cr=0,Ar=1,Ir=2,Mr=3,Sr=4,Or=function(){function t(){this.data=0,this.blendMode=ut.NORMAL,this.polygonOffset=0,this.blend=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(this.data&1<<Cr)},set:function(t){!!(this.data&1<<Cr)!==t&&(this.data^=1<<Cr)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(this.data&1<<Ar)},set:function(t){!!(this.data&1<<Ar)!==t&&(this.data^=1<<Ar)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(this.data&1<<Ir)},set:function(t){!!(this.data&1<<Ir)!==t&&(this.data^=1<<Ir)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(this.data&1<<Mr)},set:function(t){!!(this.data&1<<Mr)!==t&&(this.data^=1<<Mr)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<Sr)},set:function(t){!!(this.data&1<<Sr)!==t&&(this.data^=1<<Sr)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==ut.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),Rr="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",Lr="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n",Pr=function(t){function e(i,r,s){var n=this,o=Er.from(i||e.defaultVertexSrc,r||e.defaultFragmentSrc);return(n=t.call(this,o,s)||this).padding=0,n.resolution=Et.FILTER_RESOLUTION,n.enabled=!0,n.autoFit=!0,n.legacy=!!n.program.attributeData.aTextureCoord,n.state=new Or,n}return qe(e,t),e.prototype.apply=function(t,e,i,r,s){t.applyFilter(this,e,i,r)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return Rr},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return Lr},enumerable:!1,configurable:!0}),e}(wr),Nr="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",Dr="varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",Fr=new De,kr=function(){function t(t,e){this._texture=t,this.mapCoord=new De,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var i=this.mapCoord,r=0;r<t.length;r+=2){var s=t[r],n=t[r+1];e[r]=s*i.a+n*i.c+i.tx,e[r+1]=s*i.b+n*i.d+i.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var r=e.orig,s=e.trim;s&&(Fr.set(r.width/s.width,0,0,r.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(Fr));var n=e.baseTexture,o=this.uClampFrame,h=this.clampMargin/n.resolution,a=this.clampOffset;return o[0]=(e._frame.x+h+a)/n.width,o[1]=(e._frame.y+h+a)/n.height,o[2]=(e._frame.x+e._frame.width-h+a)/n.width,o[3]=(e._frame.y+e._frame.height-h+a)/n.height,this.uClampOffset[0]=a/n.realWidth,this.uClampOffset[1]=a/n.realHeight,this.isSimple=e._frame.width===n.width&&e._frame.height===n.height&&0===e.rotate,!0},t}(),Ur=function(t){function e(e){var i=this,r=new De;return i=t.call(this,Nr,Dr)||this,e.renderable=!1,i.maskSprite=e,i.maskMatrix=r,i}return qe(e,t),e.prototype.apply=function(t,e,i,r){var s=this.maskSprite,n=s._texture;n.valid&&(n.uvMatrix||(n.uvMatrix=new kr(n,0)),n.uvMatrix.update(),this.uniforms.npmAlpha=n.baseTexture.alphaMode?0:1,this.uniforms.mask=n,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,s).prepend(n.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=n.uvMatrix.uClampFrame,t.applyFilter(this,e,i,r))},e}(Pr),Br=function(t){function e(e){var i=t.call(this,e)||this;return i.enableScissor=!1,i.alphaMaskPool=[],i.maskDataPool=[],i.maskStack=[],i.alphaMaskIndex=0,i}return qe(e,t),e.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},e.prototype.push=function(t,e){var i=e;if(!i.isMaskData){var r=this.maskDataPool.pop()||new Yi;r.pooled=!0,r.maskObject=e,i=r}switch(i.autoDetect&&this.detect(i),i.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),i._target=t,i.type){case Tt.SCISSOR:this.maskStack.push(i),this.renderer.scissor.push(i);break;case Tt.STENCIL:this.maskStack.push(i),this.renderer.stencil.push(i);break;case Tt.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i),this.maskStack.push(i)}},e.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){switch(e.type){case Tt.SCISSOR:this.renderer.scissor.pop();break;case Tt.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case Tt.SPRITE:this.popSpriteMask()}e.reset(),e.pooled&&this.maskDataPool.push(e)}},e.prototype.detect=function(t){var e=t.maskObject;if(e.isSprite)t.type=Tt.SPRITE;else if(t.type=Tt.STENCIL,this.enableScissor&&e.isFastRect&&e.isFastRect()){var i=e.worldTransform,r=Math.atan2(i.b,i.a),s=Math.atan2(i.d,i.c);r=Math.round(r*(180/Math.PI)*100),s=((s=Math.round(s*(180/Math.PI)*100)-r)%18e3+18e3)%18e3,0===(r=(r%9e3+9e3)%9e3)&&9e3===s&&(t.type=Tt.SCISSOR)}},e.prototype.pushSpriteMask=function(t){var e=t.maskObject,i=t._target,r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new Ur(e)]),r[0].resolution=this.renderer.resolution,r[0].maskSprite=e;var s=i.filterArea;i.filterArea=e.getBounds(!0),this.renderer.filter.push(i,r),i.filterArea=s,this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},e}(li),Hr=function(t){function e(e){var i=t.call(this,e)||this;return i.maskStack=[],i.glConst=0,i}return qe(e,t),e.prototype.getStackLength=function(){return this.maskStack.length},e.prototype.setMaskStack=function(t){var e=this.renderer.gl,i=this.getStackLength();this.maskStack=t;var r=this.getStackLength();r!==i&&(0===r?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},e.prototype._useCurrent=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.maskStack=null},e}(li),Gr=function(t){function e(e){var i=t.call(this,e)||this;return i.glConst=WebGLRenderingContext.SCISSOR_TEST,i}return qe(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},e.prototype.push=function(t){var e=t.maskObject;e.renderable=!0;var i=t._scissorRect,r=e.getBounds(!0),s=this.renderer.gl;e.renderable=!1,i?r.fit(i):s.enable(s.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=r,this._useCurrent()},e.prototype.pop=function(){var t=this.renderer.gl;this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)},e.prototype._useCurrent=function(){var t=this.maskStack[this.maskStack.length-1]._scissorRect,e=this.renderer.renderTexture.current,i=this.renderer.projection,r=i.transform,s=i.sourceFrame,n=i.destinationFrame,o=e?e.resolution:this.renderer.resolution,h=(t.x-s.x)*o+n.x,a=(t.y-s.y)*o+n.y,u=t.width*o,l=t.height*o;r&&(h+=r.tx*o,a+=r.ty*o),e||(a=this.renderer.height-l-a),this.renderer.gl.scissor(h,a,u,l)},e}(Hr),Wr=function(t){function e(e){var i=t.call(this,e)||this;return i.glConst=WebGLRenderingContext.STENCIL_TEST,i}return qe(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},e.prototype.push=function(t){var e=t.maskObject,i=this.renderer.gl,r=t._stencilCounter;0===r&&(this.renderer.framebuffer.forceStencil(),i.enable(i.STENCIL_TEST)),t._stencilCounter++,i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,r,this._getBitwiseMask()),i.stencilOp(i.KEEP,i.KEEP,i.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent()},e.prototype.pop=function(t){var e=this.renderer.gl;0===this.getStackLength()?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.getStackLength(),this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},e}(Hr),Vr=function(t){function e(e){var i=t.call(this,e)||this;return i.destinationFrame=null,i.sourceFrame=null,i.defaultFrame=null,i.projectionMatrix=new De,i.transform=null,i}return qe(e,t),e.prototype.update=function(t,e,i,r){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,r),this.transform&&this.projectionMatrix.append(this.transform);var s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(t,e,i,r){var s=this.projectionMatrix,n=r?-1:1;s.identity(),s.a=1/e.width*2,s.d=n*(1/e.height*2),s.tx=-1-e.x*s.a,s.ty=-n-e.y*s.d},e.prototype.setTransform=function(t){},e}(li),Xr=new Le,jr=new Le,zr=new Le,Yr=function(t){function e(e){var i=t.call(this,e)||this;return i.clearColor=e._backgroundColorRgba,i.defaultMaskStack=[],i.current=null,i.sourceFrame=new Le,i.destinationFrame=new Le,i}return qe(e,t),e.prototype.bind=function(t,e,i){void 0===t&&(t=null);var r,s,n,o=this.renderer;this.current=t,t?(n=(r=t.baseTexture).resolution,e||(Xr.width=t.frame.width,Xr.height=t.frame.height,e=Xr),i||(jr.x=t.frame.x,jr.y=t.frame.y,jr.width=e.width,jr.height=e.height,i=jr),s=r.framebuffer):(n=o.resolution,e||(Xr.width=o.screen.width,Xr.height=o.screen.height,e=Xr),i||((i=Xr).width=e.width,i.height=e.height)),zr.x=i.x*n,zr.y=i.y*n,zr.width=i.width*n,zr.height=i.height*n,this.renderer.framebuffer.bind(s,zr),this.renderer.projection.update(i,e,n,!s),t?this.renderer.mask.setMaskStack(r.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(i)},e.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor,this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e)},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e}(li),Kr=function(){function t(t,e){this.program=t,this.uniformData=e,this.uniformGroups={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},t}(),qr=0,Zr={textureCount:0},$r=function(t){function e(e){var i=t.call(this,e)||this;return i.destroyed=!1,i.systemCheck(),i.gl=null,i.shader=null,i.program=null,i.cache={},i.id=qr++,i}return qe(e,t),e.prototype.systemCheck=function(){if(!yr())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(t){this.gl=t,this.reset()},e.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var i=t.program,r=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(t);return this.shader=t,this.program!==i&&(this.program=i,this.gl.useProgram(r.program)),e||(Zr.textureCount=0,this.syncUniformGroup(t.uniformGroup,Zr)),r},e.prototype.setUniforms=function(t){var e=this.shader.program,i=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(i.uniformData,t,this.renderer)},e.prototype.syncUniformGroup=function(t,e){var i=this.getglProgram();t.static&&t.dirtyId===i.uniformGroups[t.id]||(i.uniformGroups[t.id]=t.dirtyId,this.syncUniforms(t,i,e))},e.prototype.syncUniforms=function(t,e,i){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,i)},e.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData);return this.cache[e]||(this.cache[e]=pr(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},e.prototype.getSignature=function(t,e){var i=t.uniforms,r=[];for(var s in i)r.push(s),e[s]&&r.push(e[s].type);return r.join("-")},e.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateShader=function(t){var e=this.gl,i=t.program,r={};for(var s in i.attributeData)r[s]=i.attributeData[s].location;var n=qi(e,i.vertexSrc,i.fragmentSrc,r),o={};for(var s in i.uniformData){var h=i.uniformData[s];o[s]={location:e.getUniformLocation(n,s),value:$i(h.type,h.size)}}var a=new Kr(n,o);return i.glPrograms[this.renderer.CONTEXT_UID]=a,a},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.destroyed=!0},e}(li);function Jr(t,e){return void 0===e&&(e=[]),e[ut.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.ADD]=[t.ONE,t.ONE],e[ut.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.NONE]=[0,0],e[ut.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[ut.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[ut.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[ut.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ut.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[ut.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[ut.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[ut.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[ut.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ut.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}var Qr=0,ts=1,es=2,is=3,rs=4,ss=function(t){function e(e){var i=t.call(this,e)||this;return i.gl=null,i.stateId=0,i.polygonOffset=0,i.blendMode=ut.NONE,i._blendEq=!1,i.map=[],i.map[Qr]=i.setBlend,i.map[ts]=i.setOffset,i.map[es]=i.setCullFace,i.map[is]=i.setDepthTest,i.map[rs]=i.setFrontFace,i.checks=[],i.defaultState=new Or,i.defaultState.blend=!0,i}return qe(e,t),e.prototype.contextChange=function(t){this.gl=t,this.blendModes=Jr(t),this.set(this.defaultState),this.reset()},e.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,i=0;e;)1&e&&this.map[i].call(this,!!(t.data&1<<i)),e>>=1,i++;this.stateId=t.data}for(i=0;i<this.checks.length;i++)this.checks[i](this,t)},e.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},e.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],i=this.gl;2===e.length?i.blendFunc(e[0],e[1]):i.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,i.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}},e.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(t,e){var i=this.checks.indexOf(t);e&&-1===i?this.checks.push(t):e||-1===i||this.checks.splice(i,1)},e.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},e.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},e}(li),ns=function(t){function e(e){var i=t.call(this,e)||this;return i.count=0,i.checkCount=0,i.maxIdle=Et.GC_MAX_IDLE,i.checkCountMax=Et.GC_MAX_CHECK_COUNT,i.mode=Et.GC_MODE,i}return qe(e,t),e.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==_t.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},e.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,i=!1,r=0;r<e.length;r++){var s=e[r];!s.framebuffer&&this.count-s.touched>this.maxIdle&&(t.destroyTexture(s,!0),e[r]=null,i=!0)}if(i){var n=0;for(r=0;r<e.length;r++)null!==e[r]&&(e[n++]=e[r]);e.length=n}},e.prototype.unload=function(t){var e,i=this.renderer.texture;(null===(e=t._texture)||void 0===e?void 0:e.framebuffer)&&i.destroyTexture(t._texture);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},e}(li),os=function(){return function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121}}(),as=function(t){function e(e){var i=t.call(this,e)||this;return i.boundTextures=[],i.currentLocation=-1,i.managedTextures=[],i._unknownBoundTextures=!1,i.unknownTexture=new Qe,i}return qe(e,t),e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var i=0;i<e;i++)this.boundTextures[i]=null;this.emptyTextures={};var r=new os(t.createTexture());t.bindTexture(t.TEXTURE_2D,r.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=r,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new os(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(i=0;i<6;i++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(i=0;i<this.boundTextures.length;i++)this.bind(null,i)},e.prototype.bind=function(t,e){void 0===e&&(e=0);var i=this.gl;if(t){if((t=t.castToBaseTexture()).parentTextureArray)return;if(t.valid){t.touched=this.renderer.textureGC.count;var r=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(t.target,r.texture)),r.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}}else this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[e]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},e.prototype.unbind=function(t){var e=this.gl,i=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var r=0;r<i.length;r++)i[r]===this.unknownTexture&&this.bind(null,r)}for(r=0;r<i.length;r++)i[r]===t&&(this.currentLocation!==r&&(e.activeTexture(e.TEXTURE0+r),this.currentLocation=r),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[t.target].texture),i[r]=null)},e.prototype.initTexture=function(t){var e=new os(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},e.prototype.initTextureType=function(t,e){if(e.internalFormat=t.format,e.type=t.type,2===this.webGLVersion){var i=this.renderer.gl;t.type===i.FLOAT&&t.format===i.RGBA&&(e.internalFormat=i.RGBA32F),t.type===pt.HALF_FLOAT&&(e.type=i.HALF_FLOAT),e.type===i.HALF_FLOAT&&t.format===i.RGBA&&(e.internalFormat=i.RGBA16F)}},e.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var i=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(i,t,e));else{var r=t.realWidth,s=t.realHeight,n=i.gl;(e.width!==r||e.height!==s||e.dirtyId<0)&&(e.width=r,e.height=s,n.texImage2D(t.target,0,e.internalFormat,r,s,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},e.prototype.destroyTexture=function(t,e){var i=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),i.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var r=this.managedTextures.indexOf(t);-1!==r&&fe(this.managedTextures,r,1)}},e.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==mt.POW2&&2===this.webGLVersion||t.isPowerOfTwo?e.mipmap=t.mipmap>=1:e.mipmap=!1,2===this.webGLVersion||t.isPowerOfTwo?e.wrapMode=t.wrapMode:e.wrapMode=gt.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},e.prototype.setStyle=function(t,e){var i=this.gl;if(e.mipmap&&i.generateMipmap(t.target),i.texParameteri(t.target,i.TEXTURE_WRAP_S,e.wrapMode),i.texParameteri(t.target,i.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===ft.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);var r=this.renderer.context.extensions.anisotropicFiltering;if(r&&t.anisotropicLevel>0&&t.scaleMode===ft.LINEAR){var s=Math.min(t.anisotropicLevel,i.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(t.target,r.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===ft.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(t.target,i.TEXTURE_MAG_FILTER,t.scaleMode===ft.LINEAR?i.LINEAR:i.NEAREST)},e}(li),us=new De,ls=function(t){function e(e,i){void 0===e&&(e=ht.UNKNOWN);var r=t.call(this)||this;return(i=Object.assign({},Et.RENDER_OPTIONS,i)).roundPixels&&(Et.ROUND_PIXELS=i.roundPixels,ye("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),r.options=i,r.type=e,r.screen=new Le(0,0,i.width,i.height),r.view=i.view||document.createElement("canvas"),r.resolution=i.resolution||Et.RESOLUTION,r.transparent=i.transparent,r.autoDensity=i.autoDensity||i.autoResize||!1,r.preserveDrawingBuffer=i.preserveDrawingBuffer,r.clearBeforeRender=i.clearBeforeRender,r._backgroundColor=0,r._backgroundColorRgba=[0,0,0,0],r._backgroundColorString="#000000",r.backgroundColor=i.backgroundColor||r._backgroundColor,r._lastObjectRendered=null,r.plugins={},r}return qe(e,t),e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=e+"px"),this.emit("resize",t,e)},e.prototype.generateTexture=function(t,e,i,r){0===(r=r||t.getLocalBounds(null,!0)).width&&(r.width=1),0===r.height&&(r.height=1);var s=_i.create({width:0|r.width,height:0|r.height,scaleMode:e,resolution:i});return us.tx=-r.x,us.ty=-r.y,this.render(t,s,!1,us,!!t.parent),s},e.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);this.plugins=null,this.type=ht.UNKNOWN,this.view=null,this.screen=null,this._tempDisplayObjectParent=null,this.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=he(t),oe(t,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),e}(At),ds=function(t){function e(i){var r=t.call(this,ht.WEBGL,i)||this;return i=r.options,r.gl=null,r.CONTEXT_UID=0,r.runners={destroy:new Ie("destroy"),contextChange:new Ie("contextChange"),reset:new Ie("reset"),update:new Ie("update"),postrender:new Ie("postrender"),prerender:new Ie("prerender"),resize:new Ie("resize")},r.globalUniforms=new Ni({projectionMatrix:new De},!0),r.addSystem(Br,"mask").addSystem(Hi,"context").addSystem(ss,"state").addSystem($r,"shader").addSystem(as,"texture").addSystem(zi,"geometry").addSystem(Vi,"framebuffer").addSystem(Gr,"scissor").addSystem(Wr,"stencil").addSystem(Vr,"projection").addSystem(ns,"textureGC").addSystem(Fi,"filter").addSystem(Yr,"renderTexture").addSystem(Ui,"batch"),r.initPlugins(e.__plugins),i.context?r.context.initFromContext(i.context):r.context.initFromOptions({alpha:!!r.transparent,antialias:i.antialias,premultipliedAlpha:r.transparent&&"notMultiplied"!==r.transparent,stencil:!0,preserveDrawingBuffer:i.preserveDrawingBuffer,powerPreference:r.options.powerPreference}),r.renderingToScreen=!0,se(2===r.context.webGLVersion?"WebGL 2":"WebGL 1"),r.resize(r.options.width,r.options.height),r}return qe(e,t),e.create=function(t){if(ne())return new e(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.addSystem=function(t,e){e||(e=t.name);var i=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(var r in this[e]=i,this.runners)this.runners[r].add(i);return this},e.prototype.render=function(t,e,i,r,s){if(this.renderingToScreen=!e,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=r,!this.context.isLost){if(e||(this._lastObjectRendered=t),!s){var n=t.enableTempParent();t.updateTransform(),t.disableTempParent(n)}this.renderTexture.bind(e),this.batch.currentRenderer.start(),(void 0!==i?i:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),e&&e.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.resize=function(e,i){t.prototype.resize.call(this,e,i),this.runners.resize.emit(e,i)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(e){for(var i in this.runners.destroy.emit(),this.runners)this.runners[i].destroy();t.prototype.destroy.call(this,e),this.gl=null},e.registerPlugin=function(t,i){e.__plugins=e.__plugins||{},e.__plugins[t]=i},e}(ls),cs=function(){return function(){this.texArray=null,this.blend=0,this.type=lt.TRIANGLES,this.start=0,this.size=0,this.data=null}}(),ps=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},t}(),fs=function(){function t(t){this.rawBinaryData=new ArrayBuffer(t),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(t){return this[t+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},t}(),gs=function(t){function e(e){var i=t.call(this,e)||this;return i.shaderGenerator=null,i.geometryClass=null,i.vertexSize=null,i.state=Or.for2d(),i.size=4*Et.SPRITE_BATCH_SIZE,i._vertexCount=0,i._indexCount=0,i._bufferedElements=[],i._bufferedTextures=[],i._bufferSize=0,i._shader=null,i._packedGeometries=[],i._packedGeometryPoolSize=2,i._flushId=0,i._aBuffers={},i._iBuffers={},i.MAX_TEXTURES=1,i.renderer.on("prerender",i.onPrerender,i),e.runners.contextChange.add(i),i._dcIndex=0,i._aIndex=0,i._iIndex=0,i._attributeBuffer=null,i._indexBuffer=null,i._tempBoundTextures=[],i}return qe(e,t),e.prototype.contextChange=function(){var t=this.renderer.gl;Et.PREFER_ENV===ot.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Et.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=vr(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var t=e._drawCallPool,i=e._textureArrayPool,r=this.size/4,s=Math.floor(r/this.MAX_TEXTURES)+1;t.length<r;)t.push(new cs);for(;i.length<s;)i.push(new ps);for(var n=0;n<this.MAX_TEXTURES;n++)this._tempBoundTextures[n]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},e.prototype.buildTexturesAndDrawCalls=function(){var t=this._bufferedTextures,i=this.MAX_TEXTURES,r=e._textureArrayPool,s=this.renderer.batch,n=this._tempBoundTextures,o=this.renderer.textureGC.count,h=++Qe._globalBatch,a=0,u=r[0],l=0;s.copyBoundTextures(n,i);for(var d=0;d<this._bufferSize;++d){var c=t[d];t[d]=null,c._batchEnabled!==h&&(u.count>=i&&(s.boundArray(u,n,h,i),this.buildDrawCalls(u,l,d),l=d,u=r[++a],++h),c._batchEnabled=h,c.touched=o,u.elements[u.count++]=c)}u.count>0&&(s.boundArray(u,n,h,i),this.buildDrawCalls(u,l,this._bufferSize),++a,++h);for(d=0;d<n.length;d++)n[d]=null;Qe._globalBatch=h},e.prototype.buildDrawCalls=function(t,i,r){var s=this._bufferedElements,n=this._attributeBuffer,o=this._indexBuffer,h=this.vertexSize,a=e._drawCallPool,u=this._dcIndex,l=this._aIndex,d=this._iIndex,c=a[u];c.start=this._iIndex,c.texArray=t;for(var p=i;p<r;++p){var f=s[p],g=f._texture.baseTexture,m=ue[g.alphaMode?1:0][f.blendMode];s[p]=null,i<p&&c.blend!==m&&(c.size=d-c.start,i=p,(c=a[++u]).texArray=t,c.start=d),this.packInterleavedGeometry(f,n,o,l,d),l+=f.vertexData.length/2*h,d+=f.indices.length,c.blend=m}i<r&&(c.size=d-c.start,++u),this._dcIndex=u,this._aIndex=l,this._iIndex=d},e.prototype.bindAndClearTexArray=function(t){for(var e=this.renderer.texture,i=0;i<t.count;i++)e.bind(t.elements[i],t.ids[i]),t.elements[i]=null;t.count=0},e.prototype.updateGeometry=function(){var t=this._packedGeometries,e=this._attributeBuffer,i=this._indexBuffer;Et.CAN_UPLOAD_SAME_BUFFER?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(i),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(i),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var t=this._dcIndex,i=this.renderer,r=i.gl,s=i.state,n=e._drawCallPool,o=null,h=0;h<t;h++){var a=n[h],u=a.texArray,l=a.type,d=a.size,c=a.start,p=a.blend;o!==u&&(o=u,this.bindAndClearTexArray(u)),this.state.blendMode=p,s.set(this.state),r.drawElements(l,d,r.UNSIGNED_SHORT,2*c)}},e.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),Et.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(t){var e=de(Math.ceil(t/8)),i=pe(e),r=8*e;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var s=this._aBuffers[r];return s||(this._aBuffers[r]=s=new fs(r*this.vertexSize*4)),s},e.prototype.getIndexBuffer=function(t){var e=de(Math.ceil(t/12)),i=pe(e),r=12*e;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var s=this._iBuffers[i];return s||(this._iBuffers[i]=s=new Uint16Array(r)),s},e.prototype.packInterleavedGeometry=function(t,e,i,r,s){for(var n=e.uint32View,o=e.float32View,h=r/this.vertexSize,a=t.uvs,u=t.indices,l=t.vertexData,d=t._texture.baseTexture._batchLocation,c=Math.min(t.worldAlpha,1),p=c<1&&t._texture.baseTexture.alphaMode?le(t._tintRGB,c):t._tintRGB+(255*c<<24),f=0;f<l.length;f+=2)o[r++]=l[f],o[r++]=l[f+1],o[r++]=a[f],o[r++]=a[f+1],n[r++]=p,o[r++]=d;for(f=0;f<u.length;f++)i[s++]=h+u[f]},e._drawCallPool=[],e._textureArrayPool=[],e}(ki),ms=function(){function t(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),i=0;i<t;i++)e[i]=i;this.defaultGroupCache[t]=Ni.from({uSamplers:e},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Er(this.vertexSrc,r)}var s={tint:new Float32Array([1,1,1,1]),translationMatrix:new De,default:this.defaultGroupCache[t]};return new wr(this.programCache[t],s)},t.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var i=0;i<t;i++)i>0&&(e+="\nelse "),i<t-1&&(e+="if(vTextureId < "+i+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"},t}(),ys=function(t){function e(e){void 0===e&&(e=!1);var i=t.call(this)||this;return i._buffer=new Ei(null,e,!1),i._indexBuffer=new Ei(null,e,!0),i.addAttribute("aVertexPosition",i._buffer,2,!1,pt.FLOAT).addAttribute("aTextureCoord",i._buffer,2,!1,pt.FLOAT).addAttribute("aColor",i._buffer,4,!0,pt.UNSIGNED_BYTE).addAttribute("aTextureId",i._buffer,1,!0,pt.FLOAT).addIndex(i._indexBuffer),i}return qe(e,t),e}(Oi),_s="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",xs="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",Ts=function(){function t(){}return t.create=function(t){var e=Object.assign({vertex:_s,fragment:xs,geometryClass:ys,vertexSize:6},t),i=e.vertex,r=e.fragment,s=e.vertexSize,n=e.geometryClass;return function(t){function e(e){var o=t.call(this,e)||this;return o.shaderGenerator=new ms(i,r),o.geometryClass=n,o.vertexSize=s,o}return qe(e,t),e}(gs)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return _s},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return xs},enumerable:!1,configurable:!0}),t}(),bs=Ts.create();class Es{onAttach(t){this.host=t}onDetach(){this.host=null}onLayout(){const t=this.host,{widgetChildren:e}=t,i=t.contentWidth,r=t.contentHeight;for(let s=0;s<e.length;s++){const t=e[s],n=t.layoutOptions||{},o=t.getMeasuredWidth(),h=t.getMeasuredHeight(),a=this.calculateAnchor(n.anchorLeft||0,i,!1),u=this.calculateAnchor(n.anchorTop||0,r,!1),l=this.calculateAnchor(n.anchorRight||0,i,!0),d=this.calculateAnchor(n.anchorBottom||0,r,!0);let c=a,p=u;switch(n.horizontalAlign){case m.MIDDLE:c=(l+a-o)/2;break;case m.RIGHT:c=l-o}switch(n.verticalAlign){case m.MIDDLE:p=(d+u-h)/2;break;case m.BOTTOM:p=d-h}t.layout(c,p,c+o,p+h)}}onMeasure(t,e,i,r){const s=this.host.widgetChildren;let n=0,h=0;const a=i===o.EXACTLY?o.AT_MOST:i,u=r===o.EXACTLY?o.AT_MOST:r;let l=!1;for(let d=0,c=s.length;d<c;d++){const i=s[d],r=i.layoutOptions||v.DEFAULT;if(r.width===v.FILL_PARENT)throw new Error("AnchorLayout does not support width = FILL_PARENT. Use anchorLeft = 0 & anchorRight = 0");if(r.height===v.FILL_PARENT)throw new Error("AnchorLayout does not support height = FILL_PARENT. Use anchorTop = 0 & anchorBottom = 0");const c=this.calculateAnchor(r.anchorLeft||0,t,!1),p=this.calculateAnchor(r.anchorTop||0,e,!1),f=this.calculateAnchor(r.anchorRight||0,t,!0),g=this.calculateAnchor(r.anchorBottom||0,e,!0),m=r.isWidthPredefined,y=r.isHeightPredefined,_=m?r.width:f-c,x=y?r.height:g-p,T=m?o.EXACTLY:a,b=y?o.EXACTLY:u;l=l||0===r.width||0===r.height,i.measure(_,x,T,b);const E=this.calculateReach(r.anchorLeft||0,r.anchorRight||0,i.getMeasuredWidth()),w=this.calculateReach(r.anchorTop||0,r.anchorBottom||0,i.getMeasuredHeight());n=Math.max(n,E),h=Math.max(h,w)}if(this.measuredWidth=g.resolveMeasuredDimen(n,t,i),this.measuredHeight=g.resolveMeasuredDimen(h,e,r),l)for(let d=0,c=s.length;d<c;d++){const t=s[d],e=t.layoutOptions||v.DEFAULT;if(0===e.width||0===e.height){const i=this.calculateAnchor(e.anchorLeft||0,this.measuredWidth,!1),r=this.calculateAnchor(e.anchorTop||0,this.measuredHeight,!1),s=this.calculateAnchor(e.anchorRight||0,this.measuredWidth,!0),n=this.calculateAnchor(e.anchorBottom||0,this.measuredHeight,!0);t.measure(e.isWidthPredefined?e.width:s-i,e.isHeightPredefined?e.height:n-r,0===e.width||e.isWidthPredefined?o.EXACTLY:o.AT_MOST,0===e.height||e.isHeightPredefined?o.EXACTLY:o.AT_MOST)}}}getMeasuredWidth(){return this.measuredWidth}getMeasuredHeight(){return this.measuredHeight}calculateAnchor(t,e,i){const r=Math.abs(t)<1?t*e:t;return i?e-r:r}calculateReach(t,e,i){return Math.abs(t)<1&&Math.abs(e)<1?i/(1-e-t):Math.abs(t)<1?(e+i)/(1-t):Math.abs(e)<1?(t+i)/(1-e):t+i+e}}exports.AnchorLayout=Es;const{REGION_LEFT:ws,REGION_TOP:Cs,REGION_RIGHT:As,REGION_BOTTOM:Is,REGION_CENTER:Ms}=x,{FILL_PARENT:Ss}=v,{EXACTLY:Os,AT_MOST:Rs}=o;class Ls{constructor(){this.leftWidgets=[],this.topWidgets=[],this.rightWidgets=[],this.bottomWidgets=[],this.centerWidgets=[]}onAttach(t){this.host=t}onDetach(){this.host=null,this.clearMeasureCache(),this.clearRegions()}onLayout(){this.layoutChildren(this.leftWidgets,0,this.measuredTopHeight,this.measuredLeftWidth,this.measuredCenterHeight),this.layoutChildren(this.topWidgets,0,0,this.measuredWidth,this.measuredTopHeight),this.layoutChildren(this.rightWidgets,this.measuredWidth-this.measuredRightWidth,this.measuredTopHeight,this.measuredRightWidth,this.measuredCenterHeight),this.layoutChildren(this.bottomWidgets,0,this.measuredTopHeight+this.measuredCenterHeight,this.measuredWidth,this.measuredBottomHeight),this.layoutChildren(this.centerWidgets,this.measuredLeftWidth,this.measuredTopHeight,this.measuredCenterWidth,this.measuredCenterHeight)}layoutChildren(t,e,i,r,s){var n,o;for(let h=0,a=t.length;h<a;h++){const a=t[h];let u=0,l=0;switch(null===(n=a.layoutOptions)||void 0===n?void 0:n.horizontalAlign){case m.CENTER:u=(r-a.getMeasuredWidth())/2;break;case m.RIGHT:u=r-a.getMeasuredWidth();break;default:u=0}switch(null===(o=a.layoutOptions)||void 0===o?void 0:o.verticalAlign){case m.CENTER:l=(s-a.getMeasuredHeight())/2;break;case m.BOTTOM:l=s-a.getMeasuredHeight();break;default:l=0}u+=e,l+=i,a.layout(u,l,u+a.getMeasuredWidth(),l+a.getMeasuredHeight(),!0)}}onMeasure(t,e,i,r){this.indexRegions(),this.clearMeasureCache();const s=i===o.EXACTLY?o.AT_MOST:i,n=r===o.EXACTLY?o.AT_MOST:i;let[h,a,,u]=this.measureChildren(this.topWidgets,t,e,s,n),[l,d,,c]=this.measureChildren(this.bottomWidgets,t,e,s,n),[p,f,g,m]=this.measureChildren(this.centerWidgets,t,e,s,r),[v,,y]=this.measureChildren(this.leftWidgets,t,f,s,o.AT_MOST),[_,,x]=this.measureChildren(this.rightWidgets,t,f,s,o.AT_MOST);const T=v+_+p,b=Math.max(h,l,T),E=a+d+f;if(i===o.EXACTLY?this.measuredWidth=t:i===o.AT_MOST?this.measuredWidth=Math.min(b,t):this.measuredWidth=b,r===o.EXACTLY?this.measuredHeight=e:r===o.AT_MOST?this.measuredHeight=Math.min(E,e):this.measuredHeight=E,h=this.measuredWidth,l=this.measuredWidth,E>this.measuredHeight){const t=u+m+c;if(t<this.measuredHeight){const e=(this.measuredHeight-t)/(E-t);a=u+(a-u)*e,d=c+(d-c)*e,f=m+(f-m)*e}else{const t=this.measuredHeight/E;a*=t,d*=t,f*=t}}if(b>this.measuredWidth){const t=y+g+x;if(t<this.measuredWidth){const e=(this.measuredWidth-t)/(b-t);v=y+(v-y)*e,p=g+(p-g)*e,_=x+(_-x)*e}else{const t=this.measuredWidth/b;v*=t,p*=t,_*=t}}this.measuredLeftWidth=v,this.measuredRightWidth=_,this.measuredCenterWidth=p,this.measuredTopHeight=a,this.measuredBottomHeight=d,this.measuredCenterHeight=f,this.fitChildren(this.leftWidgets,this.measuredLeftWidth,this.measuredCenterHeight),this.fitChildren(this.topWidgets,this.measuredWidth,this.measuredTopHeight),this.fitChildren(this.rightWidgets,this.measuredRightWidth,this.measuredCenterHeight),this.fitChildren(this.bottomWidgets,this.measuredWidth,this.measuredBottomHeight),this.fitChildren(this.centerWidgets,this.measuredCenterWidth,this.measuredCenterHeight)}measureChildren(t,e,i,r,s){let n=0,o=0,h=0,a=0;for(let u=0,l=t.length;u<l;u++){const l=t[u],d=l.layoutOptions||v.DEFAULT;let c=e,p=i,f=r,g=s;d.width<=v.MAX_DIMEN&&(c=d.width,f=Os,h=Math.max(h,c)),d.height<=v.MAX_DIMEN&&(p=d.height,g=Os,a=Math.max(a,p)),l.measure(c,p,f,g),n=Math.max(n,l.getMeasuredWidth()),o=Math.max(o,l.getMeasuredHeight())}return[n,o,h,a]}fitChildren(t,e,i){var r,s,n,o;for(let h=0,a=t.length;h<a;h++){const a=t[h];if(!(a.getMeasuredWidth()<=e&&a.getMeasuredHeight()<=i&&a.getMeasuredWidth()>0&&a.getMeasuredHeight()>0&&(null===(r=a.layoutOptions)||void 0===r?void 0:r.width)!==Ss&&(null===(s=a.layoutOptions)||void 0===s?void 0:s.height)!==Ss)&&(e>0&&i>0)){const t=(null===(n=a.layoutOptions)||void 0===n?void 0:n.width)===Ss?Os:Rs,r=(null===(o=a.layoutOptions)||void 0===o?void 0:o.height)===Ss?Os:Rs;a.measure(e,i,t,r)}}}indexRegions(){this.clearRegions();const{widgetChildren:t}=this.host;for(let e=0,i=t.length;e<i;e++){const i=t[e];switch((i.layoutOptions||v.DEFAULT).region||Ms){case ws:this.leftWidgets.push(i);break;case Cs:this.topWidgets.push(i);break;case As:this.rightWidgets.push(i);break;case Is:this.bottomWidgets.push(i);break;default:this.centerWidgets.push(i)}}}clearRegions(){this.leftWidgets.length=0,this.topWidgets.length=0,this.rightWidgets.length=0,this.bottomWidgets.length=0}clearMeasureCache(){this.measuredLeftWidth=0,this.measuredRightWidth=0,this.measuredCenterWidth=0,this.measuredTopHeight=0,this.measuredBottomHeight=0,this.measuredCenterHeight=0}getMeasuredWidth(){return this.measuredWidth}getMeasuredHeight(){return this.measuredHeight}}exports.BorderLayout=Ls;class Ps{constructor(t="vertical",e="center"){this.orientation=t,this.gravity=e}onAttach(t){this.host=t}onDetach(){this.host=null}onLayout(){let t=0;const e=this.host.widgetChildren,i="vertical"===this.orientation?this.measuredWidth:this.measuredHeight;for(let r=0,s=e.length;r<s;r++){const s=e[r],n="vertical"===this.orientation?s.getMeasuredWidth():s.getMeasuredHeight(),o="vertical"===this.orientation?s.getMeasuredHeight():s.getMeasuredWidth();let h=0;if(n<i)switch(this.gravity){case"center":case"middle":h=(i-n)/2;break;case"right":case"bottom":h=i-n}"vertical"===this.orientation?s.layout(h,t,h+n,t+o):s.layout(t,h,t+o,h+n),t+=o}}onMeasure(t,e,i,r){const s=this.host.widgetChildren,n=i===o.EXACTLY?o.AT_MOST:i,h=r===o.EXACTLY?o.AT_MOST:r;let a=0,u=0;for(let l=0,d=s.length;l<d;l++){const i=s[l],r=i.layoutOptions||v.DEFAULT,d=r.isWidthPredefined?r.width:t,c=r.isHeightPredefined?r.height:e,p=r.isWidthPredefined?o.EXACTLY:n,f=r.isHeightPredefined?o.EXACTLY:h;i.measure(d,c,p,f),"vertical"===this.orientation?(u=Math.max(u,i.getMeasuredWidth()),a+=i.getMeasuredHeight()):(u=Math.max(u,i.getMeasuredHeight()),a+=i.getMeasuredWidth())}"vertical"===this.orientation?(this.measuredWidth=u,this.measuredHeight=a):(this.measuredWidth=a,this.measuredHeight=u)}getMeasuredWidth(){return this.measuredWidth}getMeasuredHeight(){return this.measuredHeight}}exports.LinearLayout=Ps;class Ns extends A{constructor(t){if(super(t),!(t.icon instanceof k)){const e=t.icon instanceof mi?t.icon:mi.from(t.icon);t.icon=new k(e)}this.textWidget.setLayoutOptions(null),this.iconWidget=t.icon,this.removeChild(this.textWidget),this.addChild(this.iconWidget),this.addChild(this.textWidget),this.useLayout(new Ps("vertical"))}}exports.ImageButton=Ns;class Ds extends g{constructor(t){super(),this.percentValue=0,this._disabled=!1,this.fill=t.fill||null,this.percentValue=this._minValue,this._minValue=t.minValue||0,this._maxValue=t.maxValue||100,this.decimals=t.decimals||0,this.orientation=t.orientation||Ds.HORIZONTAL,this.onValueChange=t.onValueChange||null,this.onValueChanging=t.onValueChanging||null,this.value=t.value||50,this.track=g.fromContent(t.track||(this.orientation===Ds.HORIZONTAL?Ds.DEFAULT_HORIZONTAL_TRACK.clone():Ds.DEFAULT_VERTICAL_TRACK.clone())),this.handle=g.fromContent(t.handle||Ds.DEFAULT_HANDLE.clone()),this.addChild(this.track,this.handle),this._localCursor=new e.Point,this.handle.contentContainer.buttonMode=!0}initialize(){super.initialize();let t,e=0;const i=()=>{this.emit("change",this.value),this._lastChange!=this.value&&(this._lastChange=this.value,"function"==typeof this.onValueChange&&this.onValueChange(this.value))},r=()=>{this.emit("changing",this.value),this._lastChanging!=this.value&&(this._lastChanging=this.value,"function"==typeof this.onValueChanging&&this.onValueChanging(this.value))},s=(t,e)=>{this.percentValue=this.getValueAtPhysicalPosition(t),this.layoutHandle(),r()},n=this.handle.eventBroker.dnd;n.onPress=(t=>{t.stopPropagation()}),n.onDragStart=(()=>{e=this.percentValue,t=this.orientation===Ds.HORIZONTAL?this.track.width:this.track.height}),n.onDragMove=((i,s)=>{this.percentValue=Math.max(0,Math.min(1,e+(this.orientation===Ds.HORIZONTAL?s.x:s.y)/t)),r(),this.layoutHandle()}),n.onDragEnd=(()=>{i(),this.layoutHandle()});const o=this.track.eventBroker.dnd;o.onPress=((t,e)=>{e&&s(t.data.global),t.stopPropagation()}),o.onDragMove=(t=>{s(t.data.global)}),o.onDragEnd=(()=>{i()}),this.layoutHandle()}get value(){return D.Round(D.Lerp(this._minValue,this._maxValue,this.percentValue),this.decimals)}set value(t){if(t!==this.value){if(isNaN(t))throw new Error("Cannot use NaN as a value");this.percentValue=(Math.max(this._minValue,Math.min(this._maxValue,t))-this._minValue)/(this._maxValue-this._minValue),"function"==typeof this.onValueChange&&this.onValueChange(this.value),"function"==typeof this.onValueChanging&&this.onValueChanging(this.value),this.handle&&this.initialized&&this.layoutHandle()}}get minValue(){return this._minValue}set minValue(t){this._minValue=t,this.update()}get maxValue(){return this._maxValue}set maxValue(t){this._maxValue=t,this.update()}get disabled(){return this._disabled}set disabled(t){t!==this._disabled&&(this._disabled=t,this.handle.contentContainer.buttonMode=!t,this.handle.contentContainer.interactive=!t,this.track.contentContainer.interactive=!t)}getPhysicalRange(){return this.orientation===Ds.HORIZONTAL?this.contentWidth-this.handle.getMeasuredWidth():this.contentHeight-this.handle.getMeasuredHeight()}getValueAtPhysicalPosition(t){const e=this.contentContainer.toLocal(t,null,this._localCursor,!0);let i,r;if(this.orientation===Ds.HORIZONTAL){const t=this.handle.getMeasuredWidth();i=e.x-this.paddingLeft-t/4,r=this.contentWidth-t}else{const t=this.handle.getMeasuredHeight();i=e.y-this.paddingTop-t/4,r=this.contentHeight-t}return i/r}layoutHandle(){const t=this.handle,e=t.getMeasuredWidth(),i=t.getMeasuredHeight();let r,s,n=this.width-this.paddingHorizontal,o=this.height-this.paddingVertical;this.orientation===Ds.HORIZONTAL?(s=(o-i)/2,r=(n-=e)*this.percentValue):(r=(n-e)/2,s=(o-=i)*this.percentValue),t.layout(r,s,r+e,s+i)}onMeasure(t,e,i,r){const s=(this.orientation===Ds.HORIZONTAL?this._maxValue-this._minValue:Math.max(this.handle.contentContainer.width,this.track.contentContainer.width))+this.paddingHorizontal,n=(this.orientation===Ds.VERTICAL?this._maxValue-this._minValue:Math.max(this.handle.contentContainer.height,this.track.contentContainer.height))+this.paddingVertical;switch(i){case o.EXACTLY:this._measuredWidth=t;break;case o.UNBOUNDED:this._measuredWidth=s;break;case o.AT_MOST:this._measuredWidth=Math.min(t,s)}switch(r){case o.EXACTLY:this._measuredHeight=e;break;case o.UNBOUNDED:this._measuredHeight=n;break;case o.AT_MOST:this._measuredHeight=Math.min(e,n)}}onLayout(t,e,i,r,s){super.onLayout(t,e,i,r,s);const{handle:n,track:h}=this;h.layout(0,0,this.width-this.paddingHorizontal,this.height-this.paddingVertical),h.insetContainer.width=h.width,h.insetContainer.height=h.height,n.measure(this.width,this.height,o.AT_MOST,o.AT_MOST),this.layoutHandle()}}exports.Slider=Ds,Ds.DEFAULT_HORIZONTAL_TRACK=(new e.Graphics).beginFill(16777215,1).drawRect(0,0,16,16).endFill().lineStyle(1,0,.7,1,!0).moveTo(1,8).lineTo(15,8),Ds.DEFAULT_VERTICAL_TRACK=(new e.Graphics).beginFill(16777215,1).drawRect(0,0,16,16).endFill().lineStyle(1,0,.7,1,!0).moveTo(8,1).lineTo(8,15),Ds.DEFAULT_HANDLE=(new e.Graphics).beginFill(0).drawCircle(16,16,8).endFill().beginFill(0,.5).drawCircle(16,16,16).endFill(),Ds.HORIZONTAL=4085,Ds.VERTICAL=4094;const Fs=[],ks=[],Us={},Bs={};let Hs=1;class Gs{constructor(t){this.object=t,this.tweens={},this.active=!1,this.onUpdate=null}}class Ws{constructor(){this._ready=!1,this.obj=null,this.parent=null,this.key="",this.time=0,this.callback=null,this.currentTime=0}remove(){this._ready=!0,delete this.parent.tweens[this.key],Object.keys(this.parent.tweens).length||(this.parent.active=!1,this.parent.onUpdate=null,delete Bs[this.obj._tweenObjectId])}set(t,e,i){this.obj=t.object,this.obj._currentCallbackID?this.obj._currentCallbackID++:this.obj._currentCallbackID=1,this.time=i,this.parent=t,this.callback=e,this._ready=!1,this.key=`cb_${this.obj._currentCallbackID}`,this.currentTime=0,this.parent.active||(this.parent.active=!0,Bs[this.obj._tweenObjectId]=this.parent)}update(t){this.currentTime+=t,this.currentTime>=this.time&&(this.remove(),this.callback.call(this.parent))}}class Vs{constructor(){this._ready=!1,this.parent=null,this.obj=null,this.key="",this.from=0,this.to=0,this.time=0,this.ease=0,this.currentTime=0,this.t=0,this.isColor=!1}remove(){this._ready=!0,delete this.parent.tweens[this.key],Object.keys(this.parent.tweens).length||(this.parent.active=!1,delete Bs[this.obj._tweenObjectId])}set(t,e,i,r,s,n){this.isColor=isNaN(i)&&"#"===i[0]||isNaN(r)&&"#"===r[0],this.parent=t,this.obj=t.object,this.key=e,this.surfix=Ys(r),this.isColor?(this.to=D.hexToRgb(r),this.from=D.hexToRgb(i),this.currentColor={r:this.from.r,g:this.from.g,b:this.from.b}):(this.to=Ks(r),this.from=zs(i,r,this.obj,e)),this.time=s,this.currentTime=0,this.ease=n,this._ready=!1,this.parent.active||(this.parent.active=!0,Bs[this.obj._tweenObjectId]=this.parent)}update(t){if(this.currentTime+=t,this.t=Math.min(this.currentTime,this.time)/this.time,this.ease&&(this.t=this.ease.getPosition(this.t)),this.isColor)this.currentColor.r=Math.round(D.Lerp(this.from.r,this.to.r,this.t)),this.currentColor.g=Math.round(D.Lerp(this.from.g,this.to.g,this.t)),this.currentColor.b=Math.round(D.Lerp(this.from.b,this.to.b,this.t)),this.obj[this.key]=D.rgbToNumber(this.currentColor.r,this.currentColor.g,this.currentColor.b);else{const t=D.Lerp(this.from,this.to,this.t);this.obj[this.key]=this.surfix?t+this.surfix:t}this.currentTime>=this.time&&this.remove()}}const Xs=["width","minWidth","maxWidth","anchorLeft","anchorRight","left","right","x"],js=["height","minHeight","maxHeight","anchorTop","anchorBottom","top","bottom","y"];function zs(t,e,i,r){return isNaN(t)||isNaN(e)?isNaN(t)&&isNaN(e)&&-1!==t.indexOf("%")&&-1!==e.indexOf("%")?parseFloat(t.replace("%","")):isNaN(t)&&!isNaN(e)&&-1!==t.indexOf("%")?-1!==Xs.indexOf(r)?i.parent._width*(.01*parseFloat(t.replace("%",""))):-1!==js.indexOf(r)?i.parent._height*(.01*parseFloat(t.replace("%",""))):0:!isNaN(t)&&isNaN(e)&&-1!==e.indexOf("%")?-1!==Xs.indexOf(r)?t/i.parent._width*100:-1!==js.indexOf(r)?t/i.parent._height*100:0:0:t}function Ys(t){if(isNaN(t)&&-1!==t.indexOf("%"))return"%"}function Ks(t){return isNaN(t)?isNaN(t)&&-1!==t.indexOf("%")?parseFloat(t.replace("%","")):void 0:t}function qs(t){t._tweenObjectId||(t._tweenObjectId=Hs,Hs++);let e=Us[t._tweenObjectId];return e||(e=Us[t._tweenObjectId]=new Gs(t)),e}function Zs(){for(let e=0;e<Fs.length;e++)if(Fs[e]._ready)return Fs[e];const t=new Vs;return Fs.push(t),t}function $s(){for(let e=0;e<ks.length;e++)if(ks[e]._ready)return ks[e];const t=new Ws;return ks.push(t),t}const Js={to(t,e,i,r){const s=qs(t);let n=null;for(const o in i)if("onComplete"!==o)if("onUpdate"!==o){if(e){const n=i[o]===t[o];if(void 0===t[o])continue;n?s.tweens[o]&&s.tweens[o].remove():(s.tweens[o]||(s.tweens[o]=Zs()),s.tweens[o].set(s,o,t[o],i[o],e,r))}}else n=i[o];else{const t=$s();t.set(s,i[o],e),s.tweens[t.key]=t}e?s.onUpdate=n:this.set(t,i)},from(t,e,i,r){const s=qs(t);let n=null;for(const o in i)if("onComplete"!==o)if("onUpdate"!==o){if(e){const n=i[o]==t[o];if(void 0===t[o])continue;n?s.tweens[o]&&s.tweens[o].remove():(s.tweens[o]||(s.tweens[o]=Zs()),s.tweens[o].set(s,o,i[o],t[o],e,r))}}else n=i[o];else{const t=$s();t.set(s,i[o],e),s.tweens[t.key]=t}e?s.onUpdate=n:this.set(t,i)},fromTo(t,e,i,r,s){const n=qs(t);let o=null;for(const h in r)if("onComplete"!==h)if("onUpdate"!==h){if(e){const o=i[h]==r[h];if(void 0===t[h]||void 0===i[h])continue;o?(n.tweens[h]&&n.tweens[h].remove(),t[h]=r[h]):(n.tweens[h]||(n.tweens[h]=Zs()),n.tweens[h].set(n,h,i[h],r[h],e,s))}}else o=r[h];else{const t=$s();t.set(n,r[h],e),n.tweens[t.key]=t}e?n.onUpdate=o:this.set(t,r)},set(t,e){const i=qs(t);for(const r in e)void 0!==t[r]&&(i.tweens[r]&&i.tweens[r].remove(),t[r]=e[r])},_update(t){for(const e in Bs){const i=Bs[e];for(const e in i.tweens)i.tweens[e].update(t);i.onUpdate&&i.onUpdate.call(i.object,t)}}};class Qs extends Ds{constructor(t){super({track:t.track||Qs.DEFAULT_TRACK.clone(),handle:t.handle||Qs.DEFAULT_HANDLE.clone(),fill:null,orientation:t.orientation,minValue:0,maxValue:1}),this.scrollingContainer=t.scrollingContainer,this.autohide=t.autohide,this._hidden=!1}initialize(){super.initialize(),this.decimals=3,this.on("changing",()=>{this.scrollingContainer.forcePctPosition(this.orientation===Ds.HORIZONTAL?"x":"y",this.percentValue)}),this.on("change",()=>{this.scrollingContainer.setScrollPosition()})}toggleHidden(t){this.autohide&&(t&&!this._hidden?(Js.to(this,.2,{alpha:0}),this._hidden=!0):!t&&this._hidden&&(Js.to(this,.2,{alpha:1}),this._hidden=!1))}}exports.ScrollBar=Qs,Qs.DEFAULT_TRACK=(new e.Graphics).beginFill(16777215).drawRect(0,0,8,8).endFill(),Qs.DEFAULT_HANDLE=(new e.Graphics).beginFill(0).drawCircle(8,8,4).endFill().beginFill(0,.5).drawCircle(8,8,8).endFill();class tn extends E{constructor(t={}){if(super(),this.forcePctPosition=((t,e)=>{const i=this.getInnerBounds(),r=this.innerContainer.insetContainer;this.scrollX&&"x"===t&&(r.position[t]=-(i.width-this.width)*e),this.scrollY&&"y"===t&&(r.position[t]=-(i.height-this.height)*e),this.scrollPosition[t]=this.targetPosition[t]=r.position[t]}),this.focusPosition=(t=>{const e=this.getInnerBounds(),i=this.innerContainer.insetContainer;let r;if(this.scrollX){const s=Math.max(0,Math.min(e.width,t.x));s+i.x>this.width?(r=s-this.width,i.x=-r):s+i.x<0&&(r=s+i.x,i.x-=r)}if(this.scrollY){const s=Math.max(0,Math.min(e.height,t.y));s+i.y>this.height?(r=s-this.height,i.y=-r):s+i.y<0&&(r=s+i.y,i.y-=r)}this.lastPosition.copyFrom(i.position),this.targetPosition.copyFrom(i.position),this.scrollPosition.copyFrom(i.position),this.updateScrollBars()}),this.setScrollPosition=(t=>{t&&this.scrollVelocity.copyFrom(t);const i=this.innerContainer.insetContainer;this.animating||(this.animating=!0,this.lastPosition.copyFrom(i.position),this.targetPosition.copyFrom(i.position),e.Ticker.shared.add(this.updateScrollPosition))}),this.updateScrollPosition=(t=>{this.stop=!0,this.scrollX&&this.updateDirection("x",t),this.scrollY&&this.updateDirection("y",t),this.stop&&(e.Ticker.shared.remove(this.updateScrollPosition),this.animating=!1),this.updateScrollBars()}),this.updateDirection=((t,e)=>{const i=this.getInnerBounds(),{scrollPosition:r,scrollVelocity:s,targetPosition:n,lastPosition:o}=this,h=this.innerContainer.insetContainer;let a;if(a="y"===t?Math.round(Math.min(0,this.height-i.height)):Math.round(Math.min(0,this.width-i.width)),this.scrolling||0===Math.round(s[t])||(n[t]+=s[t],s[t]=D.Lerp(s[t],0,(5+2.5/Math.max(this.softness,.01))*e),n[t]>0?n[t]=0:n[t]<a&&(n[t]=a)),!this.scrolling&&0===Math.round(s[t])&&(h[t]>0||h[t]<a)){const i=this.scrollPosition[t]>0?0:a;r[t]=D.Lerp(r[t],i,(40-30*this.softness)*e),this.stop=!1}else(this.scrolling||0!==Math.round(s[t]))&&(this.scrolling&&(s[t]=this.scrollPosition[t]-o[t],o.copyFrom(r)),n[t]>0?(s[t]=0,r[t]=100*this.softness*(1-Math.exp(n[t]/-200))):n[t]<a?(s[t]=0,r[t]=a-100*this.softness*(1-Math.exp((a-n[t])/-200))):r[t]=n[t],this.stop=!1);h.position[t]=Math.round(r[t])}),this.mask=new e.Graphics,this.innerContainer=new E,this.innerBounds=new e.Rectangle,super.addChild(this.innerContainer),this.contentContainer.addChild(this.mask),this.contentContainer.mask=this.mask,this.scrollX=void 0!==t.scrollX&&t.scrollX,this.scrollY=void 0!==t.scrollY&&t.scrollY,this.dragScrolling=void 0===t.dragScrolling||t.dragScrolling,this.softness=void 0!==t.softness?Math.max(Math.min(t.softness||0,1),0):.5,this.radius=t.radius||0,this.expandMask=t.expandMask||0,this.overflowY=t.overflowY||0,this.overflowX=t.overflowX||0,this.scrollVelocity=new e.Point,this.scrollPosition=new e.Point,this.targetPosition=new e.Point,this.lastPosition=new e.Point,this.useLayout(new Ls),this.animating=!1,this.scrolling=!1,this.scrollBars=[],t.scrollBars&&this.scrollX){const t=new Qs({orientation:Qs.HORIZONTAL,scrollingContainer:this,minValue:0,maxValue:1}).setLayoutOptions(new x({width:v.FILL_PARENT,height:v.WRAP_CONTENT,region:x.REGION_BOTTOM,horizontalAlign:m.CENTER,verticalAlign:m.BOTTOM})).setBackground(255).setBackgroundAlpha(.8);super.addChild(t),this.scrollBars.push(t)}if(t.scrollBars&&this.scrollY){const t=new Qs({orientation:Qs.VERTICAL,scrollingContainer:this,minValue:0,maxValue:1}).setLayoutOptions(new x({width:v.WRAP_CONTENT,height:v.FILL_PARENT,region:x.REGION_RIGHT,horizontalAlign:m.RIGHT,verticalAlign:m.CENTER})).setBackground(255).setBackgroundAlpha(.8);super.addChild(t),this.scrollBars.push(t)}this.boundCached=0}update(){if(super.update(),this.lastWidth!==this.width||this.lastHeight!==this.height){const t=this.expandMask;this.mask.clear(),this.mask.lineStyle(0),this.mask.beginFill(16777215,1),0===this.radius?this.mask.drawRect(-t,-t,this.width+t,this.height+t):this.mask.drawRoundedRect(-t,-t,this.width+t,this.height+t,this.radius),this.mask.endFill(),this.lastWidth=this.width,this.lastHeight=this.height}}addScrollBar(t){return super.addChild(t),this.scrollBars.push(t),this}addChild(...t){for(let e=0;e<t.length;e++)this.innerContainer.addChild(t[e]);return this.getInnerBounds(!0),this}updateScrollBars(){for(let t=0,e=this.scrollBars.length;t<e;t++){const e=this.scrollBars[t];if(e.orientation===Ds.HORIZONTAL){const t=this.getPercentPosition("x");e.value=t}else if(e.orientation===Ds.VERTICAL){const t=this.getPercentPosition("y");e.value=t}}}getInnerBounds(t){return(t||performance.now()-this.boundCached>1e3)&&(this.innerContainer.insetContainer.getLocalBounds(this.innerBounds),this.innerBounds.height=this.innerBounds.y+this.innerContainer.height||0,this.innerBounds.width=this.innerBounds.x+this.innerContainer.width||0,this.boundCached=performance.now()),this.innerBounds}initialize(){super.initialize(),(this.scrollX||this.scrollY)&&this.initScrolling()}initScrolling(){const t=this.innerContainer.insetContainer,i=new e.Point,{scrollPosition:r,targetPosition:s}=this;if(this.dragScrolling){const e=this.eventBroker.dnd;e.onDragStart=(e=>{this.scrolling||(i.copyFrom(t.position),r.copyFrom(t.position),this.scrolling=!0,this.setScrollPosition(),this.emit("scrollstart",e))}),e.onDragMove=((t,e)=>{this.scrollX&&(s.x=i.x+e.x),this.scrollY&&(s.y=i.y+e.y),this.setScrollPosition()}),e.onDragEnd=(t=>{this.scrolling&&(this.scrolling=!1,this.emit("scrollend",t))})}const n=new e.Point;new d(this,!0).onMouseScroll=((t,e)=>{n.set(.2*-e.x,.2*-e.y),this.setScrollPosition(n)}),this.updateScrollBars()}getPercentPosition(t){const e=this.getInnerBounds(),i=this.innerContainer.insetContainer;return"x"===t?i.x/(this.width-e.width):"y"===t?i.y/(this.height-e.height):0}}exports.ScrollWidget=tn;class en extends E{constructor(t,e,i){super(0,0),this.desc=void 0!==t&&t,this.tweenTime=e||0,this.tweenEase=i,this.items=[]}addChild(t,e,i){super.addChild(t),-1===this.items.indexOf(t)&&this.items.push(t),"function"==typeof e&&(t._sortListValue=e),"function"==typeof i&&(t._sortListThenByValue=i),t._sortListRnd||(t._sortListRnd=Math.random()),this.sort()}removeChild(t){if(arguments.length>1)for(let e=0;e<arguments.length;e++)this.removeChild(arguments[e]);else{super.removeChild(t);const e=this.items.indexOf(t);-1!==e&&this.items.splice(e,1),this.sort()}}sort(t=!1){clearTimeout(this._sortTimeout),t?this._sort():this._sortTimeout=setTimeout(()=>{this._sort()},0)}_sort(){const t=this.desc;let e=0,i=!0;this.items.sort(function(e,i){let r=e._sortListValue()<i._sortListValue()?t?1:-1:e._sortListValue()>i._sortListValue()?t?-1:1:0;return 0===r&&e._sortListThenByValue&&i._sortListThenByValue&&(r=e._sortListThenByValue()<i._sortListThenByValue()?t?1:-1:e._sortListThenByValue()>i._sortListThenByValue()?t?-1:1:0),0===r&&(r=e._sortListRnd>i._sortListRnd?1:e._sortListRnd<i._sortListRnd?-1:0),r});for(let r=0;r<this.items.length;r++){const t=this.items[r];i=!i,this.tweenTime>0?Js.fromTo(t,this.tweenTime,{x:t.x,y:t.y},{x:0,y:e},this.tweenEase):(t.x=0,t.y=e),e+=t.height,"function"==typeof t.altering&&t.altering(i)}this.tweenTime>0&&setTimeout(()=>{this.updatesettings(!1,!0)},1e3*this.tweenTime)}}exports.SortableList=en;class rn extends g{constructor(t,e,i,r,s){super(t.width,t.height),this.bw=e||5,this.vs=void 0===r||r,this.hs=void 0===i||i,this.t=t.baseTexture,this.f=t.frame,this.tile=s,this.hs&&(this.setting.minWidth=2*e),this.vs&&(this.setting.minHeight=2*e),this.update=function(){this.initialized&&(vs&&hs?(str.x=sbr.x=sr.x=this._width-bw,sbl.y=sbr.y=sb.y=this._height-bw,sf.width=st.width=sb.width=this._width-2*bw,sf.height=sl.height=sr.height=this._height-2*bw):hs?(sr.x=this._width-bw,sl.height=sr.height=sf.height=this._height,sf.width=this._width-2*bw):(sb.y=this._height-bw,st.width=sb.width=sf.width=this._width,sf.height=this._height-2*bw),null!==this.tint&&(sf.tint=this.tint,vs&&hs&&(stl.tint=str.tint=sbl.tint=sbr.tint=this.tint),hs&&(sl.tint=sr.tint=this.tint),vs&&(st.tint=sb.tint=this.tint)),null!==this.blendMode&&(sf.blendMode=this.blendMode,vs&&hs&&(stl.blendMode=str.blendMode=sbl.blendMode=sbr.blendMode=this.blendMode),hs&&(sl.blendMode=sr.blendMode=this.blendMode),vs&&(st.blendMode=sb.blendMode=this.blendMode)))}}initialize(){super.initialize();const{f:t,bw:i}=this;this.vs&&this.hs?(this.ftl=new e.Rectangle(t.x,t.y,i,i),this.ftr=new e.Rectangle(t.x+t.width-i,t.y,i,i),this.fbl=new e.Rectangle(t.x,t.y+t.height-i,i,i),this.fbr=new e.Rectangle(t.x+t.width-i,t.y+t.height-i,i,i),this.ft=new e.Rectangle(t.x+i,t.y,t.width-2*i,i),this.fb=new e.Rectangle(t.x+i,t.y+t.height-i,t.width-2*i,i),this.fl=new e.Rectangle(t.x,t.y+i,i,t.height-2*i),this.fr=new e.Rectangle(t.x+t.width-i,t.y+i,i,t.height-2*i),this.ff=new e.Rectangle(t.x+i,t.y+i,t.width-2*i,t.height-2*i)):this.hs?(this.fl=new e.Rectangle(this.f.x,t.y,i,t.height),this.fr=new e.Rectangle(t.x+t.width-i,t.y,i,t.height),this.ff=new e.Rectangle(t.x+i,t.y,t.width-2*i,t.height)):(this.ft=new e.Rectangle(t.x,t.y,t.width,i),this.fb=new e.Rectangle(t.x,t.y+t.height-i,t.width,i),this.ff=new e.Rectangle(t.x,t.y+i,t.width,t.height-2*i));const{t:r,ff:s,fl:n,fr:o,ft:h,fb:a}=this;this.sf=this.tile?new e.extras.TilingSprite(new e.Texture(r,s)):new e.Sprite(new e.Texture(r,s)),this.contentContainer.addChildAt(this.sf,0),this.vs&&this.hs&&(this.stl=new e.Sprite(new e.Texture(r,this.ftl)),this.str=new e.Sprite(new e.Texture(r,this.ftr)),this.sbl=new e.Sprite(new e.Texture(r,this.fbl)),this.sbr=new e.Sprite(new e.Texture(r,this.fbr)),this.contentContainer.addChildAt(this.stl,0),this.contentContainer.addChildAt(this.str,0),this.contentContainer.addChildAt(this.sbl,0),this.contentContainer.addChildAt(this.sbr,0)),hs&&(this.sl=this.tile?new e.extras.TilingSprite(new e.Texture(r,n)):new e.Sprite(new e.Texture(r,n)),this.sr=this.tile?new e.extras.TilingSprite(new e.Texture(r,o)):new e.Sprite(new e.Texture(r,o)),this.contentContainer.addChildAt(this.sl,0),this.contentContainer.addChildAt(this.sr,0)),this.vs&&(this.st=this.tile?new e.extras.TilingSprite(new e.Texture(r,h)):new e.Sprite(new e.Texture(r,h)),this.sb=this.tile?new e.extras.TilingSprite(new e.Texture(r,a)):new e.Sprite(new e.Texture(r,a)),this.contentContainer.addChildAt(this.st,0),this.contentContainer.addChildAt(this.sb,0)),this.vs&&this.hs&&(this.st.x=i,this.sb.x=i,this.sl.y=i,this.sr.y=i,this.stl.width=i,this.str.width=i,this.sbl.width=i,this.sbr.width=i,this.stl.height=i,this.str.height=i,this.sbl.height=i,this.sbr.height=i),this.hs&&(this.sf.x=this.sl.width=this.sr.width=i),this.vs&&(this.sf.y=this.st.height=this.sb.height=i)}update(){}}exports.SliceSprite=rn;class sn extends e.utils.EventEmitter{constructor(t){super(),this.stage=t}}class nn extends sn{constructor(t){super(t),this.checkGroups=new Map}in(t,e){if(!e)throw new Error("Default check groups don't exist!");(this.checkGroups.get(e)||this.initGroup(e)).checks.push(t),t.checkGroup=e}out(t){const e=this.checkGroups.get(t.checkGroup),i=e.checks.indexOf(t);i>0&&e.checks.splice(i,1),t.checkGroup=null}notifyCheck(t){const e=this.checkGroups.get(t.checkGroup);if(!e)return;const{checks:i}=e;for(let r=0,s=i.length;r<s;r++)i[r]!==t&&(i[r].checked=!1);e.selected=t}getSelected(t){var e;return null===(e=this.checkGroups.get(t))||void 0===e?void 0:e.selected}initGroup(t){const e={checks:[],selected:null};return this.checkGroups.set(t,e),e}}class on extends sn{constructor(t){super(t),this.tabGroups=new Map,this.useTab=!0,this.useForward=!0,this.useBack=!0}in(t,e=0,i="default"){let r=this.tabGroups.get(i);r||(r=[],this.tabGroups.set(i,r)),-1===r.indexOf(t)&&(t.tabIndex=void 0!==e?e:-1,t.tabGroup=i,r.push(t),r.sort((t,e)=>t.tabIndex-e.tabIndex))}out(t){const e=this.tabGroups.get(t.tabGroup);if(!e)return;const i=e.indexOf(t);-1!==i&&e.splice(i,1)}notifyFocus(t){const e=this.currentItem;e&&(e.blur(),this.emit("blur",e)),this.currentItem=t,this.emit("focus",t),this.emit("focusChanged",t,e)}notifyBlur(){this.emit("blur",this.currentItem),this.emit("focusChanged",null,this.currentItem),this.currentItem=null}focus(t){const e=this.currentItem;e&&(e.blur(),this.emit("blur",e)),t.focus(),this.emit("focus",t),this.emit("focusChanged",t,e)}blur(){this.currentItem&&(this.currentItem.blur(),this.emit("blur",this.currentItem),this.emit("focusChanged",null,this.currentItem),this.currentItem=null)}onTab(){const{tabGroups:t,currentItem:e}=this;if(e){const i=t.get(e.tabGroup);let r=i.indexOf(e)+1;r>=i.length&&(r=0),this.focus(i[r])}}onForward(){if(!this.useForward)return;const{currentItem:t,tabGroups:e}=this;if(t){const i=e.get(t.tabGroup);let r=i.indexOf(t)+1;r>=i.length&&(r=i.length-1),this.focus(i[r])}}onBack(){const{currentItem:t,tabGroups:e}=this;if(t){const i=e.get(t.tabGroup);let r=i.indexOf(t)-1;r<0&&(r=0),this.focus(i[r])}}}class hn extends e.Container{constructor(t,i){super(),this.__width=t,this.__height=i,this.minWidth=0,this.minHeight=0,this.widgetChildren=[],this.interactive=!0,this.stage=this,this.hitArea=new e.Rectangle(0,0,0,0),this.initialized=!0,this.resize(t,i),this._checkBoxGroupCtl=new hn.CHECK_BOX_GROUP_CONTROLLER(this),this._focusCtl=new hn.FOCUS_CONTROLLER(this)}measureAndLayout(){this.background&&(this.background.width=this.width,this.background.height=this.height);for(let t=0,e=this.widgetChildren.length;t<e;t++){const e=this.widgetChildren[t],i=e.layoutOptions||v.DEFAULT,r=i.width<v.MAX_DIMEN?o.EXACTLY:o.AT_MOST,s=i.height<v.MAX_DIMEN?o.EXACTLY:o.AT_MOST,n=Math.abs(i.width)<1?i.width*this.width:i.width,h=Math.abs(i.height)<1?i.height*this.height:i.height;e.measure(r===o.EXACTLY?n:this.width,s===o.EXACTLY?h:this.height,r,s);let a=i.x?i.x:0,u=i.y?i.y:0;Math.abs(a)<1&&(a*=this.width),Math.abs(u)<1&&(u*=this.height);const l=i.anchor||_.DEFAULT_ANCHOR,d=a-l.x*e.getMeasuredWidth(),c=u-l.y*e.getMeasuredHeight();e.layout(d,c,d+e.getMeasuredWidth(),c+e.getMeasuredHeight(),!0)}}getBackground(){return this.background}setBackground(t){this.background&&super.removeChild(this.background),this.background=t,t&&(super.addChildAt(t,0),this.background.width=this.width,this.background.height=this.height)}update(t){this.emit("preupdate",this);for(let e=0,i=t.length;e<i;e++){const i=t[e];i.stage=this,i.initialized||i.initialize(),this.update(i.widgetChildren),i.update()}this.emit("postupdate",this)}render(t){this.update(this.widgetChildren),super.render(t)}addChild(t){const e=arguments.length;if(e>1)for(let i=0;i<e;i++)this.addChild(arguments[i]);else t.parent&&t.parent.removeChild(t),t.parent=this,this.widgetChildren.push(t),super.addChild(t.insetContainer);this.measureAndLayout()}removeChild(t){const e=arguments.length;if(e>1)for(let i=0;i<e;i++)this.removeChild(arguments[i]);else{super.removeChild(t.insetContainer);const e=this.widgetChildren.indexOf(t);-1!==e&&(this.children.splice(e,1),t.parent=null)}this.measureAndLayout()}resize(t,e){this.width=t,this.height=e,this.hitArea&&(this.hitArea.width=this.__width,this.hitArea.height=this.__height),this.measureAndLayout()}get width(){return this.__width}set width(t){isNaN(t)||(this.__width=t,this.resize())}get height(){return this.__height}set height(t){isNaN(t)||(this.__height=t,this.resize())}get checkBoxGroupController(){return this._checkBoxGroupCtl}get focusController(){return this._focusCtl}}exports.Stage=hn,hn.CHECK_BOX_GROUP_CONTROLLER=nn,hn.FOCUS_CONTROLLER=on;class an extends e.utils.EventEmitter{constructor(t={}){super(),this.onParentSetProperty=((t,e,i)=>{const r=this.extends,s=r.indexOf(i);if(-1===s)throw new Error("onParentSetProperty triggered when by a non-super style.");const n=this.computedData[t];for(let o=s,h=r.length;o<h;o++){const e=r[o];e.computedData[t]&&(this.computedData[t]=e.computedData[t])}this.data[t]&&(this.computedData[t]=this.data[t]),n!==this.computedData[t]&&this.emit("setProperty",t,this.computedData[t],this)}),this.dirtyID=0,this.data=t,this.extends=[],this.computedData=t,this.computedDirty=!1}getProperty(t){return this.computedDirty&&this.compute(),this.computedData[t]}getProperties(...t){this.computedDirty&&this.compute();const e={};for(let i=0,r=t.length;i<r;i++)e[t[i]]=this.computedData[t[i]];return e}setProperty(t,e){this.computedDirty&&this.compute(),this.data[t]=e,this.computedData[t]=e,this.emit("setProperty",t,e,this),++this.dirtyID}extend(t){this.extends.push(t),this.computedDirty=!0,++this.dirtyID,t.on("setProperty",this.onParentSetProperty)}compute(){const t=this.extends;this.computedData={};for(let e=0,i=t.length;e<i;e++)Object.assign(this.computedData,t[e].computedData);this.computedDirty=!1}static create(t){return new an(t)}}exports.Style=an;class un{static create(t){const e=new un;for(const i in t)e[i]=an.create(t[i]);return e}}let ln;function dn(){void 0===ln&&((ln=document.createElement("INPUT")).setAttribute("type","text"),ln.setAttribute("id","_pui_tempInput"),ln.setAttribute("style","position:fixed; left:-10px; top:-10px; width:0px; height: 0px;"),document.body.appendChild(ln))}exports.StyleSheet=un;class cn extends w{constructor(t){super(t),this.onKeyDown=(t=>{if(t.which!==this.ctrlKey&&t.which!==this.cmdKey||(this.ctrlDown=!0),t.which===this.shiftKey&&(this.shiftDown=!0),!t.defaultPrevented){if(13===t.which)return this.insertTextAtCaret("\n"),void t.preventDefault();if(this.ctrlDown){if(65===t.which)return this.select(),void t.preventDefault();if(90===t.which)return this.value!=this._lastValue&&(this.valueEvent=this._lastValue),this.setCaretIndex(this._lastValue.length+1),void t.preventDefault()}if(8===t.which)return this.deleteSelection()||(this.caret._index>0||1===this.chars.length&&this.caret._atEnd)&&(this.caret._atEnd?(this.valueEvent=this.value.slice(0,this.chars.length-1),this.setCaretIndex(this.caret._index)):(this.valueEvent=this.value.slice(0,this.caret._index-1)+this.value.slice(this.caret._index),this.setCaretIndex(this.caret._index-1))),void t.preventDefault();if(46===t.which)return this.deleteSelection()||this.caret._atEnd||(this.valueEvent=this.value.slice(0,this.caret._index)+this.value.slice(this.caret._index+1),this.setCaretIndex(this.caret._index)),void t.preventDefault();if(37!==t.which&&39!==t.which)return!this.multiLine||38!==t.which&&40!==t.which?void 0:(this.vrdd=38===t.which,this.shiftDown?this.hasSelection?(this.de.y=Math.max(0,Math.min(this.textHeightPX,this.de.y+(this.vrdd?-this.lineHeight:this.lineHeight))),this.updateClosestIndex(this.de,!1),Math.abs(this.si-this.ei)<=1?this.setCaretIndex(this.sie?this.si+1:this.si):(this.caret._index=(this.eie?this.ei+1:this.ei)+(this.caret._down?-1:0),this.selectRange(this.caret._down?this.si:this.si-1,this.caret._index))):(this.si=this.caret._index,this.sie=!1,this.de.copyFrom(this.caret),this.de.y=Math.max(0,Math.min(this.textHeightPX,this.de.y+(this.vrdd?-this.lineHeight:this.lineHeight))),this.updateClosestIndex(this.de,!1),this.caret._index=(this.eie?this.ei+1:ei)-(this.vrdd?0:1),this.selectRange(this.vrdd?this.si-1:this.si,this.caret._index),this.caret._down=!this.vrdd):this.hasSelection?this.setCaretIndex(this.vrdd?this.selectionStart:this.selectionEnd+1):(this.ds.copyFrom(this.caret),this.ds.y+=this.vrdd?-this.lineHeight:this.lineHeight,this.ds.x+=1,this.updateClosestIndex(this.ds,!0),this.setCaretIndex(this.sie?this.si+1:this.si)),void t.preventDefault());if(this.rdd=37===t.which,this.shiftDown)if(this.hasSelection){if(this.selectionStart===this.caret._index)if(this.selectionStart===this.selectionEnd&&this.rdd===this.caret._forward)this.setCaretIndex(this.caret._forward?this.caret._index:this.caret._index+1);else{const t=this.rdd?this.caret._index-1:this.caret._index+1;this.selectRange(t,this.selectionEnd),this.caret._index=Math.min(this.chars.length-1,Math.max(0,t))}else{const t=this.rdd?this.caret._index-1:this.caret._index+1;this.selectRange(this.selectionStart,t),this.caret._index=Math.min(this.chars.length-1,Math.max(0,t))}}else{const t=this.caret._atEnd?this.caret._index+1:this.caret._index,e=this.rdd?t-1:t;this.selectRange(e,e),this.caret._index=e,this.caret._forward=!rdd}else this.hasSelection?this.setCaretIndex(this.rdd?this.selectionStart:this.selectionEnd+1):this.setCaretIndex(this.caret._index+(this.rdd?this.caret._atEnd?0:-1:1));t.preventDefault()}}),this.keyUpEvent=(t=>{t.which!==this.ctrlKey&&t.which!==this.cmdKey||(this.ctrlDown=!1),t.which===this.shiftKey&&(this.shiftDown=!1),this.emit("keyup",t),t.defaultPrevented}),this.copyEvent=(t=>{if(this.emit("copy",t),!t.defaultPrevented){if(this.hasSelection){(t.clipboardData||window.clipboardData).setData("Text",this.value.slice(this.selectionStart,this.selectionEnd+1))}t.preventDefault()}}),this.cutEvent=(t=>{this.emit("cut",t),t.defaultPrevented||(this.hasSelection&&(this.copyEvent(t),this.deleteSelection()),t.preventDefault())}),this.pasteEvent=(t=>{if(this.emit("paste",t),t.defaultPrevented)return;const e=t.clipboardData||window.clipboardData;this.insertTextAtCaret(e.getData("Text")),t.preventDefault()}),this.inputEvent=(t=>{const e=ln.value;e.length&&(this.insertTextAtCaret(e),ln.value=""),t.preventDefault()}),this.inputBlurEvent=(t=>{this.blur()}),this.focus=(()=>{if(!this._isFocused){super.focus();const t=`${this.contentContainer.worldTransform.tx}px`,e=`${this.contentContainer.worldTransform.ty}px`,i=`${this.contentContainer.height}px`,r=`${this.contentContainer.width}px`;ln.setAttribute("style",`position:fixed; left:${t}; top:${e}; height:${i}; width:${r};`),ln.value="",ln.focus(),ln.setAttribute("style","position:fixed; left:-10px; top:-10px; width:0px; height: 0px;"),this.innerContainer.cacheAsBitmap=!1,ln.addEventListener("blur",this.inputBlurEvent,!1),document.addEventListener("keydown",this.onKeyDown,!1),document.addEventListener("keyup",this.keyUpEvent,!1),document.addEventListener("paste",this.pasteEvent,!1),document.addEventListener("copy",this.copyEvent,!1),document.addEventListener("cut",this.cutEvent,!1),ln.addEventListener("input",this.inputEvent,!1),setTimeout(()=>{this.caret.visible||this.selection.visible||this.multiLine||this.setCaretIndex(this.chars.length)},0)}}),this.blur=(()=>{this._isFocused&&(super.blur(),this.ctrlDown=!1,this.shiftDown=!1,this.hideCaret(),this.clearSelection(),this.chars.length>1&&(this.innerContainer.cacheAsBitmap=!0),ln.removeEventListener("blur",this.inputBlurEvent),document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.keyUpEvent),document.removeEventListener("paste",this.pasteEvent),document.removeEventListener("copy",this.copyEvent),document.removeEventListener("cut",this.cutEvent),ln.removeEventListener("input",this.inputEvent),ln.blur()),this.multiLine||this.resetScrollPosition()}),this.setCaretIndex=(t=>{if(this.caret._atEnd=t>=this.chars.length,this.caret._index=Math.max(0,Math.min(this.chars.length-1,t)),this.chars.length&&t>0){let e=Math.max(0,Math.min(t,this.chars.length-1)),i=this.chars[e];i&&i.wrapped?(this.caret.x=i.x,this.caret.y=i.y):(e=Math.max(0,Math.min(t-1,this.chars.length-1)),i=this.chars[e],this.caret.x=this.chars[e].x+this.chars[e].width,this.caret.y=this.chars[e].lineIndex*this.lineHeight+.5*(this.lineHeight-this.textHeight))}else this.caret.x=0,this.caret.y=.5*(this.lineHeight-this.textHeight);this.scrollToPosition(this.caret),this.showCaret()}),this.select=(()=>{this.selectRange(0,this.chars.length-1)}),this.selectWord=(t=>{let e=this.chars.length,i=0;for(let r=0;r<this.chars.length;r++)this.chars[r].wordIndex===t&&(r<e&&(e=r),r>i&&(i=r));this.selectRange(e,i)}),this.selectRange=((t,e)=>{if(t>-1&&e>-1){const i=Math.min(t,e,this.chars.length-1),r=Math.min(Math.max(t,e),this.chars.length-1);i===this.selectionStart&&r===this.selectionEnd||(this.hasSelection=!0,this.selection.visible=!0,this.selectionStart=i,this.selectionEnd=r,this.hideCaret(),this.updateSelectionGraphics(),this.updateSelectionColors()),this.focus()}else this.clearSelection()}),this.clearSelection=(()=>{this.hasSelection&&(this.hasSelection=!1,this.selection.visible=!1,this.selectionStart=-1,this.selectionEnd=-1,this.updateSelectionColors())}),this.updateSelectionGraphics=(()=>{const t=this.chars[this.selectionStart];if(void 0!==t){let e=t.x,i=t.y,r=0;const s=this.textHeight;let n=t.lineIndex;this.selection.clear();for(let t=this.selectionStart;t<=this.selectionEnd;t++){const o=this.chars[t];o.lineIndex!=n&&(this.drawSelectionRect(e,i,r,s),e=o.x,i=o.y,n=o.lineIndex,r=0),r+=o.width}this.drawSelectionRect(e,i,r,s),this.innerContainer.addChildAt(this.selection,0)}}),this.drawSelectionRect=((t,e,i,r)=>{this.selection.beginFill(`0x${this.selectedBackgroundColor.slice(1)}`,1),this.selection.moveTo(t,e),this.selection.lineTo(t+i,e),this.selection.lineTo(t+i,e+r),this.selection.lineTo(t,e+r),this.selection.endFill()}),dn(),this.options=t,this._dirtyText=!0,this.maxLength=t.maxLength||0,this._value=this._lastValue=t.value||"",this.maxLength&&(this._value=this._value.slice(0,this.maxLength)),this.chars=[],this.multiLine=void 0!==t.multiLine&&t.multiLine,this.color=t.style&&t.style.fill?t.style.fill:"#000000",this.selectedColor=t.selectedColor||"#ffffff",this.selectedBackgroundColor=t.selectedBackgroundColor||"#318cfa",this.tempText=new e.Text("1",t.style),this.textHeight=this.tempText.height,this.lineHeight=t.lineHeight||this.textHeight||this._height,this.tempText.destroy(),this.selection=new e.Graphics,this.selection.visible=!1,this.selection._startIndex=0,this.selection._endIndex=0,this.caret=new e.Graphics,this.caret.visible=!1,this.caret._index=0,this.caret.lineStyle(t.caretWidth||1,"#ffffff",1),this.caret.moveTo(0,0),this.caret.lineTo(0,this.textHeight);const i=void 0!==t.paddingLeft?t.paddingLeft:t.padding,r=void 0!==t.paddingRight?t.paddingRight:t.padding,s=void 0!==t.paddingBottom?t.paddingBottom:t.padding,n=void 0!==t.paddingTop?t.paddingTop:t.padding;this.textContainer=new tn({scrollX:!this.multiLine,scrollY:this.multiLine,dragScrolling:this.multiLine,expandMask:2,softness:.2,overflowX:40,overflowY:40}).setPadding(i||3,n||3,r||3,s||3).setLayoutOptions(new v(v.FILL_PARENT,v.FILL_PARENT)),this.addChild(this.textContainer),this.multiLine&&(this._useNext=this._usePrev=!1,this.textContainer.dragRestrictAxis="y",this.textContainer.dragThreshold=5,this.dragRestrictAxis="x",this.dragThreshold=5),this.sp=new e.Point,this._sp=new e.Point,this.ds=new e.Point,this.de=new e.Point,this.rdd=!1,this.vrdd=!1,this.selectionStart=-1,this.selectionEnd=-1,this.hasSelection=!1,this.t=performance.now(),this.cc=0,this.textLengthPX=0,this.textHeightPX=0,this.lineIndexMax=0,this.ctrlDown=!1,this.shiftDown=!1,this.shiftKey=16,this.ctrlKey=17,this.cmdKey=91,this.setupDrag()}setupDrag(){const t=new u(this);t.onPress=((t,e)=>{if(e){const e=performance.now()-this.t;if(this.t=performance.now(),e<250)if(this.cc++,this.cc>1)this.select();else{this.innerContainer.toLocal(this.sp,void 0,this.ds,!0),this.updateClosestIndex(this.ds,!0);const t=this.chars[this.si];t&&(-1!=t.wordIndex?this.selectWord(t.wordIndex):this.selectRange(this.si,this.si))}else this.cc=0,this.sp.copyFrom(t.data.global),this.innerContainer.toLocal(this.sp,void 0,this.ds,!0),this.chars.length&&(this.updateClosestIndex(this.ds,!0),this.setCaretIndex(this.sie?this.si+1:this.si))}t.data.originalEvent.preventDefault()}),t.onDragMove=((t,e)=>{this.chars.length&&this._isFocused&&(this.de.x=this.sp.x+e.x,this.de.y=this.sp.y+e.y,this.innerContainer.toLocal(this.de,void 0,this.de,!0),this.updateClosestIndex(this.de,!1),this.si<this.ei?(this.selectRange(this.sie?this.si+1:this.si,this.eie?this.ei:this.ei-1),this.caret._index=this.eie?this.ei:this.ei-1):this.si>this.ei?(this.selectRange(this.ei,this.sie?this.si:this.si-1),this.caret._index=this.ei):this.sie===this.eie?this.setCaretIndex(this.sie?this.si+1:this.si):(this.selectRange(this.si,this.ei),this.caret._index=this.ei),this.caret._forward=this.si<=this.ei,this.caret._down=e.y>0,this.scrollToPosition(this.de))})}get innerContainer(){return this.textContainer.innerContainer.insetContainer}update(){this.width!==this._lastWidth&&(this._lastWidth=this._width,this.multiLine&&(this.updateText(),this.caret.visible&&this.setCaretIndex(this.caret._index),this.hasSelection&&this.updateSelectionGraphics())),this._dirtyText&&(this.updateText(),this._dirtyText=!1)}updateText(){this.textLengthPX=0,this.textHeightPX=0,this.lineIndexMax=0;let t=0;const i=this._value.length;let r=0,s=.5*(this.lineHeight-this.textHeight),n=0;if(this.chars.length>i){for(n=this.chars.length-1;n>=i;n--)this.innerContainer.removeChild(this.chars[n]),this.chars[n].destroy();this.chars.splice(i,this.chars.length-i)}let o=!1,h=!1,a=0,u=-1,l=!1;for(n=0;n<this._value.length;n++){(o||h)&&(u=n,a++);let i=this._value[n];o=" "===i,(h="\n"===i)&&(i="");let d=this.chars[n];d?d.text=i:(d=new e.Text(i,this.options.style),this.innerContainer.addChild(d),this.chars.push(d)),d.scale.x=h?0:1,d.wrapped=l,l=!1,!(h||this.multiLine&&r+d.width>=this._width-this.paddingLeft-this.paddingRight)||(t++,r=0,s+=this.lineHeight,-1===u||h)?(d.lineIndex=t,d.x=r,d.y=s,d.wordIndex=o||h?-1:a,(r+=d.width)>this.textLengthPX&&(this.textLengthPX=r),s>this.textHeightPX&&(this.textHeightPX=s)):(n=u-1,u=-1,l=!0)}this.lineIndexMax=t,this.innerContainer.addChild(this.caret),this.innerContainer.cacheAsBitmap&&(this.innerContainer.cacheAsBitmap=!1,this.innerContainer.cacheAsBitmap=!0),this.textContainer.update()}updateClosestIndex(t,e){let i=99999,r=-1,s=!1,n=0;this.lineIndexMax>0&&(n=Math.max(0,Math.min(this.lineIndexMax,Math.floor(t.y/this.lineHeight))));for(let o=0;o<this.chars.length;o++){const e=this.chars[o];if(e.lineIndex!==n)continue;const h=Math.abs(t.x-(e.x+.5*e.width));h<i&&(i=h,r=o,s=t.x>e.x+.5*e.width)}e?(this.si=r,this.sie=s):(this.ei=r,this.eie=s)}deleteSelection(){return!!this.hasSelection&&(this.value=this.value.slice(0,this.selectionStart)+this.value.slice(this.selectionEnd+1),this.setCaretIndex(this.selectionStart),!0)}updateSelectionColors(){for(let t=0;t<this.chars.length;t++)t>=this.selectionStart&&t<=this.selectionEnd?this.chars[t].style.fill=this.selectedColor:this.chars[t].style.fill=this.color}scrollToPosition(t){this._sp.x=t.x,this._sp.y=t.y,this.multiLine&&this._sp.y>=this.lineHeight&&(this._sp.y+=this.lineHeight),this.textContainer.focusPosition(this._sp)}resetScrollPosition(){this._sp.set(0,0),this.textContainer.focusPosition(this._sp)}hideCaret(){this.caret.visible=!1,clearInterval(this.caretInterval)}showCaret(){this.clearSelection(),clearInterval(this.caretInterval),this.caret.alpha=1,this.caret.visible=!0,this.caretInterval=setInterval(()=>{this.caret.alpha=0===this.caret.alpha?1:0},500)}insertTextAtCaret(t){if(this.multiLine||-1===t.indexOf("\n")||(t=t.replace(/\n/g,"")),this.hasSelection&&this.deleteSelection(),!this.maxLength||this.chars.length<this.maxLength)if(this.caret._atEnd)this.valueEvent+=t,this.setCaretIndex(this.chars.length);else{const e=Math.min(this.chars.length-1,this.caret._index);this.valueEvent=this.value.slice(0,e)+t+this.value.slice(e),this.setCaretIndex(e+t.length)}}get valueEvent(){return this._value}set valueEvent(t){this.maxLength&&(t=t.slice(0,this.maxLength)),this._value!=t&&(this.value=t,this.emit("change"))}get value(){return this._value}set value(t){this.maxLength&&(t=t.slice(0,this.maxLength)),this._value!=t&&(this._lastValue=this._value,this._value=t,this._dirtyText=!0,this.update())}get text(){return this.value}set text(t){this.value=t}}exports.TextInput=cn;class pn extends g{constructor(t,i,r){const s=new e.extras.TilingSprite(t);super(i||s.width,r||s.height),this.sprite=s,this.contentContainer.addChild(this.sprite)}update(){null!==this.tint&&(this.sprite.tint=this.tint),null!==this.blendMode&&(this.sprite.blendMode=this.blendMode),this.sprite.width=this._width,this.sprite.height=this._height}get tilePosition(){return this.sprite.tilePosition}set tilingPosition(t){this.sprite.tilePosition=t}get tileScale(){return this.sprite.tileScale}set tileScale(t){this.sprite.tileScale=t}}exports.TilingSprite=pn;class fn extends e.utils.EventEmitter{constructor(t){super(),this._disabled=!0,this._now=0,this.DeltaTime=0,this.Time=performance.now(),this.Ms=0,t&&(this.disabled=!1),fn.shared=this}get disabled(){return this._disabled}set disabled(t){this._disabled?(this._disabled=!1,fn.shared=this,this.update(performance.now(),!0)):this._disabled=!0}update(t){fn.shared._now=t,fn.shared.Ms=fn.shared._now-fn.shared.Time,fn.shared.Time=fn.shared._now,fn.shared.DeltaTime=.001*fn.shared.Ms,fn.shared.emit("update",fn.shared.DeltaTime),Js._update(fn.shared.DeltaTime),fn.shared._disabled||requestAnimationFrame(fn.shared.update)}static on(t,e,i){fn.shared.on(t,e,i)}static once(t,e,i){fn.shared.once(t,e,i)}static removeListener(t,e){fn.shared.removeListener(t,e)}}exports.Ticker=fn,fn.shared=new fn(!0);
},{"pixi.js":"aQiP","@pixi/filter-drop-shadow":"wgG9"}],"qnZ8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GuiSlider=void 0;const e=require("@puxi/core"),i=require("../Game/Graphics/Resource");class t extends e.Stage{constructor(t){super(80,20),this.trackSprite=new e.Sprite(i.Resource.cGuiSliderGroove),t||(t={track:this.trackSprite,handle:new e.Sprite(i.Resource.cGuiSliderThumb)}),this.slider=new e.Slider(t),this.addChild(this.slider),this.slider.on("change",e=>{this.emit("change",e)})}set minValue(e){this.slider.minValue=e}get minValue(){return this.slider.minValue}set maxValue(e){this.slider.maxValue=e}get maxValue(){return this.slider.maxValue}set value(e){this.slider.value=e}get value(){return this.slider.value}set enabled(e){this.interactive=e}get enabled(){return this.interactive}}exports.GuiSlider=t;
},{"@puxi/core":"u6bk","../Game/Graphics/Resource":"VWUR"}],"hjO3":[function(require,module,exports) {
"use strict";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.GuiTextArea=void 0;const e=t(require("pixi-text-input")),i=require("pixi.js"),s=require("../Game/Graphics/Resource"),n=require("../Main");class r extends i.Container{constructor(t,r,u,h,o=null){super(),this.text="",this.x=t,this.y=r,this.baseSkin=s.Resource.cGuiTextAreaBase,this.rollSkin=s.Resource.cGuiTextAreaRoll,o||(o=new i.TextStyle),o.fontFamily=n.Main.GLOBAL_FONT,o.fill="#4C3D57";const a=new i.Container,x=new i.Sprite(this.baseSkin);x.width=u,x.height=h,a.addChild(x),this.textInput=new e.default({input:{multiline:!0,fontSize:`${o.fontSize}pt`,color:o.fill,zIndex:1e3,width:`${u-20}px`,height:`${h-20}px`,padding:"10px"},box:(t,e,s)=>{const n=new i.Sprite;return n.texture=this.baseSkin,n.width=t,n.height=e,"DEFAULT"===s&&(n.texture=this.baseSkin),"FOCUSED"===s&&(n.texture=this.rollSkin),"DISABLED"===s&&(n.texture=this.baseSkin),n}}),this.textInput.on("input",t=>{this.text=t,this.emit("change",t)}),this.addChild(this.textInput)}}exports.GuiTextArea=r;
},{"pixi-text-input":"ms4f","pixi.js":"aQiP","../Game/Graphics/Resource":"VWUR","../Main":"aM6Q"}],"O6IY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PartEditWindow=void 0;const t=require("pixi.js"),e=require("../Game/Globals/ControllerGameGlobals"),i=require("../General/Input"),s=require("../Main"),n=require("../Parts/Circle"),o=require("../Parts/PrismaticJoint"),l=require("../Parts/Rectangle"),a=require("../Parts/RevoluteJoint"),h=require("../Parts/ShapePart"),r=require("../Parts/Triangle"),m=require("./ColourChangeWindow"),d=require("./GuiButton"),_=require("./GuiCheckBox"),u=require("./GuiSlider"),c=require("./GuiTextArea"),x=require("./GuiTextInput"),b=require("./GuiWindow");class B extends b.GuiWindow{constructor(e){super(0,90,120,500),this.enteringInput=!1,this.sliderDown=!1,this.m_fixateBox2=null,this.cont=e,this.visible=!1,this.m_colourWindow=new m.ColourChangeWindow(this.cont,this),this.addChild(this.m_colourWindow),this.m_colourWindow.visible=!1,this.m_objectEditPanel=new t.Sprite,this.addChild(this.m_objectEditPanel),this.m_textEditPanel=new t.Sprite,this.addChild(this.m_textEditPanel),this.m_fixedJointPanel=new t.Sprite,this.addChild(this.m_fixedJointPanel),this.m_jointEditPanel=new t.Sprite,this.addChild(this.m_jointEditPanel),this.m_thrustersEditPanel=new t.Sprite,this.addChild(this.m_thrustersEditPanel),this.m_multiEditPanel=new t.Sprite,this.addChild(this.m_multiEditPanel),this.m_buildBoxPanel=new t.Sprite,this.addChild(this.m_buildBoxPanel),this.m_cannonPanel=new t.Sprite,this.addChild(this.m_cannonPanel);var i=new t.TextStyle;i.fontFamily=s.Main.GLOBAL_FONT,i.align="center",i.fontSize=14,i.fill="#242930";var n=new t.TextStyle;n.fontFamily=s.Main.GLOBAL_FONT,n.fontSize=9,n.fill="#666570",this.m_shapeHeader=new t.Text(""),this.m_shapeHeader.anchor.set(.5),this.m_shapeHeader.text="Circle",this.m_shapeHeader.x=60,this.m_shapeHeader.y=25,this.m_shapeHeader.style=i,this.m_objectEditPanel.addChild(this.m_shapeHeader),this.m_backButton=new d.GuiButton("X",90,-5,35,35,()=>this.backButton(),d.GuiButton.X),this.m_objectEditPanel.addChild(this.m_backButton),this.m_deleteButton=new d.GuiButton("Delete",10,30,100,35,()=>this.cont.deleteButton(),d.GuiButton.ORANGE),this.m_objectEditPanel.addChild(this.m_deleteButton),this.m_cutButton=new d.GuiButton("Cut",10,60,100,35,()=>this.cont.cutButton(),d.GuiButton.ORANGE),this.m_objectEditPanel.addChild(this.m_cutButton),this.m_copyButton=new d.GuiButton("Copy",10,90,100,35,()=>this.cont.copyButton(),d.GuiButton.ORANGE),this.m_objectEditPanel.addChild(this.m_copyButton),this.m_pasteButton=new d.GuiButton("Paste",10,120,100,35,()=>this.cont.pasteButton(),d.GuiButton.ORANGE),this.m_objectEditPanel.addChild(this.m_pasteButton),this.m_rotateButton=new d.GuiButton("Rotate",10,150,100,35,()=>this.cont.rotateButton(),d.GuiButton.BLUE),this.m_objectEditPanel.addChild(this.m_rotateButton),(i=new t.TextStyle).fontFamily=s.Main.GLOBAL_FONT,i.fill="#242930",i.fontSize=12,this.m_densityLabel=new t.Text(""),this.m_densityLabel.text="Density",this.m_densityLabel.x=39,this.m_densityLabel.y=186,this.m_densityLabel.style=i,this.m_objectEditPanel.addChild(this.m_densityLabel),this.m_densitySlider=new u.GuiSlider,this.m_densitySlider.x=20,this.m_densitySlider.y=205,this.m_densitySlider.minValue=1,this.m_densitySlider.maxValue=30,this.m_densitySlider.value=15,this.m_densitySlider.on("change",t=>this.cont.densitySlider(t)),this.m_objectEditPanel.addChild(this.m_densitySlider),(i=new t.TextStyle).fontSize=9,this.m_densityArea=new x.GuiTextInput(35,220,50,15,i),this.m_densityArea.text="10",this.m_densityArea.maxLength=5,this.m_densityArea.on("click",t=>this.densityFocus(t)),this.m_densityArea.on("focus",t=>this.TextAreaGotFocus(t)),this.m_densityArea.on("change",t=>this.cont.textEntered()),this.m_densityArea.on("blur",t=>this.cont.densityText(t)),this.m_objectEditPanel.addChild(this.m_densityArea),(i=new t.TextStyle).fontFamily=s.Main.GLOBAL_FONT,i.fontSize=9,i.fill=2369840,this.m_collisionBox=new _.GuiCheckBox(5,240,120),this.m_collisionBox.style=i,this.m_collisionBox.disabledStyle=n,this.m_collisionBox.label="Collides",this.m_collisionBox.selected=!0,this.m_collisionBox.on("change",t=>this.cont.collisionBox(t)),this.m_objectEditPanel.addChild(this.m_collisionBox),this.m_cameraBox=new _.GuiCheckBox(5,260,120),this.m_cameraBox.style=i,this.m_cameraBox.disabledStyle=n,this.m_cameraBox.label="Camera Focus",this.m_cameraBox.selected=!1,this.m_cameraBox.on("change",t=>this.cont.cameraBox(t)),this.m_objectEditPanel.addChild(this.m_cameraBox),this.m_fixateBox=new _.GuiCheckBox(5,300,120),this.m_fixateBox.style=i,this.m_fixateBox.disabledStyle=n,this.m_fixateBox.label="Fixate",this.m_fixateBox.selected=!1,this.m_fixateBox.on("change",t=>this.cont.fixateBox(t)),this.m_objectEditPanel.addChild(this.m_fixateBox),this.m_colourButton=new d.GuiButton("Change Color",5,320,110,35,()=>this.colourButton(),d.GuiButton.BLUE),this.m_objectEditPanel.addChild(this.m_colourButton),this.m_frontButton=new d.GuiButton("Move to Front",5,350,110,35,()=>this.cont.frontButton(),d.GuiButton.PINK),this.m_objectEditPanel.addChild(this.m_frontButton),this.m_backButton=new d.GuiButton("Move to Back",5,380,110,35,()=>this.cont.backButton(),d.GuiButton.PINK),this.m_objectEditPanel.addChild(this.m_backButton),this.m_outlineBox=new _.GuiCheckBox(5,415,120),this.m_outlineBox.style=i,this.m_outlineBox.disabledStyle=n,this.m_outlineBox.label="Show Outlines",this.m_outlineBox.selected=!1,this.m_outlineBox.on("change",t=>this.cont.outlineBox(t)),this.m_objectEditPanel.addChild(this.m_outlineBox),this.m_terrainBox=new _.GuiCheckBox(5,435,120),this.m_terrainBox.style=i,this.m_terrainBox.disabledStyle=n,this.m_terrainBox.label="Outlines Behind",this.m_terrainBox.selected=!1,this.m_terrainBox.on("change",t=>this.cont.terrainBox(t)),this.m_objectEditPanel.addChild(this.m_terrainBox),this.m_undragableBox=new _.GuiCheckBox(5,280,120),this.m_undragableBox.style=i,this.m_undragableBox.disabledStyle=n,this.m_undragableBox.label="Undraggable",this.m_undragableBox.selected=!1,this.m_undragableBox.on("change",t=>this.cont.undragableBox(t)),this.m_objectEditPanel.addChild(this.m_undragableBox),(i=new t.TextStyle).fontFamily=s.Main.GLOBAL_FONT,i.align="center",i.fill="#242930",i.fontSize=14,this.m_cannonHeader=new t.Text(""),this.m_cannonHeader.text="Cannon",this.m_cannonHeader.anchor.set(.5),this.m_cannonHeader.x=60,this.m_cannonHeader.y=25,this.m_cannonHeader.style=i,this.m_cannonPanel.addChild(this.m_cannonHeader),this.m_backButton=new d.GuiButton("X",90,-5,35,35,()=>this.backButton(),d.GuiButton.X),this.m_cannonPanel.addChild(this.m_backButton),this.m_deleteButton=new d.GuiButton("Delete",10,30,100,35,()=>this.cont.deleteButton(),d.GuiButton.ORANGE),this.m_cannonPanel.addChild(this.m_deleteButton),this.m_cutButton=new d.GuiButton("Cut",10,60,100,35,()=>this.cont.cutButton(),d.GuiButton.ORANGE),this.m_cannonPanel.addChild(this.m_cutButton),this.m_copyButton=new d.GuiButton("Copy",10,90,100,35,()=>this.cont.copyButton(),d.GuiButton.ORANGE),this.m_cannonPanel.addChild(this.m_copyButton),this.m_rotateButton=new d.GuiButton("Rotate",10,120,100,35,()=>this.cont.rotateButton(),d.GuiButton.BLUE),this.m_cannonPanel.addChild(this.m_rotateButton),(i=new t.TextStyle).fontFamily=s.Main.GLOBAL_FONT,i.fill="#242930",i.fontSize=12,this.m_densityLabel=new t.Text(""),this.m_densityLabel.text="Density",this.m_densityLabel.x=39,this.m_densityLabel.y=156,this.m_densityLabel.style=i,this.m_cannonPanel.addChild(this.m_densityLabel),this.m_densitySlider7=new u.GuiSlider,this.m_densitySlider7.x=20,this.m_densitySlider7.y=175,this.m_densitySlider7.minValue=1,this.m_densitySlider7.maxValue=30,this.m_densitySlider7.value=15,this.m_densitySlider7.on("change",t=>this.cont.densitySlider(t)),this.m_cannonPanel.addChild(this.m_densitySlider7),(i=new t.TextStyle).fontSize=9,this.m_densityArea7=new x.GuiTextInput(35,190,50,15,i),this.m_densityArea7.text="10",this.m_densityArea7.maxLength=5,this.m_densityArea7.on("click",t=>this.densityFocus(t)),this.m_densityArea7.on("focus",t=>this.TextAreaGotFocus(t)),this.m_densityArea7.on("change",t=>this.cont.textEntered()),this.m_densityArea7.on("blur",t=>this.cont.densityText(t)),this.m_densityArea7.on("hide",t=>this.cont.densityText(t)),this.m_cannonPanel.addChild(this.m_densityArea7),(i=new t.TextStyle).fontFamily=s.Main.GLOBAL_FONT,i.fontSize=9,i.fill=2369840,this.m_collisionBox7=new _.GuiCheckBox(5,210,120),this.m_collisionBox7.style=i,this.m_collisionBox7.label="Collides",this.m_collisionBox7.selected=!0,this.m_collisionBox7.on("change",t=>this.cont.collisionBox(t)),this.m_cannonPanel.addChild(this.m_collisionBox7),this.m_fixateBox7=new _.GuiCheckBox(5,250,120),this.m_fixateBox7.style=i,this.m_fixateBox7.disabledStyle=n,this.m_fixateBox7.label="Fixate",this.m_fixateBox7.selected=!1,this.m_fixateBox7.on("change",t=>this.cont.fixateBox(t)),this.m_cannonPanel.addChild(this.m_fixateBox7),this.m_colourButton=new d.GuiButton("Change Color",5,270,110,35,()=>this.colourButton(),d.GuiButton.BLUE),this.m_cannonPanel.addChild(this.m_colourButton),this.m_frontButton=new d.GuiButton("Move to Front",5,300,110,35,()=>this.cont.frontButton(),d.GuiButton.PINK),this.m_cannonPanel.addChild(this.m_frontButton),this.m_backButton=new d.GuiButton("Move to Back",5,330,110,35,()=>this.cont.backButton(),d.GuiButton.PINK),this.m_cannonPanel.addChild(this.m_backButton),this.m_outlineBox7=new _.GuiCheckBox(5,365,120),this.m_outlineBox7.style=i,this.m_outlineBox7.disabledStyle=n,this.m_outlineBox7.label="Show Outlines",this.m_outlineBox7.selected=!1,this.m_outlineBox7.on("change",t=>this.cont.outlineBox(t)),this.m_cannonPanel.addChild(this.m_outlineBox7),this.m_terrainBox7=new _.GuiCheckBox(5,385,120),this.m_terrainBox7.style=i,this.m_terrainBox7.label="Outlines Behind",this.m_terrainBox7.selected=!1,this.m_terrainBox7.on("change",t=>this.cont.terrainBox(t)),this.m_cannonPanel.addChild(this.m_terrainBox7),this.m_undragableBox7=new _.GuiCheckBox(5,230,120),this.m_undragableBox7.style=i,this.m_undragableBox7.disabledStyle=n,this.m_undragableBox7.label="Undraggable",this.m_undragableBox7.selected=!1,this.m_undragableBox7.on("change",t=>this.cont.undragableBox(t)),this.m_cannonPanel.addChild(this.m_undragableBox7),(i=new t.TextStyle).fontSize=10,i.fontFamily=s.Main.GLOBAL_FONT,i.fill=2369840,this.m_strengthLabel7=new t.Text(""),this.m_strengthLabel7.text="Cannon Strength",this.m_strengthLabel7.style=i,this.m_strengthLabel7.x=21,this.m_strengthLabel7.y=434,this.m_strengthLabel7.style=i,this.m_cannonPanel.addChild(this.m_strengthLabel7),this.m_strengthSlider7=new u.GuiSlider,this.m_strengthSlider7.x=20,this.m_strengthSlider7.y=451,this.m_strengthSlider7.minValue=1,this.m_strengthSlider7.maxValue=30,this.m_strengthSlider7.value=15,this.m_strengthSlider7.on("change",t=>this.cont.cannonSlider(t)),this.m_cannonPanel.addChild(this.m_strengthSlider7),(i=new t.TextStyle).fontFamily=s.Main.GLOBAL_FONT,i.fontSize=10,this.m_strengthArea7=new x.GuiTextInput(35,468,50,15,i),this.m_strengthArea7.text="15",this.m_strengthArea7.maxLength=5,this.m_strengthArea7.on("click",t=>this.cannonFocus(t)),this.m_strengthArea7.on("focus",t=>this.TextAreaGotFocus(t)),this.m_strengthArea7.on("change",t=>this.cont.textEntered()),this.m_strengthArea7.on("blur",t=>this.cont.cannonText(t)),this.m_strengthArea7.on("hide",t=>this.cont.cannonText(t)),this.m_cannonPanel.addChild(this.m_strengthArea7),this.m_fireKeyArea=new x.GuiTextInput(60,412,37,15,i),this.m_fireKeyArea.editable=!0,this.m_fireKeyArea.on("click",t=>this.cannonKeyFocus(t)),this.m_fireKeyArea.on("focus",t=>this.TextAreaGotFocus(t)),this.m_fireKeyArea.on("keyup",(t,e)=>this.cont.fireKeyText(t,e)),this.m_fireKeyArea.on("blur",t=>this.TextAreaLostFocus(t)),this.m_fireKeyArea.on("hide",t=>this.TextAreaLostFocus(t)),this.m_cannonPanel.addChild(this.m_fireKeyArea),(i=new t.TextStyle).fontFamily=s.Main.GLOBAL_FONT,i.fill="#242930",i.align="right",i.fontSize=12,this.m_fireKeyLabel=new t.Text(""),this.m_fireKeyLabel.text="Fire:",this.m_fireKeyLabel.x=25,this.m_fireKeyLabel.y=412,this.m_fireKeyLabel.style=i,this.m_cannonPanel.addChild(this.m_fireKeyLabel),(i=new t.TextStyle).fontFamily=s.Main.GLOBAL_FONT,i.align="center",i.fontSize=14,i.fill="#242930",this.m_jointHeader=new t.Text(""),this.m_jointHeader.anchor.set(.5),this.m_jointHeader.text="Multiple Objects",this.m_jointHeader.x=60,this.m_jointHeader.y=25,this.m_jointHeader.style=i,this.m_multiEditPanel.addChild(this.m_jointHeader),this.m_backButton=new d.GuiButton("X",90,-5,35,35,()=>this.backButton(),d.GuiButton.X),this.m_multiEditPanel.addChild(this.m_backButton),this.m_deleteButton=new d.GuiButton("Delete",10,30,100,35,()=>this.cont.multiDeleteButton(),d.GuiButton.ORANGE),this.m_multiEditPanel.addChild(this.m_deleteButton),this.m_cutButton=new d.GuiButton("Cut",10,60,100,35,()=>this.cont.cutButton(),d.GuiButton.ORANGE),this.m_multiEditPanel.addChild(this.m_cutButton),this.m_copyButton=new d.GuiButton("Copy",10,90,100,35,()=>this.cont.copyButton(),d.GuiButton.ORANGE),this.m_multiEditPanel.addChild(this.m_copyButton),this.m_pasteButton=new d.GuiButton("Paste",10,120,100,35,()=>this.cont.pasteButton(),d.GuiButton.ORANGE),this.m_multiEditPanel.addChild(this.m_pasteButton),this.m_rotateButton=new d.GuiButton("Rotate",10,150,100,35,()=>this.cont.rotateButton(),d.GuiButton.BLUE),this.m_multiEditPanel.addChild(this.m_rotateButton),(i=new t.TextStyle).fontFamily=s.Main.GLOBAL_FONT,i.fontSize=9,i.fill=2369840,this.m_outlineBox3=new _.GuiCheckBox(5,300,120),this.m_outlineBox3.style=i,this.m_outlineBox3.label="Show Outlines",this.m_outlineBox3.selected=!0,this.m_outlineBox3.on("change",t=>this.cont.outlineBox(t)),this.m_multiEditPanel.addChild(this.m_outlineBox3),this.m_terrainBox3=new _.GuiCheckBox(5,320,120),this.m_terrainBox3.style=i,this.m_terrainBox3.label="Outlines Behind",this.m_terrainBox3.selected=!1,this.m_terrainBox3.on("change",t=>this.cont.terrainBox(t)),this.m_multiEditPanel.addChild(this.m_terrainBox3),this.m_colourButton=new d.GuiButton("Change Color",5,260,110,35,()=>this.colourButton(),d.GuiButton.BLUE),this.m_multiEditPanel.addChild(this.m_colourButton),this.m_collisionBox2=new _.GuiCheckBox(5,190,120),this.m_collisionBox2.style=i,this.m_collisionBox2.disabledStyle=n,this.m_collisionBox2.label="Collides",this.m_collisionBox2.selected=!1,this.m_collisionBox2.on("change",t=>this.cont.collisionBox(t)),this.m_multiEditPanel.addChild(this.m_collisionBox2),this.m_fixateBox2=new _.GuiCheckBox(5,230,120),this.m_fixateBox2.style=i,this.m_fixateBox2.disabledStyle=n,this.m_fixateBox2.label="Fixate",this.m_fixateBox2.selected=!1,this.m_fixateBox2.on("change",t=>this.cont.fixateBox(t)),this.m_multiEditPanel.addChild(this.m_fixateBox2),this.m_undragableBox2=new _.GuiCheckBox(5,210,120),this.m_undragableBox2.style=i,this.m_undragableBox2.disabledStyle=n,this.m_undragableBox2.label="Undraggable",this.m_undragableBox2.selected=!1,this.m_undragableBox2.on("click",t=>this.cont.undragableBox(t)),this.m_multiEditPanel.addChild(this.m_undragableBox2),(i=new t.TextStyle).fontFamily=s.Main.GLOBAL_FONT,i.align="center",i.fontSize=14,i.fill="#242930",this.m_jointHeader=new t.Text(""),this.m_jointHeader.anchor.set(.5),this.m_jointHeader.text="Text",this.m_jointHeader.x=60,this.m_jointHeader.y=25,this.m_jointHeader.style=i,this.m_textEditPanel.addChild(this.m_jointHeader),this.m_backButton=new d.GuiButton("X",90,-5,35,35,()=>this.backButton(),d.GuiButton.X),this.m_textEditPanel.addChild(this.m_backButton),this.m_deleteButton=new d.GuiButton("Delete",10,30,100,35,()=>this.cont.deleteButton(),d.GuiButton.ORANGE),this.m_textEditPanel.addChild(this.m_deleteButton),(i=new t.TextStyle).fontFamily=s.Main.GLOBAL_FONT,i.fill="#242930",i.fontSize=12,this.m_textLabel=new t.Text(""),this.m_textLabel.text="Text:",this.m_textLabel.x=45,this.m_textLabel.y=68,this.m_textLabel.style=i,this.m_textEditPanel.addChild(this.m_textLabel),this.m_textArea=new c.GuiTextArea(15,85,90,70,i),this.m_textArea.on("focus",t=>this.TextAreaGotFocus(t)),this.m_textArea.on("focus",t=>this.cont.textTextStart()),this.m_textArea.on("change",t=>this.cont.textText(t)),this.m_textArea.on("blur",t=>this.cont.textTextFinish()),this.m_textArea.on("blur",t=>this.TextAreaLostFocus(t)),this.m_textArea.on("hide",t=>this.TextAreaLostFocus(t)),this.m_textEditPanel.addChild(this.m_textArea),this.m_sizeLabel=new t.Text(""),this.m_sizeLabel.text="Text Size:",this.m_sizeLabel.x=15,this.m_sizeLabel.y=170,this.m_sizeLabel.style=i,this.m_textEditPanel.addChild(this.m_sizeLabel),(i=new t.TextStyle).fontSize=9,this.m_sizeArea=new x.GuiTextInput(72,170,30,15,i),this.m_sizeArea.text="12",this.m_sizeArea.maxLength=4,this.m_sizeArea.on("click",t=>this.sizeFocus(t)),this.m_sizeArea.on("focus",t=>this.TextAreaGotFocus(t)),this.m_sizeArea.on("change",t=>this.cont.textEntered(t)),this.m_sizeArea.on("blur",t=>this.cont.sizeText(this.m_sizeArea,t)),this.m_sizeArea.on("hide",t=>this.cont.sizeText(this.m_sizeArea,t)),this.m_textEditPanel.addChild(this.m_sizeArea),(i=new t.TextStyle).fontFamily=s.Main.GLOBAL_FONT,i.fontSize=9,i.fill=2369840,this.m_scaleWithZoomBox=new _.GuiCheckBox(2,195,120),this.m_scaleWithZoomBox.style=i,this.m_scaleWithZoomBox.label="Scale with Zoom",this.m_scaleWithZoomBox.selected=!0,this.m_scaleWithZoomBox.on("change",t=>this.cont.scaleWithZoomBox(t)),this.m_textEditPanel.addChild(this.m_scaleWithZoomBox),this.m_alwaysVisibleBox=new _.GuiCheckBox(2,215,120),this.m_alwaysVisibleBox.style=i,this.m_alwaysVisibleBox.label="Always Display",this.m_alwaysVisibleBox.selected=!1,this.m_alwaysVisibleBox.on("change",t=>this.cont.alwaysVisibleBox(t)),this.m_textEditPanel.addChild(this.m_alwaysVisibleBox),this.m_colourButton=new d.GuiButton("Change Color",5,290,110,35,()=>this.colourButton(),d.GuiButton.BLUE),this.m_textEditPanel.addChild(this.m_colourButton),this.m_frontButton=new d.GuiButton("Move to Front",5,320,110,35,()=>this.cont.frontButton(),d.GuiButton.PINK),this.m_textEditPanel.addChild(this.m_frontButton),this.m_backButton=new d.GuiButton("Move to Back",5,350,110,35,()=>this.cont.backButton(),d.GuiButton.PINK),this.m_textEditPanel.addChild(this.m_backButton),(i=new t.TextStyle).fontSize=9,this.m_textKeyArea=new x.GuiTextInput(45,268,30,15,i),this.m_textKeyArea.editable=!1,this.m_textKeyArea.on("click",t=>this.controlKey1Focus(t)),this.m_textKeyArea.on("focus",t=>this.TextAreaGotFocus(t)),this.m_textKeyArea.on("keyup",(t,e)=>this.cont.textKeyBox(t,e)),this.m_textKeyArea.on("blur",t=>this.TextAreaLostFocus(t)),this.m_textKeyArea.on("hide",t=>this.TextAreaLostFocus(t)),this.m_textEditPanel.addChild(this.m_textKeyArea),(i=new t.TextStyle).fontFamily=s.Main.GLOBAL_FONT,i.fontSize=10,i.fill=2369840,this.m_textKeyLabel=new t.Text(""),this.m_textKeyLabel.text="Display Text Key:",this.m_textKeyLabel.anchor.set(.5),this.m_textKeyLabel.x=63,this.m_textKeyLabel.y=260,this.m_textKeyLabel.style=i,this.m_textEditPanel.addChild(this.m_textKeyLabel),(i=new t.TextStyle).fontFamily=s.Main.GLOBAL_FONT,i.align="center",i.fontSize=14,i.fill="#242930",this.m_jointHeader=new t.Text(""),this.m_jointHeader.text="Fixed Joint",this.m_jointHeader.anchor.set(.5),this.m_jointHeader.x=60,this.m_jointHeader.y=25,this.m_jointHeader.style=i,this.m_fixedJointPanel.addChild(this.m_jointHeader),this.m_backButton=new d.GuiButton("X",90,-5,35,35,()=>this.backButton(),d.GuiButton.X),this.m_fixedJointPanel.addChild(this.m_backButton),this.m_deleteButton=new d.GuiButton("Delete",10,30,100,35,()=>this.cont.deleteButton(),d.GuiButton.ORANGE),this.m_fixedJointPanel.addChild(this.m_deleteButton),this.m_jointHeader=new t.Text(""),this.m_jointHeader.text="Build Box",this.m_jointHeader.anchor.set(.5),this.m_jointHeader.x=60,this.m_jointHeader.y=25,this.m_jointHeader.style=i,this.m_buildBoxPanel.addChild(this.m_jointHeader),this.m_backButton=new d.GuiButton("X",90,-5,35,35,()=>this.backButton(),d.GuiButton.X),this.m_buildBoxPanel.addChild(this.m_backButton),this.m_deleteButton=new d.GuiButton("Delete",10,30,100,35,()=>this.cont.deleteBuildBoxButton(),d.GuiButton.ORANGE),this.m_buildBoxPanel.addChild(this.m_deleteButton),(i=new t.TextStyle).fontFamily=s.Main.GLOBAL_FONT,i.align="center",i.fontSize=14,i.fill="#242930",this.m_thrustersHeader=new t.Text(""),this.m_thrustersHeader.text="Thrusters",this.m_thrustersHeader.anchor.set(.5),this.m_thrustersHeader.x=60,this.m_thrustersHeader.y=25,this.m_thrustersHeader.style=i,this.m_thrustersEditPanel.addChild(this.m_thrustersHeader),this.m_backButton=new d.GuiButton("X",90,-5,35,35,()=>this.backButton(),d.GuiButton.X),this.m_thrustersEditPanel.addChild(this.m_backButton),this.m_deleteButton=new d.GuiButton("Delete",10,30,100,35,()=>this.cont.deleteButton(),d.GuiButton.ORANGE),this.m_thrustersEditPanel.addChild(this.m_deleteButton),this.m_cutButton=new d.GuiButton("Cut",10,60,100,35,()=>this.cont.cutButton(),d.GuiButton.ORANGE),this.m_thrustersEditPanel.addChild(this.m_cutButton),this.m_copyButton=new d.GuiButton("Copy",10,90,100,35,()=>this.cont.copyButton(),d.GuiButton.ORANGE),this.m_thrustersEditPanel.addChild(this.m_copyButton),this.m_pasteButton=new d.GuiButton("Paste",10,120,100,35,()=>this.cont.pasteButton(),d.GuiButton.ORANGE),this.m_thrustersEditPanel.addChild(this.m_pasteButton),this.m_rotateButton=new d.GuiButton("Rotate",10,150,100,35,()=>this.cont.rotateButton(),d.GuiButton.BLUE),this.m_thrustersEditPanel.addChild(this.m_rotateButton),(i=new t.TextStyle).fontSize=10,i.fontFamily=s.Main.GLOBAL_FONT,i.fill="#242930",this.m_thrustLabel=new t.Text(""),this.m_thrustLabel.text="Thruster Strength",this.m_thrustLabel.style=i,this.m_thrustLabel.anchor.set(0,.5),this.m_thrustLabel.x=21,this.m_thrustLabel.y=200,this.m_thrustLabel.style=i,this.m_thrustersEditPanel.addChild(this.m_thrustLabel),this.m_thrustSlider=new u.GuiSlider,this.m_thrustSlider.x=20,this.m_thrustSlider.y=207,this.m_thrustSlider.minValue=1,this.m_thrustSlider.maxValue=30,this.m_thrustSlider.value=15,this.m_thrustSlider.on("change",t=>this.cont.thrustSlider(t)),this.m_thrustersEditPanel.addChild(this.m_thrustSlider),(i=new t.TextStyle).fontFamily=s.Main.GLOBAL_FONT,i.fontSize=10,this.m_thrustArea=new x.GuiTextInput(35,224,50,15,i),this.m_thrustArea.text="10",this.m_thrustArea.maxLength=5,this.m_thrustArea.on("click",t=>this.thrustFocus(t)),this.m_thrustArea.on("focus",t=>this.TextAreaGotFocus(t)),this.m_thrustArea.on("change",t=>this.cont.textEntered(t)),this.m_thrustArea.on("blur",t=>this.cont.thrustText(t)),this.m_thrustArea.on("hide",t=>this.cont.thrustText(t)),this.m_thrustersEditPanel.addChild(this.m_thrustArea),this.m_thrustKeyArea=new x.GuiTextInput(65,259,37,15,i),this.m_thrustKeyArea.editable=!0,this.m_thrustKeyArea.on("click",t=>this.thrustKeyFocus(t)),this.m_thrustKeyArea.on("focus",t=>this.TextAreaGotFocus(t)),this.m_thrustKeyArea.on("keyup",(t,e)=>this.cont.thrustKeyText(t,e)),this.m_thrustKeyArea.on("blur",t=>this.TextAreaLostFocus(t)),this.m_thrustKeyArea.on("hide",t=>this.TextAreaLostFocus(t)),this.m_thrustersEditPanel.addChild(this.m_thrustKeyArea),(i=new t.TextStyle).fontFamily=s.Main.GLOBAL_FONT,i.fill=2369840,i.align="right",i.fontSize=12,this.m_thrustKeyLabel=new t.Text(""),this.m_thrustKeyLabel.text="Activate:",this.m_thrustKeyLabel.anchor.set(.5),this.m_thrustKeyLabel.x=34.5,this.m_thrustKeyLabel.y=268,this.m_thrustKeyLabel.style=i,this.m_thrustersEditPanel.addChild(this.m_thrustKeyLabel),(i=new t.TextStyle).fontFamily=s.Main.GLOBAL_FONT,i.fontSize=10,i.fill=2369840,this.m_autoBox3=new _.GuiCheckBox(5,290,120),this.m_autoBox3.style=i,this.m_autoBox3.disabledStyle=i,this.m_autoBox3.label="Auto-On",this.m_autoBox3.selected=!1,this.m_autoBox3.on("change",t=>this.cont.autoBox1(t)),this.m_thrustersEditPanel.addChild(this.m_autoBox3),(i=new t.TextStyle).fontFamily=s.Main.GLOBAL_FONT,i.align="center",i.fontSize=14,this.m_jointHeader=new t.Text(""),this.m_jointHeader.text="Rotating Joint",this.m_jointHeader.anchor.set(.5),this.m_jointHeader.x=60,this.m_jointHeader.y=25,this.m_jointHeader.style=i,this.m_jointEditPanel.addChild(this.m_jointHeader),this.m_backButton=new d.GuiButton("X",90,-5,35,35,()=>this.backButton(),d.GuiButton.X),this.m_jointEditPanel.addChild(this.m_backButton),this.m_deleteButton=new d.GuiButton("Delete",10,30,100,35,()=>this.cont.deleteButton(),d.GuiButton.ORANGE),this.m_jointEditPanel.addChild(this.m_deleteButton),this.m_cutButton=new d.GuiButton("Cut",10,60,100,35,()=>this.cont.cutButton(),d.GuiButton.ORANGE),this.m_jointEditPanel.addChild(this.m_cutButton),this.m_copyButton=new d.GuiButton("Copy",10,90,100,35,()=>this.cont.copyButton(),d.GuiButton.ORANGE),this.m_jointEditPanel.addChild(this.m_copyButton),this.m_pasteButton=new d.GuiButton("Paste",10,120,100,35,()=>this.cont.pasteButton(),d.GuiButton.ORANGE),this.m_jointEditPanel.addChild(this.m_pasteButton),(i=new t.TextStyle).fontSize=9,this.m_minDispArea=new x.GuiTextInput(42,409,30,15,i),this.m_minDispArea.text="None",this.m_minDispArea.maxLength=4,this.m_minDispArea.on("click",t=>this.minDispFocus(t)),this.m_minDispArea.on("focus",t=>this.TextAreaGotFocus(t)),this.m_minDispArea.on("change",t=>this.cont.textEntered()),this.m_minDispArea.on("blur",t=>this.cont.minLimitText(t)),this.m_minDispArea.on("hide",t=>this.cont.minLimitText(t)),this.m_jointEditPanel.addChild(this.m_minDispArea),this.m_maxDispArea=new x.GuiTextInput(42,444,30,15,i),this.m_maxDispArea.text="None",this.m_maxDispArea.maxLength=4,this.m_maxDispArea.on("click",t=>this.maxDispFocus(t)),this.m_maxDispArea.on("focus",t=>this.TextAreaGotFocus(t)),this.m_maxDispArea.on("change",t=>this.cont.textEntered()),this.m_maxDispArea.on("blur",t=>this.cont.maxLimitText(t)),this.m_maxDispArea.on("hide",t=>this.cont.maxLimitText(t)),this.m_jointEditPanel.addChild(this.m_maxDispArea),(i=new t.TextStyle).fontFamily=s.Main.GLOBAL_FONT,i.fontSize=9,i.fill=2369840,this.m_enableMotorBox=new _.GuiCheckBox(5,152,120),this.m_enableMotorBox.style=i,this.m_enableMotorBox.label="Enable Motor",this.m_enableMotorBox.selected=!1,this.m_enableMotorBox.on("change",t=>this.cont.motorBox(t)),this.m_jointEditPanel.addChild(this.m_enableMotorBox),this.m_rigidJointBox=new _.GuiCheckBox(5,284,120),this.m_rigidJointBox.style=i,this.m_rigidJointBox.disabledStyle=n,this.m_rigidJointBox.label="Floppy Joint",this.m_rigidJointBox.selected=!0,this.m_rigidJointBox.on("change",t=>this.cont.rigidBox(t)),this.m_jointEditPanel.addChild(this.m_rigidJointBox),this.m_autoBox1=new _.GuiCheckBox(5,347,120),this.m_autoBox1.style=i,this.m_autoBox1.disabledStyle=n,this.m_autoBox1.label="Auto-On CW",this.m_autoBox1.selected=!1,this.m_autoBox1.on("change",t=>this.cont.autoBox1(t)),this.m_jointEditPanel.addChild(this.m_autoBox1),this.m_autoBox2=new _.GuiCheckBox(5,367,120),this.m_autoBox2.style=i,this.m_autoBox2.disabledStyle=n,this.m_autoBox2.label="Auto-On CCW",this.m_autoBox2.selected=!1,this.m_autoBox2.on("change",t=>this.cont.autoBox2(t)),this.m_jointEditPanel.addChild(this.m_autoBox2),this.m_outlineBox2=new _.GuiCheckBox(5,472,120),this.m_outlineBox2.style=i,this.m_outlineBox2.label="Show Outlines",this.m_outlineBox2.selected=!1,this.m_outlineBox2.on("change",t=>this.cont.outlineBox(t)),this.m_jointEditPanel.addChild(this.m_outlineBox2),(i=new t.TextStyle).fontFamily=s.Main.GLOBAL_FONT,i.fill=2369840,this.m_strengthLabel=new t.Text(""),this.m_strengthLabel.text="Motor Strength",this.m_strengthLabel.anchor.set(.5),this.m_strengthLabel.style=i,this.m_strengthLabel.x=60,this.m_strengthLabel.y=187,this.m_strengthLabel.style=i,this.m_jointEditPanel.addChild(this.m_strengthLabel),this.m_speedLabel=new t.Text(""),this.m_speedLabel.text="Motor Speed",this.m_speedLabel.style=i,this.m_speedLabel.anchor.set(.5),this.m_speedLabel.x=60,this.m_speedLabel.y=242,this.m_speedLabel.style=i,this.m_jointEditPanel.addChild(this.m_speedLabel),this.m_strengthSlider=new u.GuiSlider,this.m_strengthSlider.x=20,this.m_strengthSlider.y=192,this.m_strengthSlider.minValue=1,this.m_strengthSlider.maxValue=30,this.m_strengthSlider.value=15,this.m_strengthSlider.on("change",t=>this.cont.strengthSlider(t)),this.m_jointEditPanel.addChild(this.m_strengthSlider),this.m_speedSlider=new u.GuiSlider,this.m_speedSlider.x=20,this.m_speedSlider.y=247,this.m_speedSlider.minValue=1,this.m_speedSlider.maxValue=30,this.m_speedSlider.value=15,this.m_speedSlider.on("change",t=>this.cont.speedSlider(t)),this.m_jointEditPanel.addChild(this.m_speedSlider),(i=new t.TextStyle).fontFamily=s.Main.GLOBAL_FONT,i.fontSize=9,this.m_strengthArea=new x.GuiTextInput(35,209,50,15,i),this.m_strengthArea.text="10",this.m_strengthArea.maxLength=5,this.m_strengthArea.height=15,this.m_strengthArea.on("click",t=>this.strengthFocus(t)),this.m_strengthArea.on("focus",t=>this.TextAreaGotFocus(t)),this.m_strengthArea.on("change",t=>this.cont.textEntered(t)),this.m_strengthArea.on("blur",t=>this.cont.strengthText(t)),this.m_strengthArea.on("hide",t=>this.cont.strengthText(t)),this.m_jointEditPanel.addChild(this.m_strengthArea),this.m_speedArea=new x.GuiTextInput(35,264,50,15,i),this.m_speedArea.text="10",this.m_speedArea.maxLength=5,this.m_speedArea.on("click",t=>this.speedFocus(t)),this.m_speedArea.on("focus",t=>this.TextAreaGotFocus(t)),this.m_speedArea.on("change",t=>this.cont.textEntered(t)),this.m_speedArea.on("blur",t=>this.cont.speedText(t)),this.m_speedArea.on("hide",t=>this.cont.speedText(t)),this.m_jointEditPanel.addChild(this.m_speedArea),this.m_controlKeyArea1=new x.GuiTextInput(70,306,30,15,i),this.m_controlKeyArea1.editable=!1,this.m_controlKeyArea1.on("click",t=>this.controlKey1Focus(t)),this.m_controlKeyArea1.on("focus",t=>this.TextAreaGotFocus(t)),this.m_controlKeyArea1.on("keyup",(t,e)=>this.cont.controlKeyText1(t,e)),this.m_controlKeyArea1.on("blur",t=>this.TextAreaLostFocus(t)),this.m_controlKeyArea1.on("hide",t=>this.TextAreaLostFocus(t)),this.m_jointEditPanel.addChild(this.m_controlKeyArea1),this.m_controlKeyArea2=new x.GuiTextInput(70,326,30,15,i),this.m_controlKeyArea2.editable=!1,this.m_controlKeyArea2.on("click",t=>this.controlKey2Focus(t)),this.m_controlKeyArea2.on("focus",t=>this.TextAreaGotFocus(t)),this.m_controlKeyArea2.on("keyup",(t,e)=>this.cont.controlKeyText2(t,e)),this.m_controlKeyArea2.on("blur",t=>this.TextAreaLostFocus(t)),this.m_controlKeyArea2.on("hide",t=>this.TextAreaLostFocus(t)),this.m_jointEditPanel.addChild(this.m_controlKeyArea2),(i=new t.TextStyle).fontFamily=s.Main.GLOBAL_FONT,i.fontSize=12,i.fill="#242930",this.m_limitLabel1=new t.Text(""),this.m_limitLabel1.text="Lower Limit (degrees)",this.m_limitLabel1.x=15,this.m_limitLabel1.y=395,this.m_limitLabel1.style=i,this.m_jointEditPanel.addChild(this.m_limitLabel1),this.m_limitLabel2=new t.Text(""),this.m_limitLabel2.text="Upper Limit (degrees)",this.m_limitLabel2.x=15,this.m_limitLabel2.y=430,this.m_limitLabel2.style=i,this.m_jointEditPanel.addChild(this.m_limitLabel2),this.m_inputLabel1=new t.Text(""),this.m_inputLabel1.text="Rotate CW:",this.m_inputLabel1.x=10,this.m_inputLabel1.y=307,this.m_inputLabel1.style=i,this.m_jointEditPanel.addChild(this.m_inputLabel1),this.m_inputLabel2=new t.Text(""),this.m_inputLabel2.text="Rotate CCW:",this.m_inputLabel2.x=10,this.m_inputLabel2.y=327,this.m_inputLabel2.style=i,this.m_jointEditPanel.addChild(this.m_inputLabel2),this.m_colourButton=new d.GuiButton("Change Color",5,382,110,35,()=>this.colourButton(),d.GuiButton.BLUE),this.m_jointEditPanel.addChild(this.m_colourButton),this.m_frontButton=new d.GuiButton("Move to Front",5,412,110,35,()=>this.cont.frontButton(),d.GuiButton.PINK),this.m_jointEditPanel.addChild(this.m_frontButton),this.m_backButton=new d.GuiButton("Move to Back",5,442,110,35,()=>this.cont.backButton(),d.GuiButton.PINK),this.m_jointEditPanel.addChild(this.m_backButton),(i=new t.TextStyle).fontFamily=s.Main.GLOBAL_FONT,i.fontSize=9,i.fill=2369840,this.m_collisionBox3=new _.GuiCheckBox(5,367,120),this.m_collisionBox3.style=i,this.m_collisionBox3.disabledStyle=n,this.m_collisionBox3.label="Collides",this.m_collisionBox3.selected=!0,this.m_collisionBox3.on("click",t=>this.cont.collisionBox(t)),this.m_jointEditPanel.addChild(this.m_collisionBox3)}backButton(){this.visible=!1}colourButton(){this.m_colourWindow.visible=!0,this.m_colourWindow.SetVals()}DisableStuffForShapesLevel(){this.m_densitySlider.enabled=!1,this.m_densityArea.enabled=!1,this.m_densityArea.focusEnabled=!1,this.m_densityArea.editable=!1,this.m_collisionBox.enabled=!1,this.m_cameraBox.enabled=!1,this.m_undragableBox.enabled=!1,this.m_collisionBox2.enabled=!1,this.m_collisionBox3.enabled=!1,this.m_undragableBox2.enabled=!1}DisableStuffForCarLevel(){this.m_densitySlider.enabled=!1,this.m_densityArea.enabled=!1,this.m_densityArea.focusEnabled=!1,this.m_densityArea.editable=!1,this.m_collisionBox.enabled=!1,this.m_cameraBox.enabled=!1,this.m_undragableBox.enabled=!1,this.m_collisionBox2.enabled=!1,this.m_collisionBox3.enabled=!1,this.m_undragableBox2.enabled=!1,this.m_minDispArea.enabled=!1,this.m_minDispArea.focusEnabled=!1,this.m_minDispArea.editable=!1,this.m_maxDispArea.enabled=!1,this.m_maxDispArea.focusEnabled=!1,this.m_maxDispArea.editable=!1,this.m_rigidJointBox.enabled=!1,this.m_autoBox1.enabled=!1,this.m_autoBox2.enabled=!1,this.m_controlKeyArea1.enabled=!1,this.m_controlKeyArea1.focusEnabled=!1,this.m_controlKeyArea1.editable=!1,this.m_controlKeyArea2.enabled=!1,this.m_controlKeyArea2.focusEnabled=!1,this.m_controlKeyArea2.editable=!1,this.m_speedSlider.enabled=!1,this.m_strengthSlider.enabled=!1,this.m_speedArea.enabled=!1,this.m_speedArea.focusEnabled=!1,this.m_speedArea.editable=!1,this.m_strengthArea.enabled=!1,this.m_strengthArea.focusEnabled=!1,this.m_strengthArea.editable=!1}DisableStuffForJumpbotLevel(){this.m_collisionBox.enabled=!1,this.m_cameraBox.enabled=!1,this.m_undragableBox.enabled=!1,this.m_collisionBox2.enabled=!1,this.m_collisionBox3.enabled=!1,this.m_undragableBox2.enabled=!1,this.m_minDispArea.enabled=!1,this.m_minDispArea.focusEnabled=!1,this.m_minDispArea.editable=!1,this.m_maxDispArea.enabled=!1,this.m_maxDispArea.focusEnabled=!1,this.m_maxDispArea.editable=!1,this.m_rigidJointBox.enabled=!1,this.m_autoBox1.enabled=!1,this.m_autoBox2.enabled=!1,this.m_controlKeyArea1.enabled=!1,this.m_controlKeyArea1.focusEnabled=!1,this.m_controlKeyArea1.editable=!1,this.m_controlKeyArea2.enabled=!1,this.m_controlKeyArea2.focusEnabled=!1,this.m_controlKeyArea2.editable=!1}DisableStuffForDumpbotLevel(){this.m_collisionBox.enabled=!1,this.m_cameraBox.enabled=!1,this.m_undragableBox.enabled=!1,this.m_collisionBox2.enabled=!1,this.m_collisionBox3.enabled=!1,this.m_undragableBox2.enabled=!1,this.m_minDispArea.enabled=!1,this.m_minDispArea.focusEnabled=!1,this.m_minDispArea.editable=!1,this.m_maxDispArea.enabled=!1,this.m_maxDispArea.focusEnabled=!1,this.m_maxDispArea.editable=!1,this.m_autoBox1.enabled=!1,this.m_autoBox2.enabled=!1}DisableStuffForCatapultLevel(){this.m_collisionBox.enabled=!1,this.m_undragableBox.enabled=!1,this.m_collisionBox2.enabled=!1,this.m_collisionBox3.enabled=!1,this.m_undragableBox2.enabled=!1,this.m_autoBox1.enabled=!1,this.m_autoBox2.enabled=!1,this.m_controlKeyArea1.enabled=!1,this.m_controlKeyArea1.focusEnabled=!1,this.m_controlKeyArea1.editable=!1,this.m_controlKeyArea2.enabled=!1,this.m_controlKeyArea2.focusEnabled=!1,this.m_controlKeyArea2.editable=!1}DisableStuffForHomeMoviesLevel(){this.m_collisionBox.enabled=!1,this.m_undragableBox.enabled=!1,this.m_collisionBox2.enabled=!1,this.m_collisionBox3.enabled=!1,this.m_undragableBox2.enabled=!1,this.m_autoBox1.enabled=!1,this.m_autoBox2.enabled=!1}ShowObjectPanel(i){this.visible=!0,this.m_colourWindow.visible=!1,this.m_fixedJointPanel.visible=!1,this.m_jointEditPanel.visible=!1,this.m_objectEditPanel.visible=!0,this.m_textEditPanel.visible=!1,this.m_thrustersEditPanel.visible=!1,this.m_multiEditPanel.visible=!1,this.m_buildBoxPanel.visible=!1,this.m_cannonPanel.visible=!1,this.m_densitySlider.value=i.density,this.m_densitySlider.minValue=e.ControllerGameGlobals.minDensity,this.m_densitySlider.maxValue=e.ControllerGameGlobals.maxDensity,this.m_densityArea.text=i.density.toString(),this.m_collisionBox.selected=i.collide,this.m_collisionBox.visible="sandbox"===this.cont.controllerType||"challenge"===this.cont.controllerType&&(ControllerChallenge.challenge.nonCollidingAllowed||!ControllerChallenge.playChallengeMode),this.m_fixateBox.selected=i.isStatic,this.m_fixateBox.visible="sandbox"===this.cont.controllerType||"challenge"===this.cont.controllerType&&(ControllerChallenge.challenge.fixateAllowed||!ControllerChallenge.playChallengeMode),this.m_cameraBox.selected=i.isCameraFocus,this.m_outlineBox.selected=i.outline,this.m_terrainBox.selected=i.terrain,this.m_undragableBox.selected=i.undragable,i instanceof n.Circle&&(this.m_shapeHeader.text="Circle"),i instanceof l.Rectangle&&(this.m_shapeHeader.text="Rectangle"),i instanceof r.Triangle&&(this.m_shapeHeader.text="Triangle");var o=new t.TextStyle;o.fontFamily=s.Main.GLOBAL_FONT,o.fontSize=14,o.align="center",this.m_shapeHeader.style=o}ShowCannonPanel(e){this.visible=!0,this.m_colourWindow.visible=!1,this.m_fixedJointPanel.visible=!1,this.m_jointEditPanel.visible=!1,this.m_objectEditPanel.visible=!1,this.m_textEditPanel.visible=!1,this.m_thrustersEditPanel.visible=!1,this.m_multiEditPanel.visible=!1,this.m_buildBoxPanel.visible=!1,this.m_cannonPanel.visible=!0,this.m_densitySlider7.value=e.density,this.m_densityArea7.text=e.density.toString(),this.m_collisionBox7.selected=e.collide,this.m_collisionBox7.visible="sandbox"===this.cont.controllerType&&!("challenge"===this.cont.controllerType)||"challenge"===this.cont.controllerType&&(ControllerChallenge.challenge.nonCollidingAllowed||!ControllerChallenge.playChallengeMode),this.m_fixateBox7.selected=e.isStatic,this.m_fixateBox7.visible="sandbox"===this.cont.controllerType&&!("challenge"===this.cont.controllerType)||"challenge"===this.cont.controllerType&&(ControllerChallenge.challenge.fixateAllowed||!ControllerChallenge.playChallengeMode),this.m_outlineBox7.selected=e.outline,this.m_terrainBox7.selected=e.terrain,this.m_undragableBox7.selected=e.undragable,this.m_cannonHeader.text="Cannon";var n=new t.TextStyle;n.fontFamily=s.Main.GLOBAL_FONT,n.fontSize=14,n.align="center",this.m_cannonHeader.style=n,this.m_strengthSlider7.value=e.strength,this.m_strengthArea7.text=e.strength+"";var o=i.Input.getKeyString(e.fireKey);null==o&&(o="Unk: "+e.fireKey),this.m_fireKeyArea.text=o}ShowTextPanel(t){this.visible=!0,this.m_colourWindow.visible=!1,this.m_fixedJointPanel.visible=!1,this.m_jointEditPanel.visible=!1,this.m_objectEditPanel.visible=!1,this.m_thrustersEditPanel.visible=!1,this.m_multiEditPanel.visible=!1,this.m_textEditPanel.visible=!0,this.m_buildBoxPanel.visible=!1,this.m_cannonPanel.visible=!1,this.m_alwaysVisibleBox.selected=t.alwaysVisible,this.m_scaleWithZoomBox.selected=t.scaleWithZoom,this.m_textKeyArea.enabled=!t.alwaysVisible;var e=i.Input.getKeyString(t.displayKey);null==e&&(e="Unk: "+t.displayKey),this.m_textKeyArea.text=e,this.m_textArea.text=t.text,this.m_sizeArea.text=t.size+""}ShowMultiSelectPanel(t){this.visible=!0,this.m_colourWindow.visible=!1,this.m_fixedJointPanel.visible=!1,this.m_jointEditPanel.visible=!1,this.m_objectEditPanel.visible=!1,this.m_thrustersEditPanel.visible=!1,this.m_multiEditPanel.visible=!0,this.m_textEditPanel.visible=!1,this.m_cannonPanel.visible=!1,this.m_outlineBox3.selected=!0,this.m_terrainBox3.selected=!1,this.m_fixateBox2.selected=!1,this.m_undragableBox2.selected=!1,this.m_collisionBox2.selected=!0,this.m_collisionBox2.visible="sandbox"===this.cont.controllerType&&!("challenge"===this.cont.controllerType)||"challenge"===this.cont.controllerType&&(ControllerChallenge.challenge.nonCollidingAllowed||!ControllerChallenge.playChallengeMode),this.m_fixateBox2.visible="sandbox"===this.cont.controllerType&&!("challenge"===this.cont.controllerType)||"challenge"===this.cont.controllerType&&(ControllerChallenge.challenge.fixateAllowed||!ControllerChallenge.playChallengeMode),this.m_buildBoxPanel.visible=!1;for(var e=0;e<t.length;e++)(t[e]instanceof h.ShapePart&&!t[e].outline||t[e]instanceof o.PrismaticJoint&&!t[e].outline)&&(this.m_outlineBox3.selected=!1),t[e]instanceof h.ShapePart&&t[e].terrain&&(this.m_terrainBox3.selected=!0),t[e]instanceof h.ShapePart&&t[e].isStatic&&(this.m_fixateBox2.selected=!0),t[e]instanceof h.ShapePart&&t[e].undragable&&(this.m_undragableBox2.selected=!0),t[e]instanceof h.ShapePart&&!t[e].collide&&(this.m_collisionBox2.selected=!1)}ShowJointPanel(n){var l,h;if(this.visible=!0,this.m_colourWindow.visible=!1,this.m_objectEditPanel.visible=!1,this.m_fixedJointPanel.visible=!1,this.m_jointEditPanel.visible=!0,this.m_thrustersEditPanel.visible=!1,this.m_multiEditPanel.visible=!1,this.m_textEditPanel.visible=!1,this.m_buildBoxPanel.visible=!1,this.m_cannonPanel.visible=!1,n instanceof a.RevoluteJoint){var r=n;this.m_enableMotorBox.selected=r.enableMotor,this.m_rigidJointBox.selected=!r.isStiff,this.m_strengthLabel.text="Motor Strength",this.m_strengthSlider.value=r.motorStrength,this.m_strengthSlider.enabled=r.enableMotor,this.m_strengthSlider.maxValue=e.ControllerGameGlobals.maxRJStrength,this.m_strengthArea.text=r.motorStrength+"",this.m_speedLabel.text="Motor Speed",this.m_speedSlider.value=r.motorSpeed,this.m_speedSlider.enabled=r.enableMotor,this.m_speedSlider.maxValue=e.ControllerGameGlobals.maxRJSpeed,this.m_speedArea.text=r.motorSpeed+"",this.m_autoBox1.selected=r.autoCW,this.m_autoBox2.selected=r.autoCCW,this.m_limitLabel1.visible=!0,this.m_minDispArea.visible=!0,this.m_limitLabel2.visible=!0,this.m_maxDispArea.visible=!0,r.motorLowerLimit==-Number.MAX_VALUE?this.m_minDispArea.text="None":this.m_minDispArea.text=String(r.motorLowerLimit),r.motorUpperLimit==Number.MAX_VALUE?this.m_maxDispArea.text="None":this.m_maxDispArea.text=String(r.motorUpperLimit),this.m_inputLabel1.text="Rotate CW:",null==(l=i.Input.getKeyString(r.motorCWKey))&&(l="Unk: "+r.motorCWKey),this.m_controlKeyArea1.text=l,this.m_controlKeyArea1.enabled=r.enableMotor,this.m_controlKeyArea1.focusEnabled=r.enableMotor,this.m_inputLabel2.text="Rotate CCW:",null==(l=i.Input.getKeyString(r.motorCCWKey))&&(l="Unk: "+r.motorCCWKey),this.m_controlKeyArea2.text=l,this.m_controlKeyArea2.enabled=r.enableMotor,this.m_controlKeyArea2.focusEnabled=r.enableMotor,this.m_rigidJointBox.enabled=r.enableMotor,this.m_rigidJointBox.focusEnabled=r.enableMotor,this.m_strengthArea.enabled=r.enableMotor,this.m_strengthArea.editable=r.enableMotor,this.m_strengthArea.focusEnabled=r.enableMotor,this.m_speedArea.enabled=r.enableMotor,this.m_speedArea.focusEnabled=r.enableMotor,this.m_speedArea.editable=r.enableMotor,this.m_autoBox1.enabled=r.enableMotor,this.m_autoBox2.enabled=r.enableMotor,this.m_inputLabel1.x=10,this.m_inputLabel2.x=10,this.m_controlKeyArea1.x=70,this.m_controlKeyArea2.x=70,this.m_autoBox1.label="Auto-On CW",this.m_autoBox2.visible=!0,this.m_colourButton.visible=!1,this.m_frontButton.visible=!1,this.m_backButton.visible=!1,this.m_outlineBox2.visible=!1,this.m_collisionBox3.visible=!1,this.m_jointHeader.text="Rotating Joint",(h=new t.TextStyle).fontFamily=s.Main.GLOBAL_FONT,h.fontSize=14,h.align="center",this.m_jointHeader.style=h}else if(n instanceof o.PrismaticJoint){var m=n;this.m_enableMotorBox.selected=m.enablePiston,this.m_rigidJointBox.selected=!m.isStiff,this.m_strengthLabel.text="Piston Strength",this.m_strengthSlider.value=m.pistonStrength,this.m_strengthSlider.enabled=m.enablePiston,this.m_strengthSlider.maxValue=e.ControllerGameGlobals.maxSJStrength,this.m_strengthArea.text=m.pistonStrength+"",this.m_speedLabel.text="Piston Speed",this.m_speedSlider.value=m.pistonSpeed,this.m_speedSlider.enabled=m.enablePiston,this.m_speedSlider.maxValue=e.ControllerGameGlobals.maxSJSpeed,this.m_speedArea.text=m.pistonSpeed+"",this.m_autoBox1.selected=m.autoOscillate,this.m_outlineBox2.selected=m.outline,this.m_limitLabel1.visible=!1,this.m_minDispArea.visible=!1,this.m_limitLabel2.visible=!1,this.m_maxDispArea.visible=!1,this.m_inputLabel1.text="Expand:",null==(l=i.Input.getKeyString(m.pistonUpKey))&&(l="Unk: "+m.pistonUpKey),this.m_controlKeyArea1.text=l,this.m_controlKeyArea1.enabled=m.enablePiston,this.m_controlKeyArea1.focusEnabled=m.enablePiston,this.m_inputLabel2.text="Contract:",null==(l=i.Input.getKeyString(m.pistonDownKey))&&(l="Unk: "+m.pistonDownKey),this.m_controlKeyArea2.text=l,this.m_controlKeyArea2.enabled=m.enablePiston,this.m_controlKeyArea2.focusEnabled=m.enablePiston,this.m_rigidJointBox.enabled=m.enablePiston,this.m_rigidJointBox.focusEnabled=m.enablePiston,this.m_strengthArea.enabled=m.enablePiston,this.m_strengthArea.editable=m.enablePiston,this.m_strengthArea.focusEnabled=m.enablePiston,this.m_speedArea.enabled=m.enablePiston,this.m_speedArea.focusEnabled=m.enablePiston,this.m_speedArea.editable=m.enablePiston,this.m_autoBox1.enabled=m.enablePiston,this.m_inputLabel1.x=-3,this.m_inputLabel2.x=-3,this.m_controlKeyArea1.x=60,this.m_controlKeyArea2.x=60,this.m_autoBox1.label="Auto Oscillate",this.m_autoBox2.visible=!1,this.m_colourButton.visible=!0,this.m_frontButton.visible=!0,this.m_backButton.visible=!0,this.m_outlineBox2.visible=!0,this.m_collisionBox3.visible="sandbox"===this.cont.controllerType&&!("challenge"===this.cont.controllerType)||"challenge"===this.cont.controllerType&&(ControllerChallenge.challenge.nonCollidingAllowed||!ControllerChallenge.playChallengeMode),this.m_collisionBox3.selected=m.collide,this.m_jointHeader.text="Sliding Joint",(h=new t.TextStyle).fontFamily=s.Main.GLOBAL_FONT,h.fontSize=14,h.align="center",this.m_jointHeader.style=h}else this.m_fixedJointPanel.visible=!0,this.m_jointEditPanel.visible=!1;(h=new t.TextStyle).fontFamily=s.Main.GLOBAL_FONT,h.fontSize=9,h.fill="#242930",this.m_limitLabel1.style=h,this.m_limitLabel2.style=h,(h=new t.TextStyle).fontFamily=s.Main.GLOBAL_FONT,h.fontSize=9,h.fill="#242930",h.align="right",this.m_inputLabel1.style=h,this.m_inputLabel2.style=h,(h=new t.TextStyle).fontFamily=s.Main.GLOBAL_FONT,h.fontSize=9,h.fill="#242930",this.m_speedLabel.style=h,this.m_strengthLabel.style=h,this.m_inputLabel1.visible=!("challenge"===this.cont.controllerType)||!ControllerChallenge.playChallengeMode||"challenge"===this.cont.controllerType&&ControllerChallenge.challenge.botControlAllowed,this.m_inputLabel2.visible=!("challenge"===this.cont.controllerType)||!ControllerChallenge.playChallengeMode||"challenge"===this.cont.controllerType&&ControllerChallenge.challenge.botControlAllowed,this.m_controlKeyArea1.visible=!("challenge"===this.cont.controllerType)||!ControllerChallenge.playChallengeMode||"challenge"===this.cont.controllerType&&ControllerChallenge.challenge.botControlAllowed,this.m_controlKeyArea2.visible=!("challenge"===this.cont.controllerType)||!ControllerChallenge.playChallengeMode||"challenge"===this.cont.controllerType&&ControllerChallenge.challenge.botControlAllowed}ShowThrustersPanel(t){this.visible=!0,this.m_colourWindow.visible=!1,this.m_objectEditPanel.visible=!1,this.m_fixedJointPanel.visible=!1,this.m_jointEditPanel.visible=!1,this.m_thrustersEditPanel.visible=!0,this.m_multiEditPanel.visible=!1,this.m_textEditPanel.visible=!1,this.m_buildBoxPanel.visible=!1,this.m_cannonPanel.visible=!1,this.m_autoBox3.selected=t.autoOn,this.m_thrustSlider.value=t.strength,this.m_thrustSlider.maxValue=e.ControllerGameGlobals.maxThrusterStrength,this.m_thrustArea.text=t.strength+"";var s=i.Input.getKeyString(t.thrustKey);null==s&&(s="Unk: "+t.thrustKey),this.m_thrustKeyArea.text=s,this.m_thrustKeyLabel.visible=!("challenge"===this.cont.controllerType)||!ControllerChallenge.playChallengeMode||"challenge"===this.cont.controllerType&&ControllerChallenge.challenge.botControlAllowed,this.m_thrustKeyArea.visible=!("challenge"===this.cont.controllerType)||!ControllerChallenge.playChallengeMode||"challenge"===this.cont.controllerType&&ControllerChallenge.challenge.botControlAllowed}ShowBuildBoxPanel(){this.visible=!0,this.m_colourWindow.visible=!1,this.m_objectEditPanel.visible=!1,this.m_fixedJointPanel.visible=!1,this.m_jointEditPanel.visible=!1,this.m_thrustersEditPanel.visible=!1,this.m_multiEditPanel.visible=!1,this.m_textEditPanel.visible=!1,this.m_buildBoxPanel.visible=!0,this.m_cannonPanel.visible=!1}TextAreaGotFocus(t=null){this.enteringInput=!0}TextAreaLostFocus(t=null){this.enteringInput=!1}sliderClicked(t){this.sliderDown=!0}sliderReleased(t){this.sliderDown=!1}EnteringInput(){return this.visible||(this.enteringInput=!1),this.enteringInput}SetDensity(t){this.m_densityArea.text=t.toString(),this.m_densitySlider.value=t,this.m_densityArea7.text=t.toString(),this.m_densitySlider7.value=t}SetStrength(t){this.m_strengthArea.text=t.toString(),this.m_strengthSlider.value=t}SetSpeed(t){this.m_speedArea.text=t.toString(),this.m_speedSlider.value=t}SetThrust(t){this.m_thrustArea.text=t.toString(),this.m_thrustSlider.value=t}SetCannon(t){this.m_strengthArea7.text=t.toString(),this.m_strengthSlider7.value=t}EnableMotorStuff(t){this.m_strengthSlider.enabled=t,this.m_speedSlider.enabled=t,this.m_controlKeyArea1.enabled=t,this.m_controlKeyArea2.enabled=t,this.m_rigidJointBox.enabled=t,this.m_strengthArea.enabled=t,this.m_strengthArea.editable=t,this.m_speedArea.enabled=t,this.m_speedArea.editable=t,this.m_autoBox1.enabled=t,this.m_autoBox2.enabled=t}EnableTextStuff(t){this.m_textKeyArea.enabled=t}deselectBox2(){this.m_autoBox2.selected=!1}deselectBox1(){this.m_autoBox1.selected=!1}sizeFocus(t){this.m_sizeArea.setSelection(0,4)}minDispFocus(t){this.m_minDispArea.enabled&&this.m_minDispArea.setSelection(0,10)}maxDispFocus(t){this.m_maxDispArea.enabled&&this.m_maxDispArea.setSelection(0,10)}densityFocus(t){this.m_densityArea.enabled&&this.m_densityArea.setSelection(0,10)}strengthFocus(t){this.m_strengthArea.enabled&&this.m_strengthArea.setSelection(0,10)}speedFocus(t){this.m_speedArea.enabled&&this.m_speedArea.setSelection(0,10)}thrustFocus(t){this.m_thrustArea.enabled&&this.m_thrustArea.setSelection(0,10)}cannonFocus(t){this.m_strengthArea7.enabled&&this.m_strengthArea7.setSelection(0,10)}controlKey1Focus(t){this.m_controlKeyArea1.enabled&&this.m_controlKeyArea1.setSelection(0,10)}controlKey2Focus(t){this.m_controlKeyArea2.enabled&&this.m_controlKeyArea2.setSelection(0,10)}thrustKeyFocus(t){this.m_thrustKeyArea.enabled&&this.m_thrustKeyArea.setSelection(0,10)}cannonKeyFocus(t){this.m_fireKeyArea.enabled&&this.m_fireKeyArea.setSelection(0,10)}ColourWindowShowing(){return this.visible&&this.m_colourWindow.visible}BuildWindowShowing(){return this.visible&&this.m_buildBoxPanel.visible}}exports.PartEditWindow=B;
},{"pixi.js":"aQiP","../Game/Globals/ControllerGameGlobals":"K8aL","../General/Input":"xLqP","../Main":"aM6Q","../Parts/Circle":"PfXD","../Parts/PrismaticJoint":"nZSh","../Parts/Rectangle":"jYSx","../Parts/RevoluteJoint":"AUAw","../Parts/ShapePart":"CDAe","../Parts/Triangle":"CRRv","./ColourChangeWindow":"viLo","./GuiButton":"IBBZ","./GuiCheckBox":"nOXD","./GuiSlider":"qnZ8","./GuiTextArea":"hjO3","./GuiTextInput":"h4Qg","./GuiWindow":"BOXT"}],"F66q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ImportWindow=void 0;const t=require("pixi.js"),e=require("../General/Database"),i=require("../Main"),s=require("./GuiButton"),o=require("./GuiTextArea"),r=require("./GuiWindow");class a extends r.GuiWindow{constructor(e,r){super(244,83,312,434,!1),this.cont=e,this.type=r;var n=new t.TextStyle;n.fontFamily=i.Main.GLOBAL_FONT,n.fill="#242930",n.fontSize=12,n.align="center",this.msgArea=new t.Text(""),this.msgArea.x=150,this.msgArea.y=42.5,this.msgArea.anchor.set(.5,.5),this.msgArea.text="Copy and paste the text you got from exporting\nyour "+(this.type==a.TYPE_ROBOT?"robot":this.type==a.TYPE_REPLAY?"replay":"challenge")+' in the box below, then press "Import."',this.msgArea.style=n,this.addChild(this.msgArea),(n=new t.TextStyle).fontSize=10,this.linkArea=new o.GuiTextArea(15,85,265,260,n),this.addChild(this.linkArea),this.importButton=new s.GuiButton("Import",100,345,100,35,t=>this.doImport(t),s.GuiButton.ORANGE),this.addChild(this.importButton),this.cancelButton=new s.GuiButton("Cancel",100,375,100,35,t=>this.cont.HideImportDialog(t),s.GuiButton.PURPLE),this.addChild(this.cancelButton)}async doImport(t){this.linkArea.text.length>0&&(this.cont.HideImportDialog(t),this.type==a.TYPE_ROBOT?this.cont.processLoadedRobot(await e.Database.ImportRobot(this.linkArea.text)):this.type==a.TYPE_REPLAY?this.cont.processLoadedReplay(e.Database.ImportReplay(this.linkArea.text)):this.type==a.TYPE_CHALLENGE&&this.cont.processLoadedChallenge(e.Database.ImportChallenge(this.linkArea.text)))}}exports.ImportWindow=a,a.TYPE_ROBOT=0,a.TYPE_REPLAY=1,a.TYPE_CHALLENGE=2;
},{"pixi.js":"aQiP","../General/Database":"CVYw","../Main":"aM6Q","./GuiButton":"IBBZ","./GuiTextArea":"hjO3","./GuiWindow":"BOXT"}],"zJxm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CameraAction=void 0;const e=require("./Action");class t extends e.Action{constructor(e,t,s=null){super(e),this.isChecked=t,this.oldCameraPart=s}UndoAction(){this.partAffected.isCameraFocus=!this.isChecked,this.oldCameraPart&&(this.oldCameraPart.isCameraFocus=!0)}RedoAction(){this.partAffected.isCameraFocus=this.isChecked,this.oldCameraPart&&(this.oldCameraPart.isCameraFocus=!1)}}exports.CameraAction=t;
},{"./Action":"xELh"}],"wdsq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ChangeSliderAction=void 0;const t=require("../Parts/Cannon"),e=require("../Parts/PrismaticJoint"),i=require("../Parts/RevoluteJoint"),s=require("../Parts/Thrusters"),h=require("./Action");class n extends h.Action{constructor(t,e,i){super(t),this.type=e,this.change=i}UndoAction(){this.type==n.DENSITY_TYPE?this.partAffected.density-=this.change:this.type==n.STRENGTH_TYPE&&this.partAffected instanceof i.RevoluteJoint?this.partAffected.motorStrength-=this.change:this.type==n.STRENGTH_TYPE&&this.partAffected instanceof e.PrismaticJoint?this.partAffected.pistonStrength-=this.change:this.type==n.STRENGTH_TYPE&&this.partAffected instanceof s.Thrusters?this.partAffected.strength-=this.change:this.type==n.STRENGTH_TYPE&&this.partAffected instanceof t.Cannon?this.partAffected.strength-=this.change:this.type==n.SPEED_TYPE&&this.partAffected instanceof i.RevoluteJoint?this.partAffected.motorSpeed-=this.change:this.partAffected.pistonSpeed-=this.change}RedoAction(){this.type==n.DENSITY_TYPE?this.partAffected.density+=this.change:this.type==n.STRENGTH_TYPE&&this.partAffected instanceof i.RevoluteJoint?this.partAffected.motorStrength+=this.change:this.type==n.STRENGTH_TYPE&&this.partAffected instanceof e.PrismaticJoint?this.partAffected.pistonStrength+=this.change:this.type==n.STRENGTH_TYPE&&this.partAffected instanceof s.Thrusters?this.partAffected.strength+=this.change:this.type==n.STRENGTH_TYPE&&this.partAffected instanceof t.Cannon?this.partAffected.strength+=this.change:this.type==n.SPEED_TYPE&&this.partAffected instanceof i.RevoluteJoint?this.partAffected.motorSpeed+=this.change:this.partAffected.pistonSpeed+=this.change}}exports.ChangeSliderAction=n,n.DENSITY_TYPE=0,n.STRENGTH_TYPE=1,n.SPEED_TYPE=2;
},{"../Parts/Cannon":"vdN1","../Parts/PrismaticJoint":"nZSh","../Parts/RevoluteJoint":"AUAw","../Parts/Thrusters":"Yw1p","./Action":"xELh"}],"wJ8e":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ClearAction=void 0;const t=require("./Action");class r extends t.Action{constructor(t){super(t[0]),this.parts=t}UndoAction(){for(var t=0;t<this.parts.length;t++)r.m_controller.allParts.push(this.parts[t]),this.parts[t].isEnabled=!0}RedoAction(){for(var t=0;t<this.parts.length;t++)r.m_controller.DeletePart(this.parts[t],!1)}}exports.ClearAction=r;
},{"./Action":"xELh"}],"VT9P":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ColourChangeAction=void 0;const t=require("../Parts/PrismaticJoint"),e=require("../Parts/ShapePart"),i=require("../Parts/TextPart"),r=require("./Action");class s extends r.Action{constructor(t,e,i,r,s){super(t),this.red=e,this.green=i,this.blue=r,this.opacity=s}UndoAction(){(this.partAffected instanceof e.ShapePart||this.partAffected instanceof t.PrismaticJoint||this.partAffected instanceof i.TextPart)&&(this.partAffected.red-=this.red,this.partAffected.green-=this.green,this.partAffected.blue-=this.blue,this.partAffected instanceof i.TextPart||(this.partAffected.opacity-=this.opacity))}RedoAction(){(this.partAffected instanceof e.ShapePart||this.partAffected instanceof t.PrismaticJoint||this.partAffected instanceof i.TextPart)&&(this.partAffected.red+=this.red,this.partAffected.green+=this.green,this.partAffected.blue+=this.blue,this.partAffected instanceof i.TextPart||(this.partAffected.opacity+=this.opacity))}}exports.ColourChangeAction=s;
},{"../Parts/PrismaticJoint":"nZSh","../Parts/ShapePart":"CDAe","../Parts/TextPart":"T0pq","./Action":"xELh"}],"gn4K":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ControlKeyAction=void 0;const t=require("./Action");class e extends t.Action{constructor(t,e,s,i){super(t),this.type=e,this.oldKey=s,this.newKey=i}UndoAction(){this.type==e.CW_TYPE?this.partAffected.motorCWKey=this.oldKey:this.type==e.CCW_TYPE?this.partAffected.motorCCWKey=this.oldKey:this.type==e.EXPAND_TYPE?this.partAffected.pistonUpKey=this.oldKey:this.type==e.CONTRACT_TYPE?this.partAffected.pistonDownKey=this.oldKey:this.type==e.TEXT_TYPE?this.partAffected.displayKey=this.oldKey:this.type==e.THRUSTERS_TYPE?this.partAffected.thrustKey=this.oldKey:this.type==e.CANNON_TYPE&&(this.partAffected.fireKey=this.oldKey)}RedoAction(){this.type==e.CW_TYPE?this.partAffected.motorCWKey=this.newKey:this.type==e.CCW_TYPE?this.partAffected.motorCCWKey=this.newKey:this.type==e.EXPAND_TYPE?this.partAffected.pistonUpKey=this.newKey:this.type==e.CONTRACT_TYPE?this.partAffected.pistonDownKey=this.newKey:this.type==e.TEXT_TYPE?this.partAffected.displayKey=this.newKey:this.type==e.THRUSTERS_TYPE?this.partAffected.thrustKey=this.newKey:this.type==e.CANNON_TYPE&&(this.partAffected.fireKey=this.oldKey)}}exports.ControlKeyAction=e,e.CW_TYPE=0,e.CCW_TYPE=1,e.EXPAND_TYPE=2,e.CONTRACT_TYPE=3,e.TEXT_TYPE=4,e.THRUSTERS_TYPE=5,e.CANNON_TYPE=6;
},{"./Action":"xELh"}],"irRs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CreateAction=void 0;const e=require("./Action");class t extends e.Action{constructor(e){super(e)}UndoAction(){t.m_controller.DeletePart(this.partAffected,!1)}RedoAction(){t.m_controller.allParts.push(this.partAffected),this.partAffected.isEnabled=!0}}exports.CreateAction=t;
},{"./Action":"xELh"}],"cRW3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DeleteAction=void 0;const t=require("./Action");class e extends t.Action{constructor(t,e){super(t),this.joints=e}UndoAction(){e.m_controller.allParts.push(this.partAffected);for(var t=0;t<this.joints.length;t++)e.m_controller.allParts.push(this.joints[t]),this.joints[t].isEnabled=!0;this.partAffected.isEnabled=!0}RedoAction(){e.m_controller.DeletePart(this.partAffected,!1)}}exports.DeleteAction=e;
},{"./Action":"xELh"}],"gzRi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EnterTextAction=void 0;const t=require("./Action");class e extends t.Action{constructor(t,e,i){super(t),this.oldText=e,this.newText=i}UndoAction(){this.partAffected.text=this.oldText,this.partAffected.m_textField.text=this.oldText}RedoAction(){this.partAffected.text=this.newText,this.partAffected.m_textField.text=this.newText}}exports.EnterTextAction=e;
},{"./Action":"xELh"}],"BvkN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.JointCheckboxAction=void 0;const t=require("../Parts/PrismaticJoint"),e=require("../Parts/RevoluteJoint"),i=require("./Action");class s extends i.Action{constructor(t,e,i,s=!1){super(t),this.type=e,this.isChecked=i,this.sideEffect=s}UndoAction(){this.type==s.ENABLE_TYPE&&this.partAffected instanceof e.RevoluteJoint?this.partAffected.enableMotor=!this.isChecked:this.type==s.ENABLE_TYPE&&this.partAffected instanceof t.PrismaticJoint?this.partAffected.enablePiston=!this.isChecked:this.type==s.RIGID_TYPE&&this.partAffected instanceof e.RevoluteJoint?this.partAffected.isStiff=this.isChecked:this.type==s.RIGID_TYPE&&this.partAffected instanceof t.PrismaticJoint?this.partAffected.isStiff=this.isChecked:this.type==s.AUTO_CW_TYPE?(this.partAffected.autoCW=!this.isChecked,this.sideEffect&&(this.partAffected.autoCCW=this.isChecked)):this.type==s.AUTO_CCW_TYPE?(this.partAffected.autoCCW=!this.isChecked,this.sideEffect&&(this.partAffected.autoCW=this.isChecked)):this.type==s.AUTO_ON_TYPE?this.partAffected.autoOn=!this.isChecked:this.partAffected.autoOscillate=!this.isChecked}RedoAction(){this.type==s.ENABLE_TYPE&&this.partAffected instanceof e.RevoluteJoint?this.partAffected.enableMotor=this.isChecked:this.type==s.ENABLE_TYPE&&this.partAffected instanceof t.PrismaticJoint?this.partAffected.enablePiston=this.isChecked:this.type==s.RIGID_TYPE&&this.partAffected instanceof e.RevoluteJoint?this.partAffected.isStiff=!this.isChecked:this.type==s.RIGID_TYPE&&this.partAffected instanceof t.PrismaticJoint?this.partAffected.isStiff=!this.isChecked:this.type==s.AUTO_CW_TYPE?(this.partAffected.autoCW=this.isChecked,this.sideEffect&&(this.partAffected.autoCCW=!this.isChecked)):this.type==s.AUTO_CCW_TYPE?(this.partAffected.autoCCW=this.isChecked,this.sideEffect&&(this.partAffected.autoCW=!this.isChecked)):this.type==s.AUTO_ON_TYPE?this.partAffected.autoOn=this.isChecked:this.partAffected.autoOscillate=this.isChecked}}exports.JointCheckboxAction=s,s.ENABLE_TYPE=0,s.RIGID_TYPE=1,s.AUTO_CW_TYPE=2,s.AUTO_CCW_TYPE=3,s.AUTO_OSCILLATE_TYPE=4,s.AUTO_ON_TYPE=5;
},{"../Parts/PrismaticJoint":"nZSh","../Parts/RevoluteJoint":"AUAw","./Action":"xELh"}],"a7X3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LimitChangeAction=void 0;const t=require("./Action");class i extends t.Action{constructor(t,i,e,o){super(t),this.type=i,this.oldLimit=e,this.newLimit=o}UndoAction(){this.type==i.MIN_TYPE?this.partAffected.motorLowerLimit=this.oldLimit:this.partAffected.motorUpperLimit=this.oldLimit}RedoAction(){this.type==i.MIN_TYPE?this.partAffected.motorLowerLimit=this.newLimit:this.partAffected.motorUpperLimit=this.newLimit}}exports.LimitChangeAction=i,i.MIN_TYPE=0,i.MAX_TYPE=1;
},{"./Action":"xELh"}],"a0WD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MassCreateAction=void 0;const t=require("../Parts/ShapePart"),r=require("../Parts/TextPart"),e=require("./Action");class s extends e.Action{constructor(t){super(t[0]),this.parts=t}UndoAction(){for(var e=0;e<this.parts.length;e++)(this.parts[e]instanceof t.ShapePart||this.parts[e]instanceof r.TextPart)&&s.m_controller.DeletePart(this.parts[e],!1)}RedoAction(){for(var t=0;t<this.parts.length;t++)s.m_controller.allParts.push(this.parts[t]),this.parts[t].isEnabled=!0}}exports.MassCreateAction=s;
},{"../Parts/ShapePart":"CDAe","../Parts/TextPart":"T0pq","./Action":"xELh"}],"fZPQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MoveAction=void 0;const t=require("../Parts/ShapePart"),e=require("../Parts/TextPart"),s=require("../Parts/Thrusters"),o=require("./Action");class r extends o.Action{constructor(t,e,s,o){super(t),this.xMove=s,this.yMove=o,this.movedParts=e}UndoAction(){for(var o=0;o<this.movedParts.length;o++)this.movedParts[o]instanceof t.ShapePart||this.movedParts[o]instanceof s.Thrusters?this.movedParts[o].Move(this.movedParts[o].centerX-this.xMove,this.movedParts[o].centerY-this.yMove):this.movedParts[o]instanceof e.TextPart?this.movedParts[o].Move(this.movedParts[o].x-this.xMove,this.movedParts[o].y-this.yMove):this.movedParts[o].Move(this.movedParts[o].anchorX-this.xMove,this.movedParts[o].anchorY-this.yMove)}RedoAction(){for(var o=0;o<this.movedParts.length;o++)this.movedParts[o]instanceof t.ShapePart||this.movedParts[o]instanceof s.Thrusters?this.movedParts[o].Move(this.movedParts[o].centerX+this.xMove,this.movedParts[o].centerY+this.yMove):this.movedParts[o]instanceof e.TextPart?this.movedParts[o].Move(this.movedParts[o].x+this.xMove,this.movedParts[o].y+this.yMove):this.movedParts[o].Move(this.movedParts[o].anchorX+this.xMove,this.movedParts[o].anchorY+this.yMove)}}exports.MoveAction=r;
},{"../Parts/ShapePart":"CDAe","../Parts/TextPart":"T0pq","../Parts/Thrusters":"Yw1p","./Action":"xELh"}],"xG66":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MoveZAction=void 0;const t=require("../General/Util"),e=require("../Parts/TextPart"),r=require("./Action");class l extends r.Action{constructor(t,e,r=-1){super(t),this.type=e,this.oldIndex=r}UndoAction(){this.partAffected instanceof e.TextPart?this.type==l.FRONT_TYPE?(this.partAffected.inFront=!1,l.m_controller.removeChild(this.partAffected.m_textField),l.m_controller.addChildAt(this.partAffected.m_textField,l.m_controller.getChildIndex(l.m_controller.m_canvas))):(this.partAffected.inFront=!0,l.m_controller.removeChild(this.partAffected.m_textField),l.m_controller.addChildAt(this.partAffected.m_textField,l.m_controller.getChildIndex(l.m_controller.m_canvas)+1)):(l.m_controller.allParts=t.Util.RemoveFromArray(this.partAffected,l.m_controller.allParts),l.m_controller.allParts=t.Util.InsertIntoArray(this.partAffected,l.m_controller.allParts,this.oldIndex))}RedoAction(){if(this.partAffected instanceof e.TextPart)this.type==l.FRONT_TYPE?(this.partAffected.inFront=!0,l.m_controller.removeChild(this.partAffected.m_textField),l.m_controller.addChildAt(this.partAffected.m_textField,l.m_controller.getChildIndex(l.m_controller.m_canvas)+1)):(this.partAffected.inFront=!1,l.m_controller.removeChild(this.partAffected.m_textField),l.m_controller.addChildAt(this.partAffected.m_textField,l.m_controller.getChildIndex(l.m_controller.m_canvas)));else if(this.type==l.FRONT_TYPE)l.m_controller.allParts=t.Util.RemoveFromArray(this.partAffected,l.m_controller.allParts),l.m_controller.allParts.push(this.partAffected);else{for(var r=!1,o=l.m_controller.allParts.length-1;o>0;o--)if(l.m_controller.allParts[o]==this.partAffected&&(r=!0),r){if(!l.m_controller.allParts[o-1].isEditable)break;l.m_controller.allParts[o]=l.m_controller.allParts[o-1]}l.m_controller.allParts[o]=this.partAffected}}}exports.MoveZAction=l,l.FRONT_TYPE=0,l.BACK_TYPE=1;
},{"../General/Util":"Zvyo","../Parts/TextPart":"T0pq","./Action":"xELh"}],"Ta8o":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MultiCollideAction=void 0;const t=require("./Action");class e extends t.Action{constructor(t,e){super(t[0]),this.partsAffected=t,this.collide=e}UndoAction(){for(var t=0;t<this.partsAffected.length;t++)this.partsAffected[t].collide=!this.collide}RedoAction(){for(var t=0;t<this.partsAffected.length;t++)this.partsAffected[t].collide=this.collide}}exports.MultiCollideAction=e;
},{"./Action":"xELh"}],"f3tu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MultiColourChangeAction=void 0;const t=require("../Parts/TextPart"),e=require("./Action");class s extends e.Action{constructor(t,e,s,i,r,o,c,d,h){super(t[0]),this.partsAffected=t,this.red=e,this.green=s,this.blue=i,this.opacity=r,this.oldReds=o,this.oldGreens=c,this.oldBlues=d,this.oldOpacitys=h}UndoAction(){for(var e=0;e<this.partsAffected.length;e++)this.partsAffected[e].red=this.oldReds[e],this.partsAffected[e].green=this.oldGreens[e],this.partsAffected[e].blue=this.oldBlues[e],this.partsAffected[e]instanceof t.TextPart||(this.partsAffected[e].opacity=this.oldOpacitys[e])}RedoAction(){for(var e=0;e<this.partsAffected.length;e++)this.partsAffected[e].red=this.red,this.partsAffected[e].green=this.green,this.partsAffected[e].blue=this.blue,this.partsAffected[e]instanceof t.TextPart||(this.partsAffected[e].opacity=this.opacity)}}exports.MultiColourChangeAction=s;
},{"../Parts/TextPart":"T0pq","./Action":"xELh"}],"eBnP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MultiFixateAction=void 0;const t=require("./Action");class e extends t.Action{constructor(t,e){super(t[0]),this.partsAffected=t,this.fixate=e}UndoAction(){for(var t=0;t<this.partsAffected.length;t++)this.partsAffected[t].isStatic=!this.fixate}RedoAction(){for(var t=0;t<this.partsAffected.length;t++)this.partsAffected[t].isStatic=this.fixate}}exports.MultiFixateAction=e;
},{"./Action":"xELh"}],"mnQg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MultiOutlineAction=void 0;const t=require("./Action");class e extends t.Action{constructor(t,e){super(t[0]),this.partsAffected=t,this.outline=e}UndoAction(){for(var t=0;t<this.partsAffected.length;t++)this.partsAffected[t].outline=!this.outline}RedoAction(){for(var t=0;t<this.partsAffected.length;t++)this.partsAffected[t].outline=this.outline}}exports.MultiOutlineAction=e;
},{"./Action":"xELh"}],"oMea":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MultiTerrainAction=void 0;const t=require("./Action");class e extends t.Action{constructor(t,e){super(t[0]),this.partsAffected=t,this.terrain=e}UndoAction(){for(var t=0;t<this.partsAffected.length;t++)this.partsAffected[t].terrain=!this.terrain}RedoAction(){for(var t=0;t<this.partsAffected.length;t++)this.partsAffected[t].terrain=this.terrain}}exports.MultiTerrainAction=e;
},{"./Action":"xELh"}],"uT1E":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MultiUndragableAction=void 0;const t=require("./Action");class e extends t.Action{constructor(t,e){super(t[0]),this.partsAffected=t,this.undragable=e}UndoAction(){for(var t=0;t<this.partsAffected.length;t++)this.partsAffected[t].undragable=!this.undragable}RedoAction(){for(var t=0;t<this.partsAffected.length;t++)this.partsAffected[t].undragable=this.undragable}}exports.MultiUndragableAction=e;
},{"./Action":"xELh"}],"l0X7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ResizeShapesAction=void 0;const t=require("pixi.js"),e=require("../Parts/Cannon"),s=require("../Parts/JointPart"),f=require("../Parts/PrismaticJoint"),a=require("../Parts/TextPart"),r=require("../Parts/Thrusters"),c=require("../Parts/Triangle"),i=require("./Action");class h extends i.Action{constructor(t,e){super(t[0]),this.partsAffected=t,this.scaleFactor=e}UndoAction(){var i=this.partsAffected[0]instanceof s.JointPart?this.partsAffected[0].anchorX:this.partsAffected[0]instanceof a.TextPart?this.partsAffected[0].x+this.partsAffected[0].w/2:this.partsAffected[0].centerX,h=this.partsAffected[0]instanceof s.JointPart?this.partsAffected[0].anchorY:this.partsAffected[0]instanceof a.TextPart?this.partsAffected[0].y+this.partsAffected[0].h/2:this.partsAffected[0].centerY;for(d=0;d<this.partsAffected.length;d++)this.partsAffected[d].dragXOff=(this.partsAffected[d]instanceof s.JointPart?this.partsAffected[d].anchorX:this.partsAffected[d]instanceof a.TextPart?this.partsAffected[d].x+this.partsAffected[d].w/2:this.partsAffected[d].centerX)-i,this.partsAffected[d].dragYOff=(this.partsAffected[d]instanceof s.JointPart?this.partsAffected[d].anchorY:this.partsAffected[d]instanceof a.TextPart?this.partsAffected[d].y+this.partsAffected[d].h/2:this.partsAffected[d].centerY)-h,this.partsAffected[d].PrepareForResizing();for(var d=0;d<this.partsAffected.length;d++)this.partsAffected[d]instanceof t.Circle?(this.partsAffected[d].radius=this.partsAffected[d].radius/this.scaleFactor,this.partsAffected[d].Move(i+this.partsAffected[d].dragXOff/this.scaleFactor,h+this.partsAffected[d].dragYOff/this.scaleFactor)):this.partsAffected[d]instanceof t.Rectangle?(this.partsAffected[d].w=this.partsAffected[d].w/this.scaleFactor,this.partsAffected[d].h=this.partsAffected[d].h/this.scaleFactor,this.partsAffected[d].Move(i+this.partsAffected[d].dragXOff/this.scaleFactor,h+this.partsAffected[d].dragYOff/this.scaleFactor)):this.partsAffected[d]instanceof c.Triangle?(this.partsAffected[d].centerX=i+this.partsAffected[d].dragXOff/this.scaleFactor,this.partsAffected[d].centerY=h+this.partsAffected[d].dragYOff/this.scaleFactor,this.partsAffected[d].x1=this.partsAffected[d].centerX+this.partsAffected[d].initX1/this.scaleFactor,this.partsAffected[d].y1=this.partsAffected[d].centerY+this.partsAffected[d].initY1/this.scaleFactor,this.partsAffected[d].x2=this.partsAffected[d].centerX+this.partsAffected[d].initX2/this.scaleFactor,this.partsAffected[d].y2=this.partsAffected[d].centerY+this.partsAffected[d].initY2/this.scaleFactor,this.partsAffected[d].x3=this.partsAffected[d].centerX+this.partsAffected[d].initX3/this.scaleFactor,this.partsAffected[d].y3=this.partsAffected[d].centerY+this.partsAffected[d].initY3/this.scaleFactor):this.partsAffected[d]instanceof e.Cannon?(this.partsAffected[d].w=this.partsAffected[d].w/this.scaleFactor,this.partsAffected[d].Move(i+this.partsAffected[d].dragXOff/this.scaleFactor,h+this.partsAffected[d].dragYOff/this.scaleFactor)):this.partsAffected[d]instanceof s.JointPart?(this.partsAffected[d].Move(i+this.partsAffected[d].dragXOff/this.scaleFactor,h+this.partsAffected[d].dragYOff/this.scaleFactor),this.partsAffected[d]instanceof f.PrismaticJoint&&(this.partsAffected[d].initLength=this.partsAffected[d].initInitLength/this.scaleFactor)):this.partsAffected[d]instanceof a.TextPart?(this.partsAffected[d].w=this.partsAffected[d].w/this.scaleFactor,this.partsAffected[d].h=this.partsAffected[d].h/this.scaleFactor,this.partsAffected[d].x=i+this.partsAffected[d].dragXOff/this.scaleFactor-this.partsAffected[d].w/2,this.partsAffected[d].y=h+this.partsAffected[d].dragYOff/this.scaleFactor-this.partsAffected[d].h/2):this.partsAffected[d]instanceof r.Thrusters&&this.partsAffected[d].Move(i+this.partsAffected[d].dragXOff/this.scaleFactor,h+this.partsAffected[d].dragYOff/this.scaleFactor)}RedoAction(){var i=this.partsAffected[0]instanceof s.JointPart?this.partsAffected[0].anchorX:this.partsAffected[0]instanceof a.TextPart?this.partsAffected[0].x+this.partsAffected[0].w/2:this.partsAffected[0].centerX,h=this.partsAffected[0]instanceof s.JointPart?this.partsAffected[0].anchorY:this.partsAffected[0]instanceof a.TextPart?this.partsAffected[0].y+this.partsAffected[0].h/2:this.partsAffected[0].centerY;for(d=0;d<this.partsAffected.length;d++)this.partsAffected[d].dragXOff=(this.partsAffected[d]instanceof s.JointPart?this.partsAffected[d].anchorX:this.partsAffected[d]instanceof a.TextPart?this.partsAffected[d].x+this.partsAffected[d].w/2:this.partsAffected[d].centerX)-i,this.partsAffected[d].dragYOff=(this.partsAffected[d]instanceof s.JointPart?this.partsAffected[d].anchorY:this.partsAffected[d]instanceof a.TextPart?this.partsAffected[d].y+this.partsAffected[d].h/2:this.partsAffected[d].centerY)-h,this.partsAffected[d].PrepareForResizing();for(var d=0;d<this.partsAffected.length;d++)this.partsAffected[d]instanceof t.Circle?(this.partsAffected[d].radius=this.partsAffected[d].radius*this.scaleFactor,this.partsAffected[d].Move(i+this.partsAffected[d].dragXOff*this.scaleFactor,h+this.partsAffected[d].dragYOff*this.scaleFactor)):this.partsAffected[d]instanceof t.Rectangle?(this.partsAffected[d].w=this.partsAffected[d].w*this.scaleFactor,this.partsAffected[d].h=this.partsAffected[d].h*this.scaleFactor,this.partsAffected[d].Move(i+this.partsAffected[d].dragXOff*this.scaleFactor,h+this.partsAffected[d].dragYOff*this.scaleFactor)):this.partsAffected[d]instanceof c.Triangle?(this.partsAffected[d].centerX=i+this.partsAffected[d].dragXOff*this.scaleFactor,this.partsAffected[d].centerY=h+this.partsAffected[d].dragYOff*this.scaleFactor,this.partsAffected[d].x1=this.partsAffected[d].centerX+this.partsAffected[d].initX1*this.scaleFactor,this.partsAffected[d].y1=this.partsAffected[d].centerY+this.partsAffected[d].initY1*this.scaleFactor,this.partsAffected[d].x2=this.partsAffected[d].centerX+this.partsAffected[d].initX2*this.scaleFactor,this.partsAffected[d].y2=this.partsAffected[d].centerY+this.partsAffected[d].initY2*this.scaleFactor,this.partsAffected[d].x3=this.partsAffected[d].centerX+this.partsAffected[d].initX3*this.scaleFactor,this.partsAffected[d].y3=this.partsAffected[d].centerY+this.partsAffected[d].initY3*this.scaleFactor):this.partsAffected[d]instanceof e.Cannon?(this.partsAffected[d].w=this.partsAffected[d].w*this.scaleFactor,this.partsAffected[d].Move(i+this.partsAffected[d].dragXOff*this.scaleFactor,h+this.partsAffected[d].dragYOff*this.scaleFactor)):this.partsAffected[d]instanceof s.JointPart?(this.partsAffected[d].Move(i+this.partsAffected[d].dragXOff*this.scaleFactor,h+this.partsAffected[d].dragYOff*this.scaleFactor),this.partsAffected[d]instanceof f.PrismaticJoint&&(this.partsAffected[d].initLength=this.partsAffected[d].initInitLength*this.scaleFactor)):this.partsAffected[d]instanceof a.TextPart?(this.partsAffected[d].w=this.partsAffected[d].w*this.scaleFactor,this.partsAffected[d].h=this.partsAffected[d].h*this.scaleFactor,this.partsAffected[d].x=i+this.partsAffected[d].dragXOff*this.scaleFactor-this.partsAffected[d].w/2,this.partsAffected[d].y=h+this.partsAffected[d].dragYOff*this.scaleFactor-this.partsAffected[d].h/2):this.partsAffected[d]instanceof r.Thrusters&&this.partsAffected[d].Move(i+this.partsAffected[d].dragXOff/this.scaleFactor,h+this.partsAffected[d].dragYOff/this.scaleFactor)}}exports.ResizeShapesAction=h;
},{"pixi.js":"aQiP","../Parts/Cannon":"vdN1","../Parts/JointPart":"avwv","../Parts/PrismaticJoint":"nZSh","../Parts/TextPart":"T0pq","../Parts/Thrusters":"Yw1p","../Parts/Triangle":"CRRv","./Action":"xELh"}],"VEDY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ResizeTextAction=void 0;const t=require("./Action");class e extends t.Action{constructor(t,e,h,s,c){super(t),this.changeX=e,this.changeY=h,this.changeW=s,this.changeH=c}UndoAction(){this.partAffected.x-=this.changeX,this.partAffected.y-=this.changeY,this.partAffected.w-=this.changeW,this.partAffected.h-=this.changeH}RedoAction(){this.partAffected.x+=this.changeX,this.partAffected.y+=this.changeY,this.partAffected.w+=this.changeW,this.partAffected.h+=this.changeH}}exports.ResizeTextAction=e;
},{"./Action":"xELh"}],"SMyw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RotateAction=void 0;const t=require("../General/Util"),e=require("../Parts/PrismaticJoint"),r=require("../Parts/ShapePart"),a=require("../Parts/Thrusters"),s=require("./Action");class i extends s.Action{constructor(t,e,r){super(t),this.angle=r,this.rotatedParts=e}UndoAction(){for(var s=0;s<this.rotatedParts.length;s++)this.rotatedParts[s]instanceof r.ShapePart||this.rotatedParts[s]instanceof a.Thrusters?(this.rotatedParts[s].rotateAngle=Math.atan2(this.rotatedParts[s].centerY-this.partAffected.centerY,this.rotatedParts[s].centerX-this.partAffected.centerX),this.rotatedParts[s].rotateOrientation=this.rotatedParts[s].angle):(this.rotatedParts[s].rotateAngle=Math.atan2(this.rotatedParts[s].anchorY-this.partAffected.centerY,this.rotatedParts[s].anchorX-this.partAffected.centerX),this.rotatedParts[s]instanceof e.PrismaticJoint&&(this.rotatedParts[s].rotateOrientation=t.Util.GetAngle(this.rotatedParts[s].axis))),this.rotatedParts[s].RotateAround(this.partAffected.centerX,this.partAffected.centerY,-this.angle)}RedoAction(){for(var s=0;s<this.rotatedParts.length;s++)this.rotatedParts[s]instanceof r.ShapePart||this.rotatedParts[s]instanceof a.Thrusters?(this.rotatedParts[s].rotateAngle=Math.atan2(this.rotatedParts[s].centerY-this.partAffected.centerY,this.rotatedParts[s].centerX-this.partAffected.centerX),this.rotatedParts[s].rotateOrientation=this.rotatedParts[s].angle):(this.rotatedParts[s].rotateAngle=Math.atan2(this.rotatedParts[s].anchorY-this.partAffected.centerY,this.rotatedParts[s].anchorX-this.partAffected.centerX),this.rotatedParts[s]instanceof e.PrismaticJoint&&(this.rotatedParts[s].rotateOrientation=t.Util.GetAngle(this.rotatedParts[s].axis))),this.rotatedParts[s].RotateAround(this.partAffected.centerX,this.partAffected.centerY,this.angle)}}exports.RotateAction=i;
},{"../General/Util":"Zvyo","../Parts/PrismaticJoint":"nZSh","../Parts/ShapePart":"CDAe","../Parts/Thrusters":"Yw1p","./Action":"xELh"}],"V2A2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ShapeCheckboxAction=void 0;const t=require("../Parts/ShapePart"),e=require("./Action");class i extends e.Action{constructor(t,e,i){super(t),this.type=e,this.isChecked=i}UndoAction(){this.type==i.COLLIDE_TYPE?(this.partAffected,t.ShapePart,this.partAffected.collide=!this.isChecked):this.type==i.FIXATE_TYPE?this.partAffected.isStatic=!this.isChecked:this.type==i.OUTLINE_TYPE?(this.partAffected,t.ShapePart,this.partAffected.outline=!this.isChecked):this.type==i.TERRAIN_TYPE?this.partAffected.terrain=!this.isChecked:this.partAffected.undragable=!this.isChecked}RedoAction(){this.type==i.COLLIDE_TYPE?(this.partAffected,t.ShapePart,this.partAffected.collide=this.isChecked):this.type==i.FIXATE_TYPE?this.partAffected.isStatic=this.isChecked:this.type==i.OUTLINE_TYPE?(this.partAffected,t.ShapePart,this.partAffected.outline=this.isChecked):this.type==i.TERRAIN_TYPE?this.partAffected.terrain=this.isChecked:this.partAffected.undragable=!this.isChecked}}exports.ShapeCheckboxAction=i,i.COLLIDE_TYPE=0,i.FIXATE_TYPE=1,i.OUTLINE_TYPE=2,i.TERRAIN_TYPE=3,i.UNDRAGABLE_TYPE=4;
},{"../Parts/ShapePart":"CDAe","./Action":"xELh"}],"vJ2q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TextCheckboxAction=void 0;const e=require("./Action");class t extends e.Action{constructor(e,t,s){super(e),this.type=t,this.isChecked=s}UndoAction(){this.type==t.SCALE_TYPE?this.partAffected.scaleWithZoom=!this.isChecked:this.partAffected.alwaysVisible=!this.isChecked}RedoAction(){this.type==t.SCALE_TYPE?this.partAffected.scaleWithZoom=this.isChecked:this.partAffected.alwaysVisible=this.isChecked}}exports.TextCheckboxAction=t,t.SCALE_TYPE=0,t.DISPLAY_TYPE=1;
},{"./Action":"xELh"}],"c1cn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TextSizeChangeAction=void 0;const e=require("./Action");class t extends e.Action{constructor(e,t){super(e),this.change=t}UndoAction(){this.partAffected.size-=this.change}RedoAction(){this.partAffected.size+=this.change}}exports.TextSizeChangeAction=t;
},{"./Action":"xELh"}],"u77w":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ContactFilter=void 0;const e=require("@box2d/core");class t extends e.b2ContactFilter{constructor(){super()}ShouldCollide(e,t){const i=e.GetUserData(),s=t.GetUserData();return!!(i&&i.isSandbox||s&&s.isSandbox)||!!(!i||!s||i.collide||i.editable&&!s.editable||-1!=i.isPiston&&-1!=s.isPiston)&&(!!(!i||!s||s.collide||s.editable&&!i.editable||-1!=i.isPiston&&-1!=s.isPiston)&&(!(i&&s&&-1!=i.isPiston&&-1!=s.isPiston&&!i.collide&&(!i.editable||s.editable))&&(!(i&&s&&-1!=i.isPiston&&-1!=s.isPiston&&!s.collide&&(!s.editable||i.editable))&&(!(!i||!s||-1==i.isPiston||-1==s.isPiston||i.isPiston!=s.isPiston||e.GetBody()==t.GetBody()||e.GetFilterData().groupIndex!=t.GetFilterData().groupIndex)||super.ShouldCollide(e,t)))))}}exports.ContactFilter=t;
},{"@box2d/core":"kjbO"}],"sy4E":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ContactListener=void 0;const t=require("@box2d/core");class e extends t.b2ContactListener{constructor(t){super(),this.cont=t}BeginContact(t){this.cont.ContactAdded(t)}}exports.ContactListener=e;
},{"@box2d/core":"kjbO"}],"Cq9K":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ControllerGame=void 0;const t=require("pixi.js"),s=require("../General/Database"),i=require("../General/Util"),a=require("../Main"),l=require("../Parts/Part"),o=require("../Parts/Cannon"),r=require("../Parts/FixedJoint"),n=require("../Parts/JointPart"),h=require("../Parts/PrismaticJoint"),d=require("../Parts/RevoluteJoint"),c=require("../Parts/ShapePart"),m=require("../Parts/TextPart"),g=require("../Parts/Thrusters"),b=require("../Parts/Triangle"),P=require("./CameraMovement"),G=require("./Controller"),u=require("./Draw"),C=require("./Replay"),p=require("./Robot"),_=require("./Globals/ControllerGameGlobals"),f=require("../General/Input"),w=require("../Actions/Action"),y=require("../Gui/MainEditPanel"),S=require("../Gui/DropDownMenu"),A=require("../Gui/PartEditWindow"),D=require("../General/LSOManager"),R=require("../Gui/AdvancedSandboxWindow"),T=require("../Gui/ImportWindow"),v=require("./ControllerSandbox"),W=require("./KeyPress"),I=require("./ReplaySyncPoint"),x=require("@box2d/core"),O=require("../Actions/CameraAction"),E=require("../Actions/ChangeSliderAction"),M=require("../Actions/ClearAction"),Y=require("../Actions/ColourChangeAction"),X=require("../Actions/ControlKeyAction"),J=require("../Actions/CreateAction"),N=require("../Actions/DeleteAction"),B=require("../Actions/EnterTextAction"),L=require("../Actions/JointCheckboxAction"),F=require("../Actions/LimitChangeAction"),k=require("../Actions/MassCreateAction"),U=require("../Actions/MoveAction"),H=require("../Actions/MoveZAction"),K=require("../Actions/MultiCollideAction"),V=require("../Actions/MultiColourChangeAction"),Z=require("../Actions/MultiFixateAction"),q=require("../Actions/MultiOutlineAction"),z=require("../Actions/MultiTerrainAction"),j=require("../Actions/MultiUndragableAction"),Q=require("../Actions/ResizeShapesAction"),$=require("../Actions/ResizeTextAction"),tt=require("../Actions/RotateAction"),et=require("../Actions/ShapeCheckboxAction"),it=require("../Actions/TextCheckboxAction"),at=require("../Actions/TextSizeChangeAction"),lt=require("./ContactFilter"),ot=require("./ContactListener"),rt=require("../Parts/Rectangle"),nt=require("../Parts/Circle"),ht=require("./Graphics/b2DebugDraw");class dt extends G.Controller{constructor(){super(),this.controllerType="game",this.m_world=null,this.m_groundBody=null,this.m_mouseJoint=null,this.m_iterations=10,this.m_timeStep=1/30,this.m_physScale=_.ControllerGameGlobals.INIT_PHYS_SCALE,this.m_buildAreas=new Array,this.m_badBuildAreas=new Array,this.m_selectedBuildAreas=new Array,this.m_chooserWindow=null,this.m_loginWindow=null,this.m_newUserWindow=null,this.m_scoreWindow=null,this.m_progressDialog=null,this.m_linkDialog=null,this.m_tutorialDialog=null,this.m_postReplayWindow=null,this.m_rateDialog=null,this.m_restrictionsDialog=null,this.m_conditionsDialog=null,this.m_sandboxWindow=null,this.m_challengeWindow=null,this.m_reportWindow=null,this.m_loadWindow=null,this.m_exportDialog=null,this.m_importDialog=null,this.hasPanned=!0,this.hasZoomed=!0,this.redrawBuildArea=!0,this.redrawRobot=!0,this.paused=!0,this.simStarted=!1,this.wonChallenge=!1,this.canSaveReplay=!0,this.autoPanning=!0,this.cameraPart=null,this.curAction=-1,this.actionStep=0,this.lastAction=-1,this.partsFit=!0,this.draggingTutorial=!1,this.selectingCondition=!1,this.delayedSelection=!1,this.ignoreAClick=!1,this.backToSaveWindow=!1,this.clickedReport=!1,this.clickedSave=!1,this.clickedSaveReplay=!1,this.clickedSaveChallenge=!1,this.clickedSubmitScore=!1,this.redirectAfterRating=0,this.saveAfterRestrictions=!1,this.selectedParts=new Array,this.rotatingPart=null,this.rotatingParts=null,this.draggingPart=null,this.draggingParts=null,this.jointPart=null,this.lastSelectedShape=null,this.lastSelectedJoint=null,this.lastSelectedText=null,this.lastSelectedThrusters=null,this.copiedJoint=null,this.copiedThrusters=null,this.removedGraphics=new Array,this.oldText="",this.allParts=new Array,_.ControllerGameGlobals.cannonballs=new Array,this.actions=new Array,f.Input.m_currController=this,w.Action.m_controller=this,this.m_canvas=new t.Graphics,this.m_guiPanel=new y.MainEditPanel(this),this.m_guiMenu=new S.DropDownMenu(this),this.m_sidePanel=new A.PartEditWindow(this),this.m_fader=new t.Graphics,this.m_fader.beginFill(0,.2),this.m_fader.lineStyle(0,0,.2),this.m_fader.moveTo(0,0),this.m_fader.lineTo(800,0),this.m_fader.lineTo(800,600),this.m_fader.lineTo(0,600),this.m_fader.lineTo(0,0),this.m_fader.endFill(),this.m_fader.visible=!1,this.uneditableText=new t.Text(""),this.uneditableText.x=0,this.uneditableText.y=102,this.uneditableText.width=800,this.uneditableText.text="The current robot is uneditable.  Some features, including saving and submitting scores, will be disabled.",this.uneditableText.visible=!1;var e=new t.TextStyle;e.align="center",e.fontFamily=a.Main.GLOBAL_FONT,e.fontSize=12,this.uneditableText.style=e,this.rotatingText=new t.Text(""),this.rotatingText.x=0,this.rotatingText.y=102,this.rotatingText.width=800,this.rotatingText.text="Move the mouse around to rotate the shape, and click when you're done.",this.rotatingText.visible=!1,this.rotatingText.style=e,this.scalingText=new t.Text(""),this.scalingText.x=0,this.scalingText.y=102,this.scalingText.width=800,this.scalingText.text="Move the mouse to the right to increase the shape's size, and left to decrease it.",this.scalingText.visible=!1,this.scalingText.style=e,this.boxText=new t.Text(""),this.boxText.x=0,this.boxText.y=102,this.boxText.width=800,this.boxText.text="Use the mouse to click and drag a box for the given condition.  You can use the arrow keys to scroll.",this.boxText.visible=!1,this.boxText.style=e,this.horizLineText=new t.Text(""),this.horizLineText.x=0,this.horizLineText.y=102,this.horizLineText.width=800,this.horizLineText.text="Use the mouse to draw a horizontal line for the given condition.  You can use the arrow keys to scroll.",this.horizLineText.visible=!1,this.horizLineText.style=e,this.vertLineText=new t.Text(""),this.vertLineText.x=0,this.vertLineText.y=102,this.vertLineText.width=800,this.vertLineText.text="Use the mouse to draw a vertical line for the given condition.  You can use the arrow keys to scroll.",this.vertLineText.visible=!1,this.vertLineText.style=e,this.shapeText=new t.Text(""),this.shapeText.x=0,this.shapeText.y=102,this.shapeText.width=800,this.shapeText.text="Select a shape for the given condition.  You can use the arrow keys to scroll.",this.shapeText.visible=!1,this.shapeText.style=e,this.draw=new u.Draw,this.draw.m_sprite=this.m_canvas,this.draw.m_drawScale=this.m_physScale,this.draw.m_drawYOff=-100,_.ControllerGameGlobals.showColours?this.draw.m_fillAlpha=1:this.draw.m_fillAlpha=.5,this.draw.m_drawFlags=ht.b2DebugDraw.e_shapeBit|ht.b2DebugDraw.e_jointBit,_.ControllerGameGlobals.playingReplay?_.ControllerGameGlobals.replay.cont=this:_.ControllerGameGlobals.viewingUnsavedReplay=!1,this.on("added",t=>this.Init(t))}Init(t){if(this.addChild(this.m_canvas),this.addChild(this.uneditableText),this.addChild(this.rotatingText),this.addChild(this.scalingText),this.addChild(this.boxText),this.addChild(this.horizLineText),this.addChild(this.vertLineText),this.addChild(this.shapeText),this.addChild(this.m_guiPanel),this.addChild(this.m_sidePanel),this.addChild(this.m_guiMenu),this.addChild(this.m_fader),_.ControllerGameGlobals.playingReplay){this.allParts=this.allParts.concat(_.ControllerGameGlobals.replayParts);for(var e=0;e<this.allParts.length;e++)if(this.allParts[e]instanceof m.TextPart){var s=new m.TextPart(this,this.allParts[e].x,this.allParts[e].y,this.allParts[e].w,this.allParts[e].h,this.allParts[e].text);s.alwaysVisible=this.allParts[e].alwaysVisible,s.displayKey=this.allParts[e].displayKey,s.red=this.allParts[e].red,s.green=this.allParts[e].green,s.blue=this.allParts[e].blue,s.size=this.allParts[e].size,this.allParts[e]=s}}if(_.ControllerGameGlobals.loadedParts){if("challenge"===this.controllerType&&ControllerChallenge.playChallengeMode&&!_.ControllerGameGlobals.justLoadedRobotWithChallenge)for(e=0;e<_.ControllerGameGlobals.loadedParts.length;e++)_.ControllerGameGlobals.loadedParts[e].isEditable=!1;if(_.ControllerGameGlobals.justLoadedRobotWithChallenge)for(this.allParts=this.allParts.concat(ControllerChallenge.challenge.allParts),e=0;e<this.allParts.length;e++)this.allParts[e].isEditable=!1;for(_.ControllerGameGlobals.justLoadedRobotWithChallenge=!1,this.allParts=this.allParts.concat(_.ControllerGameGlobals.loadedParts),e=0;e<this.allParts.length;e++)this.allParts[e]instanceof m.TextPart&&((s=new m.TextPart(this,this.allParts[e].x,this.allParts[e].y,this.allParts[e].w,this.allParts[e].h,this.allParts[e].text)).alwaysVisible=this.allParts[e].alwaysVisible,s.displayKey=this.allParts[e].displayKey,s.red=this.allParts[e].red,s.green=this.allParts[e].green,s.blue=this.allParts[e].blue,s.size=this.allParts[e].size,this.allParts[e].isEditable||(s.isEditable=!1),this.allParts[e]=s);_.ControllerGameGlobals.loadedParts=null,_.ControllerGameGlobals.initX!=Number.MAX_VALUE?(this.draw.m_drawXOff=_.ControllerGameGlobals.initX,this.draw.m_drawYOff=_.ControllerGameGlobals.initY,this.m_physScale=_.ControllerGameGlobals.initZoom):"challenge"!==this.controllerType&&this.CenterOnLoadedRobot()}else _.ControllerGameGlobals.playingReplay||(_.ControllerGameGlobals.curRobotID="",_.ControllerGameGlobals.curRobotEditable=!0,_.ControllerGameGlobals.curRobotPublic=!1);_.ControllerGameGlobals.initX=Number.MAX_VALUE,_.ControllerGameGlobals.initY=Number.MAX_VALUE,_.ControllerGameGlobals.initZoom=Number.MAX_VALUE,"challenge"===this.controllerType?(_.ControllerGameGlobals.minDensity=this.challenge.minDensity==-Number.MAX_VALUE?1:this.challenge.minDensity,_.ControllerGameGlobals.maxDensity=this.challenge.maxDensity==Number.MAX_VALUE?30:this.challenge.maxDensity,_.ControllerGameGlobals.maxRJStrength=this.challenge.maxRJStrength==Number.MAX_VALUE?30:this.challenge.maxRJStrength,_.ControllerGameGlobals.maxRJSpeed=this.challenge.maxRJSpeed==Number.MAX_VALUE?30:this.challenge.maxRJSpeed,_.ControllerGameGlobals.maxSJStrength=this.challenge.maxSJStrength==Number.MAX_VALUE?30:this.challenge.maxSJStrength,_.ControllerGameGlobals.maxSJSpeed=this.challenge.maxSJSpeed==Number.MAX_VALUE?30:this.challenge.maxSJSpeed,_.ControllerGameGlobals.maxThrusterStrength=this.challenge.maxThrusterStrength==Number.MAX_VALUE?30:this.challenge.maxThrusterStrength):(_.ControllerGameGlobals.minDensity=1,_.ControllerGameGlobals.maxDensity=30,_.ControllerGameGlobals.maxRJStrength=30,_.ControllerGameGlobals.maxRJSpeed=30,_.ControllerGameGlobals.maxSJStrength=30,_.ControllerGameGlobals.maxSJSpeed=30,_.ControllerGameGlobals.maxThrusterStrength=30),h.PrismaticJoint.jbTutorial=!1,a.Main.inIFrame&&(_.ControllerGameGlobals.curRobotEditable=!1,this.uneditableText.text="")}BuildBuildArea(){for(var e=0;e<this.m_buildAreas.length;e++)this.removeChild(this.m_buildAreas[e]),this.removeChild(this.m_badBuildAreas[e]),this.removeChild(this.m_selectedBuildAreas[e]);this.m_buildAreas=new Array,this.m_badBuildAreas=new Array,this.m_selectedBuildAreas=new Array;var s=this.sSky.lastCloudIndex+1;for(e=0;e<this.NumBuildingAreas();e++){var i=new t.Sprite;i.graphics.lineStyle(6,14594141);var a=new t.Matrix;a.createGradientBox(700,550,Math.PI/2),i.graphics.beginGradientFill(GradientType.LINEAR,[16748311,16761168],[.15,.15],[0,255],a),i.graphics.drawRect(0,0,700,550),i.graphics.endFill(),this.addChildAt(i,s),this.m_buildAreas.push(i);var l=new t.Sprite;l.graphics.lineStyle(6,14576221),(a=new t.Matrix).createGradientBox(700,550,Math.PI/2),l.graphics.beginGradientFill(GradientType.LINEAR,[16731415,16748368],[.15,.15],[0,255],a),l.graphics.drawRect(0,0,700,550),l.graphics.endFill(),this.addChildAt(l,s),this.m_badBuildAreas.push(l);var o=new t.Sprite;o.graphics.lineStyle(6,16697949),(a=new t.Matrix).createGradientBox(700,550,Math.PI/2),o.graphics.beginGradientFill(GradientType.LINEAR,[16731415,16748368],[.15,.15],[0,255],a),o.graphics.drawRect(0,0,700,550),o.graphics.endFill(),this.addChildAt(o,s),this.m_selectedBuildAreas.push(o)}}PlayShapeSound(){if(a.Main.enableSound){var t=Math.floor(i.Util.RangedRandom(0,5));(0==t?_.ControllerGameGlobals.shapeSound1:1==t?_.ControllerGameGlobals.shapeSound2:2==t?_.ControllerGameGlobals.shapeSound3:3==t?_.ControllerGameGlobals.shapeSound4:_.ControllerGameGlobals.shapeSound5).play()}}PlayJointSound(){if(a.Main.enableSound){var t=Math.floor(i.Util.RangedRandom(0,5));(0==t?_.ControllerGameGlobals.jointSound1:1==t?_.ControllerGameGlobals.jointSound2:2==t?_.ControllerGameGlobals.jointSound3:3==t?_.ControllerGameGlobals.jointSound4:_.ControllerGameGlobals.jointSound5).play()}}GetPhysScale(){return this.m_physScale}GetMinX(){return-Number.MAX_VALUE}GetMaxX(){return Number.MAX_VALUE}GetMinY(){return-Number.MAX_VALUE}GetMaxY(){return Number.MAX_VALUE}Update(){if(!this.m_fader.visible){_.ControllerGameGlobals.showColours?this.draw.m_fillAlpha=1:this.draw.m_fillAlpha=.5,_.ControllerGameGlobals.playingReplay&&!this.simStarted&&this.playButton(new MouseEvent("")),_.ControllerGameGlobals.mouseXWorldPhys=(f.Input.mouseX+this.draw.m_drawXOff)/this.m_physScale,_.ControllerGameGlobals.mouseYWorldPhys=(f.Input.mouseY+this.draw.m_drawYOff)/this.m_physScale,_.ControllerGameGlobals.prevMouseXWorld=_.ControllerGameGlobals.mouseXWorld,_.ControllerGameGlobals.prevMouseYWorld=_.ControllerGameGlobals.mouseYWorld,_.ControllerGameGlobals.mouseXWorld=f.Input.mouseX,_.ControllerGameGlobals.mouseYWorld=f.Input.mouseY,a.Main.ShowMouse(),!this.paused&&this.autoPanning&&this.HandleCamera(),this.MouseDrag(),this.HandleKey();for(var t=0;t<this.allParts.length;t++)(this.allParts[t]instanceof d.RevoluteJoint||this.allParts[t]instanceof h.PrismaticJoint)&&this.allParts[t].CheckForBreakage(this.m_world);this.m_guiMenu.Update(),this.m_guiPanel.Update(this.curAction),this.uneditableText.visible=!_.ControllerGameGlobals.curRobotEditable&&!_.ControllerGameGlobals.playingReplay&&!this.simStarted,this.rotatingText.visible=this.curAction==_.ControllerGameGlobals.ROTATE,this.scalingText.visible=this.curAction==_.ControllerGameGlobals.RESIZING_SHAPES,this.newText&&this.lastSelectedText instanceof m.TextPart&&(this.lastSelectedText.text=this.newText.text,this.lastSelectedText.m_textField.text=this.newText.text,this.newText=null);var e=Date.now();this.paused||(_.ControllerGameGlobals.playingReplay||(this.frameCounter%_.ControllerGameGlobals.REPLAY_SYNC_FRAMES==0&&this.AddSyncPoint(),this.m_world.Step(1/60,{velocityIterations:5,positionIterations:5}),this.m_world.Step(1/60,{velocityIterations:this.m_iterations,positionIterations:this.m_iterations})),this.frameCounter++,this.m_guiPanel.SetTimer(this.frameCounter),(this.frameCounter>=9e3||_.ControllerGameGlobals.cannonballs.length>500)&&(this.canSaveReplay=!1))}if(this.draw.m_drawScale=this.m_physScale,this.draw.drawColours=_.ControllerGameGlobals.showColours,this.simStarted)for(t=0;t<this.m_buildAreas.length;t++)this.m_buildAreas[t].visible=!1,this.m_badBuildAreas[t].visible=!1,this.m_selectedBuildAreas[t].visible=!1;else{for(t=0;t<this.m_buildAreas.length;t++){var i=this.GetBuildingAreaNumber(t);(this.hasPanned||this.hasZoomed||this.redrawBuildArea)&&(this.m_buildAreas[t].x=this.World2ScreenX(i.lowerBound.x),this.m_buildAreas[t].y=this.World2ScreenY(i.lowerBound.y),this.m_badBuildAreas[t].x=this.World2ScreenX(i.lowerBound.x),this.m_badBuildAreas[t].y=this.World2ScreenY(i.lowerBound.y),this.m_selectedBuildAreas[t].x=this.World2ScreenX(i.lowerBound.x),this.m_selectedBuildAreas[t].y=this.World2ScreenY(i.lowerBound.y)),(this.hasZoomed||this.redrawBuildArea)&&(this.m_buildAreas[t].width=this.World2ScreenX(i.upperBound.x)-this.World2ScreenX(i.lowerBound.x),this.m_buildAreas[t].height=this.World2ScreenY(i.upperBound.y)-this.World2ScreenY(i.lowerBound.y),this.m_badBuildAreas[t].width=this.World2ScreenX(i.upperBound.x)-this.World2ScreenX(i.lowerBound.x),this.m_badBuildAreas[t].height=this.World2ScreenY(i.upperBound.y)-this.World2ScreenY(i.lowerBound.y),this.m_selectedBuildAreas[t].width=this.World2ScreenX(i.upperBound.x)-this.World2ScreenX(i.lowerBound.x),this.m_selectedBuildAreas[t].height=this.World2ScreenY(i.upperBound.y)-this.World2ScreenY(i.lowerBound.y)),this.m_selectedBuildAreas[t].visible=this.m_sidePanel.BuildWindowShowing()&&this.selectedBuildArea==ControllerChallenge.challenge.buildAreas[t],this.m_buildAreas[t].visible=!this.m_selectedBuildAreas[t].visible&&this.partsFit,this.m_badBuildAreas[t].visible=!this.m_selectedBuildAreas[t].visible&&!this.partsFit}this.redrawBuildArea=!1}(this.hasPanned||this.hasZoomed||!this.paused||this.draggingPart||-1!=this.curAction||this.redrawRobot)&&(this.m_canvas.clear(),this.draw.DrawWorld(this.allParts,this.selectedParts,!this.simStarted,!1,_.ControllerGameGlobals.showJoints,_.ControllerGameGlobals.showOutlines,"ControllerChallenge"===this.constructor.name?this.challenge:void 0),this.redrawRobot=!1);var l=this.FindPartToSnapTo();if(this.simStarted||(_.ControllerGameGlobals.snapToCenter&&l&&(this.curAction==_.ControllerGameGlobals.NEW_FIXED_JOINT||this.curAction==_.ControllerGameGlobals.NEW_REVOLUTE_JOINT||this.curAction==_.ControllerGameGlobals.NEW_PRISMATIC_JOINT||this.curAction==_.ControllerGameGlobals.NEW_THRUSTERS)?this.draw.DrawTempShape(this.curAction,this.actionStep,this.firstClickX,this.firstClickY,this.secondClickX,this.secondClickY,l.centerX,l.centerY):this.curAction==_.ControllerGameGlobals.FINALIZING_JOINT&&this.candidateJointType==_.ControllerGameGlobals.NEW_PRISMATIC_JOINT&&1==this.actionStep?this.draw.DrawTempShape(_.ControllerGameGlobals.NEW_PRISMATIC_JOINT,this.actionStep,this.firstClickX,this.firstClickY,this.secondClickX,this.secondClickY,this.candidateJointX,this.candidateJointY):this.curAction==_.ControllerGameGlobals.FINALIZING_JOINT&&this.candidateJointType==_.ControllerGameGlobals.NEW_THRUSTERS?this.draw.DrawTempShape(_.ControllerGameGlobals.NEW_THRUSTERS,this.actionStep,this.firstClickX,this.firstClickY,this.secondClickX,this.secondClickY,this.candidateJointX,this.candidateJointY):this.curAction==_.ControllerGameGlobals.FINALIZING_JOINT?this.draw.DrawTempShape(this.curAction,this.actionStep,this.firstClickX,this.firstClickY,this.secondClickX,this.secondClickY,this.candidateJointX,this.candidateJointY):this.draw.DrawTempShape(this.curAction,this.actionStep,this.firstClickX,this.firstClickY,this.secondClickX,this.secondClickY,_.ControllerGameGlobals.mouseXWorldPhys,_.ControllerGameGlobals.mouseYWorldPhys)),a.Main.m_fpsCounter.updatePhys(e),s.Database.errorOccurred&&(this.m_progressDialog.StopTimer(),this.m_progressDialog.SetMessage(s.Database.lastErrorMsg,!0),s.Database.errorOccurred=!1,s.Database.versionErrorOccurred?(s.Database.versionErrorOccurred=!1,this.m_progressDialog.ShowOKAndCancelButton(5)):this.m_progressDialog.ShowOKButton(),this.removeChild(this.m_progressDialog),this.addChild(this.m_progressDialog),a.Main.ShowMouse()),!this.paused&&this.ChallengeOver()&&(this.wonChallenge=!0,this.pauseButton(new MouseEvent("")),!_.ControllerGameGlobals.playingReplay||_.ControllerGameGlobals.viewingUnsavedReplay))if(this.m_fader.visible=!0,this instanceof ControllerTutorial||this.WonChallenge()){if(this.m_scoreWindow)try{this.removeChild(this.m_scoreWindow)}catch(o){}this.m_scoreWindow=new ScoreWindow(this,this.GetScore()),a.Main.enableSound&&(_.ControllerGameGlobals.musicChannel=_.ControllerGameGlobals.winSound.play(),st=new SoundTransform(.5),_.ControllerGameGlobals.musicChannel.soundTransform=st),this.addChild(this.m_scoreWindow),this instanceof ControllerTutorial?D.LSOManager.SetLevelDone(a.Main.nextControllerType-10):(this instanceof ControllerMonkeyBars||this instanceof ControllerClimb||this instanceof ControllerRace||this instanceof ControllerSpaceship)&&D.LSOManager.SetLevelDone(a.Main.nextControllerType+8)}else _.ControllerGameGlobals.failedChallenge=!0,this.ShowDialog3("Sorry, you have failed this challenge!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer(),a.Main.enableSound&&(_.ControllerGameGlobals.musicChannel=_.ControllerGameGlobals.loseSound.play(),st=new SoundTransform(.5),_.ControllerGameGlobals.musicChannel.soundTransform=st)}MoveCameraForReplay(t){if(t.x!=Number.POSITIVE_INFINITY){var e=this.draw.m_drawXOff,s=this.draw.m_drawYOff;this.draw.m_drawXOff=t.x,this.draw.m_drawYOff=t.y,this.autoPanning=!1,e==this.draw.m_drawXOff&&s==this.draw.m_drawYOff||(this.hasPanned=!0)}var i=this.m_physScale;this.m_physScale=t.scale,this.m_physScale!=i&&(this.hasZoomed=!0),this.autoPanning&&this.HandleCamera()}AddSyncPoint(){if(0==this.syncPoints.length||this.frameCounter!=this.syncPoints[this.syncPoints.length-1].frame){var t=new Array,e=new I.ReplaySyncPoint;e.frame=this.frameCounter;for(var s=0;s<this.allParts.length;s++)this.allParts[s]instanceof c.ShapePart&&!this.allParts[s].isStatic&&!i.Util.ObjectInArray(this.allParts[s].GetBody(),t)&&(e.positions.push(i.Util.Vector(this.allParts[s].GetBody().GetPosition().x,this.allParts[s].GetBody().GetPosition().y)),e.angles.push(this.allParts[s].GetBody().GetAngle()),t.push(this.allParts[s].GetBody()));for(s=0;s<_.ControllerGameGlobals.cannonballs.length;s++)e.cannonballPositions.push(i.Util.Vector(_.ControllerGameGlobals.cannonballs[s].GetPosition().x,_.ControllerGameGlobals.cannonballs[s].GetPosition().y));this.syncPoints.push(e)}}ComputeReplaySplines(t){for(var e=new Array,s=new Array,a=0;a<_.ControllerGameGlobals.replay.syncPoints.length-1;a++){e.push(_.ControllerGameGlobals.replay.syncPoints[a+1].frame-_.ControllerGameGlobals.replay.syncPoints[a].frame);for(var l=new Array,o=0;o<_.ControllerGameGlobals.replay.syncPoints[0].positions.length;o++)if(0==t)l.push((_.ControllerGameGlobals.replay.syncPoints[a+1].positions[o].x-_.ControllerGameGlobals.replay.syncPoints[a].positions[o].x)/e[a]);else if(1==t)l.push((_.ControllerGameGlobals.replay.syncPoints[a+1].positions[o].y-_.ControllerGameGlobals.replay.syncPoints[a].positions[o].y)/e[a]);else{var r=_.ControllerGameGlobals.replay.syncPoints[a+1].angles[o]-_.ControllerGameGlobals.replay.syncPoints[a].angles[o];if(Math.abs(r)>20){var n=i.Util.NormalizeAngle(_.ControllerGameGlobals.replay.syncPoints[a].angles[o]),h=i.Util.NormalizeAngle(_.ControllerGameGlobals.replay.syncPoints[a+1].angles[o]);r=Math.abs(n-h)<Math.PI?h-n:n>h?h+2*Math.PI-n:h-(n+2*Math.PI)}l.push(r/e[a])}s.push(l)}var d=new Array,c=new Array;for(d.push(0),d.push(2*(e[0]+e[1])),l=new Array,o=0;o<_.ControllerGameGlobals.replay.syncPoints[0].positions.length;o++)l.push(0);for(c.push(l),l=new Array,o=0;o<_.ControllerGameGlobals.replay.syncPoints[0].positions.length;o++)s.length<2?l.push(0):l.push(6*(s[1][o]-s[0][o]));for(c.push(l),a=2;a<_.ControllerGameGlobals.replay.syncPoints.length-1;a++){for(d.push(2*(e[a-1]+e[a])-e[a-1]*e[a-1]/d[a-1]),l=new Array,o=0;o<_.ControllerGameGlobals.replay.syncPoints[0].positions.length;o++)l.push(6*(s[a][o]-s[a-1][o])-e[a-1]*c[a-1][o]/d[a-1]);c.push(l)}var m=new Array;for(l=new Array,o=0;o<_.ControllerGameGlobals.replay.syncPoints[0].positions.length;o++)l.push(0);for(m[_.ControllerGameGlobals.replay.syncPoints.length-1]=l,a=_.ControllerGameGlobals.replay.syncPoints.length-2;a>0;a--){for(l=new Array,o=0;o<_.ControllerGameGlobals.replay.syncPoints[0].positions.length;o++)l.push((c[a][o]-e[a]*m[a+1][o])/d[a]);m[a]=l}for(l=new Array,o=0;o<_.ControllerGameGlobals.replay.syncPoints[0].positions.length;o++)l.push(0);m[0]=l;var g=new Array,b=new Array,P=new Array,G=new Array,u=new Array;for(a=0;a<_.ControllerGameGlobals.replay.syncPoints.length-1;a++){var C=new Array,p=new Array,f=new Array,w=new Array;for(o=0;o<_.ControllerGameGlobals.replay.syncPoints[0].positions.length;o++)C.push(0==t?_.ControllerGameGlobals.replay.syncPoints[a].positions[o].x:1==t?_.ControllerGameGlobals.replay.syncPoints[a].positions[o].y:_.ControllerGameGlobals.replay.syncPoints[a].angles[o]),r=_.ControllerGameGlobals.replay.syncPoints[a+1].angles[o]-_.ControllerGameGlobals.replay.syncPoints[a].angles[o],Math.abs(r)>20&&(n=i.Util.NormalizeAngle(_.ControllerGameGlobals.replay.syncPoints[a].angles[o]),h=i.Util.NormalizeAngle(_.ControllerGameGlobals.replay.syncPoints[a+1].angles[o]),r=Math.abs(n-h)<Math.PI?h-n:n>h?h+2*Math.PI-n:h-(n+2*Math.PI)),p.push(-e[a]*m[a+1][o]/6-e[a]*m[a][o]/3+(0==t?_.ControllerGameGlobals.replay.syncPoints[a+1].positions[o].x-C[o]:1==t?_.ControllerGameGlobals.replay.syncPoints[a+1].positions[o].y-C[o]:r)/e[a]),f.push(m[a][o]/2),w.push((m[a+1][o]-m[a][o])/(6*e[a]));b.push(C),P.push(p),G.push(f),u.push(w)}return g.push(b),g.push(P),g.push(G),g.push(u),g}SyncReplay(t){for(var e=new Array,s=0,a=0;a<this.allParts.length;a++)this.allParts[a]instanceof c.ShapePart&&!this.allParts[a].isStatic&&!i.Util.ObjectInArray(this.allParts[a].GetBody(),e)&&(this.allParts[a].GetBody().SetTransform((new b2Transform).SetPositionAngle(t.positions[s],t.angles[s])),s++,e.push(this.allParts[a].GetBody()));for(a=0;a<_.ControllerGameGlobals.cannonballs.length;a++)_.ControllerGameGlobals.cannonballs[a].SetTransform((new b2Transform).SetPositionAngle(t.cannonballPositions[a],0))}SyncReplay2(t,e){for(var s=_.ControllerGameGlobals.replay.syncPoints.indexOf(t),a=new Array,l=0,o=0;o<this.allParts.length;o++)if(this.allParts[o]instanceof c.ShapePart&&!this.allParts[o].isStatic&&!i.Util.ObjectInArray(this.allParts[o].GetBody(),a)){var r=this.replaySplineXs[0][s][l]+(this.frameCounter-t.frame)*(this.replaySplineXs[1][s][l]+(this.frameCounter-t.frame)*(this.replaySplineXs[2][s][l]+(this.frameCounter-t.frame)*this.replaySplineXs[3][s][l])),n=this.replaySplineYs[0][s][l]+(this.frameCounter-t.frame)*(this.replaySplineYs[1][s][l]+(this.frameCounter-t.frame)*(this.replaySplineYs[2][s][l]+(this.frameCounter-t.frame)*this.replaySplineYs[3][s][l])),h=this.replaySplineAngles[0][s][l]+(this.frameCounter-t.frame)*(this.replaySplineAngles[1][s][l]+(this.frameCounter-t.frame)*(this.replaySplineAngles[2][s][l]+(this.frameCounter-t.frame)*this.replaySplineAngles[3][s][l]));this.allParts[o].GetBody().SetTransform((new b2Transform).SetPositionAngle(i.Util.Vector(r,n),h)),l++,a.push(this.allParts[o].GetBody())}for(o=0;o<_.ControllerGameGlobals.cannonballs.length;o++)if(t.cannonballPositions.length>o){var d=e.frame-t.frame,m=(t.cannonballPositions[o].x*(e.frame-this.frameCounter)+e.cannonballPositions[o].x*(this.frameCounter-t.frame))/d,g=(t.cannonballPositions[o].y*(e.frame-this.frameCounter)+e.cannonballPositions[o].y*(this.frameCounter-t.frame))/d;_.ControllerGameGlobals.cannonballs[o].SetTransform((new b2Transform).SetPositionAngle(i.Util.Vector(m,g),0))}else _.ControllerGameGlobals.cannonballs[o].SetTransform((new b2Transform).SetPositionAngle(e.cannonballPositions[o],0))}IsPaused(){return this.paused}World2ScreenX(t){return t*this.m_physScale-this.draw.m_drawXOff}World2ScreenY(t){return t*this.m_physScale-this.draw.m_drawYOff}Screen2WorldX(t){return(t+this.draw.m_drawXOff)/this.m_physScale}Screen2WorldY(t){return(t+this.draw.m_drawYOff)/this.m_physScale}ChallengeOver(){throw new l.IllegalOperationError("abstract ControllerGameGlobals.ChallengeOver() called")}WonChallenge(){return!1}LostChallenge(){return!1}GetScore(){throw new l.IllegalOperationError("abstract ControllerGameGlobals.GetScore() called")}ContactAdded(t){}GetBuildingArea(){throw new l.IllegalOperationError("abstract ControllerGameGlobals.GetBuildingArea() called")}GetBuildingAreaNumber(t){return this.GetBuildingArea()}NumBuildingAreas(){return 1}GetBoxForConditions(){this.boxText.visible=!0,this.curAction=_.ControllerGameGlobals.DRAWING_BOX,this.actionStep=0,this.selectingCondition=!0}GetHorizontalLineForConditions(){this.horizLineText.visible=!0,this.curAction=_.ControllerGameGlobals.DRAWING_HORIZONTAL_LINE,this.actionStep=0,this.selectingCondition=!0}GetVerticalLineForConditions(){this.vertLineText.visible=!0,this.curAction=_.ControllerGameGlobals.DRAWING_VERTICAL_LINE,this.actionStep=0,this.selectingCondition=!0}GetShapeForConditions(){this.m_conditionsDialog.shape1||(this.selectedParts=new Array),this.shapeText.visible=!0,this.curAction=_.ControllerGameGlobals.SELECTING_SHAPE,this.selectingCondition=!0}CheckIfPartsFit(){var t=this.allParts.filter(this.PartIsEditable),e=this.NumBuildingAreas();if(this.partsFit=!0,"sandbox"!==this.controllerType&&("challenge"!==this.controllerType||ControllerChallenge.playChallengeMode)&&0!=e)for(var s,i,a,l,r=0;r<t.length;r++){for(var n=!1,h=0;h<e;h++){var d=this.GetBuildingAreaNumber(h);if(t[r]instanceof nt.Circle)s=t[r].centerX-t[r].radius,i=t[r].centerX+t[r].radius,a=t[r].centerY-t[r].radius,l=t[r].centerY+t[r].radius;else if(t[r]instanceof rt.Rectangle||t[r]instanceof b.Triangle||t[r]instanceof o.Cannon){var c=t[r].GetVertices();s=Number.MAX_VALUE,a=Number.MAX_VALUE,i=-Number.MAX_VALUE,l=-Number.MAX_VALUE;for(var m=0;m<c.length;m++)s=Math.min(s,c[m].x),i=Math.max(i,c[m].x),a=Math.min(a,c[m].y),l=Math.max(l,c[m].y)}else s=Number.MAX_VALUE,a=Number.MAX_VALUE,i=-Number.MAX_VALUE,l=-Number.MAX_VALUE;if(s>=d.lowerBound.x&&a>=d.lowerBound.y&&i<d.upperBound.x&&l<d.upperBound.y){n=!0;break}}if(!n){this.partsFit=!1;break}}}HandleKey(){if(this.paused)this.simStarted||this.m_sidePanel.EnteringInput()||(f.Input.isKeyDown(37)&&(this.draw.m_drawXOff-=10,this.hasPanned=!0),f.Input.isKeyDown(39)&&(this.draw.m_drawXOff+=10,this.hasPanned=!0),f.Input.isKeyDown(38)&&(this.draw.m_drawYOff-=10,this.hasPanned=!0),f.Input.isKeyDown(40)&&(this.draw.m_drawYOff+=10,this.hasPanned=!0));else{_.ControllerGameGlobals.playingReplay&&_.ControllerGameGlobals.replay.Update(this.frameCounter)&&this.pauseButton(new MouseEvent(""));for(var t=0;t<this.allParts.length;t++)this.allParts[t].Update(this.m_world)}}CenterOnLoadedRobot(){for(var t=null,e=0;e<this.allParts.length;e++)this.allParts[e]instanceof c.ShapePart&&this.allParts[e].isCameraFocus&&(t=this.allParts[e]);if(!t){for(e=0;e<this.allParts.length;e++)this.allParts[e].checkedCollisionGroup=!1;for(e=0;e<this.allParts.length;e++)this.allParts[e]instanceof c.ShapePart&&this.allParts[e].SetCollisionGroup(-(e+1));t=this.FindCenterOfRobot()}if(t){var s=this.draw.m_drawXOff,i=this.draw.m_drawYOff;this.draw.m_drawXOff=t.centerX*this.m_physScale-_.ControllerGameGlobals.ZOOM_FOCUS_X,this.draw.m_drawYOff=t.centerY*this.m_physScale-_.ControllerGameGlobals.ZOOM_FOCUS_Y,s==this.draw.m_drawXOff&&i==this.draw.m_drawYOff||(this.hasPanned=!0)}}HandleCamera(){if(this.cameraPart){var t=this.draw.m_drawXOff,e=this.draw.m_drawYOff;this.draw.m_drawXOff=this.cameraPart.GetBody().GetWorldCenter().x*this.m_physScale-_.ControllerGameGlobals.ZOOM_FOCUS_X,this.draw.m_drawYOff=this.cameraPart.GetBody().GetWorldCenter().y*this.m_physScale-_.ControllerGameGlobals.ZOOM_FOCUS_Y,(isNaN(this.draw.m_drawXOff)||isNaN(this.draw.m_drawYOff))&&(this.draw.m_drawXOff=t,this.draw.m_drawYOff=e),t==this.draw.m_drawXOff&&e==this.draw.m_drawYOff||(this.hasPanned=!0)}}MouseDrag(){if(this.simStarted){if(!this.paused&&("sandbox"===this.controllerType&&"challenge"!==this.controllerType||"challenge"===this.controllerType&&ControllerChallenge.challenge.mouseDragAllowed)){if(f.Input.mouseDown&&!this.m_mouseJoint){var t=this.GetBodyAtMouse();if(!_.ControllerGameGlobals.playingReplay&&t){var e=new x.b2MouseJointDef;e.bodyA=this.m_groundBody,e.bodyB=t,e.target.Set(_.ControllerGameGlobals.mouseXWorldPhys,_.ControllerGameGlobals.mouseYWorldPhys),e.maxForce=300*t.GetMass(),x.b2LinearStiffness(e,5,.7,e.bodyA,e.bodyB),this.m_mouseJoint=this.m_world.CreateJoint(e),t.SetAwake(!0)}}if(this.m_mouseJoint){var s=new x.b2Vec2(_.ControllerGameGlobals.mouseXWorldPhys,_.ControllerGameGlobals.mouseYWorldPhys);this.m_mouseJoint.SetTarget(s)}f.Input.mouseDown||this.m_mouseJoint&&(this.m_world.DestroyJoint(this.m_mouseJoint),this.m_mouseJoint=null)}}else{if(f.Input.mouseDown&&_.ControllerGameGlobals.mouseYWorld>=100&&!this.m_sidePanel.sliderDown&&!this.m_guiMenu.MouseOverMenu(_.ControllerGameGlobals.mouseXWorld,_.ControllerGameGlobals.mouseYWorld)&&(_.ControllerGameGlobals.mouseXWorld>=120||!this.m_sidePanel.visible)&&(_.ControllerGameGlobals.mouseXWorld>=230||_.ControllerGameGlobals.mouseYWorld>=600||!this.m_sidePanel.ColourWindowShowing())&&this.curAction!=_.ControllerGameGlobals.BOX_SELECTING&&this.curAction!=_.ControllerGameGlobals.DRAWING_BUILD_BOX&&this.curAction!=_.ControllerGameGlobals.DRAWING_BOX&&this.curAction!=_.ControllerGameGlobals.DRAWING_HORIZONTAL_LINE&&this.curAction!=_.ControllerGameGlobals.DRAWING_VERTICAL_LINE&&(!this.m_tutorialDialog||!this.m_tutorialDialog.MouseOver(_.ControllerGameGlobals.mouseXWorld,_.ControllerGameGlobals.mouseYWorld))){var a=this.GetPartAtMouse();if(!_.ControllerGameGlobals.wasMouseDown&&_.ControllerGameGlobals.curRobotEditable&&a instanceof c.ShapePart){var l=a;if(null==this.draggingPart&&(-1==this.curAction||this.curAction==_.ControllerGameGlobals.SELECTING_SHAPE)){this.MouseOverSelectedPart()?this.delayedSelection=!0:(i.Util.ObjectInArray(l,this.selectedParts)?f.Input.isKeyDown(16)&&(this.selectedParts=i.Util.RemoveFromArray(l,this.selectedParts)):(f.Input.isKeyDown(16)||(this.selectedParts=new Array),this.selectedParts.push(l)),this.redrawRobot=!0),this.draggingPart=this.selectedParts[0],this.initDragX=_.ControllerGameGlobals.mouseXWorldPhys,this.initDragY=_.ControllerGameGlobals.mouseYWorldPhys,this.draggingParts=new Array;for(var G=0;G<this.selectedParts.length;G++)this.draggingParts=i.Util.RemoveDuplicates(this.draggingParts.concat(this.selectedParts[G].GetAttachedParts()));for(G=0;G<this.draggingParts.length;G++)this.draggingParts[G]instanceof c.ShapePart||this.draggingParts[G]instanceof g.Thrusters?(this.draggingParts[G].dragXOff=_.ControllerGameGlobals.mouseXWorldPhys-this.draggingParts[G].centerX,this.draggingParts[G].dragYOff=_.ControllerGameGlobals.mouseYWorldPhys-this.draggingParts[G].centerY):this.draggingParts[G]instanceof n.JointPart?(this.draggingParts[G].dragXOff=_.ControllerGameGlobals.mouseXWorldPhys-this.draggingParts[G].anchorX,this.draggingParts[G].dragYOff=_.ControllerGameGlobals.mouseYWorldPhys-this.draggingParts[G].anchorY):(this.draggingParts[G].dragXOff=_.ControllerGameGlobals.mouseXWorldPhys-this.draggingParts[G].x,this.draggingParts[G].dragYOff=_.ControllerGameGlobals.mouseYWorldPhys-this.draggingParts[G].y)}}else if(!_.ControllerGameGlobals.wasMouseDown&&_.ControllerGameGlobals.curRobotEditable&&a instanceof n.JointPart&&null==this.draggingPart&&(-1==this.curAction||this.curAction==_.ControllerGameGlobals.SELECTING_SHAPE)){for(this.MouseOverSelectedPart()?this.delayedSelection=!0:(i.Util.ObjectInArray(a,this.selectedParts)?f.Input.isKeyDown(16)&&(this.selectedParts=i.Util.RemoveFromArray(a,this.selectedParts)):(f.Input.isKeyDown(16)||(this.selectedParts=new Array),this.selectedParts.push(a)),this.redrawRobot=!0),this.draggingPart=a,this.initDragX=_.ControllerGameGlobals.mouseXWorldPhys,this.initDragY=_.ControllerGameGlobals.mouseYWorldPhys,this.draggingParts=new Array,G=0;G<this.selectedParts.length;G++)this.draggingParts=i.Util.RemoveDuplicates(this.draggingParts.concat(this.selectedParts[G].GetAttachedParts()));for(G=0;G<this.draggingParts.length;G++)this.draggingParts[G]instanceof c.ShapePart||this.draggingParts[G]instanceof g.Thrusters?(this.draggingParts[G].dragXOff=_.ControllerGameGlobals.mouseXWorldPhys-this.draggingParts[G].centerX,this.draggingParts[G].dragYOff=_.ControllerGameGlobals.mouseYWorldPhys-this.draggingParts[G].centerY):this.draggingParts[G]instanceof n.JointPart?(this.draggingParts[G].dragXOff=_.ControllerGameGlobals.mouseXWorldPhys-this.draggingParts[G].anchorX,this.draggingParts[G].dragYOff=_.ControllerGameGlobals.mouseYWorldPhys-this.draggingParts[G].anchorY):(this.draggingParts[G].dragXOff=_.ControllerGameGlobals.mouseXWorldPhys-this.draggingParts[G].x,this.draggingParts[G].dragYOff=_.ControllerGameGlobals.mouseYWorldPhys-this.draggingParts[G].y)}else if(!_.ControllerGameGlobals.wasMouseDown&&_.ControllerGameGlobals.curRobotEditable&&a instanceof m.TextPart&&null==this.draggingPart&&(-1==this.curAction||this.curAction==_.ControllerGameGlobals.SELECTING_SHAPE))if(this.MouseOverSelectedPart()?this.delayedSelection=!0:(i.Util.ObjectInArray(a,this.selectedParts)?f.Input.isKeyDown(16)&&(this.selectedParts=i.Util.RemoveFromArray(a,this.selectedParts)):(f.Input.isKeyDown(16)||(this.selectedParts=new Array),this.selectedParts.push(a)),this.redrawRobot=!0),this.draggingPart=a,this.initDragX=_.ControllerGameGlobals.mouseXWorldPhys,this.initDragY=_.ControllerGameGlobals.mouseYWorldPhys,a.InsideMoveBox(_.ControllerGameGlobals.mouseXWorldPhys,_.ControllerGameGlobals.mouseYWorldPhys,this.m_physScale,!0))this.curAction=_.ControllerGameGlobals.RESIZING_TEXT;else{for(this.draggingParts=new Array,G=0;G<this.selectedParts.length;G++)this.draggingParts=i.Util.RemoveDuplicates(this.draggingParts.concat(this.selectedParts[G].GetAttachedParts()));for(G=0;G<this.draggingParts.length;G++)this.draggingParts[G]instanceof c.ShapePart||this.draggingParts[G]instanceof g.Thrusters?(this.draggingParts[G].dragXOff=_.ControllerGameGlobals.mouseXWorldPhys-this.draggingParts[G].centerX,this.draggingParts[G].dragYOff=_.ControllerGameGlobals.mouseYWorldPhys-this.draggingParts[G].centerY):this.draggingParts[G]instanceof n.JointPart?(this.draggingParts[G].dragXOff=_.ControllerGameGlobals.mouseXWorldPhys-this.draggingParts[G].anchorX,this.draggingParts[G].dragYOff=_.ControllerGameGlobals.mouseYWorldPhys-this.draggingParts[G].anchorY):(this.draggingParts[G].dragXOff=_.ControllerGameGlobals.mouseXWorldPhys-this.draggingParts[G].x,this.draggingParts[G].dragYOff=_.ControllerGameGlobals.mouseYWorldPhys-this.draggingParts[G].y)}else if(!_.ControllerGameGlobals.wasMouseDown&&_.ControllerGameGlobals.curRobotEditable&&a instanceof g.Thrusters&&null==this.draggingPart&&(-1==this.curAction||this.curAction==_.ControllerGameGlobals.SELECTING_SHAPE)){for(this.MouseOverSelectedPart()?this.delayedSelection=!0:(i.Util.ObjectInArray(a,this.selectedParts)?f.Input.isKeyDown(16)&&(this.selectedParts=i.Util.RemoveFromArray(a,this.selectedParts)):(f.Input.isKeyDown(16)||(this.selectedParts=new Array),this.selectedParts.push(a)),this.redrawRobot=!0),this.draggingPart=a,this.initDragX=_.ControllerGameGlobals.mouseXWorldPhys,this.initDragY=_.ControllerGameGlobals.mouseYWorldPhys,this.draggingParts=new Array,G=0;G<this.selectedParts.length;G++)this.draggingParts=i.Util.RemoveDuplicates(this.draggingParts.concat(this.selectedParts[G].GetAttachedParts()));for(G=0;G<this.draggingParts.length;G++)this.draggingParts[G]instanceof c.ShapePart||this.draggingParts[G]instanceof g.Thrusters?(this.draggingParts[G].dragXOff=_.ControllerGameGlobals.mouseXWorldPhys-this.draggingParts[G].centerX,this.draggingParts[G].dragYOff=_.ControllerGameGlobals.mouseYWorldPhys-this.draggingParts[G].centerY):this.draggingParts[G]instanceof n.JointPart?(this.draggingParts[G].dragXOff=_.ControllerGameGlobals.mouseXWorldPhys-this.draggingParts[G].anchorX,this.draggingParts[G].dragYOff=_.ControllerGameGlobals.mouseYWorldPhys-this.draggingParts[G].anchorY):(this.draggingParts[G].dragXOff=_.ControllerGameGlobals.mouseXWorldPhys-this.draggingParts[G].x,this.draggingParts[G].dragYOff=_.ControllerGameGlobals.mouseYWorldPhys-this.draggingParts[G].y)}else if(null==this.draggingPart&&null==this.rotatingPart&&(-1==this.curAction||this.curAction==_.ControllerGameGlobals.SELECTING_SHAPE)){if(f.Input.isKeyDown(16)&&_.ControllerGameGlobals.curRobotEditable)this.curAction=_.ControllerGameGlobals.BOX_SELECTING,this.firstClickX=_.ControllerGameGlobals.mouseXWorldPhys,this.firstClickY=_.ControllerGameGlobals.mouseYWorldPhys;else{var u=this.draw.m_drawXOff,C=this.draw.m_drawYOff;this.draw.m_drawXOff-=_.ControllerGameGlobals.mouseXWorld-_.ControllerGameGlobals.prevMouseXWorld,this.draw.m_drawYOff-=_.ControllerGameGlobals.mouseYWorld-_.ControllerGameGlobals.prevMouseYWorld,u==this.draw.m_drawXOff&&C==this.draw.m_drawYOff||(this.hasPanned=!0)}this.selectedParts=new Array,this.redrawRobot=!0}}if(f.Input.mouseDown&&!this.m_sidePanel.sliderDown&&!this.m_guiMenu.MouseOverMenu(_.ControllerGameGlobals.mouseXWorld,_.ControllerGameGlobals.mouseYWorld)&&_.ControllerGameGlobals.mouseYWorld>=100&&(_.ControllerGameGlobals.mouseXWorld>=120||!this.m_sidePanel.visible)&&(_.ControllerGameGlobals.mouseXWorld>=230||_.ControllerGameGlobals.mouseYWorld>=600||!this.m_sidePanel.ColourWindowShowing())&&this.curAction!=_.ControllerGameGlobals.BOX_SELECTING&&(this.m_tutorialDialog&&this.m_tutorialDialog.MouseOver(_.ControllerGameGlobals.mouseXWorld,_.ControllerGameGlobals.mouseYWorld)||this.RefreshSidePanel()),f.Input.mouseDown||(this.draggingTutorial=!1),this.draggingTutorial&&(this.m_tutorialDialog.x=_.ControllerGameGlobals.mouseXWorld-this.initDragX,this.m_tutorialDialog.y=_.ControllerGameGlobals.mouseYWorld-this.initDragY),null!=this.draggingPart&&this.curAction!=_.ControllerGameGlobals.RESIZING_TEXT){for(G=0;G<this.draggingParts.length;G++)this.draggingParts[G].Move(_.ControllerGameGlobals.mouseXWorldPhys-this.draggingParts[G].dragXOff,_.ControllerGameGlobals.mouseYWorldPhys-this.draggingParts[G].dragYOff);_.ControllerGameGlobals.curRobotID=""}if(this.curAction==_.ControllerGameGlobals.ROTATE&&null!=this.rotatingPart){var p=Math.atan2(_.ControllerGameGlobals.mouseYWorldPhys-this.rotatingPart.centerY,_.ControllerGameGlobals.mouseXWorldPhys-this.rotatingPart.centerX);for(G=0;G<this.rotatingParts.length;G++)this.rotatingParts[G].RotateAround(this.rotatingPart.centerX,this.rotatingPart.centerY,p-this.initRotatingAngle);_.ControllerGameGlobals.curRobotID=""}if(this.curAction==_.ControllerGameGlobals.SELECTING_SHAPE&&1==this.selectedParts.length&&this.selectedParts[0]instanceof c.ShapePart&&this.selectedParts[0]!=this.m_conditionsDialog.shape1&&(this.m_conditionsDialog.visible=!0,this.m_fader.visible=!0,this.curAction=-1,this.m_sidePanel.visible=!1,this.shapeText.visible=!1,this.selectingCondition=!1,this.m_conditionsDialog.FinishSelectingForCondition(this.selectedParts[0])),this.curAction==_.ControllerGameGlobals.RESIZING_SHAPES){var w=_.ControllerGameGlobals.mouseXWorld-this.firstClickX;for(w>=0?(w/=75,w+=1):(w/=25,w=-1/(w-=1)),G=0;G<this.draggingParts.length;G++)if(this.draggingParts[G]instanceof nt.Circle)this.draggingParts[G].initRadius*w>nt.Circle.MAX_RADIUS&&(w=nt.Circle.MAX_RADIUS/this.draggingParts[G].initRadius),this.draggingParts[G].initRadius*w<nt.Circle.MIN_RADIUS&&(w=nt.Circle.MIN_RADIUS/this.draggingParts[G].initRadius);else if(this.draggingParts[G]instanceof rt.Rectangle)this.draggingParts[G].initW*w>rt.Rectangle.MAX_WIDTH&&(w=rt.Rectangle.MAX_WIDTH/this.draggingParts[G].initW),this.draggingParts[G].initW*w<rt.Rectangle.MIN_WIDTH&&(w=rt.Rectangle.MIN_WIDTH/this.draggingParts[G].initW),this.draggingParts[G].initH*w>rt.Rectangle.MAX_WIDTH&&(w=rt.Rectangle.MAX_WIDTH/this.draggingParts[G].initH),this.draggingParts[G].initH*w<rt.Rectangle.MIN_WIDTH&&(w=rt.Rectangle.MIN_WIDTH/this.draggingParts[G].initH);else if(this.draggingParts[G]instanceof b.Triangle){var y=i.Util.GetDist(this.draggingParts[G].initX1,this.draggingParts[G].initY1,this.draggingParts[G].initX2,this.draggingParts[G].initY2);y*w>b.Triangle.MAX_SIDE_LENGTH&&(w=b.Triangle.MAX_SIDE_LENGTH/y),y*w<b.Triangle.MIN_SIDE_LENGTH&&(w=b.Triangle.MIN_SIDE_LENGTH/y);var S=i.Util.GetDist(this.draggingParts[G].initX1,this.draggingParts[G].initY1,this.draggingParts[G].initX3,this.draggingParts[G].initY3);S*w>b.Triangle.MAX_SIDE_LENGTH&&(w=b.Triangle.MAX_SIDE_LENGTH/S),S*w<b.Triangle.MIN_SIDE_LENGTH&&(w=b.Triangle.MIN_SIDE_LENGTH/S);var A=i.Util.GetDist(this.draggingParts[G].initX2,this.draggingParts[G].initY2,this.draggingParts[G].initX3,this.draggingParts[G].initY3);A*w>b.Triangle.MAX_SIDE_LENGTH&&(w=b.Triangle.MAX_SIDE_LENGTH/A),A*w<b.Triangle.MIN_SIDE_LENGTH&&(w=b.Triangle.MIN_SIDE_LENGTH/A)}else this.draggingParts[G]instanceof o.Cannon&&(this.draggingParts[G].initW*w>o.Cannon.MAX_WIDTH&&(w=o.Cannon.MAX_WIDTH/this.draggingParts[G].initW),this.draggingParts[G].initW*w<o.Cannon.MIN_WIDTH&&(w=o.Cannon.MIN_WIDTH/this.draggingParts[G].initW));for(G=0;G<this.draggingParts.length;G++)this.draggingParts[G]instanceof nt.Circle?(this.draggingParts[G].radius=this.draggingParts[G].initRadius*w,this.draggingParts[G].Move(this.initDragX+this.draggingParts[G].dragXOff*w,this.initDragY+this.draggingParts[G].dragYOff*w)):this.draggingParts[G]instanceof rt.Rectangle?(this.draggingParts[G].w=this.draggingParts[G].initW*w,this.draggingParts[G].h=this.draggingParts[G].initH*w,this.draggingParts[G].Move(this.initDragX+this.draggingParts[G].dragXOff*w,this.initDragY+this.draggingParts[G].dragYOff*w)):this.draggingParts[G]instanceof b.Triangle?(this.draggingParts[G].centerX=this.initDragX+this.draggingParts[G].dragXOff*w,this.draggingParts[G].centerY=this.initDragY+this.draggingParts[G].dragYOff*w,this.draggingParts[G].x1=this.draggingParts[G].centerX+this.draggingParts[G].initX1*w,this.draggingParts[G].y1=this.draggingParts[G].centerY+this.draggingParts[G].initY1*w,this.draggingParts[G].x2=this.draggingParts[G].centerX+this.draggingParts[G].initX2*w,this.draggingParts[G].y2=this.draggingParts[G].centerY+this.draggingParts[G].initY2*w,this.draggingParts[G].x3=this.draggingParts[G].centerX+this.draggingParts[G].initX3*w,this.draggingParts[G].y3=this.draggingParts[G].centerY+this.draggingParts[G].initY3*w):this.draggingParts[G]instanceof o.Cannon?(this.draggingParts[G].w=this.draggingParts[G].initW*w,this.draggingParts[G].Move(this.initDragX+this.draggingParts[G].dragXOff*w,this.initDragY+this.draggingParts[G].dragYOff*w)):this.draggingParts[G]instanceof n.JointPart?(this.draggingParts[G].Move(this.initDragX+this.draggingParts[G].dragXOff*w,this.initDragY+this.draggingParts[G].dragYOff*w),this.draggingParts[G]instanceof h.PrismaticJoint&&(this.draggingParts[G].initLength=this.draggingParts[G].initInitLength*w)):this.draggingParts[G]instanceof m.TextPart?(this.draggingParts[G].w=this.draggingParts[G].initW*w,this.draggingParts[G].h=this.draggingParts[G].initH*w,this.draggingParts[G].x=this.initDragX+this.draggingParts[G].dragXOff*w-this.draggingParts[G].w/2,this.draggingParts[G].y=this.initDragY+this.draggingParts[G].dragYOff*w-this.draggingParts[G].h/2):this.draggingParts[G]instanceof g.Thrusters&&this.draggingParts[G].Move(this.initDragX+this.draggingParts[G].dragXOff*w,this.initDragY+this.draggingParts[G].dragYOff*w);this.mostRecentScaleFactor=w}if(this.curAction==_.ControllerGameGlobals.FINALIZING_JOINT&&i.Util.GetDist(this.candidateJointX,this.candidateJointY,_.ControllerGameGlobals.mouseXWorldPhys,_.ControllerGameGlobals.mouseYWorldPhys)>15/this.m_physScale)if(this.candidateJointType==_.ControllerGameGlobals.NEW_REVOLUTE_JOINT){var D=new d.RevoluteJoint(this.potentialJointPart1,this.potentialJointPart2,this.candidateJointX,this.candidateJointY);this.copiedJoint instanceof d.RevoluteJoint&&D.SetJointProperties(this.copiedJoint),this.allParts.push(D),this.AddAction(new J.CreateAction(D)),this.m_sidePanel.ShowJointPanel(D),this.selectedParts=new Array,this.selectedParts.push(D),this.curAction=-1,this.potentialJointPart1.highlightForJoint=!1,this.potentialJointPart2.highlightForJoint=!1,_.ControllerGameGlobals.curRobotID="",_.ControllerGameGlobals.centerOnSelected&&this.CenterOnSelected(),this.redrawRobot=!0,this.PlayJointSound()}else if(this.candidateJointType==_.ControllerGameGlobals.NEW_FIXED_JOINT){var R=new r.FixedJoint(this.potentialJointPart1,this.potentialJointPart2,this.candidateJointX,this.candidateJointY);this.allParts.push(R),this.AddAction(new J.CreateAction(R)),this.m_sidePanel.ShowJointPanel(R),this.selectedParts=new Array,this.selectedParts.push(R),this.curAction=-1,this.potentialJointPart1.highlightForJoint=!1,this.potentialJointPart2.highlightForJoint=!1,_.ControllerGameGlobals.curRobotID="",_.ControllerGameGlobals.centerOnSelected&&this.CenterOnSelected(),this.redrawRobot=!0,this.PlayJointSound()}else if(this.candidateJointType==_.ControllerGameGlobals.NEW_THRUSTERS){var T=new g.Thrusters(this.potentialJointPart1,this.candidateJointX,this.candidateJointY);this.copiedThrusters&&(T.strength=this.copiedThrusters.strength,T.angle=this.copiedThrusters.angle,T.thrustKey=this.copiedThrusters.thrustKey,T.autoOn=this.copiedThrusters.autoOn),this.allParts.push(T),this.AddAction(new J.CreateAction(T)),this.m_sidePanel.ShowThrustersPanel(T),this.selectedParts=new Array,this.selectedParts.push(T),this.curAction=-1,this.potentialJointPart1.highlightForJoint=!1,_.ControllerGameGlobals.curRobotID="",_.ControllerGameGlobals.centerOnSelected&&this.CenterOnSelected(),this.redrawRobot=!0,this.PlayJointSound()}else if(this.candidateJointType==_.ControllerGameGlobals.NEW_PRISMATIC_JOINT&&0==this.actionStep)this.jointPart=this.potentialJointPart1,this.firstClickX=this.candidateJointX,this.firstClickY=this.candidateJointY,this.curAction=_.ControllerGameGlobals.NEW_PRISMATIC_JOINT,this.actionStep++,this.PlayJointSound();else if(this.candidateJointType==_.ControllerGameGlobals.NEW_PRISMATIC_JOINT){var v=new h.PrismaticJoint(this.jointPart,this.potentialJointPart1,this.firstClickX,this.firstClickY,this.candidateJointX,this.candidateJointY);this.copiedJoint instanceof h.PrismaticJoint&&v.SetJointProperties(this.copiedJoint),this.allParts.push(v),this.AddAction(new J.CreateAction(v)),this.m_sidePanel.ShowJointPanel(v),this.selectedParts=new Array,this.selectedParts.push(v),this.curAction=-1,this.jointPart.highlightForJoint=!1,this.potentialJointPart1.highlightForJoint=!1,_.ControllerGameGlobals.curRobotID="",_.ControllerGameGlobals.centerOnSelected&&this.CenterOnSelected(),this.redrawRobot=!0,this.PlayJointSound()}this.curAction==_.ControllerGameGlobals.RESIZING_TEXT&&(this.draggingPart.Resize(_.ControllerGameGlobals.mouseXWorldPhys-this.initDragX,_.ControllerGameGlobals.mouseYWorldPhys-this.initDragY),this.redrawRobot=!0)}if(this.simStarted&&f.Input.mouseDown&&!this.m_guiMenu.MouseOverMenu(_.ControllerGameGlobals.mouseXWorld,_.ControllerGameGlobals.mouseYWorld)&&_.ControllerGameGlobals.mouseYWorld>=100&&(_.ControllerGameGlobals.mouseXWorld>=120||!this.m_sidePanel.visible)&&(_.ControllerGameGlobals.mouseXWorld>=230||_.ControllerGameGlobals.mouseYWorld>=600||!this.m_sidePanel.ColourWindowShowing())&&this.curAction!=_.ControllerGameGlobals.BOX_SELECTING&&!this.m_mouseJoint&&!(this.m_tutorialDialog&&this.m_tutorialDialog.MouseOver(_.ControllerGameGlobals.mouseXWorld,_.ControllerGameGlobals.mouseYWorld)||this.draggingTutorial)){var W=_.ControllerGameGlobals.mouseXWorld!=_.ControllerGameGlobals.prevMouseXWorld||_.ControllerGameGlobals.mouseYWorld!=_.ControllerGameGlobals.prevMouseYWorld;this.draw.m_drawXOff-=_.ControllerGameGlobals.mouseXWorld-_.ControllerGameGlobals.prevMouseXWorld,this.draw.m_drawYOff-=_.ControllerGameGlobals.mouseYWorld-_.ControllerGameGlobals.prevMouseYWorld,this.autoPanning=!1,W&&(this.hasPanned=!0,this.cameraMovements.push(new P.CameraMovement(this.frameCounter,this.draw.m_drawXOff,this.draw.m_drawYOff,this.m_physScale)))}var I=this.Screen2WorldY(85),O=this.Screen2WorldY(600);I<this.GetMinY()?this.draw.m_drawYOff+=this.World2ScreenY(this.GetMinY())-this.World2ScreenY(I):O>this.GetMaxY()&&(this.draw.m_drawYOff-=this.World2ScreenY(O)-this.World2ScreenY(this.GetMaxY()));var E=this.Screen2WorldX(0),M=this.Screen2WorldX(800);E<this.GetMinX()?(this.draw.m_drawXOff+=this.World2ScreenX(this.GetMinX())-this.World2ScreenX(E),this.hasPanned=!0):M>this.GetMaxX()&&(this.draw.m_drawXOff-=this.World2ScreenX(M)-this.World2ScreenX(this.GetMaxX()),this.hasPanned=!0),_.ControllerGameGlobals.wasMouseDown=f.Input.mouseDown}keyInput(t,e){for(var s=!1,i=0;i<this.allParts.length;i++)this.allParts[i].KeyInput(t,e,_.ControllerGameGlobals.playingReplay),!s&&e&&!_.ControllerGameGlobals.playingReplay&&(this.allParts[i]instanceof m.TextPart&&t==this.allParts[i].displayKey||this.allParts[i]instanceof o.Cannon&&t==this.allParts[i].fireKey)&&(s=!0,this.keyPresses.push(new W.KeyPress(this.frameCounter,t)))}keyPress(t,e){this.paused||_.ControllerGameGlobals.playingReplay||this.keyInput(t,e),this.simStarted||this.m_sidePanel.EnteringInput()||this.m_fader.visible||(e&&49==t?this.circleButton():e&&50==t?this.rectButton():e&&51==t?this.triangleButton():e&&52==t?this.fjButton():e&&53==t?this.rjButton():e&&54==t?this.pjButton():e&&55==t?this.textButton():e&&82==t?this.rotateButton():e&&88==t?this.cutButton():e&&67==t?this.copyButton():e&&86==t?this.pasteButton():!e||8!=t&&46!=t?e&&89==t?this.redoButton():e&&90==t?this.undoButton():!e||107!=t&&187!=t?!e||109!=t&&189!=t?e&&80==t&&this.playButton():this.zoomOutButton():this.zoomInButton():1==this.selectedParts.length&&!this.selectedParts[0]instanceof m.TextPart?this.deleteButton():this.multiDeleteButton()),e&&27==t&&(this.m_chooserWindow&&this.m_chooserWindow.visible&&!this.m_chooserWindow.fader.visible&&(this.m_chooserWindow.visible=!1,this.m_fader.visible=!1),this.m_challengeWindow&&this.m_challengeWindow.visible&&!this.m_challengeWindow.fader.visible&&(this.m_challengeWindow.visible=!1,this.m_fader.visible=!1),this.m_sidePanel.visible&&!this.m_fader.visible&&(this.m_sidePanel.visible=!1),this.m_scoreWindow&&this.m_scoreWindow.visible&&(this.m_scoreWindow.visible=!1,this.m_fader.visible=!1),this.m_progressDialog&&this.m_progressDialog.visible&&(this.m_progressDialog.visible=!1,this.m_chooserWindow&&this.m_chooserWindow.visible?this.m_chooserWindow.HideFader():this.m_challengeWindow&&this.m_challengeWindow.visible?this.m_challengeWindow.HideFader():this.m_loginWindow&&this.m_loginWindow.visible?this.m_loginWindow.HideFader():this.m_newUserWindow&&this.m_newUserWindow.visible?this.m_newUserWindow.HideFader():this.m_fader.visible=!1),this.m_tutorialDialog&&this.m_tutorialDialog.visible&&this.m_tutorialDialog.closeWindow(new MouseEvent("")),this.m_linkDialog&&this.m_linkDialog.visible&&(this.m_linkDialog.visible=!1,this.m_chooserWindow&&this.m_chooserWindow.visible?this.m_chooserWindow.HideFader():this.m_fader.visible=!1),this.m_loginWindow&&this.m_loginWindow.visible&&!this.m_loginWindow.fader.visible&&this.m_loginWindow.cancelButtonPressed(new MouseEvent("")),this.m_newUserWindow&&this.m_newUserWindow.visible&&this.m_newUserWindow.cancelButtonPressed(new MouseEvent("")))}mouseMove(t,e){}mouseClick(t){if(this.m_guiMenu.MouseClick(t,_.ControllerGameGlobals.mouseXWorld,_.ControllerGameGlobals.mouseYWorld),t&&this.delayedSelection&&(this.delayedSelection=!1,_.ControllerGameGlobals.mouseXWorldPhys==this.initDragX&&_.ControllerGameGlobals.mouseYWorldPhys==this.initDragY)){var e=this.GetPartAtMouse();i.Util.ObjectInArray(e,this.selectedParts)?f.Input.isKeyDown(16)&&(this.selectedParts=i.Util.RemoveFromArray(e,this.selectedParts)):(f.Input.isKeyDown(16)||(this.selectedParts=new Array),this.selectedParts.push(e)),this.redrawRobot=!0,this.RefreshSidePanel()}if(t&&null!=this.rotatingPart)this.curAction=-1,this.AddAction(new tt.RotateAction(this.rotatingPart,this.rotatingParts,i.Util.NormalizeAngle(Math.atan2(_.ControllerGameGlobals.mouseYWorldPhys-this.rotatingPart.centerY,_.ControllerGameGlobals.mouseXWorldPhys-this.rotatingPart.centerX)-this.initRotatingAngle))),this.CheckIfPartsFit(),this.rotatingPart=null;else if(t&&null!=this.draggingPart)if(this.ignoreAClick)this.ignoreAClick=!1;else{if(this.curAction==_.ControllerGameGlobals.PASTE||this.curAction==_.ControllerGameGlobals.RESIZING_TEXT||_.ControllerGameGlobals.mouseXWorldPhys==this.initDragX&&_.ControllerGameGlobals.mouseYWorldPhys==this.initDragY||this.AddAction(new U.MoveAction(this.draggingPart,this.draggingParts,_.ControllerGameGlobals.mouseXWorldPhys-this.initDragX,_.ControllerGameGlobals.mouseYWorldPhys-this.initDragY)),this.curAction==_.ControllerGameGlobals.RESIZING_TEXT){var s=this.draggingPart;this.AddAction(new $.ResizeTextAction(s,s.x-s.initX,s.y-s.initY,s.w-s.initW,s.h-s.initH))}if(this.CheckIfPartsFit(),this.curAction==_.ControllerGameGlobals.PASTE){for(var a=!1,l=0;l<this.draggingParts.length;l++)if(this.draggingParts[l]instanceof c.ShapePart){a=!0;break}a&&this.PlayShapeSound()}this.curAction<14&&(this.curAction=-1),this.draggingPart=null}else if(t||this.curAction!=_.ControllerGameGlobals.RESIZING_SHAPES)if(t||this.curAction!=_.ControllerGameGlobals.DRAWING_BUILD_BOX&&this.curAction!=_.ControllerGameGlobals.DRAWING_BOX&&this.curAction!=_.ControllerGameGlobals.DRAWING_HORIZONTAL_LINE&&this.curAction!=_.ControllerGameGlobals.DRAWING_VERTICAL_LINE||0!=this.actionStep||!(_.ControllerGameGlobals.mouseYWorld>100)||this.m_guiMenu.MouseOverMenu(_.ControllerGameGlobals.mouseXWorld,_.ControllerGameGlobals.mouseYWorld)||this.m_tutorialDialog&&this.m_tutorialDialog.MouseOver(_.ControllerGameGlobals.mouseXWorld,_.ControllerGameGlobals.mouseYWorld))if(this.curAction!=_.ControllerGameGlobals.DRAWING_BOX&&this.curAction!=_.ControllerGameGlobals.DRAWING_HORIZONTAL_LINE&&this.curAction!=_.ControllerGameGlobals.DRAWING_VERTICAL_LINE||1!=this.actionStep){if(this.curAction==_.ControllerGameGlobals.DRAWING_BUILD_BOX&&1==this.actionStep&&(Math.abs(this.firstClickX-_.ControllerGameGlobals.mouseXWorldPhys)>.5||Math.abs(this.firstClickY-_.ControllerGameGlobals.mouseYWorldPhys)>.5)){this.curAction=-1;var r=new x.b2AABB;r.lowerBound=i.Util.Vector(Math.min(this.firstClickX,_.ControllerGameGlobals.mouseXWorldPhys),Math.min(this.firstClickY,_.ControllerGameGlobals.mouseYWorldPhys)),r.upperBound=i.Util.Vector(Math.max(this.firstClickX,_.ControllerGameGlobals.mouseXWorldPhys),Math.max(this.firstClickY,_.ControllerGameGlobals.mouseYWorldPhys)),ControllerChallenge.challenge.buildAreas.push(r),this.selectedBuildArea=ControllerChallenge.challenge.buildAreas[ControllerChallenge.challenge.buildAreas.length-1],this.m_sidePanel.ShowBuildBoxPanel(),this.BuildBuildArea(),this.redrawRobot=!0,this.redrawBuildArea=!0}}else(Math.abs(this.firstClickX-_.ControllerGameGlobals.mouseXWorldPhys)>.1||Math.abs(this.firstClickY-_.ControllerGameGlobals.mouseYWorldPhys)>.1)&&(this.curAction=-1,this.m_conditionsDialog.visible=!0,this.m_fader.visible=!0,this.selectingCondition=!1,this.m_conditionsDialog.FinishDrawingCondition(this.firstClickX,this.firstClickY,_.ControllerGameGlobals.mouseXWorldPhys,_.ControllerGameGlobals.mouseYWorldPhys),this.boxText.visible=!1,this.horizLineText.visible=!1,this.vertLineText.visible=!1,this.redrawRobot=!0);else this.firstClickX=_.ControllerGameGlobals.mouseXWorldPhys,this.firstClickY=_.ControllerGameGlobals.mouseYWorldPhys,this.actionStep++;else this.ignoreAClick?this.ignoreAClick=!1:(this.curAction=-1,this.AddAction(new Q.ResizeShapesAction(this.draggingParts,this.mostRecentScaleFactor)),this.draggingParts=new Array,this.CheckIfPartsFit());if(!t&&!this.draggingTutorial&&this.m_tutorialDialog&&this.m_tutorialDialog.MouseOver(_.ControllerGameGlobals.mouseXWorld,_.ControllerGameGlobals.mouseYWorld))return this.draggingTutorial=!0,this.initDragX=_.ControllerGameGlobals.mouseXWorld-this.m_tutorialDialog.x,void(this.initDragY=_.ControllerGameGlobals.mouseYWorld-this.m_tutorialDialog.y);if(!(!_.ControllerGameGlobals.curRobotEditable||_.ControllerGameGlobals.mouseYWorld<100||_.ControllerGameGlobals.mouseXWorld<120&&this.m_sidePanel.visible||this.m_guiMenu.MouseOverMenu(_.ControllerGameGlobals.mouseXWorld,_.ControllerGameGlobals.mouseYWorld)||_.ControllerGameGlobals.mouseXWorld<230&&_.ControllerGameGlobals.mouseYWorld<340&&this.m_sidePanel.ColourWindowShowing()||this.m_tutorialDialog&&this.m_tutorialDialog.MouseOver(_.ControllerGameGlobals.mouseXWorld,_.ControllerGameGlobals.mouseYWorld))){if(t&&1==this.selectedParts.length&&_.ControllerGameGlobals.centerOnSelected)this.CenterOnSelected();else if(0==this.selectedParts.length&&-1==this.curAction&&"challenge"===this.controllerType&&!ControllerChallenge.playChallengeMode)for(l=0;l<ControllerChallenge.challenge.buildAreas.length;l++)if(_.ControllerGameGlobals.mouseXWorldPhys>ControllerChallenge.challenge.buildAreas[l].lowerBound.x&&_.ControllerGameGlobals.mouseXWorldPhys<ControllerChallenge.challenge.buildAreas[l].upperBound.x&&_.ControllerGameGlobals.mouseYWorldPhys>ControllerChallenge.challenge.buildAreas[l].lowerBound.y&&_.ControllerGameGlobals.mouseYWorldPhys<ControllerChallenge.challenge.buildAreas[l].upperBound.y){this.selectedBuildArea=ControllerChallenge.challenge.buildAreas[l],this.m_sidePanel.ShowBuildBoxPanel();break}if(this.curAction==_.ControllerGameGlobals.NEW_CIRCLE)if(t||0!=this.actionStep){if(t&&1==this.actionStep){var h=i.Util.GetDist(this.firstClickX,this.firstClickY,_.ControllerGameGlobals.mouseXWorldPhys,_.ControllerGameGlobals.mouseYWorldPhys);if(h>0){this.curAction=-1;var d=new nt.Circle(this.firstClickX,this.firstClickY,h);this.allParts.push(d),this.selectedParts=new Array,this.selectedParts.push(d),this.AddAction(new J.CreateAction(d)),this.CheckIfPartsFit(),this.m_sidePanel.ShowObjectPanel(d),_.ControllerGameGlobals.curRobotID="",_.ControllerGameGlobals.centerOnSelected&&this.CenterOnSelected(),this.redrawRobot=!0,this.PlayShapeSound()}}}else this.firstClickX=_.ControllerGameGlobals.mouseXWorldPhys,this.firstClickY=_.ControllerGameGlobals.mouseYWorldPhys,this.actionStep++;else if(this.curAction==_.ControllerGameGlobals.NEW_RECT)if(t||0!=this.actionStep){if(t&&1==this.actionStep&&(_.ControllerGameGlobals.mouseXWorldPhys!=this.firstClickX||_.ControllerGameGlobals.mouseYWorldPhys!=this.firstClickY)){this.curAction=-1;var P=new rt.Rectangle(this.firstClickX,this.firstClickY,_.ControllerGameGlobals.mouseXWorldPhys-this.firstClickX,_.ControllerGameGlobals.mouseYWorldPhys-this.firstClickY);this.allParts.push(P),this.selectedParts=new Array,this.selectedParts.push(P),this.AddAction(new J.CreateAction(P)),this.CheckIfPartsFit(),this.m_sidePanel.ShowObjectPanel(P),_.ControllerGameGlobals.curRobotID="",_.ControllerGameGlobals.centerOnSelected&&this.CenterOnSelected(),this.redrawRobot=!0,this.PlayShapeSound()}}else this.firstClickX=_.ControllerGameGlobals.mouseXWorldPhys,this.firstClickY=_.ControllerGameGlobals.mouseYWorldPhys,this.actionStep++;else if(this.curAction==_.ControllerGameGlobals.NEW_CANNON)if(t||0!=this.actionStep){if(t&&1==this.actionStep&&(_.ControllerGameGlobals.mouseXWorldPhys!=this.firstClickX||_.ControllerGameGlobals.mouseYWorldPhys!=this.firstClickY)){this.curAction=-1;var G=_.ControllerGameGlobals.mouseXWorldPhys>=this.firstClickX||_.ControllerGameGlobals.mouseYWorldPhys>=this.firstClickY?Math.max(_.ControllerGameGlobals.mouseXWorldPhys-this.firstClickX,2*(_.ControllerGameGlobals.mouseYWorldPhys-this.firstClickY)):Math.min(_.ControllerGameGlobals.mouseXWorldPhys-this.firstClickX,2*(_.ControllerGameGlobals.mouseYWorldPhys-this.firstClickY)),u=new o.Cannon(this.firstClickX,this.firstClickY,G);this.allParts.push(u),this.selectedParts=new Array,this.selectedParts.push(u),this.AddAction(new J.CreateAction(u)),this.CheckIfPartsFit(),this.m_sidePanel.ShowCannonPanel(u),_.ControllerGameGlobals.curRobotID="",_.ControllerGameGlobals.centerOnSelected&&this.CenterOnSelected(),this.redrawRobot=!0,this.PlayShapeSound()}}else this.firstClickX=_.ControllerGameGlobals.mouseXWorldPhys,this.firstClickY=_.ControllerGameGlobals.mouseYWorldPhys,this.actionStep++;else if(this.curAction==_.ControllerGameGlobals.NEW_TRIANGLE)if(t||0!=this.actionStep){if(t&&1==this.actionStep){if(_.ControllerGameGlobals.mouseXWorldPhys!=this.firstClickX||_.ControllerGameGlobals.mouseYWorldPhys!=this.firstClickY){var C,p=_.ControllerGameGlobals.mouseXWorldPhys,w=_.ControllerGameGlobals.mouseYWorldPhys,y=i.Util.GetDist(this.firstClickX,this.firstClickY,_.ControllerGameGlobals.mouseXWorldPhys,_.ControllerGameGlobals.mouseYWorldPhys);y<b.Triangle.MIN_SIDE_LENGTH?(C=Math.atan2(this.firstClickY-_.ControllerGameGlobals.mouseYWorldPhys,_.ControllerGameGlobals.mouseXWorldPhys-this.firstClickX),p=this.firstClickX+b.Triangle.MIN_SIDE_LENGTH*Math.cos(C),w=this.firstClickY-b.Triangle.MIN_SIDE_LENGTH*Math.sin(C)):y>b.Triangle.MAX_SIDE_LENGTH&&(C=Math.atan2(this.firstClickY-_.ControllerGameGlobals.mouseYWorldPhys,_.ControllerGameGlobals.mouseXWorldPhys-this.firstClickX),p=this.firstClickX+b.Triangle.MAX_SIDE_LENGTH*Math.cos(C),w=this.firstClickY-b.Triangle.MAX_SIDE_LENGTH*Math.sin(C)),this.secondClickX=p,this.secondClickY=w,this.actionStep++,this.PlayShapeSound()}}else if(t&&2==this.actionStep&&!(_.ControllerGameGlobals.mouseXWorldPhys==this.firstClickX&&_.ControllerGameGlobals.mouseYWorldPhys==this.firstClickY||_.ControllerGameGlobals.mouseXWorldPhys==this.secondClickX&&_.ControllerGameGlobals.mouseYWorldPhys==this.secondClickY)){var S=i.Util.GetDist(this.firstClickX,this.firstClickY,_.ControllerGameGlobals.mouseXWorldPhys,_.ControllerGameGlobals.mouseYWorldPhys),A=i.Util.GetDist(this.secondClickX,this.secondClickY,_.ControllerGameGlobals.mouseXWorldPhys,_.ControllerGameGlobals.mouseYWorldPhys),D=i.Util.GetDist(this.firstClickX,this.firstClickY,this.secondClickX,this.secondClickY),R=i.Util.NormalizeAngle(Math.acos((D*D+S*S-A*A)/(2*D*S))),T=i.Util.NormalizeAngle(Math.acos((D*D+A*A-S*S)/(2*D*A))),v=i.Util.NormalizeAngle(Math.acos((S*S+A*A-D*D)/(2*S*A)));if(S<=b.Triangle.MAX_SIDE_LENGTH&&S>=b.Triangle.MIN_SIDE_LENGTH&&A<=b.Triangle.MAX_SIDE_LENGTH&&A>=b.Triangle.MIN_SIDE_LENGTH&&R>=b.Triangle.MIN_TRIANGLE_ANGLE&&T>=b.Triangle.MIN_TRIANGLE_ANGLE&&v>=b.Triangle.MIN_TRIANGLE_ANGLE){this.curAction=-1;var W=new b.Triangle(this.firstClickX,this.firstClickY,this.secondClickX,this.secondClickY,_.ControllerGameGlobals.mouseXWorldPhys,_.ControllerGameGlobals.mouseYWorldPhys);this.allParts.push(W),this.selectedParts=new Array,this.selectedParts.push(W),this.AddAction(new J.CreateAction(W)),this.CheckIfPartsFit(),this.m_sidePanel.ShowObjectPanel(W),_.ControllerGameGlobals.curRobotID="",_.ControllerGameGlobals.centerOnSelected&&this.CenterOnSelected(),this.redrawRobot=!0,this.PlayShapeSound()}}}else this.firstClickX=_.ControllerGameGlobals.mouseXWorldPhys,this.firstClickY=_.ControllerGameGlobals.mouseYWorldPhys,this.actionStep++;else if(t&&0==this.actionStep&&this.curAction==_.ControllerGameGlobals.NEW_PRISMATIC_JOINT)this.MaybeStartCreatingPrismaticJoint();else if(t&&1==this.actionStep&&this.curAction==_.ControllerGameGlobals.NEW_PRISMATIC_JOINT)i.Util.GetDist(this.firstClickX,this.firstClickY,_.ControllerGameGlobals.mouseXWorldPhys,_.ControllerGameGlobals.mouseYWorldPhys)>.3&&this.MaybeFinishCreatingPrismaticJoint();else if(!t||0!=this.actionStep||this.curAction!=_.ControllerGameGlobals.NEW_REVOLUTE_JOINT&&this.curAction!=_.ControllerGameGlobals.NEW_FIXED_JOINT)if(t&&this.curAction==_.ControllerGameGlobals.BOX_SELECTING){for(this.selectedParts=new Array,l=0;l<this.allParts.length;l++)this.allParts[l].isEditable&&this.allParts[l].IntersectsBox(Math.min(this.firstClickX,_.ControllerGameGlobals.mouseXWorldPhys),Math.min(this.firstClickY,_.ControllerGameGlobals.mouseYWorldPhys),Math.abs(this.firstClickX-_.ControllerGameGlobals.mouseXWorldPhys),Math.abs(this.firstClickY-_.ControllerGameGlobals.mouseYWorldPhys))&&this.selectedParts.push(this.allParts[l]);0==this.selectedParts.length?this.m_sidePanel.visible=!1:1==this.selectedParts.length&&this.selectedParts[0]instanceof o.Cannon?this.m_sidePanel.ShowCannonPanel(this.selectedParts[0]):1==this.selectedParts.length&&this.selectedParts[0]instanceof c.ShapePart?this.m_sidePanel.ShowObjectPanel(this.selectedParts[0]):1==this.selectedParts.length&&this.selectedParts[0]instanceof n.JointPart?this.m_sidePanel.ShowJointPanel(this.selectedParts[0]):1==this.selectedParts.length&&this.selectedParts[0]instanceof m.TextPart?this.m_sidePanel.ShowTextPanel(this.selectedParts[0]):1==this.selectedParts.length&&this.selectedParts[0]instanceof g.Thrusters?this.m_sidePanel.ShowThrustersPanel(this.selectedParts[0]):this.m_sidePanel.ShowMultiSelectPanel(this.selectedParts),this.curAction=-1,this.redrawRobot=!0}else if(t&&this.curAction==_.ControllerGameGlobals.FINALIZING_JOINT)if(this.candidateJointType==_.ControllerGameGlobals.NEW_PRISMATIC_JOINT||this.candidateJointType==_.ControllerGameGlobals.NEW_THRUSTERS){this.potentialJointPart1.highlightForJoint=!1;var I=-1;for(l=0;l<this.candidateJointParts.length;l++)this.potentialJointPart1==this.candidateJointParts[l]&&(I=l);++I==this.candidateJointParts.length&&(I=0),this.potentialJointPart1=this.candidateJointParts[I],this.potentialJointPart1.highlightForJoint=!0}else{this.potentialJointPart1.highlightForJoint=!1,this.potentialJointPart2.highlightForJoint=!1;var O=-1,E=-1;for(l=0;l<this.candidateJointParts.length;l++)this.potentialJointPart1==this.candidateJointParts[l]&&(O=l),this.potentialJointPart2==this.candidateJointParts[l]&&(E=l);O==this.candidateJointParts.length-2&&E==this.candidateJointParts.length-1?(O=0,E=1):++E==this.candidateJointParts.length&&(E=++O+1),this.potentialJointPart1=this.candidateJointParts[O],this.potentialJointPart2=this.candidateJointParts[E],this.potentialJointPart1.highlightForJoint=!0,this.potentialJointPart2.highlightForJoint=!0}else if(t||this.curAction!=_.ControllerGameGlobals.NEW_TEXT||0!=this.actionStep)if(t&&this.curAction==_.ControllerGameGlobals.NEW_TEXT&&1==this.actionStep){var M=_.ControllerGameGlobals.mouseXWorldPhys,Y=_.ControllerGameGlobals.mouseYWorldPhys;if(Math.abs(M-this.firstClickX)<1||Math.abs(Y-this.firstClickY)<.5){var X=(this.firstClickX+M)/2,N=(this.firstClickY+Y)/2;this.firstClickX=X-2,this.firstClickY=N-1,M=X+2,Y=N+1}var B=new m.TextPart(this,Math.min(this.firstClickX,M),Math.min(this.firstClickY,Y),Math.max(this.firstClickX,M)-Math.min(this.firstClickX,M),Math.max(this.firstClickY,Y)-Math.min(this.firstClickY,Y),"New Text");this.selectedParts.push(B),this.allParts.push(B),this.AddAction(new J.CreateAction(B)),this.curAction=-1,_.ControllerGameGlobals.curRobotID="",this.m_sidePanel.ShowTextPanel(B),this.redrawRobot=!0}else t&&this.curAction==_.ControllerGameGlobals.NEW_THRUSTERS?this.MaybeCreateThrusters():t&&this.curAction==_.ControllerGameGlobals.RESIZING_TEXT&&(this.curAction=-1);else this.firstClickX=_.ControllerGameGlobals.mouseXWorldPhys,this.firstClickY=_.ControllerGameGlobals.mouseYWorldPhys,this.actionStep++;else this.MaybeCreateJoint()}}RefreshSidePanel(){0==this.selectedParts.length||this.selectingCondition?this.m_sidePanel.visible=!1:1==this.selectedParts.length&&this.selectedParts[0]instanceof o.Cannon?(this.m_sidePanel.ShowCannonPanel(this.selectedParts[0]),this.lastSelectedShape=null):1==this.selectedParts.length&&this.selectedParts[0]instanceof c.ShapePart?(this.m_sidePanel.ShowObjectPanel(this.selectedParts[0]),this.lastSelectedShape=null):1==this.selectedParts.length&&this.selectedParts[0]instanceof m.TextPart?(this.m_sidePanel.ShowTextPanel(this.selectedParts[0]),this.lastSelectedText=null):1==this.selectedParts.length&&this.selectedParts[0]instanceof n.JointPart?(this.m_sidePanel.ShowJointPanel(this.selectedParts[0]),this.lastSelectedJoint=null):1==this.selectedParts.length&&this.selectedParts[0]instanceof g.Thrusters?(this.m_sidePanel.ShowThrustersPanel(this.selectedParts[0]),this.lastSelectedThrusters=null):this.m_sidePanel.ShowMultiSelectPanel(this.selectedParts)}AddAction(t){for(;this.lastAction+1!=this.actions.length;)this.actions.pop();this.lastAction=this.actions.length,this.actions.push(t)}CenterOnSelected(){if(1==this.selectedParts.length){var t,e;this.selectedParts[0]instanceof c.ShapePart||this.selectedParts[0]instanceof g.Thrusters?(t=this.selectedParts[0].centerX,e=this.selectedParts[0].centerY):this.selectedParts[0]instanceof n.JointPart?(t=this.selectedParts[0].anchorX,e=this.selectedParts[0].anchorY):this.selectedParts[0]instanceof m.TextPart&&(t=this.selectedParts[0].x+this.selectedParts[0].w/2,e=this.selectedParts[0].y+this.selectedParts[0].h/2);var s=this.draw.m_drawXOff,i=this.draw.m_drawYOff;this.draw.m_drawXOff+=this.World2ScreenX(t)-_.ControllerGameGlobals.ZOOM_FOCUS_X,this.draw.m_drawYOff+=this.World2ScreenY(e)-_.ControllerGameGlobals.ZOOM_FOCUS_Y,s==this.draw.m_drawXOff&&i==this.draw.m_drawYOff||(this.hasPanned=!0)}}circleButton(){_.ControllerGameGlobals.curRobotEditable&&!this.selectingCondition&&(this.curAction==_.ControllerGameGlobals.NEW_CIRCLE?(this.curAction=-1,this.redrawRobot=!0):(this.curAction=_.ControllerGameGlobals.NEW_CIRCLE,this.actionStep=0,this.selectedParts=new Array,this.m_sidePanel.visible=!1))}rectButton(){_.ControllerGameGlobals.curRobotEditable&&!this.selectingCondition&&(this.curAction==_.ControllerGameGlobals.NEW_RECT?(this.curAction=-1,this.redrawRobot=!0):(this.curAction=_.ControllerGameGlobals.NEW_RECT,this.actionStep=0,this.selectedParts=new Array,this.m_sidePanel.visible=!1))}triangleButton(){_.ControllerGameGlobals.curRobotEditable&&!this.selectingCondition&&(this.curAction==_.ControllerGameGlobals.NEW_TRIANGLE?(this.curAction=-1,this.redrawRobot=!0):(this.curAction=_.ControllerGameGlobals.NEW_TRIANGLE,this.actionStep=0,this.selectedParts=new Array,this.m_sidePanel.visible=!1))}fjButton(){_.ControllerGameGlobals.curRobotEditable&&!this.selectingCondition&&(this.curAction==_.ControllerGameGlobals.NEW_FIXED_JOINT?(this.curAction=-1,this.redrawRobot=!0):(this.curAction=_.ControllerGameGlobals.NEW_FIXED_JOINT,this.actionStep=0,this.selectedParts=new Array,this.m_sidePanel.visible=!1,this.potentialJointPart1=null,this.potentialJointPart2=null,this.copiedJoint=null))}rjButton(){_.ControllerGameGlobals.curRobotEditable&&!this.selectingCondition&&(this.curAction==_.ControllerGameGlobals.NEW_REVOLUTE_JOINT?(this.curAction=-1,this.redrawRobot=!0):(this.curAction=_.ControllerGameGlobals.NEW_REVOLUTE_JOINT,this.actionStep=0,this.selectedParts=new Array,this.m_sidePanel.visible=!1,this.potentialJointPart1=null,this.potentialJointPart2=null,this.copiedJoint=null))}pjButton(){_.ControllerGameGlobals.curRobotEditable&&!this.selectingCondition&&(this.curAction==_.ControllerGameGlobals.NEW_PRISMATIC_JOINT?(this.curAction=-1,this.redrawRobot=!0):(this.curAction=_.ControllerGameGlobals.NEW_PRISMATIC_JOINT,this.actionStep=0,this.selectedParts=new Array,this.m_sidePanel.visible=!1,this.potentialJointPart1=null,this.potentialJointPart2=null,this.copiedJoint=null))}textButton(){_.ControllerGameGlobals.curRobotEditable&&!this.selectingCondition&&(this.curAction==_.ControllerGameGlobals.NEW_TEXT?(this.curAction=-1,this.redrawRobot=!0):(this.curAction=_.ControllerGameGlobals.NEW_TEXT,this.actionStep=0,this.selectedParts=new Array,this.m_sidePanel.visible=!1))}thrustersButton(){_.ControllerGameGlobals.curRobotEditable&&!this.selectingCondition&&(this.curAction=_.ControllerGameGlobals.NEW_THRUSTERS,this.actionStep=0,this.selectedParts=new Array,this.m_sidePanel.visible=!1,this.copiedThrusters=null)}cannonButton(){_.ControllerGameGlobals.curRobotEditable&&!this.selectingCondition&&(this.curAction=_.ControllerGameGlobals.NEW_CANNON,this.actionStep=0,this.selectedParts=new Array,this.m_sidePanel.visible=!1)}mochiAdStarted(){_.ControllerGameGlobals.adStarted=!0}mochiAdFinished(){_.ControllerGameGlobals.adStarted=!1,this.playButton(new MouseEvent(""),!1)}playButton(t=!0){if(!this.selectingCondition&&!_.ControllerGameGlobals.adStarted){this.CheckIfPartsFit();var e=this.TooManyShapes();if(this.partsFit&&!e||_.ControllerGameGlobals.playingReplay){if(this.m_guiPanel.ShowGamePanel(),this.m_sidePanel.visible=!1,this.selectedParts=new Array,this.curAction=-1,this.paused=!1,!this.simStarted){this.frameCounter=0,this.m_guiPanel.SetTimer(this.frameCounter),this.cameraMovements=new Array,this.cameraMovements.push(new P.CameraMovement(0,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,this.m_physScale)),this.keyPresses=new Array,this.syncPoints=new Array,_.ControllerGameGlobals.cannonballs=new Array,_.ControllerGameGlobals.playingReplay&&(_.ControllerGameGlobals.replay.syncPointIndex=0,_.ControllerGameGlobals.replay.cameraMovementIndex=0,_.ControllerGameGlobals.replay.keyPressIndex=0,_.ControllerGameGlobals.replay.syncPoints.length>0&&(this.replaySplineXs=this.ComputeReplaySplines(0),this.replaySplineYs=this.ComputeReplaySplines(1),this.replaySplineAngles=this.ComputeReplaySplines(2))),this.simStarted=!0,this.autoPanning=!0,this.canSaveReplay=!0;for(var s=0;s<this.allParts.length;s++)this.allParts[s].checkedCollisionGroup=!1;for(s=0;s<this.allParts.length;s++)this.allParts[s]instanceof c.ShapePart&&this.allParts[s].SetCollisionGroup(-(s+1));for(this.CreateWorld(),s=this.allParts.length;s>=0;s--)(this.allParts[s]instanceof c.ShapePart||this.allParts[s]instanceof m.TextPart)&&this.allParts[s].Init(this.m_world);for(_.ControllerGameGlobals.collisionGroup=1,s=0;s<this.allParts.length;s++)this.allParts[s]instanceof h.PrismaticJoint&&(_.ControllerGameGlobals.collisionGroup*=2),(this.allParts[s]instanceof n.JointPart||this.allParts[s]instanceof g.Thrusters)&&this.allParts[s].Init(this.m_world);for(this.cameraPart=null,s=0;s<this.allParts.length;s++)this.allParts[s]instanceof c.ShapePart&&this.allParts[s].isCameraFocus&&this.allParts[s].isEnabled&&(this.cameraPart=this.allParts[s]);this.cameraPart||(this.cameraPart=this.FindCenterOfRobot()),this.savedDrawXOff=this.Screen2WorldX(_.ControllerGameGlobals.ZOOM_FOCUS_X),this.savedDrawYOff=this.Screen2WorldY(_.ControllerGameGlobals.ZOOM_FOCUS_Y)}}else this.m_fader.visible=!0,this.partsFit?e&&this.ShowDialog3("Your robot contains too many shapes!  (Limit 500)"):this.ShowDialog3("You must fit your robot inside the starting box first!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer()}}editButton(t=!1){}pauseButton(){_.ControllerGameGlobals.playingReplay&&_.ControllerGameGlobals.replay.Update(this.frameCounter)&&this.ShowPostReplayWindow(),this.m_guiPanel.ShowPausePanel(!_.ControllerGameGlobals.playingReplay),this.paused=!0}resetButton(t=!0){if(_.ControllerGameGlobals.playingReplay){for(var e=0;e<this.allParts.length;e++)this.allParts[e].UnInit(this.m_world);this.simStarted=!1,this.playButton(!1)}else{for(this.m_guiPanel.ShowEditPanel(),this.paused=!0,this.simStarted=!1,_.ControllerGameGlobals.playingReplay=!1,e=0;e<this.allParts.length;e++)this.allParts[e].UnInit(this.m_world);this.draw.m_drawXOff=this.savedDrawXOff*this.m_physScale-_.ControllerGameGlobals.ZOOM_FOCUS_X,this.draw.m_drawYOff=this.savedDrawYOff*this.m_physScale-_.ControllerGameGlobals.ZOOM_FOCUS_Y,this.hasPanned=!0,t&&(""==_.ControllerGameGlobals.curChallengeID||!_.ControllerGameGlobals.curChallengePublic||_.ControllerGameGlobals.ratedCurChallenge||D.LSOManager.HasRatedChallenge(_.ControllerGameGlobals.curChallengeID)?""==_.ControllerGameGlobals.curRobotID||!_.ControllerGameGlobals.curRobotPublic||_.ControllerGameGlobals.ratedCurRobot||D.LSOManager.HasRatedRobot(_.ControllerGameGlobals.curRobotID)||(_.ControllerGameGlobals.ratedCurRobot=!0,this.m_rateDialog&&this.removeChild(this.m_rateDialog),this.m_rateDialog=new RateWindow(this,0,0,!0),this.addChild(this.m_rateDialog),this.m_fader.visible=!0,this.paused=!0):(_.ControllerGameGlobals.ratedCurChallenge=!0,this.m_rateDialog&&this.removeChild(this.m_rateDialog),this.m_rateDialog=new RateWindow(this,2,0,!0),this.addChild(this.m_rateDialog),this.m_fader.visible=!0))}this.wonChallenge=!1,this.redrawBuildArea=!0}rewindButton(t=!0){if(_.ControllerGameGlobals.playingReplay)if(_.ControllerGameGlobals.viewingUnsavedReplay){this.paused=!0,this.simStarted=!1,_.ControllerGameGlobals.playingReplay=!1,this.wonChallenge=!1,_.ControllerGameGlobals.viewingUnsavedReplay=!1,this.m_guiPanel.ShowEditPanel(!0);for(var e=0;e<this.allParts.length;e++)this.allParts[e].UnInit(this.m_world);this.draw.m_drawXOff=this.savedDrawXOff*this.m_physScale-_.ControllerGameGlobals.ZOOM_FOCUS_X,this.draw.m_drawYOff=this.savedDrawYOff*this.m_physScale-_.ControllerGameGlobals.ZOOM_FOCUS_Y,this.hasPanned=!0,this.redrawBuildArea=!0}else t&&""!=_.ControllerGameGlobals.curReplayID&&!_.ControllerGameGlobals.ratedCurReplay&&_.ControllerGameGlobals.curReplayPublic&&!D.LSOManager.HasRatedReplay(_.ControllerGameGlobals.curReplayID)?(_.ControllerGameGlobals.ratedCurReplay=!0,this.m_rateDialog&&this.removeChild(this.m_rateDialog),this.m_rateDialog=new RateWindow(this,1,5),this.addChild(this.m_rateDialog),this.m_fader.visible=!0):(a.Main.changeControllers=!0,_.ControllerGameGlobals.playingReplay=!1,_.ControllerGameGlobals.showTutorial=!1,_.ControllerGameGlobals.replayParts=new Array,_.ControllerGameGlobals.curRobotID="",_.ControllerGameGlobals.curRobotEditable=!0,_.ControllerGameGlobals.curReplayID="");else this.resetButton(!1),this.playButton()}reportButton(){this.selectingCondition||(_.ControllerGameGlobals.playingReplay&&""!=_.ControllerGameGlobals.curReplayID&&_.ControllerGameGlobals.curReplayPublic?"_Public"==_.ControllerGameGlobals.userName?(this.clickedReport=!0,this.loginButton(!0,!1)):(this.m_reportWindow&&this.removeChild(this.m_reportWindow),this.m_reportWindow=new ReportWindow(this,1,_.ControllerGameGlobals.curReplayID),this.addChild(this.m_reportWindow),this.m_fader.visible=!0,this.m_guiPanel.ShowPausePanel(!_.ControllerGameGlobals.playingReplay),this.paused=!0):""!=_.ControllerGameGlobals.curChallengeID&&_.ControllerGameGlobals.curChallengePublic?"_Public"==_.ControllerGameGlobals.userName?(this.clickedReport=!0,this.loginButton(e,!0,!1)):(this.m_reportWindow&&this.removeChild(this.m_reportWindow),this.m_reportWindow=new ReportWindow(this,2,_.ControllerGameGlobals.curChallengeID),this.addChild(this.m_reportWindow),this.m_fader.visible=!0,this.m_guiPanel.ShowPausePanel(!_.ControllerGameGlobals.playingReplay),this.paused=!0):""!=_.ControllerGameGlobals.curRobotID&&_.ControllerGameGlobals.curRobotPublic?"_Public"==_.ControllerGameGlobals.userName?(this.clickedReport=!0,this.loginButton(!0,!1)):(this.m_reportWindow&&this.removeChild(this.m_reportWindow),this.m_reportWindow=new ReportWindow(this,0,_.ControllerGameGlobals.curRobotID),this.addChild(this.m_reportWindow),this.m_fader.visible=!0,this.m_guiPanel.ShowPausePanel(!_.ControllerGameGlobals.playingReplay),this.paused=!0):(this.m_fader.visible=!0,this.ShowDialog3("You can only report publicly saved robots."),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer()))}finishReporting(){-1!=s.Database.FinishReporting(e)&&(this.ShowDialog3("Thank you, the moderators have been notified."),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer(),a.Main.ShowMouse())}featureButton(){this.selectingCondition||(_.ControllerGameGlobals.playingReplay&&""!=_.ControllerGameGlobals.curReplayID&&_.ControllerGameGlobals.curReplayPublic?(s.Database.FeatureReplay(_.ControllerGameGlobals.curReplayID,!_.ControllerGameGlobals.curReplayFeatured,this.finishFeaturing),this.m_fader.visible=!0,this.ShowDialog("Featuring..."),a.Main.ShowHourglass()):""!=_.ControllerGameGlobals.curChallengeID&&_.ControllerGameGlobals.curChallengePublic?(s.Database.FeatureChallenge(_.ControllerGameGlobals.curChallengeID,!_.ControllerGameGlobals.curChallengeFeatured,this.finishFeaturing),this.m_fader.visible=!0,this.ShowDialog("Featuring..."),a.Main.ShowHourglass()):""!=_.ControllerGameGlobals.curRobotID&&_.ControllerGameGlobals.curRobotPublic?(s.Database.FeatureRobot(_.ControllerGameGlobals.curRobotID,!_.ControllerGameGlobals.curRobotFeatured,this.finishFeaturing),this.m_fader.visible=!0,this.ShowDialog("Featuring..."),a.Main.ShowHourglass()):(this.m_fader.visible=!0,this.ShowDialog3("You can only feature publicly saved robots."),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer()))}finishFeaturing(){s.Database.FinishFeaturing(e)&&(this.m_progressDialog.SetMessage("Success!"),this.m_progressDialog.HideInXSeconds(1),this.m_fader.visible=!1,a.Main.ShowMouse(),_.ControllerGameGlobals.playingReplay?_.ControllerGameGlobals.curReplayFeatured=!_.ControllerGameGlobals.curReplayFeatured:""!=_.ControllerGameGlobals.curChallengeID?_.ControllerGameGlobals.curChallengeFeatured=!_.ControllerGameGlobals.curChallengeFeatured:_.ControllerGameGlobals.curRobotFeatured=!_.ControllerGameGlobals.curRobotFeatured)}rateButton(){this.selectingCondition||(""!=_.ControllerGameGlobals.curRobotID&&_.ControllerGameGlobals.curRobotPublic&&!D.LSOManager.HasRatedRobot(_.ControllerGameGlobals.curRobotID)?(this.m_fader.visible=!0,this.m_rateDialog&&this.removeChild(this.m_rateDialog),this.m_rateDialog=new RateWindow(this,0),this.addChild(this.m_rateDialog)):""!=_.ControllerGameGlobals.curRobotID&&_.ControllerGameGlobals.curRobotPublic?(this.m_fader.visible=!0,this.ShowDialog3("You've already rated this robot!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer()):(this.m_fader.visible=!0,this.ShowDialog3("You need to save your robot publicly first!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer()))}rateWindowClosed(t,e){this.m_rateDialog.visible=!1,_.ControllerGameGlobals.playingReplay&&""!=_.ControllerGameGlobals.curReplayID&&_.ControllerGameGlobals.curReplayPublic?s.Database.RateReplay(_.ControllerGameGlobals.curReplayID,t,this.finishRatingReplay):""!=_.ControllerGameGlobals.curChallengeID&&_.ControllerGameGlobals.curChallengePublic?s.Database.RateChallenge(_.ControllerGameGlobals.curChallengeID,t,this.finishRatingChallenge):s.Database.RateRobot(_.ControllerGameGlobals.curRobotID,t,this.finishRatingRobot),this.redirectAfterRating=e,this.m_fader.visible=!0,this.ShowDialog("Rating..."),a.Main.ShowHourglass(),this.curAction=-1}conditionsButton(){this.curAction=-1,this.boxText.visible=!1,this.horizLineText.visible=!1,this.vertLineText.visible=!1,this.shapeText.visible=!1,this.m_sidePanel.visible=!1,this.m_conditionsDialog&&this.removeChild(this.m_conditionsDialog),this.m_conditionsDialog=new ConditionsWindow(this),this.addChild(this.m_conditionsDialog),this.m_fader.visible=!0}restrictionsButton(){this.selectingCondition||(this.m_sidePanel.visible=!1,this.m_restrictionsDialog&&this.removeChild(this.m_restrictionsDialog),this.m_restrictionsDialog=new RestrictionsWindow(this),this.addChild(this.m_restrictionsDialog),this.m_fader.visible=!0,this.saveAfterRestrictions=!1)}buildBoxButton(){this.selectingCondition||(this.curAction=_.ControllerGameGlobals.DRAWING_BUILD_BOX,this.actionStep=0)}sandboxSettingsButton(){_.ControllerGameGlobals.curRobotEditable&&!this.selectingCondition&&(this.simStarted||("sandbox"!==this.controllerType||"challenge"===this.controllerType&&ControllerChallenge.playOnlyMode?(this.m_fader.visible=!0,this.ShowDialog3("That feature instanceof only available in Sandbox mode!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer()):(this.m_sandboxWindow=new R.AdvancedSandboxWindow(this,v.ControllerSandbox.settings),this.m_fader.visible=!0,this.addChild(this.m_sandboxWindow))))}commentButton(t="",e=!1){this.selectingCondition||(""==t&&(t=_.ControllerGameGlobals.curRobotID,e=_.ControllerGameGlobals.curRobotPublic),""!=t&&e?(s.Database.CommentOnRobot(t,this.finishCommenting),this.m_fader.visible=!0,this.ShowDialog("Connecting to forum..."),a.Main.ShowHourglass(),this.curAction=-1):(this.m_fader.visible=!0,this.ShowDialog3("You need to save your robot publicly first!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer()))}finishCommenting(){if(s.Database.waitingForResponse&&(s.Database.curTransactionType==s.Database.ACTION_COMMENT_ROBOT||s.Database.curTransactionType==s.Database.ACTION_COMMENT_REPLAY)){var t=s.Database.FinishCommenting();-1!=t&&(this.m_chooserWindow&&this.m_chooserWindow.visible?this.m_chooserWindow.HideFader():this.m_fader.visible=!1,this.m_progressDialog.visible=!1,a.Main.BrowserRedirect("http://www.incredibots.com/forums/posting.php?mode=reply&t="+t+("_Public"==_.ControllerGameGlobals.userName?"":"&sid="+_.ControllerGameGlobals.sessionID),!0),a.Main.ShowMouse())}}finishRatingRobot(){s.Database.waitingForResponse&&s.Database.curTransactionType==s.Database.ACTION_RATE_ROBOT&&(s.Database.FinishRating()&&(D.LSOManager.SetRobotRated(_.ControllerGameGlobals.curRobotID),this.m_progressDialog.SetMessage("Success!"),this.m_progressDialog.HideInXSeconds(1),this.m_postReplayWindow&&this.m_postReplayWindow.visible?this.m_postReplayWindow.HideFader():this.m_fader.visible=!1,this.m_rateDialog.visible=!1,a.Main.ShowMouse()),1==this.redirectAfterRating?this.loadButton():2==this.redirectAfterRating?this.loadRobotButton():3==this.redirectAfterRating?this.loadReplayButton():4==this.redirectAfterRating?this.loadChallengeButton():5==this.redirectAfterRating&&this.rewindButton(),this.redirectAfterRating=0)}finishRatingReplay(){s.Database.waitingForResponse&&s.Database.curTransactionType==s.Database.ACTION_RATE_REPLAY&&(s.Database.FinishRating(e)&&(D.LSOManager.SetReplayRated(_.ControllerGameGlobals.curReplayID),this.m_progressDialog.SetMessage("Success!"),this.m_progressDialog.HideInXSeconds(1),this.m_postReplayWindow&&this.m_postReplayWindow.visible?this.m_postReplayWindow.HideFader():this.m_fader.visible=!1,this.m_rateDialog.visible=!1,a.Main.ShowMouse()),1==this.redirectAfterRating?this.loadButton():2==this.redirectAfterRating?this.loadRobotButton():3==this.redirectAfterRating?this.loadReplayButton():4==this.redirectAfterRating?this.loadChallengeButton():5==this.redirectAfterRating&&this.rewindButton(),this.redirectAfterRating=0)}finishRatingChallenge(){s.Database.waitingForResponse&&s.Database.curTransactionType==s.Database.ACTION_RATE_CHALLENGE&&(s.Database.FinishRating()&&(D.LSOManager.SetChallengeRated(_.ControllerGameGlobals.curChallengeID),this.m_progressDialog.SetMessage("Success!"),this.m_progressDialog.HideInXSeconds(1),this.m_postReplayWindow&&this.m_postReplayWindow.visible?this.m_postReplayWindow.HideFader():this.m_fader.visible=!1,this.m_rateDialog.visible=!1,a.Main.ShowMouse()),1==this.redirectAfterRating?this.loadButton():2==this.redirectAfterRating?this.loadRobotButton():3==this.redirectAfterRating?this.loadReplayButton():4==this.redirectAfterRating?this.loadChallengeButton():5==this.redirectAfterRating&&this.rewindButton(),this.redirectAfterRating=0)}embedButton(t="",e=!1){this.selectingCondition||(""==t&&(t=_.ControllerGameGlobals.curRobotID,e=_.ControllerGameGlobals.curRobotPublic),""!=t&&e?(this.m_fader.visible=!0,this.ShowLinkDialog("Copy the HTML below into your\n  website to embed this robot.",null,!1,t)):(this.m_fader.visible=!0,this.ShowDialog3("You need to save your robot publicly first!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer()))}linkButton(t="",e=!1){this.selectingCondition||(""==t&&(t=_.ControllerGameGlobals.curRobotID,e=_.ControllerGameGlobals.curRobotPublic),""!=t&&e?(this.m_fader.visible=!0,this.ShowLinkDialog("     Use the link below to\n        link to this robot.","http://incredibots2.com/?robotID="+t)):(this.m_fader.visible=!0,this.ShowDialog3("You need to save your robot publicly first!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer()))}rateReplayButton(){this.selectingCondition||(""!=_.ControllerGameGlobals.curReplayID&&_.ControllerGameGlobals.curReplayPublic&&!D.LSOManager.HasRatedReplay(_.ControllerGameGlobals.curReplayID)?(this.m_fader.visible=!0,this.m_rateDialog&&this.removeChild(this.m_rateDialog),this.m_rateDialog=new RateWindow(this,1),this.addChild(this.m_rateDialog)):""!=_.ControllerGameGlobals.curReplayID&&_.ControllerGameGlobals.curReplayPublic?(this.m_fader.visible=!0,this.ShowDialog3("You've already rated this replay!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer()):(this.m_fader.visible=!0,this.ShowDialog3("You need to save your replay publicly first!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer()))}commentReplayButton(t="",e=!1){""==t&&(t=_.ControllerGameGlobals.curReplayID,e=_.ControllerGameGlobals.curReplayPublic),""!=t&&e?(s.Database.CommentOnReplay(t,this.finishCommenting),this.m_fader.visible=!0,this.ShowDialog("Connecting to forum..."),a.Main.ShowHourglass(),this.curAction=-1):(this.m_fader.visible=!0,this.ShowDialog3("You need to save your replay publicly first!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer())}embedReplayButton(t="",e=!1){""==t&&(t=_.ControllerGameGlobals.curReplayID,e=_.ControllerGameGlobals.curReplayPublic),""!=t&&e?(this.m_fader.visible=!0,this.ShowLinkDialog("Copy the HTML below into your\n  website to embed this replay.",null,!0,t)):(this.m_fader.visible=!0,this.ShowDialog3("You need to save your replay publicly first!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer())}linkReplayButton(t="",e=!1){""==t&&(t=_.ControllerGameGlobals.curReplayID,e=_.ControllerGameGlobals.curReplayPublic),""!=t&&e?(this.m_fader.visible=!0,this.ShowLinkDialog("     Use the link below to\n       link to this replay.","http://incredibots2.com/?replayID="+t)):(this.m_fader.visible=!0,this.ShowDialog3("You need to save your replay publicly first!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer())}rateChallengeButton(){this.selectingCondition||(""!=_.ControllerGameGlobals.curChallengeID&&_.ControllerGameGlobals.curChallengePublic&&!D.LSOManager.HasRatedChallenge(_.ControllerGameGlobals.curChallengeID)?(this.m_fader.visible=!0,this.m_rateDialog&&this.removeChild(this.m_rateDialog),this.m_rateDialog=new RateWindow(this,2),this.addChild(this.m_rateDialog)):""!=_.ControllerGameGlobals.curChallengeID&&_.ControllerGameGlobals.curChallengePublic?(this.m_fader.visible=!0,this.ShowDialog3("You've already rated this challenge!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer()):(this.m_fader.visible=!0,this.ShowDialog3("You need to save your challenge publicly first!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer()))}commentChallengeButton(t="",e=!1){this.selectingCondition||(""==t&&(t=_.ControllerGameGlobals.curChallengeID,e=_.ControllerGameGlobals.curChallengePublic),""!=t&&e?(s.Database.CommentOnChallenge(t,this.finishCommenting),this.m_fader.visible=!0,this.ShowDialog("Connecting to forum..."),a.Main.ShowHourglass(),this.curAction=-1):(this.m_fader.visible=!0,this.ShowDialog3("You need to save your challenge publicly first!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer()))}embedChallengeButton(t="",e=!1){this.selectingCondition||(""==t&&(t=_.ControllerGameGlobals.curChallengeID,e=_.ControllerGameGlobals.curChallengePublic),""!=t&&e?(this.m_fader.visible=!0,this.ShowLinkDialog("Copy the HTML below into your\n  website to embed this challenge.",null,!1,t,!0)):(this.m_fader.visible=!0,this.ShowDialog3("You need to save your challenge publicly first!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer()))}linkChallengeButton(t="",e=!1){this.selectingCondition||(""==t&&(t=_.ControllerGameGlobals.curChallengeID,e=_.ControllerGameGlobals.curChallengePublic),""!=t&&e?(this.m_fader.visible=!0,this.ShowLinkDialog("     Use the link below to\n       link to this challenge.","http://incredibots2.com/?challengeID="+t)):(this.m_fader.visible=!0,this.ShowDialog3("You need to save your challenge publicly first!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer()))}tutorialButton(){this.m_tutorialDialog&&(this.m_tutorialDialog.visible=!0,this.m_tutorialDialog.ResetPosition())}rotateButton(){if(_.ControllerGameGlobals.curRobotEditable){for(var t=this.selectedParts.length-1;t>=0;t--)this.selectedParts[t]instanceof m.TextPart&&(this.selectedParts=i.Util.RemoveFromArray(this.selectedParts[t],this.selectedParts));if(0!=this.selectedParts.length){for(this.curAction=_.ControllerGameGlobals.ROTATE,this.rotatingPart=null,t=0;t<this.selectedParts.length;t++)(this.selectedParts[t]instanceof c.ShapePart&&(!this.rotatingPart||this.rotatingPart instanceof g.Thrusters||this.selectedParts[t].GetMass()>this.rotatingPart.GetMass())||this.selectedParts[t]instanceof g.Thrusters&&!this.rotatingPart)&&(this.rotatingPart=this.selectedParts[t]);if(null!=this.rotatingPart){if(this.rotatingParts=new Array,1==this.selectedParts.length&&this.rotatingPart instanceof g.Thrusters)this.rotatingParts.push(this.rotatingPart);else{for(t=0;t<this.selectedParts.length;t++)this.rotatingParts=this.rotatingParts.concat(this.selectedParts[t].GetAttachedParts());this.rotatingParts=i.Util.RemoveDuplicates(this.rotatingParts)}for(t=0;t<this.rotatingParts.length;t++)this.rotatingParts[t]instanceof c.ShapePart||this.rotatingParts[t]instanceof g.Thrusters?(this.rotatingParts[t].rotateAngle=Math.atan2(this.rotatingParts[t].centerY-this.rotatingPart.centerY,this.rotatingParts[t].centerX-this.rotatingPart.centerX),this.rotatingParts[t].rotateOrientation=this.rotatingParts[t].angle):(this.rotatingParts[t].rotateAngle=Math.atan2(this.rotatingParts[t].anchorY-this.rotatingPart.centerY,this.rotatingParts[t].anchorX-this.rotatingPart.centerX),this.rotatingParts[t]instanceof h.PrismaticJoint&&(this.rotatingParts[t].rotateOrientation=i.Util.GetAngle(this.rotatingParts[t].axis)));this.initRotatingAngle=Math.atan2(_.ControllerGameGlobals.mouseYWorldPhys-this.rotatingPart.centerY,_.ControllerGameGlobals.mouseXWorldPhys-this.rotatingPart.centerX)}}}}mirrorHorizontal(){if(_.ControllerGameGlobals.curRobotEditable&&!this.selectingCondition&&!this.simStarted&&0!=this.selectedParts.length){for(var t=new Array,e=this.selectedParts[0]instanceof n.JointPart?this.selectedParts[0].anchorX:this.selectedParts[0]instanceof m.TextPart?this.selectedParts[0].x+this.selectedParts[0].w/2:this.selectedParts[0].centerX,s=this.selectedParts[0]instanceof n.JointPart?this.selectedParts[0].anchorY:this.selectedParts[0]instanceof m.TextPart?this.selectedParts[0].y+this.selectedParts[0].h/2:this.selectedParts[0].centerY,a=new Array,l=0;l<this.selectedParts.length;l++)if(this.selectedParts[l]instanceof nt.Circle){var c=new nt.Circle(e-(this.selectedParts[l].centerX-e),this.selectedParts[l].centerY,this.selectedParts[l].radius);c.angle=Math.PI-this.selectedParts[l].angle,c.isStatic=this.selectedParts[l].isStatic,c.density=this.selectedParts[l].density,c.collide=this.selectedParts[l].collide,c.red=this.selectedParts[l].red,c.green=this.selectedParts[l].green,c.blue=this.selectedParts[l].blue,c.opacity=this.selectedParts[l].opacity,c.outline=this.selectedParts[l].outline,c.terrain=this.selectedParts[l].terrain,c.undragable=this.selectedParts[l].undragable,t.push(c),a.push(c)}else if(this.selectedParts[l]instanceof rt.Rectangle){var P=new rt.Rectangle(e-(this.selectedParts[l].x-e),this.selectedParts[l].y,-this.selectedParts[l].w,this.selectedParts[l].h);P.angle=Math.PI-this.selectedParts[l].angle,P.isStatic=this.selectedParts[l].isStatic,P.density=this.selectedParts[l].density,P.collide=this.selectedParts[l].collide,P.red=this.selectedParts[l].red,P.green=this.selectedParts[l].green,P.blue=this.selectedParts[l].blue,P.opacity=this.selectedParts[l].opacity,P.outline=this.selectedParts[l].outline,P.terrain=this.selectedParts[l].terrain,P.undragable=this.selectedParts[l].undragable,t.push(P),a.push(P)}else if(this.selectedParts[l]instanceof b.Triangle){var G=this.selectedParts[l].GetVertices(),u=new b.Triangle(e-(G[0].x-e),G[0].y,e-(G[1].x-e),G[1].y,e-(G[2].x-e),G[2].y);u.isStatic=this.selectedParts[l].isStatic,u.density=this.selectedParts[l].density,u.collide=this.selectedParts[l].collide,u.red=this.selectedParts[l].red,u.green=this.selectedParts[l].green,u.blue=this.selectedParts[l].blue,u.opacity=this.selectedParts[l].opacity,u.outline=this.selectedParts[l].outline,u.terrain=this.selectedParts[l].terrain,u.undragable=this.selectedParts[l].undragable,t.push(u),a.push(u)}else if(this.selectedParts[l]instanceof o.Cannon){var C=new o.Cannon(e-(this.selectedParts[l].x-e)-this.selectedParts[l].w,this.selectedParts[l].y,this.selectedParts[l].w);C.angle=Math.PI-this.selectedParts[l].angle,C.isStatic=this.selectedParts[l].isStatic,C.density=this.selectedParts[l].density,C.collide=this.selectedParts[l].collide,C.red=this.selectedParts[l].red,C.green=this.selectedParts[l].green,C.blue=this.selectedParts[l].blue,C.opacity=this.selectedParts[l].opacity,C.outline=this.selectedParts[l].outline,C.terrain=this.selectedParts[l].terrain,C.undragable=this.selectedParts[l].undragable,C.fireKey=this.selectedParts[l].fireKey,C.strength=this.selectedParts[l].strength,t.push(C),a.push(C)}else if(this.selectedParts[l]instanceof m.TextPart){var p=new m.TextPart(this,e-(this.selectedParts[l].x+this.selectedParts[l].w/2-e),this.selectedParts[l].y,this.selectedParts[l].w,this.selectedParts[l].h,this.selectedParts[l].text,this.selectedParts[l].inFront);p.red=this.selectedParts[l].red,p.green=this.selectedParts[l].green,p.blue=this.selectedParts[l].blue,p.size=this.selectedParts[l].size,p.alwaysVisible=this.selectedParts[l].alwaysVisible,p.inFront=this.selectedParts[l].inFront,p.scaleWithZoom=this.selectedParts[l].scaleWithZoom,p.displayKey=this.selectedParts[l].displayKey,t.push(p),a.push(-1)}else(this.selectedParts[l]instanceof n.JointPart||this.selectedParts[l]instanceof g.Thrusters)&&a.push(-1);for(l=0;l<this.selectedParts.length;l++){var f=-1,w=-1;if(this.selectedParts[l]instanceof n.JointPart){for(var y=0;y<this.selectedParts.length;y++)this.selectedParts[y]==this.selectedParts[l].part1&&(f=y),this.selectedParts[y]==this.selectedParts[l].part2&&(w=y);if(-1==f||-1==w)continue}else if(this.selectedParts[l]instanceof g.Thrusters){for(y=0;y<this.selectedParts.length;y++)this.selectedParts[y]==this.selectedParts[l].shape&&(f=y);if(-1==f)continue}if(this.selectedParts[l]instanceof r.FixedJoint){var S=new r.FixedJoint(a[f],a[w],e-(this.selectedParts[l].anchorX-e),this.selectedParts[l].anchorY);t.push(S)}else if(this.selectedParts[l]instanceof d.RevoluteJoint){var A=new d.RevoluteJoint(a[f],a[w],e-(this.selectedParts[l].anchorX-e),this.selectedParts[l].anchorY);A.enableMotor=this.selectedParts[l].enableMotor,A.motorCWKey=this.selectedParts[l].motorCCWKey,A.motorCCWKey=this.selectedParts[l].motorCWKey,A.motorStrength=this.selectedParts[l].motorStrength,A.motorSpeed=this.selectedParts[l].motorSpeed,A.motorLowerLimit=-this.selectedParts[l].motorUpperLimit,A.motorUpperLimit=-this.selectedParts[l].motorLowerLimit,A.isStiff=this.selectedParts[l].isStiff,A.autoCW=this.selectedParts[l].autoCCW,A.autoCCW=this.selectedParts[l].autoCW,t.push(A)}else if(this.selectedParts[l]instanceof h.PrismaticJoint){var D=new h.PrismaticJoint(a[f],a[w],0,0,1,1);D.anchorX=e-(this.selectedParts[l].anchorX-e),D.anchorY=this.selectedParts[l].anchorY;var R=Math.atan2(this.selectedParts[l].axis.y,this.selectedParts[l].axis.x);R=i.Util.NormalizeAngle(Math.PI-R),D.axis=new x.b2Vec2(Math.cos(R),Math.sin(R)),D.axis.Normalize(),D.initLength=this.selectedParts[l].initLength,D.enablePiston=this.selectedParts[l].enablePiston,D.pistonUpKey=this.selectedParts[l].pistonUpKey,D.pistonDownKey=this.selectedParts[l].pistonDownKey,D.pistonStrength=this.selectedParts[l].pistonStrength,D.pistonSpeed=this.selectedParts[l].pistonSpeed,D.isStiff=this.selectedParts[l].isStiff,D.autoOscillate=this.selectedParts[l].autoOscillate,D.red=this.selectedParts[l].red,D.green=this.selectedParts[l].green,D.blue=this.selectedParts[l].blue,D.opacity=this.selectedParts[l].opacity,D.outline=this.selectedParts[l].outline,D.collide=this.selectedParts[l].collide,t.push(D)}else if(this.selectedParts[l]instanceof g.Thrusters){var T=new g.Thrusters(a[f],e-(this.selectedParts[l].centerX-e),this.selectedParts[l].centerY);T.angle=Math.PI-this.selectedParts[l].angle,T.strength=this.selectedParts[l].strength,T.thrustKey=this.selectedParts[l].thrustKey,T.autoOn=this.selectedParts[l].autoOn,t.push(T)}}if(t.length>0){for(this.selectedParts=new Array,this.draggingParts=new Array,l=0;l<t.length;l++)t[l].dragXOff=e-(t[l]instanceof n.JointPart?t[l].anchorX:t[l]instanceof m.TextPart?t[l].x-t[l].w/2:t[l].centerX),t[l].dragYOff=s-(t[l]instanceof n.JointPart?t[l].anchorY:t[l]instanceof m.TextPart?t[l].y-t[l].h/2:t[l].centerY),this.selectedParts.push(t[l]),this.draggingParts.push(t[l]),this.allParts.push(t[l]);this.initDragX=_.ControllerGameGlobals.mouseXWorldPhys,this.initDragY=_.ControllerGameGlobals.mouseYWorldPhys,this.draggingPart=this.selectedParts[0],this.draggingPart.Move(_.ControllerGameGlobals.mouseXWorldPhys,_.ControllerGameGlobals.mouseYWorldPhys),this.RefreshSidePanel(),this.AddAction(new k.MassCreateAction(this.selectedParts)),this.curAction=_.ControllerGameGlobals.PASTE,_.ControllerGameGlobals.curRobotID=""}}}mirrorVertical(){if(_.ControllerGameGlobals.curRobotEditable&&!this.selectingCondition&&!this.simStarted&&0!=this.selectedParts.length){for(var t=new Array,e=this.selectedParts[0]instanceof n.JointPart?this.selectedParts[0].anchorX:this.selectedParts[0]instanceof m.TextPart?this.selectedParts[0].x+this.selectedParts[0].w/2:this.selectedParts[0].centerX,s=this.selectedParts[0]instanceof n.JointPart?this.selectedParts[0].anchorY:this.selectedParts[0]instanceof m.TextPart?this.selectedParts[0].y+this.selectedParts[0].h/2:this.selectedParts[0].centerY,a=new Array,l=0;l<this.selectedParts.length;l++)if(this.selectedParts[l]instanceof nt.Circle){var c=new nt.Circle(this.selectedParts[l].centerX,s-(this.selectedParts[l].centerY-s),this.selectedParts[l].radius);c.angle=2*Math.PI-this.selectedParts[l].angle,c.isStatic=this.selectedParts[l].isStatic,c.density=this.selectedParts[l].density,c.collide=this.selectedParts[l].collide,c.red=this.selectedParts[l].red,c.green=this.selectedParts[l].green,c.blue=this.selectedParts[l].blue,c.opacity=this.selectedParts[l].opacity,c.outline=this.selectedParts[l].outline,c.terrain=this.selectedParts[l].terrain,c.undragable=this.selectedParts[l].undragable,t.push(c),a.push(c)}else if(this.selectedParts[l]instanceof rt.Rectangle){var P=new rt.Rectangle(this.selectedParts[l].x,s-(this.selectedParts[l].y-s),this.selectedParts[l].w,-this.selectedParts[l].h);P.angle=2*Math.PI-this.selectedParts[l].angle,P.isStatic=this.selectedParts[l].isStatic,P.density=this.selectedParts[l].density,P.collide=this.selectedParts[l].collide,P.red=this.selectedParts[l].red,P.green=this.selectedParts[l].green,P.blue=this.selectedParts[l].blue,P.opacity=this.selectedParts[l].opacity,P.outline=this.selectedParts[l].outline,P.terrain=this.selectedParts[l].terrain,P.undragable=this.selectedParts[l].undragable,t.push(P),a.push(P)}else if(this.selectedParts[l]instanceof b.Triangle){var G=this.selectedParts[l].GetVertices(),u=new b.Triangle(G[0].x,s-(G[0].y-s),G[1].x,s-(G[1].y-s),G[2].x,s-(G[2].y-s));u.isStatic=this.selectedParts[l].isStatic,u.density=this.selectedParts[l].density,u.collide=this.selectedParts[l].collide,u.red=this.selectedParts[l].red,u.green=this.selectedParts[l].green,u.blue=this.selectedParts[l].blue,u.opacity=this.selectedParts[l].opacity,u.outline=this.selectedParts[l].outline,u.terrain=this.selectedParts[l].terrain,u.undragable=this.selectedParts[l].undragable,t.push(u),a.push(u)}else if(this.selectedParts[l]instanceof o.Cannon){var C=new o.Cannon(this.selectedParts[l].x,s-(this.selectedParts[l].y-s)-this.selectedParts[l].w/2,this.selectedParts[l].w);C.angle=2*Math.PI-this.selectedParts[l].angle,C.isStatic=this.selectedParts[l].isStatic,C.density=this.selectedParts[l].density,C.collide=this.selectedParts[l].collide,C.red=this.selectedParts[l].red,C.green=this.selectedParts[l].green,C.blue=this.selectedParts[l].blue,C.opacity=this.selectedParts[l].opacity,C.outline=this.selectedParts[l].outline,C.terrain=this.selectedParts[l].terrain,C.undragable=this.selectedParts[l].undragable,C.fireKey=this.selectedParts[l].fireKey,C.strength=this.selectedParts[l].strength,t.push(C),a.push(C)}else if(this.selectedParts[l]instanceof m.TextPart){var p=new m.TextPart(this,this.selectedParts[l].x,s-(this.selectedParts[l].y+this.selectedParts[l].h/2-s),this.selectedParts[l].w,this.selectedParts[l].h,this.selectedParts[l].text,this.selectedParts[l].inFront);p.red=this.selectedParts[l].red,p.green=this.selectedParts[l].green,p.blue=this.selectedParts[l].blue,p.size=this.selectedParts[l].size,p.alwaysVisible=this.selectedParts[l].alwaysVisible,p.inFront=this.selectedParts[l].inFront,p.scaleWithZoom=this.selectedParts[l].scaleWithZoom,p.displayKey=this.selectedParts[l].displayKey,t.push(p),a.push(-1)}else(this.selectedParts[l]instanceof n.JointPart||this.selectedParts[l]instanceof g.Thrusters)&&a.push(-1);for(l=0;l<this.selectedParts.length;l++){var f=-1,w=-1;if(this.selectedParts[l]instanceof n.JointPart){for(var y=0;y<this.selectedParts.length;y++)this.selectedParts[y]==this.selectedParts[l].part1&&(f=y),this.selectedParts[y]==this.selectedParts[l].part2&&(w=y);if(-1==f||-1==w)continue}else if(this.selectedParts[l]instanceof g.Thrusters){for(y=0;y<this.selectedParts.length;y++)this.selectedParts[y]==this.selectedParts[l].shape&&(f=y);if(-1==f)continue}if(this.selectedParts[l]instanceof r.FixedJoint){var S=new r.FixedJoint(a[f],a[w],this.selectedParts[l].anchorX,s-(this.selectedParts[l].anchorY-s));t.push(S)}else if(this.selectedParts[l]instanceof d.RevoluteJoint){var A=new d.RevoluteJoint(a[f],a[w],this.selectedParts[l].anchorX,s-(this.selectedParts[l].anchorY-s));A.enableMotor=this.selectedParts[l].enableMotor,A.motorCWKey=this.selectedParts[l].motorCCWKey,A.motorCCWKey=this.selectedParts[l].motorCWKey,A.motorStrength=this.selectedParts[l].motorStrength,A.motorSpeed=this.selectedParts[l].motorSpeed,A.motorLowerLimit=-this.selectedParts[l].motorUpperLimit,A.motorUpperLimit=-this.selectedParts[l].motorLowerLimit,A.isStiff=this.selectedParts[l].isStiff,A.autoCW=this.selectedParts[l].autoCCW,A.autoCCW=this.selectedParts[l].autoCW,t.push(A)}else if(this.selectedParts[l]instanceof h.PrismaticJoint){var D=new h.PrismaticJoint(a[f],a[w],0,0,1,1);D.anchorX=this.selectedParts[l].anchorX,D.anchorY=s-(this.selectedParts[l].anchorY-s);var R=Math.atan2(this.selectedParts[l].axis.y,this.selectedParts[l].axis.x);R=i.Util.NormalizeAngle(2*Math.PI-R),D.axis=new x.b2Vec2(Math.cos(R),Math.sin(R)),D.axis.Normalize(),D.initLength=this.selectedParts[l].initLength,D.enablePiston=this.selectedParts[l].enablePiston,D.pistonUpKey=this.selectedParts[l].pistonUpKey,D.pistonDownKey=this.selectedParts[l].pistonDownKey,D.pistonStrength=this.selectedParts[l].pistonStrength,D.pistonSpeed=this.selectedParts[l].pistonSpeed,D.isStiff=this.selectedParts[l].isStiff,D.autoOscillate=this.selectedParts[l].autoOscillate,D.red=this.selectedParts[l].red,D.green=this.selectedParts[l].green,D.blue=this.selectedParts[l].blue,D.opacity=this.selectedParts[l].opacity,D.outline=this.selectedParts[l].outline,D.collide=this.selectedParts[l].collide,t.push(D)}else if(this.selectedParts[l]instanceof g.Thrusters){var T=new g.Thrusters(a[f],this.selectedParts[l].centerX,s-(this.selectedParts[l].centerY-s));T.angle=2*Math.PI-this.selectedParts[l].angle,T.strength=this.selectedParts[l].strength,T.thrustKey=this.selectedParts[l].thrustKey,T.autoOn=this.selectedParts[l].autoOn,t.push(T)}}if(t.length>0){for(this.selectedParts=new Array,this.draggingParts=new Array,l=0;l<t.length;l++)t[l].dragXOff=e-(t[l]instanceof n.JointPart?t[l].anchorX:t[l]instanceof m.TextPart?t[l].x-t[l].w/2:t[l].centerX),t[l].dragYOff=s-(t[l]instanceof n.JointPart?t[l].anchorY:t[l]instanceof m.TextPart?t[l].y-t[l].h/2:t[l].centerY),this.selectedParts.push(t[l]),this.draggingParts.push(t[l]),this.allParts.push(t[l]);this.initDragX=_.ControllerGameGlobals.mouseXWorldPhys,this.initDragY=_.ControllerGameGlobals.mouseYWorldPhys,this.draggingPart=this.selectedParts[0],this.draggingPart.Move(_.ControllerGameGlobals.mouseXWorldPhys,_.ControllerGameGlobals.mouseYWorldPhys),this.RefreshSidePanel(),this.AddAction(new k.MassCreateAction(this.selectedParts)),this.curAction=_.ControllerGameGlobals.PASTE,_.ControllerGameGlobals.curRobotID=""}}}scaleButton(){if(_.ControllerGameGlobals.curRobotEditable&&!this.selectingCondition&&!this.simStarted&&0!=this.selectedParts.length){this.initDragX=this.selectedParts[0]instanceof n.JointPart?this.selectedParts[0].anchorX:this.selectedParts[0]instanceof m.TextPart?this.selectedParts[0].x+this.selectedParts[0].w/2:this.selectedParts[0].centerX,this.initDragY=this.selectedParts[0]instanceof n.JointPart?this.selectedParts[0].anchorY:this.selectedParts[0]instanceof m.TextPart?this.selectedParts[0].y+this.selectedParts[0].h/2:this.selectedParts[0].centerY,this.firstClickX=_.ControllerGameGlobals.mouseXWorld,this.firstClickY=_.ControllerGameGlobals.mouseYWorld,this.draggingParts=new Array;for(var t=0;t<this.selectedParts.length;t++)this.draggingParts=i.Util.RemoveDuplicates(this.draggingParts.concat(this.selectedParts[t].GetAttachedParts()));for(t=0;t<this.draggingParts.length;t++)this.draggingParts[t].dragXOff=(this.draggingParts[t]instanceof n.JointPart?this.draggingParts[t].anchorX:this.draggingParts[t]instanceof m.TextPart?this.draggingParts[t].x+this.draggingParts[t].w/2:this.draggingParts[t].centerX)-this.initDragX,this.draggingParts[t].dragYOff=(this.draggingParts[t]instanceof n.JointPart?this.draggingParts[t].anchorY:this.draggingParts[t]instanceof m.TextPart?this.draggingParts[t].y+this.draggingParts[t].h/2:this.draggingParts[t].centerY)-this.initDragY,this.draggingParts[t].PrepareForResizing();this.curAction=_.ControllerGameGlobals.RESIZING_SHAPES}}deleteButton(){_.ControllerGameGlobals.curRobotEditable&&(this.simStarted||1==this.selectedParts.length&&(this.DeletePart(this.selectedParts[0]),this.curAction=-1,this.m_sidePanel.visible=!1,_.ControllerGameGlobals.curRobotID="",this.redrawRobot=!0))}deleteBuildBoxButton(){_.ControllerGameGlobals.curRobotEditable&&(this.simStarted||(this.selectedBuildArea&&(ControllerChallenge.challenge.buildAreas=i.Util.RemoveFromArray(this.selectedBuildArea,ControllerChallenge.challenge.buildAreas),this.BuildBuildArea(),this.redrawBuildArea=!0),this.m_sidePanel.visible=!1))}multiDeleteButton(){if(_.ControllerGameGlobals.curRobotEditable&&!this.simStarted){for(var t=new Array,e=0;e<this.selectedParts.length;e++)this.selectedParts[e]instanceof c.ShapePart&&(t=(t=t.concat(this.selectedParts[e].GetActiveJoints())).concat(this.selectedParts[e].GetActiveThrusters())),this.DeletePart(this.selectedParts[e],!1,!1);if(0!=this.selectedParts.length){var s=i.Util.RemoveDuplicates(this.selectedParts.concat(t));for(this.AddAction(new M.ClearAction(s)),e=0;e<s.length;e++)this.selectedParts=i.Util.RemoveFromArray(s[e],this.selectedParts);this.CheckIfPartsFit(),this.m_sidePanel.visible=!1,_.ControllerGameGlobals.curRobotID="",this.redrawRobot=!0}}}densitySlider(t){if(1==this.selectedParts.length&&this.selectedParts[0]instanceof c.ShapePart){var e=this.selectedParts[0].density;this.selectedParts[0].density=t,_.ControllerGameGlobals.curRobotID="",this.m_sidePanel.SetDensity(t),e!=t&&this.AddAction(new E.ChangeSliderAction(this.selectedParts[0],E.ChangeSliderAction.DENSITY_TYPE,t-e))}}densityText(t){if(this.lastSelectedShape instanceof c.ShapePart){var e=this.lastSelectedShape.density,s=parseInt(t);s<_.ControllerGameGlobals.minDensity&&(s=_.ControllerGameGlobals.minDensity),s>_.ControllerGameGlobals.maxDensity&&(s=_.ControllerGameGlobals.maxDensity),isNaN(s)&&(s=_.ControllerGameGlobals.minDensity>15?_.ControllerGameGlobals.minDensity:_.ControllerGameGlobals.maxDensity<15?_.ControllerGameGlobals.maxDensity:15),this.lastSelectedShape.density=s,_.ControllerGameGlobals.curRobotID="",this.m_sidePanel.SetDensity(s),e!=s&&this.AddAction(new E.ChangeSliderAction(this.selectedParts[0],E.ChangeSliderAction.DENSITY_TYPE,s-e))}this.m_sidePanel.TextAreaLostFocus()}strengthText(t){if(this.lastSelectedJoint instanceof n.JointPart){var e;this.lastSelectedJoint instanceof d.RevoluteJoint&&(e=this.lastSelectedJoint.motorStrength),this.lastSelectedJoint instanceof h.PrismaticJoint&&(e=this.lastSelectedJoint.pistonStrength);var s=parseInt(t);this.lastSelectedJoint instanceof d.RevoluteJoint&&(s<1&&(s=1),s>_.ControllerGameGlobals.maxRJStrength&&(s=_.ControllerGameGlobals.maxRJStrength),isNaN(s)&&(s=Math.min(15,_.ControllerGameGlobals.maxRJStrength))),this.lastSelectedJoint instanceof h.PrismaticJoint&&(s<1&&(s=1),s>_.ControllerGameGlobals.maxSJStrength&&(s=_.ControllerGameGlobals.maxSJStrength),isNaN(s)&&(s=Math.min(15,_.ControllerGameGlobals.maxSJStrength))),this.lastSelectedJoint instanceof d.RevoluteJoint&&(this.lastSelectedJoint.motorStrength=s),this.lastSelectedJoint instanceof h.PrismaticJoint&&(this.lastSelectedJoint.pistonStrength=s),_.ControllerGameGlobals.curRobotID="",this.m_sidePanel.SetStrength(s),e!=s&&this.AddAction(new E.ChangeSliderAction(this.lastSelectedJoint,E.ChangeSliderAction.STRENGTH_TYPE,s-e))}this.m_sidePanel.TextAreaLostFocus()}speedText(t){if(this.lastSelectedJoint instanceof n.JointPart){var e;this.lastSelectedJoint instanceof d.RevoluteJoint&&(e=this.lastSelectedJoint.motorSpeed),this.lastSelectedJoint instanceof h.PrismaticJoint&&(e=this.lastSelectedJoint.pistonSpeed);var s=parseInt(t);this.lastSelectedJoint instanceof d.RevoluteJoint&&(s<1&&(s=1),s>_.ControllerGameGlobals.maxRJSpeed&&(s=_.ControllerGameGlobals.maxRJSpeed),isNaN(s)&&(s=Math.min(15,_.ControllerGameGlobals.maxRJSpeed))),this.lastSelectedJoint instanceof h.PrismaticJoint&&(s<1&&(s=1),s>_.ControllerGameGlobals.maxSJSpeed&&(s=_.ControllerGameGlobals.maxSJSpeed),isNaN(s)&&(s=Math.min(15,_.ControllerGameGlobals.maxSJSpeed))),this.lastSelectedJoint instanceof d.RevoluteJoint&&(this.lastSelectedJoint.motorSpeed=s),this.lastSelectedJoint instanceof h.PrismaticJoint&&(this.lastSelectedJoint.pistonSpeed=s),_.ControllerGameGlobals.curRobotID="",this.m_sidePanel.SetSpeed(s),e!=s&&this.AddAction(new E.ChangeSliderAction(this.lastSelectedJoint,E.ChangeSliderAction.SPEED_TYPE,s-e))}this.m_sidePanel.TextAreaLostFocus()}thrustText(t){if(this.lastSelectedThrusters instanceof g.Thrusters){var e;e=this.lastSelectedThrusters.strength;var s=parseInt(t);s<1&&(s=1),s>_.ControllerGameGlobals.maxThrusterStrength&&(s=_.ControllerGameGlobals.maxThrusterStrength),isNaN(s)&&(s=Math.min(15,_.ControllerGameGlobals.maxThrusterStrength)),this.lastSelectedThrusters.strength=s,_.ControllerGameGlobals.curRobotID="",this.m_sidePanel.SetThrust(s),e!=s&&this.AddAction(new E.ChangeSliderAction(this.lastSelectedThrusters,E.ChangeSliderAction.SPEED_TYPE,s-e))}this.m_sidePanel.TextAreaLostFocus()}cannonText(t){if(this.lastSelectedShape instanceof o.Cannon){var e;e=this.lastSelectedShape.strength;var s=parseInt(t);s<1&&(s=1),s>30&&(s=30),isNaN(s)&&(s=15),this.lastSelectedShape.strength=s,_.ControllerGameGlobals.curRobotID="",this.m_sidePanel.SetCannon(s),e!=s&&this.AddAction(new E.ChangeSliderAction(this.lastSelectedShape,E.ChangeSliderAction.STRENGTH_TYPE,s-e))}this.m_sidePanel.TextAreaLostFocus()}cameraBox(t){if(1==this.selectedParts.length&&this.selectedParts[0]instanceof c.ShapePart){this.selectedParts[0].isCameraFocus=t,_.ControllerGameGlobals.curRobotID="";var e=null;if(t)for(var s=0;s<this.allParts.length;s++)this.allParts[s]instanceof c.ShapePart&&this.allParts[s]!=this.selectedParts[0]&&this.allParts[s].isCameraFocus&&(this.allParts[s].isCameraFocus=!1,e=this.allParts[s]);this.AddAction(new O.CameraAction(this.selectedParts[0],t,e))}}collisionBox(t){if(1==this.selectedParts.length&&this.selectedParts[0]instanceof c.ShapePart)this.selectedParts[0].collide=t,_.ControllerGameGlobals.curRobotID="",this.AddAction(new et.ShapeCheckboxAction(this.selectedParts[0],et.ShapeCheckboxAction.COLLIDE_TYPE,t));else if(1==this.selectedParts.length&&this.selectedParts[0]instanceof h.PrismaticJoint)this.selectedParts[0].collide=t,_.ControllerGameGlobals.curRobotID="",this.AddAction(new et.ShapeCheckboxAction(this.selectedParts[0],et.ShapeCheckboxAction.COLLIDE_TYPE,t));else if(this.selectedParts.length>1){for(var e=new Array,s=0;s<this.selectedParts.length;s++)(this.selectedParts[s]instanceof c.ShapePart||this.selectedParts[s]instanceof h.PrismaticJoint)&&this.selectedParts[s].collide!=t&&(this.selectedParts[s].collide=t,e.push(this.selectedParts[s]));e.length>0&&(_.ControllerGameGlobals.curRobotID="",this.redrawRobot=!0,this.AddAction(new K.MultiCollideAction(e,t)))}}fixateBox(t){if(1==this.selectedParts.length&&this.selectedParts[0]instanceof c.ShapePart)this.selectedParts[0].isStatic=t,_.ControllerGameGlobals.curRobotID="",this.redrawRobot=!0,this.AddAction(new et.ShapeCheckboxAction(this.selectedParts[0],et.ShapeCheckboxAction.FIXATE_TYPE,t));else if(this.selectedParts.length>1){for(var e=new Array,s=0;s<this.selectedParts.length;s++)this.selectedParts[s]instanceof c.ShapePart&&this.selectedParts[s].isStatic!=t&&(this.selectedParts[s].isStatic=t,e.push(this.selectedParts[s]));e.length>0&&(_.ControllerGameGlobals.curRobotID="",this.redrawRobot=!0,this.AddAction(new Z.MultiFixateAction(e,t)))}}outlineBox(t){if(1==this.selectedParts.length&&(this.selectedParts[0]instanceof c.ShapePart||this.selectedParts[0]instanceof h.PrismaticJoint))this.selectedParts[0].outline=t,_.ControllerGameGlobals.curRobotID="",this.redrawRobot=!0,this.AddAction(new et.ShapeCheckboxAction(this.selectedParts[0],et.ShapeCheckboxAction.OUTLINE_TYPE,t));else if(this.selectedParts.length>1){for(var e=new Array,s=0;s<this.selectedParts.length;s++)(this.selectedParts[s]instanceof c.ShapePart||this.selectedParts[s]instanceof h.PrismaticJoint)&&this.selectedParts[s].outline!=t&&(this.selectedParts[s].outline=t,e.push(this.selectedParts[s]));e.length>0&&(_.ControllerGameGlobals.curRobotID="",this.redrawRobot=!0,this.AddAction(new q.MultiOutlineAction(e,t)))}}terrainBox(t){if(1==this.selectedParts.length&&this.selectedParts[0]instanceof c.ShapePart)this.selectedParts[0].terrain=t,_.ControllerGameGlobals.curRobotID="",this.redrawRobot=!0,this.AddAction(new et.ShapeCheckboxAction(this.selectedParts[0],et.ShapeCheckboxAction.TERRAIN_TYPE,t));else if(this.selectedParts.length>1){for(var e=new Array,s=0;s<this.selectedParts.length;s++)this.selectedParts[s]instanceof c.ShapePart&&this.selectedParts[s].terrain!=t&&(this.selectedParts[s].terrain=t,e.push(this.selectedParts[s]));e.length>0&&(_.ControllerGameGlobals.curRobotID="",this.redrawRobot=!0,this.AddAction(new z.MultiTerrainAction(e,t)))}}undragableBox(t){if(1==this.selectedParts.length&&this.selectedParts[0]instanceof c.ShapePart)this.selectedParts[0].undragable=t,_.ControllerGameGlobals.curRobotID="",this.AddAction(new et.ShapeCheckboxAction(this.selectedParts[0],et.ShapeCheckboxAction.UNDRAGABLE_TYPE,t));else if(this.selectedParts.length>1){for(var e=new Array,s=0;s<this.selectedParts.length;s++)this.selectedParts[s]instanceof c.ShapePart&&this.selectedParts[s].undragable!=t&&(this.selectedParts[s].undragable=t,e.push(this.selectedParts[s]));e.length>0&&(_.ControllerGameGlobals.curRobotID="",this.redrawRobot=!0,this.AddAction(new j.MultiUndragableAction(e,t)))}}frontButton(){if(!this.simStarted){if(1==this.selectedParts.length&&(this.selectedParts[0]instanceof c.ShapePart||this.selectedParts[0]instanceof h.PrismaticJoint)){for(var t=-1,e=0;e<this.allParts.length;e++)this.allParts[e]==this.selectedParts[0]&&(t=e);this.allParts=i.Util.RemoveFromArray(this.selectedParts[0],this.allParts),this.allParts.push(this.selectedParts[0]),_.ControllerGameGlobals.curRobotID="",this.AddAction(new H.MoveZAction(this.selectedParts[0],H.MoveZAction.FRONT_TYPE,t))}else 1==this.selectedParts.length&&this.selectedParts[0]instanceof m.TextPart&&(this.selectedParts[0].inFront||(this.selectedParts[0].inFront=!0,this.removeChild(this.selectedParts[0].m_textField),this.addChildAt(this.selectedParts[0].m_textField,this.getChildIndex(this.m_canvas)+1),this.AddAction(new H.MoveZAction(this.selectedParts[0],H.MoveZAction.FRONT_TYPE))));this.redrawRobot=!0}}backButton(){if(!this.simStarted){if(1==this.selectedParts.length&&(this.selectedParts[0]instanceof c.ShapePart||this.selectedParts[0]instanceof h.PrismaticJoint)){for(var t=-1,e=!1,s=this.allParts.length-1;s>0;s--)if(this.allParts[s]==this.selectedParts[0]&&(t=s,e=!0),e){if(!this.allParts[s-1].isEditable)break;this.allParts[s]=this.allParts[s-1]}this.allParts[s]=this.selectedParts[0],_.ControllerGameGlobals.curRobotID="",this.AddAction(new H.MoveZAction(this.selectedParts[0],H.MoveZAction.BACK_TYPE,t))}else 1==this.selectedParts.length&&this.selectedParts[0]instanceof m.TextPart&&this.selectedParts[0].inFront&&(this.selectedParts[0].inFront=!1,this.removeChild(this.selectedParts[0].m_textField),this.addChildAt(this.selectedParts[0].m_textField,this.getChildIndex(this.m_canvas)),this.AddAction(new H.MoveZAction(this.selectedParts[0],H.MoveZAction.BACK_TYPE)));this.redrawRobot=!0}}scaleWithZoomBox(t){1==this.selectedParts.length&&this.selectedParts[0]instanceof m.TextPart&&(this.selectedParts[0].scaleWithZoom=t,_.ControllerGameGlobals.curRobotID="",this.AddAction(new it.TextCheckboxAction(this.selectedParts[0],it.TextCheckboxAction.SCALE_TYPE,t)))}alwaysVisibleBox(t){1==this.selectedParts.length&&this.selectedParts[0]instanceof m.TextPart&&(this.selectedParts[0].alwaysVisible=t,_.ControllerGameGlobals.curRobotID="",this.m_sidePanel.EnableTextStuff(!t),this.AddAction(new it.TextCheckboxAction(this.selectedParts[0],it.TextCheckboxAction.DISPLAY_TYPE,t)))}textKeyBox(t,e){if(t.enabled){var s;if(this.selectedParts[0]instanceof m.TextPart){var i=this.selectedParts[0].displayKey;this.selectedParts[0].displayKey=e,i!=e&&this.AddAction(new X.ControlKeyAction(this.selectedParts[0],X.ControlKeyAction.TEXT_TYPE,i,e))}null==(s=f.Input.getKeyString(e))&&(s="Unk: "+e),t.text=s,t.setSelection(0,10),_.ControllerGameGlobals.curRobotID=""}}textEntered(){this.selectedParts[0]instanceof c.ShapePart?this.lastSelectedShape=this.selectedParts[0]:this.selectedParts[0]instanceof n.JointPart?this.lastSelectedJoint=this.selectedParts[0]:this.selectedParts[0]instanceof m.TextPart?this.lastSelectedText=this.selectedParts[0]:this.selectedParts[0]instanceof g.Thrusters&&(this.lastSelectedThrusters=this.selectedParts[0])}colourButton(t,e,s,i,a){var l,o,r,n;if(a&&(_.ControllerGameGlobals.defaultR=t,_.ControllerGameGlobals.defaultG=e,_.ControllerGameGlobals.defaultB=s,_.ControllerGameGlobals.defaultO=i),1==this.selectedParts.length)(this.selectedParts[0]instanceof c.ShapePart||this.selectedParts[0]instanceof h.PrismaticJoint||this.selectedParts[0]instanceof m.TextPart)&&(l=this.selectedParts[0].red,o=this.selectedParts[0].green,r=this.selectedParts[0].blue,this.selectedParts[0].red=t,this.selectedParts[0].green=e,this.selectedParts[0].blue=s,this.selectedParts[0]instanceof m.TextPart||(n=this.selectedParts[0].opacity,this.selectedParts[0].opacity=i),l==this.selectedParts[0].red&&o==this.selectedParts[0].green&&r==this.selectedParts[0].blue&&(this.selectedParts[0]instanceof m.TextPart||n==this.selectedParts[0].opacity)||(this.AddAction(new Y.ColourChangeAction(this.selectedParts[0],this.selectedParts[0].red-l,this.selectedParts[0].green-o,this.selectedParts[0].blue-r,this.selectedParts[0]instanceof m.TextPart?0:this.selectedParts[0].opacity-n)),_.ControllerGameGlobals.curRobotID="",this.redrawRobot=!0));else if(this.selectedParts.length>1){for(var d=new Array,g=new Array,b=new Array,P=new Array,G=new Array,u=0;u<this.selectedParts.length;u++)(this.selectedParts[u]instanceof c.ShapePart||this.selectedParts[u]instanceof h.PrismaticJoint||this.selectedParts[u]instanceof m.TextPart)&&(this.selectedParts[u].red==t&&this.selectedParts[u].green==e&&this.selectedParts[u].blue==s&&(this.selectedParts[u]instanceof m.TextPart||this.selectedParts[u].opacity==i)||(g.push(this.selectedParts[u].red),b.push(this.selectedParts[u].green),P.push(this.selectedParts[u].blue),G.push(this.selectedParts[u]instanceof m.TextPart?0:this.selectedParts[u].opacity),this.selectedParts[u].red=t,this.selectedParts[u].green=e,this.selectedParts[u].blue=s,this.selectedParts[u]instanceof m.TextPart||(this.selectedParts[u].opacity=i),d.push(this.selectedParts[u])));d.length>0&&(_.ControllerGameGlobals.curRobotID="",this.redrawRobot=!0,this.AddAction(new V.MultiColourChangeAction(d,t,e,s,i,g,b,P,G)))}}textTextStart(){1==this.selectedParts.length&&this.selectedParts[0]instanceof m.TextPart&&(this.oldText=this.selectedParts[0].text)}textText(t){this.textEntered(t),this.lastSelectedText instanceof m.TextPart&&(this.newText=t.target,_.ControllerGameGlobals.curRobotID="",this.redrawRobot=!0)}textTextFinish(){this.lastSelectedText instanceof m.TextPart&&this.AddAction(new B.EnterTextAction(this.lastSelectedText,this.oldText,this.lastSelectedText.text))}sizeText(t,e){if(this.lastSelectedText instanceof m.TextPart){var s=this.lastSelectedText.size;this.lastSelectedText.size=parseInt(e),this.lastSelectedText.size<4&&(this.lastSelectedText.size=4),this.lastSelectedText.size>36&&(this.lastSelectedText.size=36),t.text=this.lastSelectedText.size+"",_.ControllerGameGlobals.curRobotID="",this.redrawRobot=!0,s!=this.lastSelectedText.size&&this.AddAction(new at.TextSizeChangeAction(this.lastSelectedText,this.lastSelectedText.size-s))}this.m_sidePanel.TextAreaLostFocus()}minLimitText(t){var e=Number(t.replace("\n",""));if(""==t&&(e=NaN),this.lastSelectedJoint instanceof d.RevoluteJoint){isNaN(e)?(e=-Number.MAX_VALUE,t="None"):e>=0&&(e=0,t="0");var s=this.lastSelectedJoint.motorLowerLimit;this.lastSelectedJoint.motorLowerLimit=e,e!=s&&this.AddAction(new F.LimitChangeAction(this.lastSelectedJoint,F.LimitChangeAction.MIN_TYPE,s,e))}this.m_sidePanel.TextAreaLostFocus(),_.ControllerGameGlobals.curRobotID=""}maxLimitText(t){var e=Number(t.replace("\n",""));if(""==t&&(e=NaN),this.lastSelectedJoint instanceof d.RevoluteJoint){isNaN(e)?(e=Number.MAX_VALUE,t="None"):e<=0&&(e=0,t="0");var s=this.lastSelectedJoint.motorUpperLimit;this.lastSelectedJoint.motorUpperLimit=e,e!=s&&this.AddAction(new F.LimitChangeAction(this.lastSelectedJoint,F.LimitChangeAction.MAX_TYPE,s,e))}this.m_sidePanel.TextAreaLostFocus(),_.ControllerGameGlobals.curRobotID=""}controlKeyText1(t,e){var s,i;t.enabled&&(this.selectedParts[0]instanceof d.RevoluteJoint&&null!=e?(i=this.selectedParts[0].motorCWKey,this.selectedParts[0].motorCWKey=e,i!=e&&this.AddAction(new X.ControlKeyAction(this.selectedParts[0],X.ControlKeyAction.CW_TYPE,i,e))):null!=e&&(i=this.selectedParts[0].pistonUpKey,this.selectedParts[0].pistonUpKey=e,i!=e&&this.AddAction(new X.ControlKeyAction(this.selectedParts[0],X.ControlKeyAction.EXPAND_TYPE,i,e))),s=null==e?"Unk: "+e:f.Input.getKeyString(e),t.text=s,t.setSelection(0,10),_.ControllerGameGlobals.curRobotID="")}controlKeyText2(t,e){var s,i;t.enabled&&(this.selectedParts[0]instanceof d.RevoluteJoint&&null!=e?(i=this.selectedParts[0].motorCCWKey,this.selectedParts[0].motorCCWKey=e,i!=e&&this.AddAction(new X.ControlKeyAction(this.selectedParts[0],X.ControlKeyAction.CCW_TYPE,i,e))):null!=e&&(i=this.selectedParts[0].pistonDownKey,this.selectedParts[0].pistonDownKey=e,i!=e&&this.AddAction(new X.ControlKeyAction(this.selectedParts[0],X.ControlKeyAction.CONTRACT_TYPE,i,e))),s=null==e?"Unk: "+e:f.Input.getKeyString(e),t.text=s,t.setSelection(0,10),_.ControllerGameGlobals.curRobotID="")}thrustKeyText(t,e){if(t.enabled){var s,i;const e=f.Input.getKeyNumber(t.text);this.selectedParts[0]instanceof g.Thrusters&&null!=e&&(i=this.selectedParts[0].thrustKey,this.selectedParts[0].thrustKey=e,i!=e&&this.AddAction(new X.ControlKeyAction(this.selectedParts[0],X.ControlKeyAction.THRUSTERS_TYPE,i,e))),s=null==e?"Unk: "+e:f.Input.getKeyString(e),t.text=s,t.setSelection(0,10),_.ControllerGameGlobals.curRobotID=""}}fireKeyText(t,e){if(t.enabled){var s,i;const e=f.Input.getKeyNumber(t.text);this.selectedParts[0]instanceof o.Cannon&&null!=e&&(i=this.selectedParts[0].fireKey,this.selectedParts[0].fireKey=e,i!=e&&this.AddAction(new X.ControlKeyAction(this.selectedParts[0],X.ControlKeyAction.CANNON_TYPE,i,e))),s=null==e?"Unk: "+e:f.Input.getKeyString(e),t.text=s,t.setSelection(0,10),_.ControllerGameGlobals.curRobotID=""}}autoBox1(t){if(this.selectedParts[0]instanceof d.RevoluteJoint){var e=t&&this.selectedParts[0].autoCCW;this.selectedParts[0].autoCW=t,t&&(this.selectedParts[0].autoCCW=!1,this.m_sidePanel.deselectBox2()),this.AddAction(new L.JointCheckboxAction(this.selectedParts[0],L.JointCheckboxAction.AUTO_CW_TYPE,t,e))}else this.selectedParts[0]instanceof h.PrismaticJoint?(this.selectedParts[0].autoOscillate=t,this.AddAction(new L.JointCheckboxAction(this.selectedParts[0],L.JointCheckboxAction.AUTO_OSCILLATE_TYPE,t))):this.selectedParts[0]instanceof g.Thrusters&&(this.selectedParts[0].autoOn=t,this.AddAction(new L.JointCheckboxAction(this.selectedParts[0],L.JointCheckboxAction.AUTO_ON_TYPE,t)));_.ControllerGameGlobals.curRobotID=""}autoBox2(t){if(this.selectedParts[0]instanceof d.RevoluteJoint){var e=t&&this.selectedParts[0].autoCW;this.selectedParts[0].autoCCW=t,t&&(this.selectedParts[0].autoCW=!1,this.m_sidePanel.deselectBox1()),this.AddAction(new L.JointCheckboxAction(this.selectedParts[0],L.JointCheckboxAction.AUTO_CCW_TYPE,t,e))}_.ControllerGameGlobals.curRobotID=""}motorBox(t){this.selectedParts[0]instanceof d.RevoluteJoint?this.selectedParts[0].enableMotor=t:this.selectedParts[0]instanceof h.PrismaticJoint&&(this.selectedParts[0].enablePiston=t),this.m_sidePanel.EnableMotorStuff(t),_.ControllerGameGlobals.curRobotID="",this.AddAction(new L.JointCheckboxAction(this.selectedParts[0],L.JointCheckboxAction.ENABLE_TYPE,t))}rigidBox(t){this.selectedParts[0]instanceof d.RevoluteJoint?this.selectedParts[0].isStiff=!t:this.selectedParts[0]instanceof h.PrismaticJoint&&(this.selectedParts[0].isStiff=!t),_.ControllerGameGlobals.curRobotID="",this.AddAction(new L.JointCheckboxAction(this.selectedParts[0],L.JointCheckboxAction.RIGID_TYPE,t))}strengthSlider(t){var e;this.selectedParts[0]instanceof d.RevoluteJoint?(e=this.selectedParts[0].motorStrength,this.selectedParts[0].motorStrength=t,e!=t&&this.AddAction(new E.ChangeSliderAction(this.selectedParts[0],E.ChangeSliderAction.STRENGTH_TYPE,t-e))):this.selectedParts[0]instanceof h.PrismaticJoint&&(e=this.selectedParts[0].pistonStrength,this.selectedParts[0].pistonStrength=t,e!=t&&this.AddAction(new E.ChangeSliderAction(this.selectedParts[0],E.ChangeSliderAction.STRENGTH_TYPE,t-e))),_.ControllerGameGlobals.curRobotID="",this.m_sidePanel.SetStrength(t)}speedSlider(t){var e;this.selectedParts[0]instanceof d.RevoluteJoint?(e=this.selectedParts[0].motorSpeed,this.selectedParts[0].motorSpeed=t,e!=t&&this.AddAction(new E.ChangeSliderAction(this.selectedParts[0],E.ChangeSliderAction.SPEED_TYPE,t-e))):this.selectedParts[0]instanceof h.PrismaticJoint&&(e=this.selectedParts[0].pistonSpeed,this.selectedParts[0].pistonSpeed=t,e!=t&&this.AddAction(new E.ChangeSliderAction(this.selectedParts[0],E.ChangeSliderAction.SPEED_TYPE,this.m_checkBoxRoll-e))),_.ControllerGameGlobals.curRobotID="",this.m_sidePanel.SetSpeed(t)}thrustSlider(t){var e;this.selectedParts[0]instanceof g.Thrusters&&(e=this.selectedParts[0].strength,this.selectedParts[0].strength=t,e!=t&&this.AddAction(new E.ChangeSliderAction(this.selectedParts[0],E.ChangeSliderAction.STRENGTH_TYPE,t-e))),_.ControllerGameGlobals.curRobotID="",this.m_sidePanel.SetThrust(t)}cannonSlider(t){var e;this.selectedParts[0]instanceof o.Cannon&&(e=this.selectedParts[0].strength,this.selectedParts[0].strength=t,e!=t&&this.AddAction(new E.ChangeSliderAction(this.selectedParts[0],E.ChangeSliderAction.STRENGTH_TYPE,t-e))),_.ControllerGameGlobals.curRobotID="",this.m_sidePanel.SetCannon(t)}zoomInButton(){this.Zoom(!0)}zoomOutButton(){this.Zoom(!1)}clearButton(){if(!this.simStarted&&!this.selectingCondition){for(var t=this.allParts.filter(this.PartIsEditable),e=0;e<t.length;e++)(t[e]instanceof c.ShapePart||t[e]instanceof m.TextPart)&&this.DeletePart(t[e],!1);0!=t.length&&(_.ControllerGameGlobals.curRobotEditable&&this.AddAction(new M.ClearAction(t)),this.CheckIfPartsFit(),_.ControllerGameGlobals.curRobotID="",this.redrawRobot=!0),_.ControllerGameGlobals.curRobotEditable||(_.ControllerGameGlobals.curRobotEditable=!0),this.m_sidePanel&&this.m_sidePanel.visible&&(this.m_sidePanel.visible=!1)}}undoButton(){this.selectingCondition||_.ControllerGameGlobals.curRobotEditable&&-1!=this.lastAction&&!this.simStarted&&(this.actions[this.lastAction].UndoAction(),this.lastAction--,this.curAction=-1,_.ControllerGameGlobals.curRobotID="",this.CheckIfPartsFit(),0==this.selectedParts.length&&(this.m_sidePanel.visible=!1),this.RefreshSidePanel(),this.redrawRobot=!0)}redoButton(){this.selectingCondition||_.ControllerGameGlobals.curRobotEditable&&this.lastAction<this.actions.length-1&&!this.simStarted&&(this.actions[this.lastAction+1].RedoAction(),this.lastAction++,this.curAction=-1,_.ControllerGameGlobals.curRobotID="",this.CheckIfPartsFit(),0==this.selectedParts.length&&(this.m_sidePanel.visible=!1),this.RefreshSidePanel(),this.redrawRobot=!0)}cutButton(){if(!this.selectingCondition&&!this.simStarted)if(this.copiedJoint=null,this.copiedThrusters=null,1==this.selectedParts.length)_.ControllerGameGlobals.clipboardParts=new Array,this.selectedParts[0]instanceof c.ShapePart||this.selectedParts[0]instanceof m.TextPart?_.ControllerGameGlobals.clipboardParts.push(this.selectedParts[0].MakeCopy()):this.selectedParts[0]instanceof n.JointPart?this.copiedJoint=this.selectedParts[0]:this.selectedParts[0]instanceof g.Thrusters&&(this.copiedThrusters=this.selectedParts[0]),this.DeletePart(this.selectedParts[0]),this.m_sidePanel.visible=!1,this.curAction=-1,_.ControllerGameGlobals.curRobotID="",this.redrawRobot=!0;else if(this.selectedParts.length>1){_.ControllerGameGlobals.clipboardParts=new Array;for(var t=new Array,e=new Array,s=0;s<this.selectedParts.length;s++)if(this.selectedParts[s]instanceof c.ShapePart){var a=this.selectedParts[s].MakeCopy();_.ControllerGameGlobals.clipboardParts.push(a),t.push(a),e=e.concat(this.selectedParts[s].GetActiveJoints()),this.DeletePart(this.selectedParts[s],!1,!1)}else this.selectedParts[s]instanceof m.TextPart?(_.ControllerGameGlobals.clipboardParts.push(this.selectedParts[s].MakeCopy()),t.push(-1),this.DeletePart(this.selectedParts[s],!1,!1)):t.push(-1);for(s=0;s<this.selectedParts.length;s++)if(this.selectedParts[s]instanceof n.JointPart){for(var l=-1,o=-1,r=0;r<this.selectedParts.length;r++)this.selectedParts[r]==this.selectedParts[s].part1&&(l=r),this.selectedParts[r]==this.selectedParts[s].part2&&(o=r);-1!=l&&-1!=o&&_.ControllerGameGlobals.clipboardParts.push(this.selectedParts[s].MakeCopy(t[l],t[o])),this.DeletePart(this.selectedParts[s],!1,!1)}else if(this.selectedParts[s]instanceof g.Thrusters){for(l=-1,r=0;r<this.selectedParts.length;r++)this.selectedParts[r]==this.selectedParts[s].shape&&(l=r);-1!=l&&_.ControllerGameGlobals.clipboardParts.push(this.selectedParts[s].MakeCopy(t[l])),this.DeletePart(this.selectedParts[s],!1,!1)}var h=i.Util.RemoveDuplicates(this.selectedParts.concat(e));this.AddAction(new M.ClearAction(h)),this.selectedParts=new Array,this.m_sidePanel.visible=!1,this.CheckIfPartsFit(),this.curAction=-1,_.ControllerGameGlobals.curRobotID="",this.redrawRobot=!0}}copyButton(){if(!this.selectingCondition&&!this.simStarted)if(this.copiedJoint=null,this.copiedThrusters=null,1==this.selectedParts.length)_.ControllerGameGlobals.clipboardParts=new Array,this.selectedParts[0]instanceof c.ShapePart||this.selectedParts[0]instanceof m.TextPart?_.ControllerGameGlobals.clipboardParts.push(this.selectedParts[0].MakeCopy()):this.selectedParts[0]instanceof n.JointPart?this.copiedJoint=this.selectedParts[0]:this.selectedParts[0]instanceof g.Thrusters&&(this.copiedThrusters=this.selectedParts[0]),this.curAction=-1;else if(this.selectedParts.length>1){_.ControllerGameGlobals.clipboardParts=new Array;for(var t=new Array,e=0;e<this.selectedParts.length;e++)if(this.selectedParts[e]instanceof c.ShapePart){var s=this.selectedParts[e].MakeCopy();_.ControllerGameGlobals.clipboardParts.push(s),t.push(s)}else this.selectedParts[e]instanceof m.TextPart?(_.ControllerGameGlobals.clipboardParts.push(this.selectedParts[e].MakeCopy()),t.push(-1)):t.push(-1);for(e=0;e<this.selectedParts.length;e++)if(this.selectedParts[e]instanceof n.JointPart){for(var i=-1,a=-1,l=0;l<this.selectedParts.length;l++)this.selectedParts[l]==this.selectedParts[e].part1&&(i=l),this.selectedParts[l]==this.selectedParts[e].part2&&(a=l);-1!=i&&-1!=a&&_.ControllerGameGlobals.clipboardParts.push(this.selectedParts[e].MakeCopy(t[i],t[a]))}else if(this.selectedParts[e]instanceof g.Thrusters){for(i=-1,l=0;l<this.selectedParts.length;l++)this.selectedParts[l]==this.selectedParts[e].shape&&(i=l);-1!=i&&_.ControllerGameGlobals.clipboardParts.push(this.selectedParts[e].MakeCopy(t[i]))}this.curAction=-1}}pasteButton(){if(!this.selectingCondition&&_.ControllerGameGlobals.curRobotEditable&&!this.simStarted){for(var t=!1,e=!1,s=!1,l=!1,P=!1,G=!1,u=!1,C=!1,p=!1,f=0;f<_.ControllerGameGlobals.clipboardParts.length;f++)_.ControllerGameGlobals.clipboardParts[f].isStatic&&(p=!0),_.ControllerGameGlobals.clipboardParts[f]instanceof nt.Circle&&(t=!0),_.ControllerGameGlobals.clipboardParts[f]instanceof rt.Rectangle&&(e=!0),_.ControllerGameGlobals.clipboardParts[f]instanceof b.Triangle&&(s=!0),_.ControllerGameGlobals.clipboardParts[f]instanceof r.FixedJoint&&(l=!0),_.ControllerGameGlobals.clipboardParts[f]instanceof d.RevoluteJoint&&(P=!0),_.ControllerGameGlobals.clipboardParts[f]instanceof h.PrismaticJoint&&(G=!0),_.ControllerGameGlobals.clipboardParts[f]instanceof g.Thrusters&&(u=!0),_.ControllerGameGlobals.clipboardParts[f]instanceof o.Cannon&&(C=!0);if("challenge"===this.controllerType&&ControllerChallenge.playChallengeMode&&(p&&!ControllerChallenge.challenge.fixateAllowed||t&&!ControllerChallenge.challenge.circlesAllowed||e&&!ControllerChallenge.challenge.rectanglesAllowed||s&&!ControllerChallenge.challenge.trianglesAllowed||l&&!ControllerChallenge.challenge.fixedJointsAllowed||P&&!ControllerChallenge.challenge.rotatingJointsAllowed||G&&!ControllerChallenge.challenge.slidingJointsAllowed||u&&!ControllerChallenge.challenge.thrustersAllowed||C&&!ControllerChallenge.challenge.cannonsAllowed))return this.m_fader.visible=!0,this.ShowDialog3("Sorry, some of the copied parts are not allowed in this challenge!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer(),void a.Main.ShowMouse();if(1==_.ControllerGameGlobals.clipboardParts.length&&_.ControllerGameGlobals.clipboardParts[0]instanceof c.ShapePart)_.ControllerGameGlobals.clipboardParts[0].Move(_.ControllerGameGlobals.mouseXWorldPhys,_.ControllerGameGlobals.mouseYWorldPhys),this.allParts.push(_.ControllerGameGlobals.clipboardParts[0]),this.selectedParts=new Array,this.selectedParts.push(_.ControllerGameGlobals.clipboardParts[0]),this.draggingPart=_.ControllerGameGlobals.clipboardParts[0],this.initDragX=_.ControllerGameGlobals.mouseXWorldPhys,this.initDragY=_.ControllerGameGlobals.mouseYWorldPhys,this.draggingParts=this.draggingPart.GetAttachedParts(),this.draggingPart.dragXOff=0,this.draggingPart.dragYOff=0,_.ControllerGameGlobals.clipboardParts[0]instanceof o.Cannon?this.m_sidePanel.ShowCannonPanel(_.ControllerGameGlobals.clipboardParts[0]):this.m_sidePanel.ShowObjectPanel(_.ControllerGameGlobals.clipboardParts[0]),this.AddAction(new J.CreateAction(_.ControllerGameGlobals.clipboardParts[0])),_.ControllerGameGlobals.clipboardParts[0]=_.ControllerGameGlobals.clipboardParts[0].MakeCopy(),this.curAction=_.ControllerGameGlobals.PASTE,_.ControllerGameGlobals.curRobotID="";else if(this.copiedJoint)this.copiedJoint instanceof r.FixedJoint?this.curAction=_.ControllerGameGlobals.NEW_FIXED_JOINT:this.copiedJoint instanceof d.RevoluteJoint?this.curAction=_.ControllerGameGlobals.NEW_REVOLUTE_JOINT:this.curAction=_.ControllerGameGlobals.NEW_PRISMATIC_JOINT,this.actionStep=0;else if(this.copiedThrusters)this.curAction=_.ControllerGameGlobals.NEW_THRUSTERS;else{for(this.draggingPart=null,this.m_sidePanel.visible=!1,this.selectedParts=new Array,this.draggingParts=new Array,f=0;f<_.ControllerGameGlobals.clipboardParts.length;f++)_.ControllerGameGlobals.clipboardParts[f]instanceof c.ShapePart?(!this.draggingPart||this.draggingPart instanceof m.TextPart||_.ControllerGameGlobals.clipboardParts[f].GetMass()>this.draggingPart.GetMass())&&(this.draggingPart=_.ControllerGameGlobals.clipboardParts[f]):_.ControllerGameGlobals.clipboardParts[f]instanceof m.TextPart&&!this.draggingPart&&(this.draggingPart=_.ControllerGameGlobals.clipboardParts[f]);var w=new Array;for(f=0;f<_.ControllerGameGlobals.clipboardParts.length;f++)w.push(_.ControllerGameGlobals.clipboardParts[f]);for(f=0;f<_.ControllerGameGlobals.clipboardParts.length;f++)_.ControllerGameGlobals.clipboardParts[f]instanceof c.ShapePart?(_.ControllerGameGlobals.clipboardParts[f].dragXOff=this.draggingPart.centerX-_.ControllerGameGlobals.clipboardParts[f].centerX,_.ControllerGameGlobals.clipboardParts[f].dragYOff=this.draggingPart.centerY-_.ControllerGameGlobals.clipboardParts[f].centerY,this.allParts.push(_.ControllerGameGlobals.clipboardParts[f]),this.selectedParts.push(_.ControllerGameGlobals.clipboardParts[f]),this.draggingParts=i.Util.RemoveDuplicates(this.draggingParts.concat(_.ControllerGameGlobals.clipboardParts[f].GetAttachedParts())),_.ControllerGameGlobals.clipboardParts[f]=_.ControllerGameGlobals.clipboardParts[f].MakeCopy(),w[f]!=this.draggingPart&&w[f].Move(w[f].centerX-this.draggingPart.centerX+_.ControllerGameGlobals.mouseXWorldPhys,w[f].centerY-this.draggingPart.centerY+_.ControllerGameGlobals.mouseYWorldPhys)):_.ControllerGameGlobals.clipboardParts[f]instanceof m.TextPart&&(this.draggingPart instanceof c.ShapePart?(_.ControllerGameGlobals.clipboardParts[f].dragXOff=this.draggingPart.centerX-_.ControllerGameGlobals.clipboardParts[f].x,_.ControllerGameGlobals.clipboardParts[f].dragYOff=this.draggingPart.centerY-_.ControllerGameGlobals.clipboardParts[f].y):(_.ControllerGameGlobals.clipboardParts[f].dragXOff=this.draggingPart.x-_.ControllerGameGlobals.clipboardParts[f].x,_.ControllerGameGlobals.clipboardParts[f].dragYOff=this.draggingPart.y-_.ControllerGameGlobals.clipboardParts[f].y),this.allParts.push(_.ControllerGameGlobals.clipboardParts[f]),this.selectedParts.push(_.ControllerGameGlobals.clipboardParts[f]),this.draggingParts=this.draggingParts.concat(_.ControllerGameGlobals.clipboardParts[f].GetAttachedParts()),_.ControllerGameGlobals.clipboardParts[f]=_.ControllerGameGlobals.clipboardParts[f].MakeCopy(),w[f]!=this.draggingPart&&(this.draggingPart instanceof c.ShapePart?w[f].Move(w[f].x-this.draggingPart.centerX+_.ControllerGameGlobals.mouseXWorldPhys,w[f].y-this.draggingPart.centerY+_.ControllerGameGlobals.mouseYWorldPhys):w[f].Move(w[f].x-this.draggingPart.x+_.ControllerGameGlobals.mouseXWorldPhys,w[f].y-this.draggingPart.y+_.ControllerGameGlobals.mouseYWorldPhys)));for(f=0;f<_.ControllerGameGlobals.clipboardParts.length;f++)if(_.ControllerGameGlobals.clipboardParts[f]instanceof n.JointPart){_.ControllerGameGlobals.clipboardParts[f].dragXOff=this.draggingPart.centerX-_.ControllerGameGlobals.clipboardParts[f].anchorX,_.ControllerGameGlobals.clipboardParts[f].dragYOff=this.draggingPart.centerY-_.ControllerGameGlobals.clipboardParts[f].anchorY,this.allParts.push(_.ControllerGameGlobals.clipboardParts[f]),this.selectedParts.push(_.ControllerGameGlobals.clipboardParts[f]);for(var y=-1,S=-1,A=0;A<w.length;A++)w[A]==_.ControllerGameGlobals.clipboardParts[f].part1&&(y=A),w[A]==_.ControllerGameGlobals.clipboardParts[f].part2&&(S=A);_.ControllerGameGlobals.clipboardParts[f]=_.ControllerGameGlobals.clipboardParts[f].MakeCopy(_.ControllerGameGlobals.clipboardParts[y],_.ControllerGameGlobals.clipboardParts[S]),w[f].Move(w[f].anchorX-this.draggingPart.centerX+_.ControllerGameGlobals.mouseXWorldPhys,w[f].anchorY-this.draggingPart.centerY+_.ControllerGameGlobals.mouseYWorldPhys)}else if(_.ControllerGameGlobals.clipboardParts[f]instanceof g.Thrusters){for(_.ControllerGameGlobals.clipboardParts[f].dragXOff=this.draggingPart.centerX-_.ControllerGameGlobals.clipboardParts[f].centerX,_.ControllerGameGlobals.clipboardParts[f].dragYOff=this.draggingPart.centerY-_.ControllerGameGlobals.clipboardParts[f].centerY,this.allParts.push(_.ControllerGameGlobals.clipboardParts[f]),this.selectedParts.push(_.ControllerGameGlobals.clipboardParts[f]),y=-1,A=0;A<w.length;A++)w[A]==_.ControllerGameGlobals.clipboardParts[f].shape&&(y=A);_.ControllerGameGlobals.clipboardParts[f]=_.ControllerGameGlobals.clipboardParts[f].MakeCopy(_.ControllerGameGlobals.clipboardParts[y]),w[f].Move(w[f].centerX-this.draggingPart.centerX+_.ControllerGameGlobals.mouseXWorldPhys,w[f].centerY-this.draggingPart.centerY+_.ControllerGameGlobals.mouseYWorldPhys)}this.draggingPart&&(this.initDragX=_.ControllerGameGlobals.mouseXWorldPhys,this.initDragY=_.ControllerGameGlobals.mouseYWorldPhys,this.draggingPart.Move(_.ControllerGameGlobals.mouseXWorldPhys,_.ControllerGameGlobals.mouseYWorldPhys),this.m_sidePanel.ShowMultiSelectPanel(this.selectedParts),this.AddAction(new k.MassCreateAction(this.selectedParts)),this.curAction=_.ControllerGameGlobals.PASTE,_.ControllerGameGlobals.curRobotID="")}}}centerBox(){_.ControllerGameGlobals.snapToCenter=!_.ControllerGameGlobals.snapToCenter}jointBox(){_.ControllerGameGlobals.showJoints=!_.ControllerGameGlobals.showJoints,this.redrawRobot=!0}globalOutlineBox(){_.ControllerGameGlobals.showOutlines=!_.ControllerGameGlobals.showOutlines,this.redrawRobot=!0}colourBox(){_.ControllerGameGlobals.showColours=!_.ControllerGameGlobals.showColours,_.ControllerGameGlobals.showColours?this.draw.m_fillAlpha=1:this.draw.m_fillAlpha=.5,this.redrawRobot=!0}centerOnSelectedBox(){_.ControllerGameGlobals.centerOnSelected=!_.ControllerGameGlobals.centerOnSelected,_.ControllerGameGlobals.centerOnSelected&&1==this.selectedParts.length&&this.CenterOnSelected()}ConfirmNewRobot(){a.Main.changeControllers=!0,a.Main.nextControllerType=-1,_.ControllerGameGlobals.playingReplay=!1,_.ControllerGameGlobals.viewingUnsavedReplay=!1}loginButton(t=!1,e=!1,s=!1){this.selectingCondition||(a.Main.inIFrame?(this.m_fader.visible=!0,this.ShowConfirmDialog("Redirect to incredibots2.com?",7)):(this.m_fader.visible=!0,this.m_loginWindow&&this.removeChild(this.m_loginWindow),this.m_loginWindow=new LoginWindow(this),t&&this.m_loginWindow.displayMessage(),this.addChild(this.m_loginWindow),this.backToSaveWindow=e))}logoutButton(){this.m_fader.visible=!0,this.ShowConfirmDialog("Are you sure you want to log "+_.ControllerGameGlobals.userName+" out?",12)}ConfirmLogout(t){a.Main.premiumMode=!1,_.ControllerGameGlobals.userName="_Public",this.m_guiPanel.ShowLogin(),this.ShowDialog3("You are now logged out."),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer(),this.m_fader.visible=!0}loginHidden(t,e){this.clickedSave?(this.clickedSave=!1,this.saveButton()):this.clickedSaveReplay?(this.clickedSaveReplay=!1,this.saveReplayButton()):this.clickedSaveChallenge?(this.clickedSaveChallenge=!1,this.saveButton()):this.clickedSubmitScore?(this.AddSyncPoint(),_.ControllerGameGlobals.viewingUnsavedReplay?s.Database.SaveReplay(_.ControllerGameGlobals.userName,_.ControllerGameGlobals.password,_.ControllerGameGlobals.replay,"_ScoreReplay","This replay instanceof saved for a score",_.ControllerGameGlobals.curRobotID,new p.Robot(this.allParts,v.ControllerSandbox.settings),this.ChallengeOver()?this.GetScore():-1,_.ControllerGameGlobals.curChallengeID,1,this.finishSavingReplay):s.Database.SaveReplay(_.ControllerGameGlobals.userName,_.ControllerGameGlobals.password,new C.Replay(this.cameraMovements,this.syncPoints,this.keyPresses,this.frameCounter,s.Database.VERSION_STRING_FOR_REPLAYS),"_ScoreReplay","This replay instanceof saved for a score",_.ControllerGameGlobals.curRobotID,new p.Robot(this.allParts,v.ControllerSandbox.settings),this.ChallengeOver()?this.GetScore():-1,_.ControllerGameGlobals.curChallengeID,1,this.finishSavingReplay),this.m_scoreWindow.ShowFader(),this.ShowDialog("Submitting score..."),a.Main.ShowHourglass()):this.clickedReport?(this.clickedReport=!1,this.reportButton()):this.backToSaveWindow&&(this.m_fader.visible=!0,this.m_chooserWindow.visible?e?this.m_chooserWindow.reportClicked():this.m_chooserWindow.HideFader():(this.m_chooserWindow.visible=!0,this.m_chooserWindow.dataType==SaveLoadWindow.HIGH_SCORE_TYPE?(s.Database.GetScoreData(_.ControllerGameGlobals.userName,_.ControllerGameGlobals.password,s.Database.highScoresChallenge,1==this.m_chooserWindow.m_scoreTypeBox.selectedIndex,2==this.m_chooserWindow.m_scoreTypeBox.selectedIndex,e&&2==this.m_chooserWindow.m_scoreTypeBox.selectedIndex?s.Database.SORT_BY_SCORE:s.Database.highScoresSortType,e&&2==this.m_chooserWindow.m_scoreTypeBox.selectedIndex?1:s.Database.curScorePage,e&&this.m_chooserWindow.m_scoreTypeBox&&2==this.m_chooserWindow.m_scoreTypeBox.selectedIndex?"":s.Database.curSearch,this.finishGettingScoreData),this.ShowDialog("Getting scores...")):this.m_chooserWindow.dataType==SaveLoadWindow.LOAD_ROBOT_TYPE?(s.Database.GetRobotData(_.ControllerGameGlobals.userName,_.ControllerGameGlobals.password,!this.m_chooserWindow.yourRobotsBox.selected,e&&this.m_chooserWindow.yourRobotsBox.selected?s.Database.SORT_BY_EDIT_TIME:s.Database.curSortType,e&&this.m_chooserWindow.yourRobotsBox.selected?s.Database.SORT_PERIOD_ALLTIME:s.Database.curSortPeriod,e&&this.m_chooserWindow.yourRobotsBox.selected?1:s.Database.curRobotPage,e&&this.m_chooserWindow.m_scoreTypeBox&&2==this.m_chooserWindow.m_scoreTypeBox.selectedIndex?"":s.Database.curSearch,this.finishGettingLoadRobotData),this.ShowDialog("Getting robots...")):this.m_chooserWindow.dataType==SaveLoadWindow.LOAD_CHALLENGE_TYPE?(s.Database.curSortPeriod==s.Database.SORT_PERIOD_PROP&&(s.Database.curSortPeriod=s.Database.SORT_PERIOD_ALLTIME),s.Database.GetChallengeData(_.ControllerGameGlobals.userName,_.ControllerGameGlobals.password,!this.m_chooserWindow.yourRobotsBox.selected,e&&this.m_chooserWindow.yourRobotsBox.selected?s.Database.SORT_BY_EDIT_TIME:s.Database.curSortType,e&&this.m_chooserWindow.yourRobotsBox.selected?s.Database.SORT_PERIOD_ALLTIME:s.Database.curSortPeriod,e&&this.m_chooserWindow.yourRobotsBox.selected?1:s.Database.curReplayPage,e&&this.m_chooserWindow.m_scoreTypeBox&&2==this.m_chooserWindow.m_scoreTypeBox.selectedIndex?"":s.Database.curSearch,this.finishGettingLoadChallengeData),this.ShowDialog("Getting challenges...")):(s.Database.curSortPeriod==s.Database.SORT_PERIOD_PROP&&(s.Database.curSortPeriod=s.Database.SORT_PERIOD_ALLTIME),s.Database.GetReplayData(_.ControllerGameGlobals.userName,_.ControllerGameGlobals.password,!this.m_chooserWindow.yourRobotsBox.selected,e&&this.m_chooserWindow.yourRobotsBox.selected?s.Database.SORT_BY_EDIT_TIME:s.Database.curSortType,e&&this.m_chooserWindow.yourRobotsBox.selected?s.Database.SORT_PERIOD_ALLTIME:s.Database.curSortPeriod,e&&this.m_chooserWindow.yourRobotsBox.selected?1:s.Database.curReplayPage,e&&this.m_chooserWindow.m_scoreTypeBox&&2==this.m_chooserWindow.m_scoreTypeBox.selectedIndex?"":s.Database.curSearch,this.finishGettingLoadReplayData),this.ShowDialog("Getting replays...")),this.m_chooserWindow.ShowFader(),a.Main.ShowHourglass()))}viewReplayButton(){_.ControllerGameGlobals.viewingUnsavedReplay?(this.m_fader.visible=!1,this.m_scoreWindow.visible=!1,this.resetButton()):(this.resetButton(),_.ControllerGameGlobals.replay=new C.Replay(this.cameraMovements,this.syncPoints,this.keyPresses,this.frameCounter,s.Database.VERSION_STRING_FOR_REPLAYS),_.ControllerGameGlobals.replayParts=this.allParts.filter(this.IsPartOfRobot),_.ControllerGameGlobals.playingReplay=!0,a.Main.changeControllers=!0,_.ControllerGameGlobals.viewingUnsavedReplay=!0)}newButton(){if(a.Main.inIFrame)this.m_fader.visible=!0,this.ShowConfirmDialog("Redirect to incredibots2.com?",7);else{for(var t=!1,e=0;e<this.allParts.length;e++)if(this.allParts[e].isEditable){t=!0;break}this instanceof ControllerTutorial||this instanceof ControllerHomeMovies||this instanceof ControllerRubeGoldberg||this instanceof ControllerNewFeatures||this instanceof ControllerChallengeEditor||""!=_.ControllerGameGlobals.curRobotID&&("challenge"!==this.controllerType||""!=_.ControllerGameGlobals.curChallengeID)||!t&&"challenge"!==this.controllerType?this.ConfirmNewRobot():(this.m_fader.visible=!0,this.m_scoreWindow&&this.m_scoreWindow.visible&&this.m_scoreWindow.ShowFader(),this.ShowConfirmDialog("Exit to main menu?     (Unsaved changes will be lost)",4))}}saveButton(){if(!this.selectingCondition)if(a.Main.inIFrame)this.m_fader.visible=!0,this.ShowConfirmDialog("Redirect to incredibots2.com?",7);else{if(!_.ControllerGameGlobals.curRobotEditable||_.ControllerGameGlobals.playingReplay)return;"challenge"!==this.controllerType||ControllerChallenge.playChallengeMode?s.Database.ExportRobot(new p.Robot(this.allParts.filter(this.PartIsEditable),v.ControllerSandbox.settings,this.draw.m_drawXOff,this.draw.m_drawYOff,this.m_physScale),"","",1,1,0,this.finishExporting):(this.m_restrictionsDialog&&this.removeChild(this.m_restrictionsDialog),this.m_restrictionsDialog=new RestrictionsWindow(this),this.addChild(this.m_restrictionsDialog),this.saveAfterRestrictions=!0),this.m_fader.visible=!0,this.curAction=-1}}loadAndInsertButton(){!_.ControllerGameGlobals.curRobotEditable||this.selectingCondition||_.ControllerGameGlobals.playingReplay||(_.ControllerGameGlobals.loadAndInsert=!0,this.loadRobotButton())}loadButton(t=!0){this.selectingCondition||(a.Main.inIFrame?(this.m_fader.visible=!0,this.ShowConfirmDialog("Redirect to incredibots2.com?",7)):t&&_.ControllerGameGlobals.playingReplay&&""!=_.ControllerGameGlobals.curReplayID&&_.ControllerGameGlobals.curReplayPublic&&!_.ControllerGameGlobals.ratedCurReplay&&!D.LSOManager.HasRatedReplay(_.ControllerGameGlobals.curReplayID)?(_.ControllerGameGlobals.ratedCurReplay=!0,this.m_rateDialog&&this.removeChild(this.m_rateDialog),this.m_rateDialog=new RateWindow(this,1,1),this.addChild(this.m_rateDialog),this.m_fader.visible=!0,this.m_guiPanel.ShowPausePanel(!_.ControllerGameGlobals.playingReplay),this.paused=!0):!t||_.ControllerGameGlobals.playingReplay||""==_.ControllerGameGlobals.curChallengeID||!_.ControllerGameGlobals.curChallengePublic||_.ControllerGameGlobals.ratedCurChallenge||D.LSOManager.HasRatedChallenge(_.ControllerGameGlobals.curChallengeID)?!t||_.ControllerGameGlobals.playingReplay||""==_.ControllerGameGlobals.curRobotID||!_.ControllerGameGlobals.curRobotPublic||_.ControllerGameGlobals.ratedCurRobot||D.LSOManager.HasRatedRobot(_.ControllerGameGlobals.curRobotID)?(this.m_fader.visible=!0,this.m_loadWindow&&this.removeChild(this.m_loadWindow),this.m_loadWindow=new LoadWindow(this),this.addChild(this.m_loadWindow)):(_.ControllerGameGlobals.ratedCurRobot=!0,this.m_rateDialog&&this.removeChild(this.m_rateDialog),this.m_rateDialog=new RateWindow(this,0,1),this.addChild(this.m_rateDialog),this.m_fader.visible=!0,this.simStarted&&(this.m_guiPanel.ShowPausePanel(!_.ControllerGameGlobals.playingReplay),this.paused=!0)):(_.ControllerGameGlobals.ratedCurChallenge=!0,this.m_rateDialog&&this.removeChild(this.m_rateDialog),this.m_rateDialog=new RateWindow(this,2,1),this.addChild(this.m_rateDialog),this.m_fader.visible=!0,this.simStarted&&(this.m_guiPanel.ShowPausePanel(!_.ControllerGameGlobals.playingReplay),this.paused=!0)))}loadRobotButton(t=!0){this.selectingCondition||(a.Main.inIFrame?(this.m_fader.visible=!0,this.ShowConfirmDialog("Redirect to incredibots2.com?",7)):t&&_.ControllerGameGlobals.playingReplay&&""!=_.ControllerGameGlobals.curReplayID&&_.ControllerGameGlobals.curReplayPublic&&!_.ControllerGameGlobals.ratedCurReplay&&!D.LSOManager.HasRatedReplay(_.ControllerGameGlobals.curReplayID)?(_.ControllerGameGlobals.ratedCurReplay=!0,this.m_rateDialog&&this.removeChild(this.m_rateDialog),this.m_rateDialog=new RateWindow(this,1,2),this.addChild(this.m_rateDialog),this.m_fader.visible=!0,this.m_guiPanel.ShowPausePanel(!_.ControllerGameGlobals.playingReplay),this.paused=!0):!t||_.ControllerGameGlobals.playingReplay||""==_.ControllerGameGlobals.curChallengeID||!_.ControllerGameGlobals.curChallengePublic||_.ControllerGameGlobals.ratedCurChallenge||D.LSOManager.HasRatedChallenge(_.ControllerGameGlobals.curChallengeID)?!t||_.ControllerGameGlobals.playingReplay||""==_.ControllerGameGlobals.curRobotID||!_.ControllerGameGlobals.curRobotPublic||_.ControllerGameGlobals.ratedCurRobot||D.LSOManager.HasRatedRobot(_.ControllerGameGlobals.curRobotID)?(s.Database.GetRobotData(_.ControllerGameGlobals.userName,_.ControllerGameGlobals.password,s.Database.curShared,s.Database.curSortType,s.Database.curSortPeriod,s.Database.curShared?s.Database.curRobotPage:1,"",this.finishGettingLoadRobotData),this.m_fader.visible=!0,this.ShowDialog("Getting robots..."),a.Main.ShowHourglass(),this.curAction=-1):(_.ControllerGameGlobals.ratedCurRobot=!0,this.m_rateDialog&&this.removeChild(this.m_rateDialog),this.m_rateDialog=new RateWindow(this,0,2),this.addChild(this.m_rateDialog),this.m_fader.visible=!0,this.m_guiPanel.ShowPausePanel(!_.ControllerGameGlobals.playingReplay),this.paused=!0):(_.ControllerGameGlobals.ratedCurChallenge=!0,this.m_rateDialog&&this.removeChild(this.m_rateDialog),this.m_rateDialog=new RateWindow(this,2,2),this.addChild(this.m_rateDialog),this.m_fader.visible=!0,this.simStarted&&(this.m_guiPanel.ShowPausePanel(!_.ControllerGameGlobals.playingReplay),this.paused=!0)))}finishSaving(){if(s.Database.waitingForResponse&&s.Database.curTransactionType==s.Database.ACTION_SAVE_ROBOT){var t=s.Database.FinishSavingRobot(e);""!=t&&(_.ControllerGameGlobals.curRobotID=t,_.ControllerGameGlobals.ratedCurRobot=!0,_.ControllerGameGlobals.curRobotPublic=_.ControllerGameGlobals.potentialRobotPublic,_.ControllerGameGlobals.curRobotFeatured=_.ControllerGameGlobals.potentialRobotFeatured,this.m_progressDialog.SetMessage("Save successful!"),this.m_progressDialog.HideInXSeconds(1),this.m_chooserWindow.visible=!1,this.removeChild(this.m_chooserWindow),this.m_chooserWindow=null,this.m_fader.visible=!1)}}finishGettingSaveRobotData(){s.Database.waitingForResponse&&s.Database.curTransactionType==s.Database.ACTION_GET_ROBOT_DATA&&s.Database.FinishGettingRobotData()&&(this.m_progressDialog.visible=!1,this.m_chooserWindow&&this.removeChild(this.m_chooserWindow),this.m_chooserWindow=new SaveLoadWindow(this,SaveLoadWindow.SAVE_ROBOT_TYPE),this.addChild(this.m_chooserWindow))}finishGettingLoadRobotData(){s.Database.waitingForResponse&&s.Database.curTransactionType==s.Database.ACTION_GET_ROBOT_DATA&&s.Database.FinishGettingRobotData()&&(this.m_progressDialog.visible=!1,this.m_chooserWindow&&this.removeChild(this.m_chooserWindow),this.m_chooserWindow=new SaveLoadWindow(this,SaveLoadWindow.LOAD_ROBOT_TYPE),this.addChild(this.m_chooserWindow))}finishLoading(){if(s.Database.waitingForResponse&&s.Database.curTransactionType==s.Database.ACTION_LOAD_ROBOT){var t=s.Database.FinishLoadingRobot(e);this.processLoadedRobot(t)}}processLoadedRobot(t){if(t){var e=t.allParts;if(_.ControllerGameGlobals.loadAndInsert){_.ControllerGameGlobals.loadAndInsert=!1;for(var s=!1,i=!1,l=!1,n=!1,c=!1,m=!1,P=!1,G=!1,u=!1,C=0;C<e.length;C++)e[C].isStatic&&(u=!0),e[C]instanceof nt.Circle&&(s=!0),e[C]instanceof rt.Rectangle&&(i=!0),e[C]instanceof b.Triangle&&(l=!0),e[C]instanceof r.FixedJoint&&(n=!0),e[C]instanceof d.RevoluteJoint&&(c=!0),e[C]instanceof h.PrismaticJoint&&(m=!0),e[C]instanceof g.Thrusters&&(P=!0),e[C]instanceof o.Cannon&&(G=!0);if("challenge"===this.controllerType&&(u&&!ControllerChallenge.challenge.fixateAllowed||s&&!ControllerChallenge.challenge.circlesAllowed||i&&!ControllerChallenge.challenge.rectanglesAllowed||l&&!ControllerChallenge.challenge.trianglesAllowed||n&&!ControllerChallenge.challenge.fixedJointsAllowed||c&&!ControllerChallenge.challenge.rotatingJointsAllowed||m&&!ControllerChallenge.challenge.slidingJointsAllowed||P&&!ControllerChallenge.challenge.thrustersAllowed||G&&!ControllerChallenge.challenge.cannonsAllowed))return this.m_fader.visible=!0,_.ControllerGameGlobals.loadAndInsert=!0,this.ShowDialog3("Sorry, that robot contains parts that are not allowed in this challenge!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer(),void a.Main.ShowMouse();_.ControllerGameGlobals.curRobotID="",this.allParts=this.allParts.concat(e),this.CheckIfPartsFit(),this.m_progressDialog.SetMessage("Load successful!"),this.m_progressDialog.HideInXSeconds(1),this.m_chooserWindow&&(this.m_chooserWindow.visible=!1,this.removeChild(this.m_chooserWindow),this.m_chooserWindow=null),this.m_fader.visible=!1,_.ControllerGameGlobals.curRobotEditable=_.ControllerGameGlobals.potentialRobotEditable,_.ControllerGameGlobals.curRobotPublic=!1,_.ControllerGameGlobals.curRobotFeatured=!1,this.redrawRobot=!0,this.CenterOnLoadedRobot()}else _.ControllerGameGlobals.curRobotID=_.ControllerGameGlobals.potentialRobotID,_.ControllerGameGlobals.ratedCurRobot=!1,_.ControllerGameGlobals.curRobotEditable=_.ControllerGameGlobals.potentialRobotEditable,_.ControllerGameGlobals.curRobotPublic=_.ControllerGameGlobals.potentialRobotPublic,_.ControllerGameGlobals.curRobotFeatured=_.ControllerGameGlobals.potentialRobotFeatured,_.ControllerGameGlobals.curReplayID="",_.ControllerGameGlobals.loadedParts=e,a.Main.changeControllers=!0,_.ControllerGameGlobals.playingReplay=!1,_.ControllerGameGlobals.initX=t.cameraX,_.ControllerGameGlobals.initY=t.cameraY,_.ControllerGameGlobals.initZoom=t.zoomLevel,t.challenge?(a.Main.nextControllerType=1,ControllerChallenge.challenge=t.challenge,ControllerChallenge.playChallengeMode=!0,ControllerChallenge.playOnlyMode=!0,v.ControllerSandbox.settings=t.challenge.settings,_.ControllerGameGlobals.curChallengeID=_.ControllerGameGlobals.potentialChallengeID,_.ControllerGameGlobals.ratedCurChallenge=!1,_.ControllerGameGlobals.curChallengePublic=!1,_.ControllerGameGlobals.curChallengeFeatured=!1,_.ControllerGameGlobals.justLoadedRobotWithChallenge=!0):(a.Main.nextControllerType=0,v.ControllerSandbox.settings=t.settings,_.ControllerGameGlobals.curChallengeID="")}}finishDeleting(){if(s.Database.waitingForResponse&&s.Database.curTransactionType==s.Database.ACTION_DELETE_ROBOT){var t=s.Database.FinishDeletingRobot(e);if(""!=t){_.ControllerGameGlobals.curRobotID==t&&(_.ControllerGameGlobals.curRobotID=""),this.m_progressDialog.SetMessage("Delete successful!"),this.m_progressDialog.HideInXSeconds(1);var i=this.m_chooserWindow.dataType;this.removeChild(this.m_chooserWindow),this.m_chooserWindow=new SaveLoadWindow(this,i),this.addChild(this.m_chooserWindow),this.removeChild(this.m_progressDialog),this.addChild(this.m_progressDialog)}}}finishExporting(t,e){this.m_chooserWindow&&(this.m_chooserWindow.visible=!1),this.m_exportDialog&&this.removeChild(this.m_exportDialog),this.m_exportDialog=new ExportWindow(this,t,e),this.m_fader.visible=!0,this.addChild(this.m_exportDialog)}saveReplayButton(){a.Main.inIFrame?(this.m_fader.visible=!0,this.ShowConfirmDialog("Redirect to incredibots2.com?",7)):(this.pauseButton(e),this.canSaveReplay?(this.AddSyncPoint(),_.ControllerGameGlobals.viewingUnsavedReplay?s.Database.ExportReplay(_.ControllerGameGlobals.replay,"","",_.ControllerGameGlobals.curRobotID,new p.Robot(this.allParts,v.ControllerSandbox.settings),-1,"",1,this.finishExporting):s.Database.ExportReplay(new C.Replay(this.cameraMovements,this.syncPoints,this.keyPresses,this.frameCounter,s.Database.VERSION_STRING_FOR_REPLAYS),"","",_.ControllerGameGlobals.curRobotID,new p.Robot(this.allParts,v.ControllerSandbox.settings),-1,"",1,this.finishExporting)):(this.m_fader.visible=!0,this.frameCounter>=9e3?this.ShowDialog3("Sorry, you can only save replays that are under 5 minutes in length."):this.ShowDialog3("Sorry, you can only save replays that contain 500 or fewer cannonballs."),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer()))}loadReplayButton(t=!0){this.selectingCondition||(a.Main.inIFrame?(this.m_fader.visible=!0,this.ShowConfirmDialog("Redirect to incredibots2.com?",7)):t&&_.ControllerGameGlobals.playingReplay&&""!=_.ControllerGameGlobals.curReplayID&&_.ControllerGameGlobals.curReplayPublic&&!_.ControllerGameGlobals.ratedCurReplay&&!D.LSOManager.HasRatedReplay(_.ControllerGameGlobals.curReplayID)?(_.ControllerGameGlobals.ratedCurReplay=!0,this.m_rateDialog&&this.removeChild(this.m_rateDialog),this.m_rateDialog=new RateWindow(this,1,3),this.addChild(this.m_rateDialog),this.m_fader.visible=!0,this.m_guiPanel.ShowPausePanel(!_.ControllerGameGlobals.playingReplay),this.paused=!0):!t||_.ControllerGameGlobals.playingReplay||""==_.ControllerGameGlobals.curChallengeID||!_.ControllerGameGlobals.curChallengePublic||_.ControllerGameGlobals.ratedCurChallenge||D.LSOManager.HasRatedChallenge(_.ControllerGameGlobals.curChallengeID)?!t||_.ControllerGameGlobals.playingReplay||""==_.ControllerGameGlobals.curRobotID||!_.ControllerGameGlobals.curRobotPublic||_.ControllerGameGlobals.ratedCurRobot||D.LSOManager.HasRatedRobot(_.ControllerGameGlobals.curRobotID)?(s.Database.curSortPeriod==s.Database.SORT_PERIOD_PROP&&(s.Database.curSortPeriod=s.Database.SORT_PERIOD_ALLTIME),s.Database.GetReplayData(_.ControllerGameGlobals.userName,_.ControllerGameGlobals.password,s.Database.curShared,s.Database.curSortType,s.Database.curSortPeriod,s.Database.curShared?s.Database.curReplayPage:1,"",this.finishGettingLoadReplayData),this.ShowDialog("Getting replays..."),a.Main.ShowHourglass(),this.m_fader.visible=!0,this.curAction=-1):(_.ControllerGameGlobals.ratedCurRobot=!0,this.m_rateDialog&&this.removeChild(this.m_rateDialog),this.m_rateDialog=new RateWindow(this,0,3),this.addChild(this.m_rateDialog),this.m_fader.visible=!0,this.m_guiPanel.ShowPausePanel(!_.ControllerGameGlobals.playingReplay),this.paused=!0):(_.ControllerGameGlobals.ratedCurChallenge=!0,this.m_rateDialog&&this.removeChild(this.m_rateDialog),this.m_rateDialog=new RateWindow(this,2,3),this.addChild(this.m_rateDialog),this.m_fader.visible=!0,this.simStarted&&(this.m_guiPanel.ShowPausePanel(!_.ControllerGameGlobals.playingReplay),this.paused=!0)))}loadChallengeButton(t=!0){this.selectingCondition||(a.Main.inIFrame?(this.m_fader.visible=!0,this.ShowConfirmDialog("Redirect to incredibots2.com?",7)):t&&_.ControllerGameGlobals.playingReplay&&""!=_.ControllerGameGlobals.curReplayID&&_.ControllerGameGlobals.curReplayPublic&&!_.ControllerGameGlobals.ratedCurReplay&&!D.LSOManager.HasRatedReplay(_.ControllerGameGlobals.curReplayID)?(_.ControllerGameGlobals.ratedCurReplay=!0,this.m_rateDialog&&this.removeChild(this.m_rateDialog),this.m_rateDialog=new RateWindow(this,1,4),this.addChild(this.m_rateDialog),this.m_fader.visible=!0,this.m_guiPanel.ShowPausePanel(!_.ControllerGameGlobals.playingReplay),this.paused=!0):!t||_.ControllerGameGlobals.playingReplay||""==_.ControllerGameGlobals.curChallengeID||!_.ControllerGameGlobals.curChallengePublic||_.ControllerGameGlobals.ratedCurChallenge||D.LSOManager.HasRatedChallenge(_.ControllerGameGlobals.curChallengeID)?!t||_.ControllerGameGlobals.playingReplay||""==_.ControllerGameGlobals.curRobotID||!_.ControllerGameGlobals.curRobotPublic||_.ControllerGameGlobals.ratedCurRobot||D.LSOManager.HasRatedRobot(_.ControllerGameGlobals.curRobotID)?(s.Database.curSortPeriod==s.Database.SORT_PERIOD_PROP&&(s.Database.curSortPeriod=s.Database.SORT_PERIOD_ALLTIME),s.Database.GetChallengeData(_.ControllerGameGlobals.userName,_.ControllerGameGlobals.password,s.Database.curShared,s.Database.curSortType,s.Database.curSortPeriod,s.Database.curShared?s.Database.curReplayPage:1,"",this.finishGettingLoadChallengeData),this.ShowDialog("Getting challenges..."),a.Main.ShowHourglass(),this.m_fader.visible=!0,this.curAction=-1):(_.ControllerGameGlobals.ratedCurRobot=!0,this.m_rateDialog&&this.removeChild(this.m_rateDialog),this.m_rateDialog=new RateWindow(this,0,4),this.addChild(this.m_rateDialog),this.m_fader.visible=!0,this.m_guiPanel.ShowPausePanel(!_.ControllerGameGlobals.playingReplay),this.paused=!0):(_.ControllerGameGlobals.ratedCurChallenge=!0,this.m_rateDialog&&this.removeChild(this.m_rateDialog),this.m_rateDialog=new RateWindow(this,2,4),this.addChild(this.m_rateDialog),this.m_fader.visible=!0,this.simStarted&&(this.m_guiPanel.ShowPausePanel(!_.ControllerGameGlobals.playingReplay),this.paused=!0)))}LoadReplayNow(t){s.Database.LoadReplayByID(t,this.finishLoadingReplay),this.ShowDialog("Loading Replay..."),this.m_fader.visible=!0}LoadRobotNow(t){s.Database.LoadRobotByID(t,this.finishLoading),this.ShowDialog("Loading Robot..."),this.m_fader.visible=!0}LoadChallengeNow(t){s.Database.LoadChallengeByID(t,this.finishLoadingChallenge),this.ShowDialog("Loading Challenge..."),this.m_fader.visible=!0}highScoresButton(){this.selectingCondition||(a.Main.inIFrame?(this.m_fader.visible=!0,this.ShowConfirmDialog("Redirect to incredibots2.com?",7)):(""==_.ControllerGameGlobals.curChallengeID?(s.Database.GetChallengeData(_.ControllerGameGlobals.userName,_.ControllerGameGlobals.password,!0,s.Database.curSortType,s.Database.curSortPeriod,s.Database.curChallengePage,"",this.finishGettingLoadChallengeForScoreData),this.ShowDialog("Getting challenges...")):(s.Database.GetScoreData(_.ControllerGameGlobals.userName,_.ControllerGameGlobals.password,_.ControllerGameGlobals.curChallengeID,s.Database.highScoresDaily,s.Database.highScoresPersonal,s.Database.highScoresSortType,s.Database.curScorePage,"",this.finishGettingScoreData),this.ShowDialog("Getting high scores...")),a.Main.ShowHourglass(),this.m_fader.visible=!0,this.curAction=-1))}submitButton(){if(a.Main.inIFrame)this.m_fader.visible=!0,this.ShowConfirmDialog("Redirect to incredibots2.com?",7);else{if(!_.ControllerGameGlobals.curRobotEditable)return;"_Public"!=_.ControllerGameGlobals.userName?(this.AddSyncPoint(),_.ControllerGameGlobals.viewingUnsavedReplay?s.Database.SaveReplay(_.ControllerGameGlobals.userName,_.ControllerGameGlobals.password,_.ControllerGameGlobals.replay,"_ScoreReplay","This replay instanceof saved for a score",_.ControllerGameGlobals.curRobotID,new p.Robot(this.allParts,v.ControllerSandbox.settings),this.ChallengeOver()?this.GetScore():-1,_.ControllerGameGlobals.curChallengeID,1,this.finishSavingReplay):s.Database.SaveReplay(_.ControllerGameGlobals.userName,_.ControllerGameGlobals.password,new C.Replay(this.cameraMovements,this.syncPoints,this.keyPresses,this.frameCounter,s.Database.VERSION_STRING_FOR_REPLAYS),"_ScoreReplay","This replay instanceof saved for a score",_.ControllerGameGlobals.curRobotID,new p.Robot(this.allParts,v.ControllerSandbox.settings),this.ChallengeOver()?this.GetScore():-1,_.ControllerGameGlobals.curChallengeID,1,this.finishSavingReplay),this.m_scoreWindow.ShowFader(),this.ShowDialog("Submitting score..."),this.clickedSubmitScore=!0):(this.clickedSubmitScore=!0,this.loginButton(!0,!1))}}finishAddingUser(){if(s.Database.waitingForResponse&&s.Database.curTransactionType==s.Database.ACTION_ADD_USER){var t=s.Database.FinishAddingUser(e);""!=t&&(this.m_progressDialog.SetMessage("Success!"),this.m_progressDialog.HideInXSeconds(1),this.m_loginWindow&&(this.m_loginWindow.visible=!1),this.m_newUserWindow.visible=!1,this.m_scoreWindow&&this.m_scoreWindow.visible||(this.m_fader.visible=!1),a.Main.premiumMode=!1,_.ControllerGameGlobals.userName=t.substring(t.indexOf("user: ")+6,t.indexOf("password: ")-1),_.ControllerGameGlobals.password=t.substring(t.indexOf("password: ")+10,t.indexOf("session: ")-1),_.ControllerGameGlobals.sessionID=t.substr(t.indexOf("session: ")+9),this.m_guiPanel.ShowLogout(),this.loginHidden(!0))}}finishLoggingIn(){if(s.Database.waitingForResponse&&s.Database.curTransactionType==s.Database.ACTION_LOGIN){var t=s.Database.FinishLoggingIn(e);""!=t&&(this.m_progressDialog.SetMessage("Success!"),this.m_progressDialog.HideInXSeconds(1),this.m_loginWindow.visible=!1,this.m_scoreWindow&&this.m_scoreWindow.visible||(this.m_fader.visible=!1),0==t.indexOf("premium")?a.Main.premiumMode=!0:a.Main.premiumMode=!1,_.ControllerGameGlobals.userName=t.substring(t.indexOf("user: ")+6,t.indexOf("password: ")-1),_.ControllerGameGlobals.password=t.substring(t.indexOf("password: ")+10,t.indexOf("session: ")-1),_.ControllerGameGlobals.sessionID=t.substr(t.indexOf("session: ")+9),this.m_guiPanel.ShowLogout(),this.loginHidden(!0)),a.Main.ShowMouse()}}finishSavingReplay(){if(s.Database.waitingForResponse&&s.Database.curTransactionType==s.Database.ACTION_SAVE_REPLAY){var t=s.Database.FinishSavingReplay(e);""!=t&&(_.ControllerGameGlobals.curRobotID=t,_.ControllerGameGlobals.ratedCurRobot=!0,_.ControllerGameGlobals.curRobotPublic=!1,this.m_progressDialog.SetMessage("Save successful!"),this.m_progressDialog.HideInXSeconds(1),this.m_chooserWindow&&(this.m_chooserWindow.visible=!1,this.removeChild(this.m_chooserWindow),this.m_chooserWindow=null),this.m_scoreWindow&&this.m_scoreWindow.visible?this.clickedSubmitScore?(this.clickedSubmitScore=!1,this.m_progressDialog.visible=!1,this.highScoresButton(new MouseEvent(""))):(this.m_scoreWindow.HideFader(),a.Main.ShowMouse()):this.m_fader.visible=!1)}}finishGettingSaveReplayData(){s.Database.waitingForResponse&&s.Database.curTransactionType==s.Database.ACTION_GET_REPLAY_DATA&&s.Database.FinishGettingReplayData()&&(this.m_progressDialog.visible=!1,this.m_chooserWindow&&this.removeChild(this.m_chooserWindow),this.m_chooserWindow=new SaveLoadWindow(this,SaveLoadWindow.SAVE_REPLAY_TYPE),this.addChild(this.m_chooserWindow),this.m_fader.visible=!0)}finishGettingLoadReplayData(){s.Database.waitingForResponse&&s.Database.curTransactionType==s.Database.ACTION_GET_REPLAY_DATA&&s.Database.FinishGettingReplayData()&&(this.m_progressDialog.visible=!1,this.m_chooserWindow&&this.removeChild(this.m_chooserWindow),this.m_chooserWindow=new SaveLoadWindow(this,SaveLoadWindow.LOAD_REPLAY_TYPE),this.addChild(this.m_chooserWindow),this.m_fader.visible=!0)}finishLoadingReplay(){if(s.Database.waitingForResponse&&s.Database.curTransactionType==s.Database.ACTION_LOAD_REPLAY){var t=s.Database.FinishLoadingReplay(e);this.processLoadedReplay(t)}}processLoadedReplay(t){if(t)if(_.ControllerGameGlobals.replay=t[0],_.ControllerGameGlobals.replay.version!=s.Database.VERSION_STRING_FOR_REPLAYS)_.ControllerGameGlobals.replayDirectlyLinked?a.Main.inIFrame?a.Main.BrowserRedirect("http://incredibots.com/old/"+_.ControllerGameGlobals.replay.version+"/incredibots.php?replayID="+_.ControllerGameGlobals.potentialReplayID):a.Main.BrowserRedirect("http://incredibots.com/old/"+_.ControllerGameGlobals.replay.version+"/?replayID="+_.ControllerGameGlobals.potentialReplayID):(this.ShowConfirmDialog("This replay was saved using an older version of IncrediBots.  Redirect there now?",6),a.Main.ShowMouse());else{var e=t[1];_.ControllerGameGlobals.replayParts=e.allParts,v.ControllerSandbox.settings=e.settings,_.ControllerGameGlobals.playingReplay=!0,_.ControllerGameGlobals.viewingUnsavedReplay=!1,a.Main.changeControllers=!0,a.Main.nextControllerType=0,_.ControllerGameGlobals.curRobotID=_.ControllerGameGlobals.potentialRobotID,_.ControllerGameGlobals.ratedCurReplay=!0,_.ControllerGameGlobals.curReplayID=_.ControllerGameGlobals.potentialReplayID,_.ControllerGameGlobals.ratedCurReplay=!1,_.ControllerGameGlobals.curReplayPublic=_.ControllerGameGlobals.potentialReplayPublic,_.ControllerGameGlobals.curReplayFeatured=_.ControllerGameGlobals.potentialReplayFeatured,_.ControllerGameGlobals.curChallengeID="",_.ControllerGameGlobals.curChallengePublic=!1,_.ControllerGameGlobals.curChallengeFeatured=!1}}finishDeletingReplay(){if(s.Database.waitingForResponse&&s.Database.curTransactionType==s.Database.ACTION_DELETE_REPLAY&&s.Database.FinishDeletingReplay()){this.m_progressDialog.SetMessage("Delete successful!"),this.m_progressDialog.HideInXSeconds(1);var t=this.m_chooserWindow.dataType;this.removeChild(this.m_chooserWindow),this.m_chooserWindow=new SaveLoadWindow(this,t),this.addChild(this.m_chooserWindow),this.removeChild(this.m_progressDialog),this.addChild(this.m_progressDialog)}}finishSavingChallenge(){if(s.Database.waitingForResponse&&s.Database.curTransactionType==s.Database.ACTION_SAVE_CHALLENGE){var t=s.Database.FinishSavingChallenge();""!=t&&(_.ControllerGameGlobals.curChallengeID=t,_.ControllerGameGlobals.ratedCurChallenge=!0,_.ControllerGameGlobals.curChallengePublic=!1,_.ControllerGameGlobals.curChallengeFeatured=!1,this.m_progressDialog.SetMessage("Save successful!"),this.m_progressDialog.HideInXSeconds(1),this.m_chooserWindow&&(this.m_chooserWindow.visible=!1,this.removeChild(this.m_chooserWindow),this.m_chooserWindow=null),this.m_scoreWindow&&this.m_scoreWindow.visible?(this.m_scoreWindow.HideFader(),a.Main.ShowMouse()):this.m_fader.visible=!1)}}finishLoadingChallenge(){if(s.Database.waitingForResponse&&s.Database.curTransactionType==s.Database.ACTION_LOAD_CHALLENGE){var t=s.Database.FinishLoadingChallenge();this.processLoadedChallenge(t)}}processLoadedChallenge(t){t&&(a.Main.changeControllers=!0,a.Main.nextControllerType=1,_.ControllerGameGlobals.playingReplay=!1,ControllerChallenge.challenge=t,ControllerChallenge.playChallengeMode=!_.ControllerGameGlobals.potentialChallengeEditable,ControllerChallenge.playOnlyMode=!_.ControllerGameGlobals.potentialChallengeEditable,v.ControllerSandbox.settings=t.settings,_.ControllerGameGlobals.curChallengeID=_.ControllerGameGlobals.potentialChallengeID,_.ControllerGameGlobals.ratedCurChallenge=!1,_.ControllerGameGlobals.curChallengePublic=_.ControllerGameGlobals.potentialChallengePublic,_.ControllerGameGlobals.curChallengeFeatured=_.ControllerGameGlobals.potentialChallengeFeatured,_.ControllerGameGlobals.curRobotID="",_.ControllerGameGlobals.curReplayID="",_.ControllerGameGlobals.loadedParts=t.allParts,_.ControllerGameGlobals.initX=t.cameraX,_.ControllerGameGlobals.initY=t.cameraY,_.ControllerGameGlobals.initZoom=t.zoomLevel)}finishGettingSaveChallengeData(){s.Database.waitingForResponse&&s.Database.curTransactionType==s.Database.ACTION_GET_CHALLENGE_DATA&&s.Database.FinishGettingChallengeData()&&(this.m_progressDialog.visible=!1,this.m_chooserWindow&&this.removeChild(this.m_chooserWindow),this.m_chooserWindow=new SaveLoadWindow(this,SaveLoadWindow.SAVE_CHALLENGE_TYPE),this.addChild(this.m_chooserWindow),this.m_fader.visible=!0)}finishGettingLoadChallengeData(){s.Database.waitingForResponse&&s.Database.curTransactionType==s.Database.ACTION_GET_CHALLENGE_DATA&&s.Database.FinishGettingChallengeData()&&(this.m_progressDialog.visible=!1,this.m_chooserWindow&&this.removeChild(this.m_chooserWindow),this.m_chooserWindow=new SaveLoadWindow(this,SaveLoadWindow.LOAD_CHALLENGE_TYPE),this.addChild(this.m_chooserWindow),this.m_fader.visible=!0)}finishGettingLoadChallengeForScoreData(){s.Database.waitingForResponse&&s.Database.curTransactionType==s.Database.ACTION_GET_CHALLENGE_DATA&&s.Database.FinishGettingChallengeData()&&(this.m_progressDialog.visible=!1,this.m_challengeWindow&&this.removeChild(this.m_challengeWindow),this.m_challengeWindow=new ChooseChallengeWindow(this),this.addChild(this.m_challengeWindow),this.m_fader.visible=!0)}finishDeletingChallenge(){if(s.Database.waitingForResponse&&s.Database.curTransactionType==s.Database.ACTION_DELETE_CHALLENGE&&s.Database.FinishDeletingChallenge()){this.m_progressDialog.SetMessage("Delete successful!"),this.m_progressDialog.HideInXSeconds(1);var t=this.m_chooserWindow.dataType;this.removeChild(this.m_chooserWindow),this.m_chooserWindow=new SaveLoadWindow(this,t),this.addChild(this.m_chooserWindow),this.removeChild(this.m_progressDialog),this.addChild(this.m_progressDialog)}}finishGettingScoreData(){s.Database.waitingForResponse&&s.Database.curTransactionType==s.Database.ACTION_GET_SCORE_DATA&&s.Database.FinishGettingScoreData()&&(this.m_progressDialog.visible=!1,this.m_chooserWindow&&this.removeChild(this.m_chooserWindow),this.m_chooserWindow=new SaveLoadWindow(this,SaveLoadWindow.HIGH_SCORE_TYPE),this.addChild(this.m_chooserWindow),this.m_fader.visible=!0)}ConfirmSaveRobot(){this.m_chooserWindow.saveRobotButtonPressed(!0)}ConfirmSaveReplay(){this.m_chooserWindow.saveReplayButtonPressed(!0)}ConfirmSaveChallenge(){this.m_chooserWindow.saveChallengeButtonPressed(!0)}ConfirmDeleteRobot(){this.m_chooserWindow.deleteRobotButtonPressed(!0)}ConfirmDeleteReplay(){this.m_chooserWindow.deleteReplayButtonPressed(!0)}ConfirmDeleteChallenge(){this.m_chooserWindow.deleteChallengeButtonPressed(!0)}ShowImportWindow(t){this.m_importDialog&&this.removeChild(this.m_importDialog),this.m_importDialog=new T.ImportWindow(this,t),this.m_fader.visible=!0,this.addChild(this.m_importDialog)}ShowConfirmDialog(t,e){this.m_progressDialog&&this.removeChild(this.m_progressDialog),this.m_progressDialog=new DialogWindow(this,t,!0,!1,8==e),this.addChild(this.m_progressDialog),this.m_progressDialog.ShowOKAndCancelButton(e)}ShowDisabledDialog(){this.m_fader.visible=!0,this.m_progressDialog&&this.removeChild(this.m_progressDialog),this.m_progressDialog=new DialogWindow(this,"That feature has been disabled for this level.",!0),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer(),this.addChild(this.m_progressDialog)}ShowDialog(t){this.m_progressDialog&&this.removeChild(this.m_progressDialog),this.m_progressDialog=new DialogWindow(this,t),this.addChild(this.m_progressDialog)}ShowDialog2(t){this.m_progressDialog&&this.removeChild(this.m_progressDialog),this.m_progressDialog=new DialogWindow(this,t,!0,!0),this.addChild(this.m_progressDialog)}ShowDialog3(t){this.m_progressDialog&&this.removeChild(this.m_progressDialog),this.m_progressDialog=new DialogWindow(this,t,!0),this.addChild(this.m_progressDialog)}ShowTutorialWindow(t,e,s,i=!1){this.m_tutorialDialog&&this.removeChild(this.m_tutorialDialog),this.m_tutorialDialog=new TutorialWindow(this,e,s,t,i),this.addChild(this.m_tutorialDialog)}CloseTutorialDialog(t){this.m_tutorialDialog.visible=!1}ShowLinkDialog(t,e,s=!1,i="",a=!1){this.m_linkDialog&&this.removeChild(this.m_linkDialog),this.m_linkDialog=new LinkWindow(this,t,e,s,i,a),this.addChild(this.m_linkDialog)}DialogOK(){this.m_progressDialog.visible=!1,this.m_chooserWindow&&this.m_chooserWindow.visible&&this.m_chooserWindow.HideFader(),this.m_challengeWindow&&this.m_challengeWindow.visible&&this.m_challengeWindow.HideFader(),this.m_newUserWindow&&this.m_newUserWindow.visible&&this.m_newUserWindow.HideFader(),this.m_loginWindow&&this.m_loginWindow.visible&&this.m_loginWindow.HideFader(),this.m_scoreWindow&&this.m_scoreWindow.visible&&this.m_scoreWindow.HideFader(),this.m_restrictionsDialog&&this.m_restrictionsDialog.visible&&this.m_restrictionsDialog.HideFader(),this.m_conditionsDialog&&this.m_conditionsDialog.visible&&this.m_conditionsDialog.HideFader()}HideDialog(){s.Database.nonfatalErrorOccurred?(s.Database.nonfatalErrorOccurred=!1,this.m_chooserWindow&&this.m_chooserWindow.HideFader(),this.m_challengeWindow&&this.m_challengeWindow.HideFader(),this.m_newUserWindow&&this.m_newUserWindow.visible?this.m_newUserWindow.HideFader():this.m_loginWindow&&this.m_loginWindow.HideFader()):(this.m_fader.visible=!1,this.m_chooserWindow&&this.m_chooserWindow.visible&&(this.m_fader.visible=!0,this.m_chooserWindow.HideFader()),this.m_challengeWindow&&this.m_challengeWindow.visible&&(this.m_fader.visible=!0,this.m_challengeWindow.HideFader()),this.m_newUserWindow&&this.m_newUserWindow.visible?this.m_newUserWindow.visible=!1:this.m_loginWindow&&this.m_loginWindow.visible?this.m_loginWindow.visible=!1:this.m_scoreWindow&&this.m_scoreWindow.visible?(this.m_fader.visible=!0,this.m_scoreWindow.HideFader()):this.m_postReplayWindow&&this.m_postReplayWindow.visible&&(this.m_fader.visible=!0,this.m_postReplayWindow.HideFader())),this.m_progressDialog.visible=!1,_.ControllerGameGlobals.failedChallenge&&this.resetButton(new MouseEvent("")),_.ControllerGameGlobals.failedChallenge=!1}HideLinkDialog(){this.m_linkDialog.visible=!1,this.m_chooserWindow&&this.m_chooserWindow.visible?this.m_chooserWindow.HideFader():this.m_fader.visible=!1}HideExportDialog(){this.m_exportDialog.visible=!1,this.m_chooserWindow&&this.m_chooserWindow.visible&&this.m_chooserWindow.HideFader(),this.m_fader.visible=!1}HideImportDialog(){this.m_importDialog.visible=!1,this.m_fader.visible=!1}HideConfirmDialog(){this.m_progressDialog.visible=!1,this.m_chooserWindow&&this.m_chooserWindow.visible?this.m_chooserWindow.HideFader():this.m_scoreWindow&&this.m_scoreWindow.visible?this.m_scoreWindow.HideFader():this.m_fader.visible=!1}ShowPostReplayWindow(){this.m_postReplayWindow&&this.removeChild(this.m_postReplayWindow),this.m_postReplayWindow=new PostReplayWindow(this),this.addChild(this.m_postReplayWindow),this.m_fader.visible=!0}DeletePart(t,e=!0,s=!0){this.allParts=i.Util.RemoveFromArray(t,this.allParts),s&&(this.selectedParts=i.Util.RemoveFromArray(t,this.selectedParts)),t.isEnabled=!1;var a,l=new Array;if(t instanceof c.ShapePart)do{a=!1;for(var o=0;o<this.allParts.length;o++)if(a)o!=this.allParts.length-1&&(this.allParts[o]=this.allParts[o+1]);else if(this.allParts[o]instanceof n.JointPart){var r=this.allParts[o];r.part1!=t&&r.part2!=t||(a=!0,l.push(r),r.isEnabled=!1,s&&(this.selectedParts=i.Util.RemoveFromArray(r,this.selectedParts)),o!=this.allParts.length-1&&(this.allParts[o]=this.allParts[o+1]))}else if(this.allParts[o]instanceof g.Thrusters){var h=this.allParts[o];h.shape==t&&(a=!0,l.push(h),h.isEnabled=!1,s&&(this.selectedParts=i.Util.RemoveFromArray(h,this.selectedParts)),o!=this.allParts.length-1&&(this.allParts[o]=this.allParts[o+1]))}a&&this.allParts.pop()}while(a);else t instanceof m.TextPart&&(t.m_textField.visible=!1);e&&this.AddAction(new N.DeleteAction(t,l)),this.CheckIfPartsFit(),_.ControllerGameGlobals.curRobotID=""}CreateWorld(){var t=new x.b2AABB;t.lowerBound.Set(-300,-200),t.upperBound.Set(300,200),this.m_world=x.b2World.Create(this.GetGravity()),this.m_groundBody=this.m_world.CreateBody(),this.m_groundBody.SetUserData({groundBody:!0});var e=new lt.ContactFilter;this.m_world.SetContactFilter(e);var s=new ot.ContactListener(this);this.m_world.SetContactListener(s)}GetGravity(){return new x.b2Vec2(0,15)}TooManyShapes(){return this.allParts.filter(this.PartIsPhysical).length>500}IsPartOfRobot(t,e,s){return t.drawAnyway}PartIsEditable(t,e,s){return t.isEditable}PartIsShape(t,e,s){return t instanceof c.ShapePart}PartIsPhysical(t,e,s){return t instanceof c.ShapePart||t instanceof h.PrismaticJoint}FindCenterOfRobot(){for(var t=null,e=0,s=0;s<this.allParts.length;s++)if(this.allParts[s].isEditable&&this.allParts[s]instanceof c.ShapePart&&this.allParts[s].isEnabled&&this.allParts[s].m_collisionGroup==-(s+1)){for(var a=this.allParts[s].GetAttachedParts().filter(this.PartIsShape),l=0,o=new Array,r=new Array,n=0;n<a.length;n++)i.Util.ObjectInArray(a[n].GetBody(),o)||(l+=a[n].GetMass(),o.push(a[n].GetBody()),r.push(a[n]));l>e&&(e=l,t=r)}if(!t)return null;var h=-1,d=0;for(s=0;s<t.length;s++){var m=t[s].GetMass();m>d&&(d=m,h=s)}return-1==h?null:t[h]}Zoom(t){var e=this.m_physScale,s=(_.ControllerGameGlobals.ZOOM_FOCUS_X+this.draw.m_drawXOff)/this.m_physScale,i=(_.ControllerGameGlobals.ZOOM_FOCUS_Y+this.draw.m_drawYOff)/this.m_physScale;t?(this.m_physScale*=4/3,this.m_physScale>_.ControllerGameGlobals.MAX_ZOOM_VAL&&(this.m_physScale=_.ControllerGameGlobals.MAX_ZOOM_VAL)):(this.m_physScale*=.75,this.m_physScale<_.ControllerGameGlobals.MIN_ZOOM_VAL&&(this.m_physScale=_.ControllerGameGlobals.MIN_ZOOM_VAL)),this.draw.m_drawXOff=s*this.m_physScale-_.ControllerGameGlobals.ZOOM_FOCUS_X,this.draw.m_drawYOff=i*this.m_physScale-_.ControllerGameGlobals.ZOOM_FOCUS_Y,e!=this.m_physScale&&(this.hasZoomed=!0),this.simStarted&&this.cameraMovements.push(new P.CameraMovement(this.frameCounter,this.autoPanning?Number.POSITIVE_INFINITY:this.draw.m_drawXOff,this.autoPanning?Number.POSITIVE_INFINITY:this.draw.m_drawYOff,this.m_physScale))}MaybeCreateJoint(){var t=new Array,e=_.ControllerGameGlobals.mouseXWorldPhys,s=_.ControllerGameGlobals.mouseYWorldPhys,i=this.FindPartToSnapTo();_.ControllerGameGlobals.snapToCenter&&i&&(e=i.centerX,s=i.centerY);for(var a=this.allParts.length-1;a>=0;a--)if(this.allParts[a]instanceof c.ShapePart&&this.allParts[a].isEditable&&this.allParts[a].isEnabled){var l=this.allParts[a];l.InsideShape(e,s,this.m_physScale)&&t.push(l)}if(2==t.length){if(this.curAction==_.ControllerGameGlobals.NEW_REVOLUTE_JOINT){var o=new d.RevoluteJoint(t[0],t[1],e,s);this.copiedJoint instanceof d.RevoluteJoint&&o.SetJointProperties(this.copiedJoint),this.allParts.push(o),this.AddAction(new J.CreateAction(o)),this.m_sidePanel.ShowJointPanel(o),this.selectedParts=new Array,this.selectedParts.push(o),this.curAction=-1,_.ControllerGameGlobals.centerOnSelected&&this.CenterOnSelected(),this.PlayJointSound()}else if(this.curAction==_.ControllerGameGlobals.NEW_FIXED_JOINT){var n=new r.FixedJoint(t[0],t[1],e,s);this.allParts.push(n),this.AddAction(new J.CreateAction(n)),this.m_sidePanel.ShowJointPanel(n),this.selectedParts=new Array,this.selectedParts.push(n),this.curAction=-1,_.ControllerGameGlobals.centerOnSelected&&this.CenterOnSelected(),this.PlayJointSound()}_.ControllerGameGlobals.curRobotID="",this.redrawRobot=!0}else t.length>2?(this.potentialJointPart1=t[0],this.potentialJointPart2=t[1],this.potentialJointPart1.highlightForJoint=!0,this.potentialJointPart2.highlightForJoint=!0,this.candidateJointX=e,this.candidateJointY=s,this.candidateJointType=this.curAction,this.candidateJointParts=t,this.curAction=_.ControllerGameGlobals.FINALIZING_JOINT):(this.curAction=-1,this.redrawRobot=!0)}MaybeCreateThrusters(){var t=new Array,e=_.ControllerGameGlobals.mouseXWorldPhys,s=_.ControllerGameGlobals.mouseYWorldPhys,i=this.FindPartToSnapTo();_.ControllerGameGlobals.snapToCenter&&i&&(e=i.centerX,s=i.centerY);for(var a=this.allParts.length-1;a>=0;a--)if(this.allParts[a]instanceof c.ShapePart&&this.allParts[a].isEditable&&this.allParts[a].isEnabled){var l=this.allParts[a];l.InsideShape(e,s,this.m_physScale)&&t.push(l)}if(1==t.length){var o=new g.Thrusters(t[0],e,s);this.copiedThrusters&&(o.strength=this.copiedThrusters.strength,o.angle=this.copiedThrusters.angle,o.thrustKey=this.copiedThrusters.thrustKey,o.autoOn=this.copiedThrusters.autoOn),this.allParts.push(o),this.AddAction(new J.CreateAction(o)),this.m_sidePanel.ShowThrustersPanel(o),this.selectedParts=new Array,this.selectedParts.push(o),this.curAction=-1,_.ControllerGameGlobals.centerOnSelected&&this.CenterOnSelected(),_.ControllerGameGlobals.curRobotID="",this.redrawRobot=!0,this.PlayJointSound()}else t.length>1?(this.potentialJointPart1=t[0],this.potentialJointPart1.highlightForJoint=!0,this.candidateJointX=e,this.candidateJointY=s,this.candidateJointType=this.curAction,this.candidateJointParts=t,this.curAction=_.ControllerGameGlobals.FINALIZING_JOINT):(this.curAction=-1,this.redrawRobot=!0)}MaybeStartCreatingPrismaticJoint(){var t=new Array,e=_.ControllerGameGlobals.mouseXWorldPhys,s=_.ControllerGameGlobals.mouseYWorldPhys,i=this.FindPartToSnapTo();_.ControllerGameGlobals.snapToCenter&&i&&(e=i.centerX,s=i.centerY);for(var a=this.allParts.length-1;a>=0;a--)if(this.allParts[a]instanceof c.ShapePart&&this.allParts[a].isEditable&&this.allParts[a].isEnabled){var l=this.allParts[a];l.InsideShape(e,s,this.m_physScale)&&t.push(l)}0==t.length?(this.curAction=-1,this.redrawRobot=!0):1==t.length?(this.jointPart=t[0],this.firstClickX=e,this.firstClickY=s,this.actionStep++,this.PlayJointSound()):(this.potentialJointPart1=t[0],this.potentialJointPart1.highlightForJoint=!0,this.candidateJointX=e,this.candidateJointY=s,this.candidateJointType=this.curAction,this.candidateJointParts=t,this.curAction=_.ControllerGameGlobals.FINALIZING_JOINT)}MaybeFinishCreatingPrismaticJoint(){var t=new Array,e=_.ControllerGameGlobals.mouseXWorldPhys,s=_.ControllerGameGlobals.mouseYWorldPhys,i=this.FindPartToSnapTo();_.ControllerGameGlobals.snapToCenter&&i&&(e=i.centerX,s=i.centerY);for(var a=this.allParts.length-1;a>=0;a--)if(this.allParts[a]instanceof c.ShapePart&&this.allParts[a].isEditable&&this.allParts[a]!=this.jointPart){var l=this.allParts[a];l.InsideShape(e,s,this.m_physScale)&&t.push(l)}if(1==t.length){var o=new h.PrismaticJoint(this.jointPart,t[0],this.firstClickX,this.firstClickY,e,s);this.copiedJoint instanceof h.PrismaticJoint&&o.SetJointProperties(this.copiedJoint),this.allParts.push(o),this.AddAction(new J.CreateAction(o)),this.m_sidePanel.ShowJointPanel(o),this.selectedParts=new Array,this.selectedParts.push(o),this.curAction=-1,this.jointPart.highlightForJoint=!1,_.ControllerGameGlobals.curRobotID="",_.ControllerGameGlobals.centerOnSelected&&this.CenterOnSelected(),this.redrawRobot=!0,this.PlayJointSound()}else t.length>1?(this.potentialJointPart1=t[0],this.potentialJointPart1.highlightForJoint=!0,this.candidateJointX=e,this.candidateJointY=s,this.candidateJointType=this.curAction,this.candidateJointParts=t,this.curAction=_.ControllerGameGlobals.FINALIZING_JOINT):0==t.length&&(this.curAction=-1,this.redrawRobot=!0)}FindPartToSnapTo(t=null){for(var e=null,s=Number.MAX_VALUE,a=0;a<this.allParts.length;a++)if(this.allParts[a]instanceof c.ShapePart&&this.allParts[a]!=t&&this.allParts[a].isEditable){var l=this.allParts[a],o=i.Util.GetDist(_.ControllerGameGlobals.mouseXWorldPhys,_.ControllerGameGlobals.mouseYWorldPhys,l.centerX,l.centerY);o<s&&(s=o,e=l)}return s<12/this.m_physScale?e:null}GetBodyAtMouse(){var t=new x.b2Vec2(_.ControllerGameGlobals.mouseXWorldPhys,_.ControllerGameGlobals.mouseYWorldPhys),e=new x.b2AABB;e.lowerBound.Set(_.ControllerGameGlobals.mouseXWorldPhys-.001,_.ControllerGameGlobals.mouseYWorldPhys-.001),e.upperBound.Set(_.ControllerGameGlobals.mouseXWorldPhys+.001,_.ControllerGameGlobals.mouseYWorldPhys+.001);for(var s=this.m_world.QueryAllAABB(e),i=null,a=0;a<s.length;++a)if(s[a].m_body.GetType()!=x.b2BodyType.b2_staticBody&&!s[a].m_body.GetUserData().undragable&&-1==s[a].m_body.GetUserData().isPiston){var l=s[a];if(l.TestPoint(t)){i=l.GetBody();break}}return i}MouseOverSelectedPart(){for(var t=0;t<this.selectedParts.length;t++)if(this.selectedParts[t].InsideShape(_.ControllerGameGlobals.mouseXWorldPhys,_.ControllerGameGlobals.mouseYWorldPhys,this.m_physScale))return!0;return!1}GetPartAtMouse(){for(var t=0;t<this.allParts.length;t++)if(this.allParts[t].isEditable&&this.allParts[t]instanceof m.TextPart&&this.allParts[t].InsideMoveBox(_.ControllerGameGlobals.mouseXWorldPhys,_.ControllerGameGlobals.mouseYWorldPhys,this.m_physScale))return this.allParts[t];for(var e=new Array,s=-1,a=!0,l=!0,o=this.allParts.length-1;o>=0;o--)this.allParts[o].isEditable&&this.allParts[o].InsideShape(_.ControllerGameGlobals.mouseXWorldPhys,_.ControllerGameGlobals.mouseYWorldPhys,this.m_physScale)&&(i.Util.ObjectInArray(this.allParts[o],this.selectedParts)?(l=!1,-1==s&&(s=e.length)):a=!1,e.push(this.allParts[o]));if(0==e.length)return null;if(1==e.length||a||l)return e[0];for(o=(s+1)%e.length;o!=s;o=(o+1)%e.length)if(!i.Util.ObjectInArray(e[o],this.selectedParts))return e[o];return null}}exports.ControllerGame=dt;
},{"pixi.js":"aQiP","../General/Database":"CVYw","../General/Util":"Zvyo","../Main":"aM6Q","../Parts/Part":"eAVa","../Parts/Cannon":"vdN1","../Parts/FixedJoint":"QW19","../Parts/JointPart":"avwv","../Parts/PrismaticJoint":"nZSh","../Parts/RevoluteJoint":"AUAw","../Parts/ShapePart":"CDAe","../Parts/TextPart":"T0pq","../Parts/Thrusters":"Yw1p","../Parts/Triangle":"CRRv","./CameraMovement":"s2SF","./Controller":"T7gT","./Draw":"tHDu","./Replay":"odHz","./Robot":"H0hU","./Globals/ControllerGameGlobals":"K8aL","../General/Input":"xLqP","../Actions/Action":"xELh","../Gui/MainEditPanel":"YujO","../Gui/DropDownMenu":"qU8f","../Gui/PartEditWindow":"O6IY","../General/LSOManager":"unNJ","../Gui/AdvancedSandboxWindow":"kpwL","../Gui/ImportWindow":"F66q","./ControllerSandbox":"v13b","./KeyPress":"pdwH","./ReplaySyncPoint":"TXMb","@box2d/core":"kjbO","../Actions/CameraAction":"zJxm","../Actions/ChangeSliderAction":"wdsq","../Actions/ClearAction":"wJ8e","../Actions/ColourChangeAction":"VT9P","../Actions/ControlKeyAction":"gn4K","../Actions/CreateAction":"irRs","../Actions/DeleteAction":"cRW3","../Actions/EnterTextAction":"gzRi","../Actions/JointCheckboxAction":"BvkN","../Actions/LimitChangeAction":"a7X3","../Actions/MassCreateAction":"a0WD","../Actions/MoveAction":"fZPQ","../Actions/MoveZAction":"xG66","../Actions/MultiCollideAction":"Ta8o","../Actions/MultiColourChangeAction":"f3tu","../Actions/MultiFixateAction":"eBnP","../Actions/MultiOutlineAction":"mnQg","../Actions/MultiTerrainAction":"oMea","../Actions/MultiUndragableAction":"uT1E","../Actions/ResizeShapesAction":"l0X7","../Actions/ResizeTextAction":"VEDY","../Actions/RotateAction":"SMyw","../Actions/ShapeCheckboxAction":"V2A2","../Actions/TextCheckboxAction":"vJ2q","../Actions/TextSizeChangeAction":"c1cn","./ContactFilter":"u77w","./ContactListener":"sy4E","../Parts/Rectangle":"jYSx","../Parts/Circle":"PfXD","./Graphics/b2DebugDraw":"H8Kw"}],"a6nr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Gradient=void 0;const e=require("pixi.js");class t{static getLinearGradientTexture([t,r]){const o=document.createElement("canvas");o.width=1,o.height=512;const i=o.getContext("2d"),a=i.createLinearGradient(0,0,0,512);return a.addColorStop(0,t),a.addColorStop(1,r),i.fillStyle=a,i.fillRect(0,0,1,512),e.Texture.from(o)}}exports.Gradient=t;
},{"pixi.js":"aQiP"}],"cNJr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Sky=void 0;const t=require("pixi.js"),s=require("@box2d/core"),i=require("../../General/Util"),e=require("../ControllerMainMenu"),o=require("../SandboxSettings"),h=require("./Gradient"),n=require("./Resource");class d{constructor(l,r,u=0,c=0,a=0){this.sClouds=new Array,this.cloudPositions=new Array,this.cloudVelocities=new Array,this.starRadii=new Array,this.cont=l,this.skyType=r,this.sky=new t.Container;const C=new t.Sprite(h.Gradient.getLinearGradientTexture(r==o.SandboxSettings.BACKGROUND_SOLID_COLOUR?[i.Util.HexColourString(u,c,a),i.Util.HexColourString(u,c,a)]:[d.topColours[r],d.bottomColours[r]]));if(C.position.set(0,0),C.width=800,C.height=600,this.sky.addChild(C),this.cont.addChild(this.sky),this.lastCloudIndex=this.cont.getChildIndex(this.sky),this.numClouds=0,0==r){this.numClouds=Math.min((this.cont.GetMaxX()-this.cont.GetMinX())/10,15);for(var x=0;x<this.numClouds;x++){var y=new t.Sprite(n.Resource.cCloud0),R=Math.floor(10*Math.random());0==R&&(y.texture=n.Resource.cCloud0),1==R&&(y.texture=n.Resource.cCloud1),2==R&&(y.texture=n.Resource.cCloud2),3==R&&(y.texture=n.Resource.cCloud3),4==R&&(y.texture=n.Resource.cCloud4),5==R&&(y.texture=n.Resource.cCloud5),6==R&&(y.texture=n.Resource.cCloud6),7==R&&(y.texture=n.Resource.cCloud7),8==R&&(y.texture=n.Resource.cCloud8),R>=9&&(y.texture=n.Resource.cCloud9),this.cont.addChild(y),this.lastCloudIndex=this.cont.getChildIndex(y),this.sClouds.push(y),this.cloudPositions.push(new s.b2Vec2(i.Util.RangedRandom(this.cont.GetMinX()-5,this.cont.GetMaxX()+5),i.Util.RangedRandom(-15,6))),this.cloudVelocities.push(3*Math.random()/120+1/120)}}else if(1==r){var p=this.cont.GetMaxX()-this.cont.GetMinX()+10;this.cont instanceof e.ControllerMainMenu&&(p*=1.5),this.numClouds=10*(this.cont.GetMaxX()-this.cont.GetMinX());var M=new t.Graphics;for(M.beginFill(11454938),M.drawCircle(0,0,1),M.drawCircle(90*p,0,1),M.drawCircle(0,90*p,1),M.drawCircle(90*p,90*p,1),M.endFill(),x=0;x<this.numClouds;x++)this.cloudPositions.push(i.Util.Vector(i.Util.RangedRandom(0,90*p),i.Util.RangedRandom(0,90*p))),this.cloudVelocities.push(0),this.starRadii.push(this.cont instanceof e.ControllerMainMenu?i.Util.RangedRandom(3,8):i.Util.RangedRandom(2,6)),M.beginFill(11454938),M.drawCircle(this.cloudPositions[x].x,this.cloudPositions[x].y,this.starRadii[x]),M.endFill();this.cont.addChild(M),this.lastCloudIndex=this.cont.getChildIndex(M),this.sClouds.push(M)}this.Update(!0,!0)}Update(t,s){if(t)if(0==this.skyType)for(var i=0;i<this.numClouds;i++)this.sClouds[i].width=this.sClouds[i].texture.width*this.cont.GetPhysScale()/90,this.sClouds[i].height=this.sClouds[i].texture.height*this.cont.GetPhysScale()/90;else 1==this.skyType&&(this.sClouds[0].width=this.cont.World2ScreenX(this.cont.GetMaxX()+5)-this.cont.World2ScreenX(this.cont.GetMinX()-5),this.sClouds[0].height=this.sClouds[0].width);if(0==this.skyType)for(i=0;i<this.numClouds;i++)this.cont.IsPaused()||(this.cloudPositions[i].x-=this.cloudVelocities[i],this.cloudPositions[i].x<this.cont.GetMinX()-5&&(this.cloudPositions[i].x=this.cont.GetMaxX()+5)),(!this.cont.IsPaused()||s||t)&&(this.sClouds[i].x=this.cont.World2ScreenX(this.cloudPositions[i].x)-this.sClouds[i].width/2,this.sClouds[i].y=this.cont.World2ScreenY(this.cloudPositions[i].y)-this.sClouds[i].height/2);else 1==this.skyType&&(!this.cont.IsPaused()||s||t)&&(this.sClouds[0].x=this.cont.World2ScreenX(this.cont.GetMinX()-5),this.sClouds[0].y=this.cont.World2ScreenY(this.cont.GetMinY()-5))}Delete(){if(this.cont.removeChild(this.sky),0==this.skyType)for(var t=0;t<this.numClouds;t++)this.cont.removeChild(this.sClouds[t]);else 1==this.skyType&&this.cont.removeChild(this.sClouds[0])}}exports.Sky=d,d.topColours=["#43B0F7","#171717","#292935","#22243C","#BE4A3C","#4790EC"],d.bottomColours=["#8ACEF7","#353738","#48475F","#40457E","#EB7A76","#EC8D66"];
},{"pixi.js":"aQiP","@box2d/core":"kjbO","../../General/Util":"Zvyo","../ControllerMainMenu":"rq5K","../SandboxSettings":"ZSAP","./Gradient":"a6nr","./Resource":"VWUR"}],"v13b":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ControllerSandbox=void 0;const t=require("pixi.js"),i=require("@box2d/core"),e=require("../General/Util"),r=require("../Parts/Circle"),s=require("../Parts/Rectangle"),n=require("../Parts/TextPart"),o=require("./ControllerGame"),a=require("./Graphics/Gradient"),h=require("./Graphics/Sky"),l=require("./SandboxSettings");class d extends o.ControllerGame{constructor(){super(),this.controllerType="sandbox",this.sGround=new t.Graphics,this.groundParts=new Array,this.BuildGround(!0)}BuildGround(i=!1){var e;if(this.sSky=new h.Sky(this,d.settings.background,d.settings.backgroundR,d.settings.backgroundG,d.settings.backgroundB),d.settings.terrainType==l.SandboxSettings.TERRAIN_LAND?d.settings.size==l.SandboxSettings.SIZE_LARGE?((e=new s.Rectangle(-247.7,12,495.4,12.5,!1)).isStatic=!0,e.isEditable=!1,e.drawAnyway=!1,e.isSandbox=!0,this.allParts.push(e),this.groundParts.push(e),(e=new r.Circle(-247.4,18.25,6.25,!1)).isStatic=!0,e.isEditable=!1,e.drawAnyway=!1,e.isSandbox=!0,this.allParts.push(e),this.groundParts.push(e),(e=new r.Circle(247.4,18.25,6.25,!1)).isStatic=!0,e.isEditable=!1,e.drawAnyway=!1,e.isSandbox=!0,this.allParts.push(e),this.groundParts.push(e)):d.settings.size==l.SandboxSettings.SIZE_MEDIUM?((e=new s.Rectangle(-119.5,12,239,9,!1)).isStatic=!0,e.isEditable=!1,e.drawAnyway=!1,e.isSandbox=!0,this.allParts.push(e),this.groundParts.push(e),(e=new r.Circle(-119,16.5,4.5)).isStatic=!0,e.isEditable=!1,e.drawAnyway=!1,e.isSandbox=!0,this.allParts.push(e),this.groundParts.push(e),(e=new r.Circle(119,16.5,4.5)).isStatic=!0,e.isEditable=!1,e.drawAnyway=!1,e.isSandbox=!0,this.allParts.push(e),this.groundParts.push(e)):((e=new s.Rectangle(-39.7,12,79.4,6,!1)).isStatic=!0,e.isEditable=!1,e.drawAnyway=!1,e.isSandbox=!0,this.allParts.push(e),this.groundParts.push(e),(e=new r.Circle(-39.4,15,3)).isStatic=!0,e.isEditable=!1,e.drawAnyway=!1,e.isSandbox=!0,this.allParts.push(e),this.groundParts.push(e),(e=new r.Circle(39.4,15,3)).isStatic=!0,e.isEditable=!1,e.drawAnyway=!1,e.isSandbox=!0,this.allParts.push(e),this.groundParts.push(e)):d.settings.terrainType==l.SandboxSettings.TERRAIN_BOX&&(d.settings.size==l.SandboxSettings.SIZE_LARGE?((e=new s.Rectangle(-300,-180,600,40,!1)).isStatic=!0,e.isEditable=!1,e.drawAnyway=!1,e.isSandbox=!0,this.allParts.push(e),this.groundParts.push(e),(e=new s.Rectangle(-300,-180,40,230,!1)).isStatic=!0,e.isEditable=!1,e.drawAnyway=!1,e.isSandbox=!0,this.allParts.push(e),this.groundParts.push(e),(e=new s.Rectangle(260,-180,40,230,!1)).isStatic=!0,e.isEditable=!1,e.drawAnyway=!1,e.isSandbox=!0,this.allParts.push(e),this.groundParts.push(e),(e=new s.Rectangle(-300,10,600,40,!1)).isStatic=!0,e.isEditable=!1,e.drawAnyway=!1,e.isSandbox=!0,this.allParts.push(e),this.groundParts.push(e)):d.settings.size==l.SandboxSettings.SIZE_MEDIUM?((e=new s.Rectangle(-170,-120,340,40,!1)).isStatic=!0,e.isEditable=!1,e.drawAnyway=!1,e.isSandbox=!0,this.allParts.push(e),this.groundParts.push(e),(e=new s.Rectangle(-170,-120,40,170,!1)).isStatic=!0,e.isEditable=!1,e.drawAnyway=!1,e.isSandbox=!0,this.allParts.push(e),this.groundParts.push(e),(e=new s.Rectangle(130,-120,40,170,!1)).isStatic=!0,e.isEditable=!1,e.drawAnyway=!1,e.isSandbox=!0,this.allParts.push(e),this.groundParts.push(e),(e=new s.Rectangle(-170,10,340,40,!1)).isStatic=!0,e.isEditable=!1,e.drawAnyway=!1,e.isSandbox=!0,this.allParts.push(e),this.groundParts.push(e)):((e=new s.Rectangle(-60,-45,120,20,!1)).isStatic=!0,e.isEditable=!1,e.drawAnyway=!1,e.isSandbox=!0,this.allParts.push(e),this.groundParts.push(e),(e=new s.Rectangle(-60,-40,20,80,!1)).isStatic=!0,e.isEditable=!1,e.drawAnyway=!1,e.isSandbox=!0,this.allParts.push(e),this.groundParts.push(e),(e=new s.Rectangle(40,-40,20,80,!1)).isStatic=!0,e.isEditable=!1,e.drawAnyway=!1,e.isSandbox=!0,this.allParts.push(e),this.groundParts.push(e),(e=new s.Rectangle(-60,10,120,20,!1)).isStatic=!0,e.isEditable=!1,e.drawAnyway=!1,e.isSandbox=!0,this.allParts.push(e),this.groundParts.push(e))),d.settings.terrainType==l.SandboxSettings.TERRAIN_LAND)if(d.settings.size==l.SandboxSettings.SIZE_LARGE){this.DrawGroundOutlineCircle(0,0,150),this.DrawGroundOutlineCircle(12e3,0,150);var n=new t.Matrix;this.sGround.beginTextureFill({texture:a.Gradient.getLinearGradientTexture([d.terrainTopOutlines[d.settings.terrainTheme],d.terrainBottomOutlines[d.settings.terrainTheme]]),matrix:n}),this.sGround.drawRect(144,-6,12012,312),this.sGround.endFill(),this.sGround.beginTextureFill({texture:a.Gradient.getLinearGradientTexture([d.terrainTopColours[d.settings.terrainTheme],d.terrainBottomColours[d.settings.terrainTheme]]),matrix:n}),this.sGround.drawRect(150,0,12e3,300),this.sGround.endFill(),this.DrawGroundCircle(0,0,150),this.DrawGroundCircle(12e3,0,150),this.DrawRock(0,169,200,40),this.DrawRock(0,318,44,48),this.DrawRock(2,795,195,28),this.DrawRock(0,1110,120,40),this.DrawRock(2,1440,121,69),this.DrawRock(0,1762,68,57),this.DrawRock(1,2082,11,68),this.DrawRock(0,2395,192,51),this.DrawRock(0,2727,152,39),this.DrawRock(0,3032,74,61),this.DrawRock(1,3196,18,46),this.DrawRock(0,3527,197,28),this.DrawRock(0,3842,168,18),this.DrawRock(1,4003,108,23),this.DrawRock(2,4325,47,68),this.DrawRock(0,4641,109,50),this.DrawRock(1,4806,164,27),this.DrawRock(2,5110,138,16),this.DrawRock(2,5287,199,45),this.DrawRock(2,5447,40,68),this.DrawRock(1,5605,142,22),this.DrawRock(2,5769,173,54),this.DrawRock(0,6075,169,15),this.DrawRock(1,6401,24,41),this.DrawRock(0,6569,86,59),this.DrawRock(0,6885,74,29),this.DrawRock(2,7200,153,15),this.DrawRock(0,7354,121,32),this.DrawRock(2,7722,89,61),this.DrawRock(1,7946,66,19),this.DrawRock(2,8325,47,68),this.DrawRock(0,8641,109,50),this.DrawRock(1,8806,164,27),this.DrawRock(2,9110,138,16),this.DrawRock(2,9287,199,45),this.DrawRock(2,9447,40,68),this.DrawRock(1,9605,142,22),this.DrawRock(2,9769,173,54),this.DrawRock(0,10075,169,15),this.DrawRock(1,10401,24,41),this.DrawRock(0,10569,86,59),this.DrawRock(0,10885,74,29),this.DrawRock(2,11200,153,15),this.DrawRock(0,11354,121,32),this.DrawRock(2,11722,89,61),this.DrawRock(1,11946,66,19)}else d.settings.size==l.SandboxSettings.SIZE_MEDIUM?(this.DrawGroundOutlineCircle(0,0,150),this.DrawGroundOutlineCircle(8e3,0,150),n=new t.Matrix,this.sGround.beginTextureFill({texture:a.Gradient.getLinearGradientTexture([d.terrainTopOutlines[d.settings.terrainTheme],d.terrainBottomOutlines[d.settings.terrainTheme]]),matrix:n}),this.sGround.drawRect(144,-6,8012,312),this.sGround.endFill(),this.sGround.beginTextureFill({texture:a.Gradient.getLinearGradientTexture([d.terrainTopColours[d.settings.terrainTheme],d.terrainBottomColours[d.settings.terrainTheme]]),matrix:n}),this.sGround.drawRect(150,0,8e3,300),this.sGround.endFill(),this.DrawGroundCircle(0,0,150),this.DrawGroundCircle(8e3,0,150),this.DrawRock(0,169,200,40),this.DrawRock(0,318,44,48),this.DrawRock(2,795,195,28),this.DrawRock(0,1110,120,40),this.DrawRock(2,1440,121,69),this.DrawRock(0,1762,68,57),this.DrawRock(1,2082,11,68),this.DrawRock(0,2395,192,51),this.DrawRock(0,2727,152,39),this.DrawRock(0,3032,74,61),this.DrawRock(1,3196,18,46),this.DrawRock(0,3527,197,28),this.DrawRock(0,3842,168,18),this.DrawRock(1,4003,108,23),this.DrawRock(2,4325,47,68),this.DrawRock(0,4641,109,50),this.DrawRock(1,4806,164,27),this.DrawRock(2,5110,138,16),this.DrawRock(2,5287,199,45),this.DrawRock(2,5447,40,68),this.DrawRock(1,5605,142,22),this.DrawRock(2,5769,173,54),this.DrawRock(0,6075,169,15),this.DrawRock(1,6401,24,41),this.DrawRock(0,6569,86,59),this.DrawRock(0,6885,74,29),this.DrawRock(2,7200,153,15),this.DrawRock(0,7354,121,32),this.DrawRock(2,7722,89,61),this.DrawRock(1,7946,66,19)):(this.DrawGroundOutlineCircle(0,0,150),this.DrawGroundOutlineCircle(4e3,0,150),n=new t.Matrix,this.sGround.beginTextureFill({texture:a.Gradient.getLinearGradientTexture([d.terrainTopOutlines[d.settings.terrainTheme],d.terrainBottomOutlines[d.settings.terrainTheme]]),matrix:n}),this.sGround.drawRect(144,-6,4012,312),this.sGround.endFill(),this.sGround.beginTextureFill({texture:a.Gradient.getLinearGradientTexture([d.terrainTopColours[d.settings.terrainTheme],d.terrainBottomColours[d.settings.terrainTheme]]),matrix:n}),this.sGround.drawRect(150,0,4e3,300),this.sGround.endFill(),this.DrawGroundCircle(0,0,150),this.DrawGroundCircle(4e3,0,150),this.DrawRock(0,169,200,40),this.DrawRock(0,318,44,48),this.DrawRock(2,795,195,28),this.DrawRock(0,1110,120,40),this.DrawRock(2,1440,121,69),this.DrawRock(0,1762,68,57),this.DrawRock(1,2082,11,68),this.DrawRock(0,2395,192,51),this.DrawRock(0,2727,152,39),this.DrawRock(0,3032,74,61),this.DrawRock(1,3196,18,46),this.DrawRock(0,3527,197,28),this.DrawRock(0,3842,168,18));else d.settings.terrainType==l.SandboxSettings.TERRAIN_BOX&&(d.settings.size==l.SandboxSettings.SIZE_LARGE?(n=new t.Matrix,this.sGround.beginTextureFill({texture:a.Gradient.getLinearGradientTexture([d.terrainTopOutlines[d.settings.terrainTheme],d.terrainBottomOutlines[d.settings.terrainTheme]]),matrix:n}),this.sGround.drawRect(0,0,500,1264),this.sGround.endFill(),this.sGround.beginTextureFill({texture:a.Gradient.getLinearGradientTexture([d.terrainTopOutlines[d.settings.terrainTheme],d.terrainBottomOutlines[d.settings.terrainTheme]]),matrix:n}),this.sGround.drawRect(3500,0,500,1264),this.sGround.endFill(),this.sGround.beginTextureFill({texture:a.Gradient.getLinearGradientTexture([d.terrainTopOutlines[d.settings.terrainTheme],d.terrainBottomOutlines[d.settings.terrainTheme]]),matrix:n}),this.sGround.drawRect(0,0,4e3,200),this.sGround.endFill(),this.sGround.beginTextureFill({texture:a.Gradient.getLinearGradientTexture([d.terrainTopOutlines[d.settings.terrainTheme],d.terrainBottomOutlines[d.settings.terrainTheme]]),matrix:n}),this.sGround.drawRect(0,1064,4e3,200),this.sGround.endFill(),this.sGround.beginTextureFill({texture:a.Gradient.getLinearGradientTexture([d.terrainTopColours[d.settings.terrainTheme],d.terrainBottomColours[d.settings.terrainTheme]]),matrix:n}),this.sGround.drawRect(0,0,498.5,1264),this.sGround.endFill(),this.sGround.beginTextureFill({texture:a.Gradient.getLinearGradientTexture([d.terrainTopColours[d.settings.terrainTheme],d.terrainBottomColours[d.settings.terrainTheme]]),matrix:n}),this.sGround.drawRect(3501.5,0,498.5,1264),this.sGround.endFill(),this.sGround.beginTextureFill({texture:a.Gradient.getLinearGradientTexture([d.terrainTopColours[d.settings.terrainTheme],d.terrainBottomColours[d.settings.terrainTheme]]),matrix:n}),this.sGround.drawRect(0,0,4e3,198.5),this.sGround.endFill(),this.sGround.beginTextureFill({texture:a.Gradient.getLinearGradientTexture([d.terrainTopColours[d.settings.terrainTheme],d.terrainBottomColours[d.settings.terrainTheme]]),matrix:n}),this.sGround.drawRect(0,1065.5,4e3,198.5),this.sGround.endFill(),this.DrawRocksForBox(4e3,1264,500,200,1.5)):d.settings.size==l.SandboxSettings.SIZE_MEDIUM?(n=new t.Matrix,this.sGround.beginTextureFill({texture:a.Gradient.getLinearGradientTexture([d.terrainTopOutlines[d.settings.terrainTheme],d.terrainBottomOutlines[d.settings.terrainTheme]]),matrix:n}),this.sGround.drawRect(0,0,400,615),this.sGround.endFill(),this.sGround.beginTextureFill({texture:a.Gradient.getLinearGradientTexture([d.terrainTopOutlines[d.settings.terrainTheme],d.terrainBottomOutlines[d.settings.terrainTheme]]),matrix:n}),this.sGround.drawRect(1600,0,400,615),this.sGround.endFill(),this.sGround.beginTextureFill({texture:a.Gradient.getLinearGradientTexture([d.terrainTopOutlines[d.settings.terrainTheme],d.terrainBottomOutlines[d.settings.terrainTheme]]),matrix:n}),this.sGround.drawRect(0,0,2e3,100),this.sGround.endFill(),this.sGround.beginTextureFill({texture:a.Gradient.getLinearGradientTexture([d.terrainTopOutlines[d.settings.terrainTheme],d.terrainBottomOutlines[d.settings.terrainTheme]]),matrix:n}),this.sGround.drawRect(0,515,2e3,100),this.sGround.endFill(),this.sGround.beginTextureFill({texture:a.Gradient.getLinearGradientTexture([d.terrainTopColours[d.settings.terrainTheme],d.terrainBottomColours[d.settings.terrainTheme]]),matrix:n}),this.sGround.drawRect(0,0,399,615),this.sGround.endFill(),this.sGround.beginTextureFill({texture:a.Gradient.getLinearGradientTexture([d.terrainTopColours[d.settings.terrainTheme],d.terrainBottomColours[d.settings.terrainTheme]]),matrix:n}),this.sGround.drawRect(1601,0,399,615),this.sGround.endFill(),this.sGround.beginTextureFill({texture:a.Gradient.getLinearGradientTexture([d.terrainTopColours[d.settings.terrainTheme],d.terrainBottomColours[d.settings.terrainTheme]]),matrix:n}),this.sGround.drawRect(0,0,2e3,99),this.sGround.endFill(),this.sGround.beginTextureFill({texture:a.Gradient.getLinearGradientTexture([d.terrainTopColours[d.settings.terrainTheme],d.terrainBottomColours[d.settings.terrainTheme]]),matrix:n}),this.sGround.drawRect(0,516,2e3,99),this.sGround.endFill(),this.DrawRocksForBox(2e3,615,400,100,1)):(n=new t.Matrix,this.sGround.beginTextureFill({texture:a.Gradient.getLinearGradientTexture([d.terrainTopOutlines[d.settings.terrainTheme],d.terrainBottomOutlines[d.settings.terrainTheme]]),matrix:n}),this.sGround.drawRect(0,0,200,339),this.sGround.endFill(),this.sGround.beginTextureFill({texture:a.Gradient.getLinearGradientTexture([d.terrainTopOutlines[d.settings.terrainTheme],d.terrainBottomOutlines[d.settings.terrainTheme]]),matrix:n}),this.sGround.drawRect(800,0,200,339),this.sGround.endFill(),this.sGround.beginTextureFill({texture:a.Gradient.getLinearGradientTexture([d.terrainTopOutlines[d.settings.terrainTheme],d.terrainBottomOutlines[d.settings.terrainTheme]]),matrix:n}),this.sGround.drawRect(0,0,1e3,39),this.sGround.endFill(),this.sGround.beginTextureFill({texture:a.Gradient.getLinearGradientTexture([d.terrainTopOutlines[d.settings.terrainTheme],d.terrainBottomOutlines[d.settings.terrainTheme]]),matrix:n}),this.sGround.drawRect(0,300,1e3,39),this.sGround.endFill(),this.sGround.beginTextureFill({texture:a.Gradient.getLinearGradientTexture([d.terrainTopColours[d.settings.terrainTheme],d.terrainBottomColours[d.settings.terrainTheme]]),matrix:n}),this.sGround.drawRect(0,0,198,339),this.sGround.endFill(),this.sGround.beginTextureFill({texture:a.Gradient.getLinearGradientTexture([d.terrainTopColours[d.settings.terrainTheme],d.terrainBottomColours[d.settings.terrainTheme]]),matrix:n}),this.sGround.drawRect(802,0,198,339),this.sGround.endFill(),this.sGround.beginTextureFill({texture:a.Gradient.getLinearGradientTexture([d.terrainTopColours[d.settings.terrainTheme],d.terrainBottomColours[d.settings.terrainTheme]]),matrix:n}),this.sGround.drawRect(0,0,1e3,37),this.sGround.endFill(),this.sGround.beginTextureFill({texture:a.Gradient.getLinearGradientTexture([d.terrainTopColours[d.settings.terrainTheme],d.terrainBottomColours[d.settings.terrainTheme]]),matrix:n}),this.sGround.drawRect(0,302,1e3,37),this.sGround.endFill(),this.DrawRocksForBox(1e3,339,200,39,2)));this.addChild(this.sGround)}RefreshSandboxSettings(){for(var i=0;i<this.groundParts.length;i++)this.allParts=e.Util.RemoveFromArray(this.groundParts[i],this.allParts);for(i=0;i<this.allParts.length;i++)if(this.allParts[i]instanceof t.Text)try{this.removeChild(this.allParts[i].m_textField)}catch(r){}for(this.groundParts=new Array,this.removeChild(this.sGround),this.sSky.Delete(),this.removeChild(this.m_canvas),this.removeChild(this.uneditableText),this.removeChild(this.rotatingText),this.removeChild(this.scalingText),this.removeChild(this.boxText),this.removeChild(this.horizLineText),this.removeChild(this.vertLineText),this.removeChild(this.shapeText),this.removeChild(this.m_guiPanel),this.removeChild(this.m_sidePanel),this.removeChild(this.m_guiMenu),this.removeChild(this.m_fader),i=0;i<this.m_buildAreas.length;i++)this.removeChild(this.m_buildAreas[i]),this.removeChild(this.m_badBuildAreas[i]),this.removeChild(this.m_selectedBuildAreas[i]);for(this.m_chooserWindow&&(this.removeChild(this.m_chooserWindow),this.m_chooserWindow=null),this.m_loginWindow&&(this.removeChild(this.m_loginWindow),this.m_loginWindow=null),this.m_newUserWindow&&(this.removeChild(this.m_newUserWindow),this.m_newUserWindow=null),this.m_scoreWindow&&(this.removeChild(this.m_scoreWindow),this.m_scoreWindow=null),this.m_progressDialog&&(this.removeChild(this.m_progressDialog),this.m_progressDialog=null),this.m_linkDialog&&(this.removeChild(this.m_linkDialog),this.m_linkDialog=null),this.m_tutorialDialog&&(this.removeChild(this.m_tutorialDialog),this.m_tutorialDialog=null),this.m_postReplayWindow&&(this.removeChild(this.m_postReplayWindow),this.m_postReplayWindow=null),this.m_rateDialog&&(this.removeChild(this.m_rateDialog),this.m_rateDialog=null),this.m_restrictionsDialog&&(this.removeChild(this.m_restrictionsDialog),this.m_restrictionsDialog=null),this.m_conditionsDialog&&(this.removeChild(this.m_conditionsDialog),this.m_conditionsDialog=null),this.m_sandboxWindow&&(this.removeChild(this.m_sandboxWindow),this.m_sandboxWindow=null),this.m_challengeWindow&&(this.removeChild(this.m_challengeWindow),this.m_challengeWindow=null),this.m_reportWindow&&(this.removeChild(this.m_reportWindow),this.m_reportWindow=null),this.m_loadWindow&&(this.removeChild(this.m_loadWindow),this.m_loadWindow=null),this.m_buildAreas=new Array,this.m_badBuildAreas=new Array,this.m_selectedBuildAreas=new Array,this.BuildGround(),this.addChild(this.m_canvas),this.addChild(this.uneditableText),this.addChild(this.rotatingText),this.addChild(this.scalingText),this.addChild(this.boxText),this.addChild(this.horizLineText),this.addChild(this.vertLineText),this.addChild(this.shapeText),this.addChild(this.m_guiPanel),this.addChild(this.m_sidePanel),this.addChild(this.m_guiMenu),this.addChild(this.m_fader),i=0;i<this.allParts.length;i++)this.allParts[i]instanceof n.TextPart&&(this.allParts[i].inFront?this.addChildAt(this.allParts[i].m_textField,this.getChildIndex(this.m_canvas)+1):this.addChildAt(this.allParts[i].m_textField,this.getChildIndex(this.m_canvas)));this.BuildBuildArea(),this.redrawRobot=!0,this.hasZoomed=!0}GetMinX(){return d.settings.size==l.SandboxSettings.SIZE_LARGE?-280:d.settings.size==l.SandboxSettings.SIZE_MEDIUM?-150:-50}GetMaxX(){return d.settings.size==l.SandboxSettings.SIZE_LARGE?280:d.settings.size==l.SandboxSettings.SIZE_MEDIUM?150:50}GetMinY(){return d.settings.size==l.SandboxSettings.SIZE_LARGE?-160:d.settings.size==l.SandboxSettings.SIZE_MEDIUM?-100:-30}GetMaxY(){return d.settings.terrainType==l.SandboxSettings.TERRAIN_BOX?d.settings.size==l.SandboxSettings.SIZE_SMALL?15:30:d.settings.size==l.SandboxSettings.SIZE_LARGE?160:d.settings.size==l.SandboxSettings.SIZE_MEDIUM?100:40}GetGravity(){return new i.b2Vec2(0,d.settings.gravity)}DrawGroundOutlineCircle(i,e,r){var s=new t.Matrix;this.sGround.beginTextureFill({texture:a.Gradient.getLinearGradientTexture([d.terrainTopOutlines[d.settings.terrainTheme],d.terrainBottomOutlines[d.settings.terrainTheme]]),matrix:s}),this.sGround.drawCircle(i+r,e+r,r+6),this.sGround.endFill()}DrawGroundCircle(i,e,r){var s=new t.Matrix;this.sGround.beginTextureFill({texture:a.Gradient.getLinearGradientTexture([d.terrainTopColours[d.settings.terrainTheme],d.terrainBottomColours[d.settings.terrainTheme]]),matrix:s}),this.sGround.drawCircle(i+r,e+r,r),this.sGround.endFill()}DrawRock(i,e,r,s,n=6){this.sGround.lineStyle(n,d.rockOutlines[d.settings.terrainTheme]);var o=new t.Matrix;this.sGround.beginTextureFill({texture:a.Gradient.getLinearGradientTexture(0==i?[d.rock1TopColours[d.settings.terrainTheme],d.rock1BottomColours[d.settings.terrainTheme]]:1==i?[d.rock2TopColours[d.settings.terrainTheme],d.rock2BottomColours[d.settings.terrainTheme]]:[d.rock3TopColours[d.settings.terrainTheme],d.rock3BottomColours[d.settings.terrainTheme]]),matrix:o}),this.sGround.drawCircle(e+s,r+s,s),this.sGround.endFill()}DrawRocksForBox(t,i,r,s,n){for(var o=1e3==t?60:2e3==t?200:500,a=new Array,h=0;h<o;h++){var l,d;do{if(d=!1,(l=e.Util.Vector(e.Util.RangedRandom(0,t),e.Util.RangedRandom(0,i))).x>r-32&&l.x<t-r+2&&l.y>s-32&&l.y<i-s+2||l.x>t-32||l.y>i-32)d=!0;else for(var u=0;u<a.length;u++)if(e.Util.GetDist(l.x,l.y,a[u].x,a[u].y)<32){d=!0;break}}while(d);a.push(l),this.DrawRock(e.Util.RangedRandom(0,3),l.x,l.y,e.Util.RangedRandom(5,15),n)}}Update(){super.Update(),this.sSky.Update(this.hasZoomed,this.hasPanned),d.settings.terrainType==l.SandboxSettings.TERRAIN_LAND?d.settings.size==l.SandboxSettings.SIZE_LARGE?(this.hasZoomed&&(this.sGround.width=this.World2ScreenX(507.7)-this.World2ScreenX(0),this.sGround.scale.y=this.sGround.scale.x),(this.hasZoomed||this.hasPanned)&&(this.sGround.x=this.World2ScreenX(-253.55),this.sGround.y=this.World2ScreenY(12.06))):d.settings.size==l.SandboxSettings.SIZE_MEDIUM?(this.hasZoomed&&(this.sGround.width=this.World2ScreenX(247.2)-this.World2ScreenX(0),this.sGround.scale.y=this.sGround.scale.x),(this.hasZoomed||this.hasPanned)&&(this.sGround.x=this.World2ScreenX(-123.45),this.sGround.y=this.World2ScreenY(12.06))):(this.hasZoomed&&(this.sGround.width=this.World2ScreenX(85)-this.World2ScreenX(0),this.sGround.scale.y=this.sGround.scale.x),(this.hasZoomed||this.hasPanned)&&(this.sGround.x=this.World2ScreenX(-42.36),this.sGround.y=this.World2ScreenY(12.06))):d.settings.terrainType==l.SandboxSettings.TERRAIN_BOX&&(d.settings.size==l.SandboxSettings.SIZE_LARGE?(this.hasZoomed&&(this.sGround.width=this.World2ScreenX(693)-this.World2ScreenX(0),this.sGround.scale.y=this.sGround.scale.x),(this.hasZoomed||this.hasPanned)&&(this.sGround.x=this.World2ScreenX(-346.5),this.sGround.y=this.World2ScreenY(-174.5))):d.settings.size==l.SandboxSettings.SIZE_MEDIUM?(this.hasZoomed&&(this.sGround.width=this.World2ScreenX(432.5)-this.World2ScreenX(0),this.sGround.scale.y=this.sGround.scale.x),(this.hasZoomed||this.hasPanned)&&(this.sGround.x=this.World2ScreenX(-216.25),this.sGround.y=this.World2ScreenY(-101.45))):(this.hasZoomed&&(this.sGround.width=this.World2ScreenX(132.85)-this.World2ScreenX(0),this.sGround.scale.y=this.sGround.scale.x),(this.hasZoomed||this.hasPanned)&&(this.sGround.x=this.World2ScreenX(-66.42),this.sGround.y=this.World2ScreenY(-30)))),["ControllerMonkeyBars","ControllerClimb","ControllerRace","ControllerSpaceship"].includes(this.constructor.name)||(this.hasPanned=!1,this.hasZoomed=!1)}GetBuildingArea(){var t=new b2AABB;return t.lowerBound.Set(-300,-200),t.upperBound.Set(300,200),t}NumBuildingAreas(){return 0}ChallengeOver(){return!1}GetScore(){return 1e4}submitButton(t){this.m_scoreWindow&&this.m_scoreWindow.visible&&this.m_scoreWindow.ShowFader(),this.ShowDisabledDialog()}}exports.ControllerSandbox=d,d.terrainTopColours=["#65CD4E",e.Util.HexColourString(191,131,83),e.Util.HexColourString(214,189,100),e.Util.HexColourString(181,197,201),e.Util.HexColourString(224,238,253),e.Util.HexColourString(198,196,205),e.Util.HexColourString(249,172,101)],d.terrainBottomColours=["#5AC043",e.Util.HexColourString(155,89,38),e.Util.HexColourString(187,163,78),e.Util.HexColourString(156,171,175),e.Util.HexColourString(159,196,239),e.Util.HexColourString(160,158,171),e.Util.HexColourString(240,70,45)],d.terrainTopOutlines=["#2DA12E",e.Util.HexColourString(144,99,62),e.Util.HexColourString(185,163,86),e.Util.HexColourString(153,166,169),e.Util.HexColourString(247,251,255),e.Util.HexColourString(139,138,144),e.Util.HexColourString(177,102,46)],d.terrainBottomOutlines=["#2DA12E",e.Util.HexColourString(117,67,29),e.Util.HexColourString(161,141,67),e.Util.HexColourString(132,144,148),e.Util.HexColourString(247,251,255),e.Util.HexColourString(115,114,122),e.Util.HexColourString(171,59,34)],d.rock1TopColours=["#8EDB82",e.Util.HexColourString(210,157,111),e.Util.HexColourString(219,206,135),e.Util.HexColourString(178,187,191),e.Util.HexColourString(217,230,245),e.Util.HexColourString(180,180,189),e.Util.HexColourString(194,130,87)],d.rock1BottomColours=["#7FBF72",e.Util.HexColourString(183,133,96),e.Util.HexColourString(190,176,119),e.Util.HexColourString(164,173,174),e.Util.HexColourString(201,210,225),e.Util.HexColourString(158,158,167),e.Util.HexColourString(172,114,77)],d.rock2TopColours=["#80D970",e.Util.HexColourString(206,148,90),e.Util.HexColourString(215,202,116),e.Util.HexColourString(169,177,182),e.Util.HexColourString(204,217,236),e.Util.HexColourString(170,165,179),e.Util.HexColourString(197,115,66)],d.rock2BottomColours=["#6DBE5D",e.Util.HexColourString(183,122,72),e.Util.HexColourString(188,175,97),e.Util.HexColourString(153,162,166),e.Util.HexColourString(183,196,217),e.Util.HexColourString(149,145,154),e.Util.HexColourString(175,103,58)],d.rock3TopColours=["#70C160",e.Util.HexColourString(207,150,92),e.Util.HexColourString(216,203,117),e.Util.HexColourString(173,182,186),e.Util.HexColourString(205,217,237),e.Util.HexColourString(172,168,181),e.Util.HexColourString(198,121,69)],d.rock3BottomColours=["#63AB52",e.Util.HexColourString(184,123,76),e.Util.HexColourString(189,176,98),e.Util.HexColourString(157,166,170),e.Util.HexColourString(186,198,218),e.Util.HexColourString(148,148,157),e.Util.HexColourString(179,105,57)],d.rockOutlines=[7057498,10906450,11640920,10003624,12438487,9737117,12215357];
},{"pixi.js":"aQiP","@box2d/core":"kjbO","../General/Util":"Zvyo","../Parts/Circle":"PfXD","../Parts/Rectangle":"jYSx","../Parts/TextPart":"T0pq","./ControllerGame":"Cq9K","./Graphics/Gradient":"a6nr","./Graphics/Sky":"cNJr","./SandboxSettings":"ZSAP"}],"kpwL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AdvancedSandboxWindow=void 0;const e=require("pixi.js"),t=require("../Game/ControllerMainMenu"),i=require("../Game/ControllerSandbox"),a=require("../Game/SandboxSettings"),s=require("../Main"),n=require("./GuiButton"),l=require("./GuiCombobox"),d=require("./GuiSlider"),h=require("./GuiTextInput"),r=require("./GuiWindow");class o extends r.GuiWindow{constructor(t,i=null){super(276,90,248,430),this.cont=t,this.sortableChildren=!0;var a=new e.TextStyle,r=new e.Text("");r.text="Advanced Sandbox\nSetup",r.x=124,r.y=32,a.align="center",a.fontFamily=s.Main.GLOBAL_FONT,a.fontSize=18,a.fill="#242930",r.style=a,r.anchor.set(.5),this.addChild(r),(r=new e.Text("")).text="Sandbox Size:",r.x=20,r.y=77,a.fontSize=12,a.align="left",a.fontFamily=s.Main.GLOBAL_FONT,a.fill="#242930",r.style=a,this.addChild(r),(r=new e.Text("")).text="Terrain Shape:",r.x=20,r.y=112,a.fontSize=12,a.align="left",a.fontFamily=s.Main.GLOBAL_FONT,a.fill="#242930",r.style=a,this.addChild(r),(r=new e.Text("")).text="Terrain Theme:",r.x=20,r.y=147,a.fontSize=12,a.align="left",a.fontFamily=s.Main.GLOBAL_FONT,a.fill="#242930",r.style=a,this.addChild(r),(r=new e.Text("")).text="Background:",r.x=20,r.y=182,a.fontSize=12,a.align="left",a.fontFamily=s.Main.GLOBAL_FONT,a.fill="#242930",r.style=a,this.addChild(r),(r=new e.Text("")).text="Red:",r.x=130,r.y=210,a.fontSize=11,a.align="left",a.fontFamily=s.Main.GLOBAL_FONT,a.fill="#242930",r.style=a,this.addChild(r),(r=new e.Text("")).text="Green:",r.x=130,r.y=230,a.fontSize=11,a.align="left",a.fontFamily=s.Main.GLOBAL_FONT,a.fill="#242930",r.style=a,this.addChild(r),(r=new e.Text("")).text="Blue:",r.x=130,r.y=250,a.fontSize=11,a.align="left",a.fontFamily=s.Main.GLOBAL_FONT,a.fill="#242930",r.style=a,this.addChild(r),(r=new e.Text("")).text="Gravity:",r.x=45,r.y=280,a.fontSize=12,a.align="center",a.fontFamily=s.Main.GLOBAL_FONT,a.fill="#242930",r.style=a,this.addChild(r),this.sizeBox=new l.GuiCombobox(110,70,130,32),this.sizeBox.addItem({label:"  Small"}),this.sizeBox.addItem({label:"  Medium"}),this.sizeBox.addItem({label:"  Large"}),(a=new e.TextStyle).fontFamily=s.Main.GLOBAL_FONT,a.fontSize=12,a.fill="#573D40",this.sizeBox.label.style=a,i&&(this.sizeBox.selectedIndex=i.size),this.addChild(this.sizeBox),this.shapeBox=new l.GuiCombobox(110,105,130,32),this.shapeBox.addItem({label:"  Flat Land"}),this.shapeBox.addItem({label:"  Box"}),this.shapeBox.addItem({label:"  Empty"}),(a=new e.TextStyle).fontFamily=s.Main.GLOBAL_FONT,a.fontSize=12,a.fill="#573D40",this.shapeBox.label.style=a,i&&(this.shapeBox.selectedIndex=i.terrainType),this.addChild(this.shapeBox),this.themeBox=new l.GuiCombobox(110,140,130,32),this.themeBox.addItem({label:"  Grass"}),this.themeBox.addItem({label:"  Dirt"}),this.themeBox.addItem({label:"  Sand"}),this.themeBox.addItem({label:"  Rock"}),this.themeBox.addItem({label:"  Snow"}),this.themeBox.addItem({label:"  Moon"}),this.themeBox.addItem({label:"  Mars"}),(a=new e.TextStyle).fontFamily=s.Main.GLOBAL_FONT,a.fontSize=12,a.fill="#573D40",this.themeBox.label.style=a,i&&(this.themeBox.selectedIndex=i.terrainTheme),this.addChild(this.themeBox),this.bgBox=new l.GuiCombobox(110,175,130,32),this.bgBox.addItem({label:"  Sky"}),this.bgBox.addItem({label:"  Space"}),this.bgBox.addItem({label:"  Night"}),this.bgBox.addItem({label:"  Dusk"}),this.bgBox.addItem({label:"  Mars"}),this.bgBox.addItem({label:"  Sunset"}),this.bgBox.addItem({label:"  Solid Color"}),(a=new e.TextStyle).fontFamily=s.Main.GLOBAL_FONT,a.fontSize=12,a.fill="#573D40",this.bgBox.label.style=a,i&&(this.bgBox.selectedIndex=i.background),this.bgBox.on("change",()=>this.bgBoxChanged()),this.addChild(this.bgBox),(a=new e.TextStyle).fontSize=10,this.redArea=new h.GuiTextInput(170,210,30,20,a),this.redArea.text="125",this.redArea.maxLength=3,this.redArea.on("change",e=>this.redText(e)),this.redArea.enabled=6==this.bgBox.selectedIndex,this.redArea.editable=6==this.bgBox.selectedIndex,i&&6==this.bgBox.selectedIndex&&(this.redArea.text=i.backgroundR+""),this.addChild(this.redArea),this.greenArea=new h.GuiTextInput(170,230,30,20,a),this.greenArea.text="125",this.greenArea.maxLength=3,this.greenArea.on("change",e=>this.greenText(e)),this.greenArea.enabled=6==this.bgBox.selectedIndex,this.greenArea.editable=6==this.bgBox.selectedIndex,i&&6==this.bgBox.selectedIndex&&(this.greenArea.text=i.backgroundG+""),this.addChild(this.greenArea),this.blueArea=new h.GuiTextInput(170,250,30,20,a),this.blueArea.text="255",this.blueArea.maxLength=3,this.blueArea.on("change",e=>this.blueText(e)),this.blueArea.enabled=6==this.bgBox.selectedIndex,this.blueArea.editable=6==this.bgBox.selectedIndex,i&&6==this.bgBox.selectedIndex&&(this.blueArea.text=i.backgroundB+""),this.addChild(this.blueArea),this.gravitySlider=new d.GuiSlider,this.gravitySlider.x=78,this.gravitySlider.y=302,this.gravitySlider.minValue=0,this.gravitySlider.maxValue=30,this.gravitySlider.value=15,this.gravitySlider.on("change",e=>this.sliderChange(e)),i&&(this.gravitySlider.value=i.gravity),this.addChild(this.gravitySlider),(a=new e.TextStyle).fontSize=10,this.gravityArea=new h.GuiTextInput(114,320,30,20,a),this.gravityArea.text="15",i&&(this.gravityArea.text=i.gravity+""),this.gravityArea.maxLength=5,this.gravityArea.on("change",e=>this.gravityText(e)),this.addChild(this.gravityArea),(a=new e.TextStyle).fontSize=15,this.okButton=new n.GuiButton("Okay!",49,340,150,50,this.okButtonPressed.bind(this),n.GuiButton.PURPLE,a),this.addChild(this.okButton),(a=new e.TextStyle).fontSize=13,this.cancelButton=new n.GuiButton("Cancel",74,385,100,35,this.cancelButtonPressed.bind(this),n.GuiButton.PURPLE,a),this.addChild(this.cancelButton)}cancelButtonPressed(e){this.cont instanceof t.ControllerMainMenu?this.cont.fader2.visible=!1:this.cont.m_fader.visible=!1,this.visible=!1,this.cont.removeChild(this)}okButtonPressed(e){var n=new a.SandboxSettings(this.gravitySlider.value,this.sizeBox.selectedIndex,this.shapeBox.selectedIndex,this.themeBox.selectedIndex,this.bgBox.selectedIndex,parseInt(this.redArea.text),parseInt(this.greenArea.text),parseInt(this.blueArea.text));i.ControllerSandbox.settings=n,this.cont instanceof t.ControllerMainMenu?s.Main.changeControllers=!0:("challenge"===this.cont.controllerType&&(ControllerChallenge.challenge.settings=n),this.cont.RefreshSandboxSettings(),this.cont.m_fader.visible=!1)}bgBoxChanged(){this.redArea.enabled=6==this.bgBox.selectedIndex,this.greenArea.enabled=6==this.bgBox.selectedIndex,this.blueArea.enabled=6==this.bgBox.selectedIndex,this.redArea.editable=6==this.bgBox.selectedIndex,this.greenArea.editable=6==this.bgBox.selectedIndex,this.blueArea.editable=6==this.bgBox.selectedIndex}redText(e){var t=parseInt(e);t<0&&(t=0),t>255&&(t=255),isNaN(t)&&(t=0),this.redArea.text=t+""}greenText(e){var t=parseInt(e);t<0&&(t=0),t>255&&(t=255),isNaN(t)&&(t=0),this.greenArea.text=t+""}blueText(e){var t=parseInt(e);t<0&&(t=0),t>255&&(t=255),isNaN(t)&&(t=0),this.blueArea.text=t+""}gravityText(e){var t=parseInt(e);t<0&&(t=0),t>30&&(t=30),isNaN(t)&&(t=15),this.gravityArea.text=e,this.gravitySlider.value=t}sliderChange(e){this.gravityArea.text=e.toString()}refreshMouse(e){e.target!=this.bgBox.dropdown&&e.target!=this.themeBox.dropdown||(e.target.height=140),s.Main.RefreshMouse(stage,e.target)}}exports.AdvancedSandboxWindow=o;
},{"pixi.js":"aQiP","../Game/ControllerMainMenu":"rq5K","../Game/ControllerSandbox":"v13b","../Game/SandboxSettings":"ZSAP","../Main":"aM6Q","./GuiButton":"IBBZ","./GuiCombobox":"a9Q3","./GuiSlider":"qnZ8","./GuiTextInput":"h4Qg","./GuiWindow":"BOXT"}],"V2jW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ControllerChallenge=void 0;const e=require("./ControllerSandbox"),l=require("../General/Database"),i=require("../Main"),t=require("../Parts/TextPart"),s=require("./Challenge"),a=require("./Replay"),n=require("./Robot");class o extends e.ControllerSandbox{constructor(){super(),this.controllerType="challenge",o.challenge||(o.challenge=new s.Challenge),this.BuildBuildArea()}Update(){if(super.Update(),this.simStarted&&!this.paused){for(var e=0;e<o.challenge.winConditions.length;e++)o.challenge.winConditions[e].Update(this.allParts,cannonballs);for(e=0;e<o.challenge.lossConditions.length;e++)o.challenge.lossConditions[e].Update(this.allParts,cannonballs)}o.playChallengeMode?this.m_guiPanel.ShowEditButton():this.m_guiPanel.HideEditButton()}playButton(e,l=!0){if(o.playChallengeMode){if(!this.simStarted){for(i=0;i<o.challenge.winConditions.length;i++)o.challenge.winConditions[i].isSatisfied=!1;for(i=0;i<o.challenge.lossConditions.length;i++)o.challenge.lossConditions[i].isSatisfied=!1}super.playButton(e,l)}else{o.challenge.allParts=this.allParts.filter(this.PartIsEditable),o.playChallengeMode=!0;for(var i=0;i<o.challenge.allParts.length;i++)o.challenge.allParts[i].isEditable=!1;this.m_sidePanel.visible=!1,this.CheckIfPartsFit(),this.selectedParts=new Array,this.actions=new Array,this.lastAction=-1}}editButton(e,l=!1){if(l){this.m_fader.visible=!1,this.m_progressDialog.visible=!1,o.playChallengeMode=!1,this.allParts=new Array,this.RefreshSandboxSettings();for(var i=0;i<o.challenge.allParts.length;i++)this.allParts.push(o.challenge.allParts[i]),o.challenge.allParts[i].isEditable=!0,o.challenge.allParts[i]&&is,t.TextPart,o.challenge.allParts[i].inFront?this.addChildAt(o.challenge.allParts[i].m_textField,this.getChildIndex(this.m_canvas)+1):this.addChildAt(o.challenge.allParts[i].m_textField,this.getChildIndex(this.m_canvas))}else this.m_fader.visible=!0,o.playOnlyMode?(this.ShowDialog3("This challenge is uneditable!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer()):this.ShowConfirmDialog("Are you sure you want to edit this challenge?          (Your current robot will be lost)",11)}circleButton(e){o.playChallengeMode&&!o.challenge.circlesAllowed?(this.m_fader.visible=!0,this.ShowDialog3("Circles are not allowed in this challenge!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer()):super.circleButton(e)}rectButton(e){o.playChallengeMode&&!o.challenge.rectanglesAllowed?(this.m_fader.visible=!0,this.ShowDialog3("Rectangles are not allowed in this challenge!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer()):super.rectButton(e)}triangleButton(e){o.playChallengeMode&&!o.challenge.trianglesAllowed?(this.m_fader.visible=!0,this.ShowDialog3("Triangles are not allowed in this challenge!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer()):super.triangleButton(e)}fjButton(e){o.playChallengeMode&&!o.challenge.fixedJointsAllowed?(this.m_fader.visible=!0,this.ShowDialog3("Fixed Joints are not allowed in this challenge!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer()):super.fjButton(e)}rjButton(e){o.playChallengeMode&&!o.challenge.rotatingJointsAllowed?(this.m_fader.visible=!0,this.ShowDialog3("Rotating Joints are not allowed in this challenge!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer()):super.rjButton(e)}pjButton(e){o.playChallengeMode&&!o.challenge.slidingJointsAllowed?(this.m_fader.visible=!0,this.ShowDialog3("Sliding Joints are not allowed in this challenge!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer()):super.pjButton(e)}thrustersButton(e){o.playChallengeMode&&!o.challenge.thrustersAllowed?(this.m_fader.visible=!0,this.ShowDialog3("Thrusters are not allowed in this challenge!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer()):super.thrustersButton(e)}cannonButton(e){o.playChallengeMode&&!o.challenge.cannonsAllowed?(this.m_fader.visible=!0,this.ShowDialog3("Cannons are not allowed in this challenge!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer()):super.cannonButton(e)}GetBuildingArea(){return o.challenge.buildAreas[0]}GetBuildingAreaNumber(e){return o.challenge.buildAreas[e]}NumBuildingAreas(){return o.challenge.buildAreas.length}DeleteBuildBoxes(e){this.m_fader.visible=!1,this.m_progressDialog.visible=!1;for(var l=0;l<this.m_buildAreas.length;l++)this.removeChild(this.m_buildAreas[l]),this.removeChild(this.m_badBuildAreas[l]),this.removeChild(this.m_selectedBuildAreas[l]);this.m_buildAreas=new Array,this.m_badBuildAreas=new Array,this.m_selectedBuildAreas=new Array,o.challenge.buildAreas=new Array,this.redrawBuildArea=!0}ContactAdded(e){for(var l=0;l<o.challenge.winConditions.length;l++)o.challenge.winConditions[l].ContactAdded(e,this.allParts,cannonballs);for(l=0;l<o.challenge.lossConditions.length;l++)o.challenge.lossConditions[l].ContactAdded(e,this.allParts,cannonballs)}ChallengeOver(){return this.WonChallenge()||this.LostChallenge()}WonChallenge(){if(0==o.challenge.winConditions.length)return!1;for(var e=0;e<o.challenge.lossConditions.length;e++)if(o.challenge.lossConditions[e].isSatisfied)return!1;if(o.challenge.winConditionsAnded){for(e=0;e<o.challenge.winConditions.length;e++)if(!o.challenge.winConditions[e].isSatisfied)return!1;return!0}for(e=0;e<o.challenge.winConditions.length;e++)if(o.challenge.winConditions[e].isSatisfied)return!0;return!1}LostChallenge(){for(var e=0;e<o.challenge.lossConditions.length;e++)if(o.challenge.lossConditions[e].isSatisfied&&o.challenge.lossConditions[e].immediate)return!0;return!1}GetScore(){return 1e4-this.frameCounter}submitButton(t){if(i.Main.inIFrame)this.m_fader.visible=!0,this.ShowConfirmDialog("Redirect to incredibots2.com?",7);else{if(!curRobotEditable)return;""==curChallengeID?(this.m_scoreWindow.ShowFader(),this.ShowDialog2("You must save your challenge publicly first!")):"_Public"!=userName?(this.AddSyncPoint(),viewingUnsavedReplay?l.Database.SaveReplay(userName,password,replay,"_ScoreReplay","This replay is saved for a score",curRobotID,new n.Robot(this.allParts,e.ControllerSandbox.settings),this.ChallengeOver()?this.GetScore():-1,curChallengeID,1,this.finishSavingReplay):l.Database.SaveReplay(userName,password,new a.Replay(this.cameraMovements,this.syncPoints,this.keyPresses,this.frameCounter,l.Database.VERSION_STRING_FOR_REPLAYS),"_ScoreReplay","This replay is saved for a score",curRobotID,new n.Robot(this.allParts,e.ControllerSandbox.settings),this.ChallengeOver()?this.GetScore():-1,curChallengeID,1,this.finishSavingReplay),this.m_scoreWindow.ShowFader(),this.ShowDialog("Submitting score..."),this.clickedSubmitScore=!0):(this.clickedSubmitScore=!0,this.loginButton(t,!0,!1))}}}exports.ControllerChallenge=o,o.playChallengeMode=!1,o.playOnlyMode=!1;
},{"./ControllerSandbox":"v13b","../General/Database":"CVYw","../Main":"aM6Q","../Parts/TextPart":"T0pq","./Challenge":"yWA3","./Replay":"odHz","./Robot":"H0hU"}],"rq5K":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ControllerMainMenu=void 0;const e=require("pixi.js"),t=require("@box2d/core"),o=require("../General/Database"),i=require("../General/LSOManager"),a=require("../General/Util"),l=require("../Gui/AdvancedSandboxWindow"),s=require("../Gui/GuiButton"),r=require("../Gui/ImportWindow"),n=require("../Main"),h=require("../Parts/Cannon"),d=require("../Parts/JointPart"),u=require("../Parts/ShapePart"),g=require("../Parts/Thrusters"),m=require("./ContactFilter"),b=require("./Controller"),c=require("./ControllerChallenge"),p=require("./ControllerSandbox"),C=require("./Draw"),G=require("./Globals/ControllerGameGlobals"),w=require("./Graphics/Gradient"),D=require("./Graphics/Resource"),S=require("./Graphics/Sky"),y=require("./SandboxSettings"),_=require("../General/ByteArray");class f extends b.Controller{constructor(o=!1){super(),this.frameCounter=0,this.m_physScale=30,this.gamesButton=null,this.subscribeButton=null,this.logoFrame=0,this.startHereText=null,this.startHereArrow=null,this.arrowVel=0,this.arrowAccel=0,this.logoShrinking=!1,this.m_progressDialog=null,this.m_linkDialog=null,this.m_exportDialog=null,this.m_importDialog=null,this.m_loadWindow=null,this.m_loginWindow=null,this.m_newUserWindow=null,this.m_goldLoginWindow=null,this.m_sandboxWindow=null,this.m_tutorialWindow=null,this.m_challengeWindow=null,this.backToSaveWindow=!1,this.draw=new C.Draw,this.allParts=new Array,this.sSky=new S.Sky(this,1),f.cannonballs=new Array,n.Main.enableSound&&(G.ControllerGameGlobals.introVolume=o?.4:.5,f.introSong.volume=G.ControllerGameGlobals.introVolume,f.introSong.play()),this.sGround=new e.Graphics,this.DrawGroundOutlineCircle(0,0,150),this.DrawGroundOutlineCircle(4e3,0,150);const l=w.Gradient.getLinearGradientTexture([a.Util.HexColourString(177,102,46),a.Util.HexColourString(171,59,34)]),r=w.Gradient.getLinearGradientTexture([a.Util.HexColourString(249,172,101),a.Util.HexColourString(240,70,45)]);this.sGround.beginTextureFill({texture:l}),this.sGround.drawRect(144,-6,4012,312),this.sGround.endFill(),this.sGround.beginTextureFill({texture:r}),this.sGround.drawRect(150,0,4e3,300),this.sGround.endFill(),this.addChild(this.sGround),this.DrawGroundCircle(0,0,150),this.DrawGroundCircle(4e3,0,150),this.DrawRock(0,169,200,40),this.DrawRock(0,318,44,48),this.DrawRock(2,795,195,28),this.DrawRock(0,1110,120,40),this.DrawRock(2,1440,121,69),this.DrawRock(0,1762,68,57),this.DrawRock(1,2082,11,68),this.DrawRock(0,2395,192,51),this.DrawRock(0,2727,152,39),this.DrawRock(0,3032,74,61),this.DrawRock(1,3196,18,46),this.DrawRock(0,3527,197,28),this.DrawRock(0,3842,168,18),this.addChild(this.sGround),this.sGround.width=this.World2ScreenX(85)-this.World2ScreenX(0),this.sGround.scale.y=this.sGround.scale.x,this.sCanvas=new e.Graphics,this.draw.m_sprite=this.sCanvas,this.addChild(this.sCanvas);var h=new e.TextStyle({fontFamily:n.Main.GLOBAL_FONT,fontSize:11,align:"right",fill:"#ffffff"});this.versionText=new e.Text("Version "+n.Main.VERSION_STRING),this.versionText.x=700,this.versionText.y=580,this.versionText.style=h,this.addChild(this.versionText),this.fader=new e.Graphics,this.fader.beginFill(0,.2),this.fader.lineStyle(0,0,.2),this.fader.moveTo(0,0),this.fader.lineTo(800,0),this.fader.lineTo(800,600),this.fader.lineTo(0,600),this.fader.lineTo(0,0),this.fader.endFill(),this.fader.visible=o||n.Main.premiumMode,this.addChild(this.fader),this.sLogo=new e.Sprite(D.Resource.cMainMenuLogo),this.sLogo.smoothing=!0,o&&(this.sLogo.width=.6*this.sLogo.measuredWidth,this.sLogo.height=.6*this.sLogo.measuredHeight,this.sLogo.x=215,this.sLogo.y=10),this.addChild(this.sLogo),o||((h=new e.TextStyle).fontSize=24,this.playButton=new s.GuiButton("Play!",320,184,160,70,this.playButtonPressed.bind(this),s.GuiButton.PLAY,h),this.addChild(this.playButton)),n.Main.premiumMode&&f.firstLoad&&(this.m_goldLoginWindow=new GoldLoginWindow(this),this.addChild(this.m_goldLoginWindow),this.playButton.visible=!1),f.firstLoad=!1,this.levelSelectGui=new e.Sprite,this.levelSelectGui.visible=o;var b=new e.Sprite(D.Resource.cLevelSelectBox1L);b.x=210,b.y=105,this.levelSelectGui.addChild(b),(b=new e.Sprite(D.Resource.cLevelSelectBox1R)).x=576,b.y=105,this.levelSelectGui.addChild(b);var c=new e.Graphics;this.levelSelectGui.addChild(c);let p=new e.Matrix;p.translate(0,105),c.beginTextureFill({texture:D.Resource.cLevelSelectBox1M,matrix:p}),c.drawRect(234,105,342,135),(b=new e.Sprite(D.Resource.cLevelSelectBox2L)).x=315,b.y=260,this.levelSelectGui.addChild(b),(b=new e.Sprite(D.Resource.cLevelSelectBox2R)).x=472,b.y=260,this.levelSelectGui.addChild(b),(p=new e.Matrix).translate(0,260),c.beginTextureFill({texture:D.Resource.cLevelSelectBox2M,matrix:p}),c.drawRect(339,260,133,194),(b=new e.Sprite(D.Resource.cLevelSelectOtherBoxL)).x=617,b.y=449,this.levelSelectGui.addChild(b),(b=new e.Sprite(D.Resource.cLevelSelectOtherBoxR)).x=763,b.y=449,this.levelSelectGui.addChild(b),(p=new e.Matrix).translate(0,449),c.beginTextureFill({texture:D.Resource.cLevelSelectOtherBoxM,matrix:p}),c.drawRect(641,449,122,144),(h=new e.TextStyle).fontSize=17;var y=new s.GuiButton("Tutorial Levels",210,109,200,65,this.tutorialButton.bind(this),s.GuiButton.PINK,h);y.disabled=!0,this.levelSelectGui.addChild(y),y=new s.GuiButton("Sandbox Mode",390,109,200,65,this.sandboxButton.bind(this),s.GuiButton.PINK,h),this.levelSelectGui.addChild(y),(y=new s.GuiButton("Challenge Editor",210,158,200,65,this.editorButton.bind(this),s.GuiButton.PINK,h)).disabled=!0,this.levelSelectGui.addChild(y),y=new s.GuiButton(" Advanced Sandbox ",390,158,200,65,this.advancedButton.bind(this),s.GuiButton.PINK,h),this.levelSelectGui.addChild(y),this.logInButton=new s.GuiButton("Log In",675,-5,120,60,this.loginButton.bind(this),s.GuiButton.BLUE,h),this.logInButton.disabled=!0,this.logInButton.visible="_Public"==G.ControllerGameGlobals.userName,this.levelSelectGui.addChild(this.logInButton),this.logOutButton=new s.GuiButton("Log Out",675,-5,120,60,this.logout.bind(this),s.GuiButton.BLUE,h),this.logOutButton.disabled=!0,this.logOutButton.visible="_Public"!=G.ControllerGameGlobals.userName,this.levelSelectGui.addChild(this.logOutButton),this.enableSoundButton=new s.GuiButton("Enable Sound",5,535,150,60,this.enableSoundButtonPressed.bind(this),s.GuiButton.BLUE,h),this.enableSoundButton.visible=!n.Main.enableSound,this.disableSoundButton=new s.GuiButton("Disable Sound",5,535,150,60,this.disableSoundButtonPressed.bind(this),s.GuiButton.BLUE,h),this.disableSoundButton.visible=n.Main.enableSound,o?(this.levelSelectGui.addChild(this.enableSoundButton),this.levelSelectGui.addChild(this.disableSoundButton)):(this.addChild(this.enableSoundButton),this.addChild(this.disableSoundButton)),(y=new s.GuiButton("Load Challenge",315,263,171,59,this.loadChallengeButton,s.GuiButton.BLUE,h)).disabled=!0,this.levelSelectGui.addChild(y),(y=new s.GuiButton("Load Replay",315,303,171,59,this.loadReplayButton,s.GuiButton.BLUE,h)).disabled=!0,this.levelSelectGui.addChild(y),(y=new s.GuiButton("Load Bot",315,343,171,59,this.loadRobotButton,s.GuiButton.BLUE,h)).disabled=!0,this.levelSelectGui.addChild(y),(y=new s.GuiButton("High Scores",315,383,171,59,this.highScoresButton,s.GuiButton.RED,h)).disabled=!0,this.levelSelectGui.addChild(y),(y=new s.GuiButton("Import Challenge",145,263,171,59,this.importChallengeButton.bind(this),s.GuiButton.ORANGE,h)).disabled=!0,this.levelSelectGui.addChild(y),(y=new s.GuiButton("Import Replay",145,303,171,59,this.importReplayButton.bind(this),s.GuiButton.ORANGE,h)).disabled=!0,this.levelSelectGui.addChild(y),y=new s.GuiButton("Import Bot",145,343,171,59,e=>this.importRobotButton(e),s.GuiButton.ORANGE,h),this.levelSelectGui.addChild(y),(y=new s.GuiButton("Instructions",620,454,153,50,this.instructionsButton,s.GuiButton.BLUE,h)).disabled=!0,this.levelSelectGui.addChild(y),(y=new s.GuiButton("Credits",620,489,153,50,this.creditsButton,s.GuiButton.BLUE,h)).disabled=!0,this.levelSelectGui.addChild(y),(y=new s.GuiButton("Suggestions?",620,524,153,50,this.suggestionsButton,s.GuiButton.BLUE,h)).disabled=!0,this.levelSelectGui.addChild(y),(h=new e.TextStyle).fontFamily=n.Main.GLOBAL_FONT,h.fontSize=12,h.fill="#FFFFFF",this.userText=new e.Text("Welcome, "+("_Public"==G.ControllerGameGlobals.userName?"Guest":G.ControllerGameGlobals.userName)),this.userText.x=10,this.userText.y=20,this.userText.style=h,this.levelSelectGui.addChild(this.userText),i.LSOManager.IsAnythingDone()||(this.startHereArrow=new e.Sprite(D.Resource.cLevelSelectStartHereArrow),this.startHereArrow.smoothing=!0,this.startHereArrow.x=130,this.startHereArrow.y=117,this.levelSelectGui.addChild(this.startHereArrow),this.arrowX=130,this.startHereText=new e.Sprite(D.Resource.cLevelSelectStartHereText),this.startHereText.smoothing=!0,this.startHereText.x=75,this.startHereText.y=145,this.levelSelectGui.addChild(this.startHereText)),this.addChild(this.levelSelectGui),this.fader2=new e.Graphics,this.fader2.beginFill(0,.2),this.fader2.lineStyle(0,0,.2),this.fader2.moveTo(0,0),this.fader2.lineTo(800,0),this.fader2.lineTo(800,600),this.fader2.lineTo(0,600),this.fader2.lineTo(0,0),this.fader2.endFill(),this.fader2.visible=!1,this.addChild(this.fader2),this.draw.m_drawScale=23.73;var _=new t.b2AABB;_.lowerBound.Set(-100,-100),_.upperBound.Set(100,100),this.world=t.b2World.Create(new t.b2Vec2(0,15));var T=new m.ContactFilter;this.world.SetContactFilter(T),this.LoadReplay().then(()=>{for(var e=0;e<this.allParts.length;e++)this.allParts[e]instanceof u.ShapePart&&this.allParts[e].isCameraFocus&&(this.cameraPart=this.allParts[e]);for(e=0;e<this.allParts.length;e++)this.allParts[e].checkedCollisionGroup=!1;for(e=0;e<this.allParts.length;e++)this.allParts[e]instanceof u.ShapePart&&this.allParts[e].SetCollisionGroup(-(e+1));for(e=this.allParts.length;e>=0;e--)this.allParts[e]instanceof u.ShapePart&&this.allParts[e].Init(this.world);for(e=0;e<this.allParts.length;e++)(this.allParts[e]instanceof d.JointPart||this.allParts[e]instanceof g.Thrusters)&&this.allParts[e].Init(this.world);G.ControllerGameGlobals.curRobotID="",G.ControllerGameGlobals.curReplayID="",G.ControllerGameGlobals.curChallengeID="",this.Update()})}async LoadReplay(){const e=await D.Resource.cReplay.arrayBuffer();var t=new _.ByteArray(e);await t.uncompress(),this.replay=await o.Database.ExtractReplayFromByteArray(t),this.replay.cont=this;const i=await D.Resource.cRobot.arrayBuffer();t=new _.ByteArray(new Uint8Array(i)),await t.uncompress();var a=o.Database.ExtractRobotFromByteArray(t);this.allParts=a.allParts,this.replaySplineXs=this.ComputeReplaySplines(0),this.replaySplineYs=this.ComputeReplaySplines(1),this.replaySplineAngles=this.ComputeReplaySplines(2)}DrawGroundOutlineCircle(e,t,o){const i=w.Gradient.getLinearGradientTexture([a.Util.HexColourString(177,102,46),a.Util.HexColourString(171,59,34)]);this.sGround.beginTextureFill({texture:i}),this.sGround.drawCircle(e+o,t+o,o+6),this.sGround.endFill()}DrawGroundCircle(e,t,o){const i=w.Gradient.getLinearGradientTexture([a.Util.HexColourString(249,172,101),a.Util.HexColourString(240,70,45)]);this.sGround.beginTextureFill({texture:i}),this.sGround.drawCircle(e+o,t+o,o),this.sGround.endFill()}DrawRock(e,t,o,i,l=6){this.sGround.lineStyle(l,12215357);const s=w.Gradient.getLinearGradientTexture(0==e?[a.Util.HexColourString(194,130,87),a.Util.HexColourString(172,114,77)]:1==e?[a.Util.HexColourString(197,115,66),a.Util.HexColourString(175,103,58)]:[a.Util.HexColourString(198,121,69),a.Util.HexColourString(179,105,57)]);this.sGround.beginTextureFill({texture:s}),this.sGround.drawCircle(t+i,o+i,i),this.sGround.endFill()}loadRobotButton(e){o.Database.GetRobotData(G.ControllerGameGlobals.userName,G.ControllerGameGlobals.password,o.Database.curShared,o.Database.curSortType,o.Database.curSortPeriod,o.Database.curShared?o.Database.curRobotPage:1,"",this.finishGettingLoadRobotData),this.ShowDialog("Getting robots..."),n.Main.ShowHourglass(),this.fader2.visible=!0}loadReplayButton(e){o.Database.curSortPeriod==o.Database.SORT_PERIOD_PROP&&(o.Database.curSortPeriod=o.Database.SORT_PERIOD_ALLTIME),o.Database.GetReplayData(G.ControllerGameGlobals.userName,G.ControllerGameGlobals.password,o.Database.curShared,o.Database.curSortType,o.Database.curSortPeriod,o.Database.curShared?o.Database.curReplayPage:1,"",this.finishGettingLoadReplayData),this.ShowDialog("Getting replays..."),n.Main.ShowHourglass(),this.fader2.visible=!0}loadChallengeButton(e){o.Database.curSortPeriod==o.Database.SORT_PERIOD_PROP&&(o.Database.curSortPeriod=o.Database.SORT_PERIOD_ALLTIME),o.Database.GetChallengeData(G.ControllerGameGlobals.userName,G.ControllerGameGlobals.password,o.Database.curShared,o.Database.curSortType,o.Database.curSortPeriod,o.Database.curShared?o.Database.curChallengePage:1,"",this.finishGettingLoadChallengeData),this.ShowDialog("Getting challenges..."),n.Main.ShowHourglass(),this.fader2.visible=!0}importRobotButton(e){this.ShowImportWindow(r.ImportWindow.TYPE_ROBOT)}importReplayButton(e){this.ShowImportWindow(r.ImportWindow.TYPE_REPLAY)}importChallengeButton(e){this.ShowImportWindow(r.ImportWindow.TYPE_CHALLENGE)}highScoresButton(e){o.Database.GetChallengeData(G.ControllerGameGlobals.userName,G.ControllerGameGlobals.password,!0,o.Database.curSortType,o.Database.curSortPeriod,o.Database.curChallengePage,"",this.finishGettingLoadChallengeForScoreData),this.ShowDialog("Getting challenges..."),n.Main.ShowHourglass(),this.fader2.visible=!0}finishGettingLoadRobotData(e){o.Database.waitingForResponse&&o.Database.curTransactionType==o.Database.ACTION_GET_ROBOT_DATA&&o.Database.FinishGettingRobotData(e)&&(this.m_progressDialog.visible=!1,this.m_loadWindow&&this.removeChild(this.m_loadWindow),this.m_loadWindow=new SaveLoadWindow(this,SaveLoadWindow.LOAD_ROBOT_TYPE),this.addChild(this.m_loadWindow))}finishGettingLoadReplayData(e){o.Database.waitingForResponse&&o.Database.curTransactionType==o.Database.ACTION_GET_REPLAY_DATA&&o.Database.FinishGettingReplayData(e)&&(this.m_progressDialog.visible=!1,this.m_loadWindow&&this.removeChild(this.m_loadWindow),this.m_loadWindow=new SaveLoadWindow(this,SaveLoadWindow.LOAD_REPLAY_TYPE),this.addChild(this.m_loadWindow))}finishGettingLoadChallengeData(e){o.Database.waitingForResponse&&o.Database.curTransactionType==o.Database.ACTION_GET_CHALLENGE_DATA&&o.Database.FinishGettingChallengeData(e)&&(this.m_progressDialog.visible=!1,this.m_loadWindow&&this.removeChild(this.m_loadWindow),this.m_loadWindow=new SaveLoadWindow(this,SaveLoadWindow.LOAD_CHALLENGE_TYPE),this.addChild(this.m_loadWindow))}finishGettingLoadChallengeForScoreData(e){o.Database.waitingForResponse&&o.Database.curTransactionType==o.Database.ACTION_GET_CHALLENGE_DATA&&o.Database.FinishGettingChallengeData(e)&&(this.m_progressDialog.visible=!1,this.m_challengeWindow&&this.removeChild(this.m_challengeWindow),this.m_challengeWindow=new ChooseChallengeWindow(this),this.addChild(this.m_challengeWindow))}finishGettingScoreData(e){o.Database.waitingForResponse&&o.Database.curTransactionType==o.Database.ACTION_GET_SCORE_DATA&&o.Database.FinishGettingScoreData(e)&&(this.m_progressDialog.visible=!1,this.m_loadWindow&&this.removeChild(this.m_loadWindow),this.m_loadWindow=new SaveLoadWindow(this,SaveLoadWindow.HIGH_SCORE_TYPE),this.addChild(this.m_loadWindow))}processLoadedRobot(e){for(var t=e.allParts,o=0;o<t.length;o++)(t[o]instanceof g.Thrusters||t[o]instanceof h.Cannon)&&!0;G.ControllerGameGlobals.loadedParts=t,G.ControllerGameGlobals.curRobotID=G.ControllerGameGlobals.potentialRobotID,G.ControllerGameGlobals.ratedCurRobot=!1,G.ControllerGameGlobals.curRobotEditable=G.ControllerGameGlobals.potentialRobotEditable,G.ControllerGameGlobals.curRobotPublic=G.ControllerGameGlobals.potentialRobotPublic,G.ControllerGameGlobals.curRobotFeatured=G.ControllerGameGlobals.potentialRobotFeatured,G.ControllerGameGlobals.curReplayID="",G.ControllerGameGlobals.initX=e.cameraX,G.ControllerGameGlobals.initY=e.cameraY,G.ControllerGameGlobals.initZoom=e.zoomLevel,n.Main.changeControllers=!0,e.challenge?(n.Main.nextControllerType=1,c.ControllerChallenge.challenge=e.challenge,c.ControllerChallenge.playChallengeMode=!0,c.ControllerChallenge.playOnlyMode=!0,p.ControllerSandbox.settings=e.challenge.settings,G.ControllerGameGlobals.curChallengeID=G.ControllerGameGlobals.potentialChallengeID,G.ControllerGameGlobals.ratedCurChallenge=!1,G.ControllerGameGlobals.curChallengePublic=!1,G.ControllerGameGlobals.curChallengeFeatured=!1,G.ControllerGameGlobals.justLoadedRobotWithChallenge=!0):(n.Main.nextControllerType=0,p.ControllerSandbox.settings=e.settings,G.ControllerGameGlobals.curChallengeID="")}finishLoading(e){if(o.Database.waitingForResponse&&o.Database.curTransactionType==o.Database.ACTION_LOAD_ROBOT){var t=o.Database.FinishLoadingRobot(e);if(t){for(var i=t.allParts,a=0;a<i.length;a++)(i[a]instanceof g.Thrusters||i[a]instanceof h.Cannon)&&!0;G.ControllerGameGlobals.loadedParts=i,G.ControllerGameGlobals.curRobotID=G.ControllerGameGlobals.potentialRobotID,G.ControllerGameGlobals.ratedCurRobot=!1,G.ControllerGameGlobals.curRobotEditable=G.ControllerGameGlobals.potentialRobotEditable,G.ControllerGameGlobals.curRobotPublic=G.ControllerGameGlobals.potentialRobotPublic,G.ControllerGameGlobals.curRobotFeatured=G.ControllerGameGlobals.potentialRobotFeatured,G.ControllerGameGlobals.curReplayID="",G.ControllerGameGlobals.initX=t.cameraX,G.ControllerGameGlobals.initY=t.cameraY,G.ControllerGameGlobals.initZoom=t.zoomLevel,n.Main.changeControllers=!0,t.challenge?(n.Main.nextControllerType=1,c.ControllerChallenge.challenge=t.challenge,c.ControllerChallenge.playChallengeMode=!0,c.ControllerChallenge.playOnlyMode=!0,p.ControllerSandbox.settings=t.challenge.settings,G.ControllerGameGlobals.curChallengeID=G.ControllerGameGlobals.potentialChallengeID,G.ControllerGameGlobals.ratedCurChallenge=!1,G.ControllerGameGlobals.curChallengePublic=!1,G.ControllerGameGlobals.curChallengeFeatured=!1,G.ControllerGameGlobals.justLoadedRobotWithChallenge=!0):(n.Main.nextControllerType=0,p.ControllerSandbox.settings=t.settings,G.ControllerGameGlobals.curChallengeID="")}}}finishLoadingReplay(e){if(o.Database.waitingForResponse&&o.Database.curTransactionType==o.Database.ACTION_LOAD_REPLAY){var t=o.Database.FinishLoadingReplay(e);if(t)if(G.ControllerGameGlobals.replay=t[0],G.ControllerGameGlobals.replay.version!=o.Database.VERSION_STRING_FOR_REPLAYS)this.ShowConfirmDialog("This replay was saved using an older version of IncrediBots.  Redirect there now?",6),n.Main.ShowMouse();else{var i=t[1];G.ControllerGameGlobals.replayParts=i.allParts,p.ControllerSandbox.settings=i.settings,G.ControllerGameGlobals.playingReplay=!0,n.Main.changeControllers=!0,n.Main.nextControllerType=0,G.ControllerGameGlobals.curRobotID=G.ControllerGameGlobals.potentialRobotID,G.ControllerGameGlobals.ratedCurRobot=!1,G.ControllerGameGlobals.curReplayID=G.ControllerGameGlobals.potentialReplayID,G.ControllerGameGlobals.ratedCurReplay=!1,G.ControllerGameGlobals.curReplayPublic=G.ControllerGameGlobals.potentialReplayPublic,G.ControllerGameGlobals.curReplayFeatured=G.ControllerGameGlobals.potentialReplayFeatured,G.ControllerGameGlobals.curChallengeID="",G.ControllerGameGlobals.curChallengePublic=!1,G.ControllerGameGlobals.curChallengeFeatured=!1}}}processLoadedReplay(e){if(G.ControllerGameGlobals.replay=e[0],G.ControllerGameGlobals.replay.version!=o.Database.VERSION_STRING_FOR_REPLAYS)this.ShowConfirmDialog("This replay was saved using an older version of IncrediBots.  Redirect there now?",6),n.Main.ShowMouse();else{var t=e[1];G.ControllerGameGlobals.replayParts=t.allParts,p.ControllerSandbox.settings=t.settings,G.ControllerGameGlobals.playingReplay=!0,n.Main.changeControllers=!0,n.Main.nextControllerType=0,G.ControllerGameGlobals.curRobotID=G.ControllerGameGlobals.potentialRobotID,G.ControllerGameGlobals.ratedCurRobot=!1,G.ControllerGameGlobals.curReplayID=G.ControllerGameGlobals.potentialReplayID,G.ControllerGameGlobals.ratedCurReplay=!1,G.ControllerGameGlobals.curReplayPublic=G.ControllerGameGlobals.potentialReplayPublic,G.ControllerGameGlobals.curReplayFeatured=G.ControllerGameGlobals.potentialReplayFeatured,G.ControllerGameGlobals.curChallengeID="",G.ControllerGameGlobals.curChallengePublic=!1,G.ControllerGameGlobals.curChallengeFeatured=!1}}processLoadedChallenge(e){n.Main.changeControllers=!0,n.Main.nextControllerType=1,c.ControllerChallenge.challenge=e,c.ControllerChallenge.playChallengeMode=!G.ControllerGameGlobals.potentialChallengeEditable,c.ControllerChallenge.playOnlyMode=!G.ControllerGameGlobals.potentialChallengeEditable,p.ControllerSandbox.settings=e.settings,G.ControllerGameGlobals.curChallengeID=G.ControllerGameGlobals.potentialChallengeID,G.ControllerGameGlobals.ratedCurChallenge=!1,G.ControllerGameGlobals.curChallengePublic=G.ControllerGameGlobals.potentialChallengePublic,G.ControllerGameGlobals.curChallengeFeatured=G.ControllerGameGlobals.potentialChallengeFeatured,G.ControllerGameGlobals.curRobotID="",G.ControllerGameGlobals.curReplayID="",G.ControllerGameGlobals.loadedParts=e.allParts,G.ControllerGameGlobals.initX=e.cameraX,G.ControllerGameGlobals.initY=e.cameraY,G.ControllerGameGlobals.initZoom=e.zoomLevel}finishLoadingChallenge(e){if(o.Database.waitingForResponse&&o.Database.curTransactionType==o.Database.ACTION_LOAD_CHALLENGE){var t=o.Database.FinishLoadingChallenge(e);t&&(n.Main.changeControllers=!0,n.Main.nextControllerType=1,c.ControllerChallenge.challenge=t,c.ControllerChallenge.playChallengeMode=!G.ControllerGameGlobals.potentialChallengeEditable,c.ControllerChallenge.playOnlyMode=!G.ControllerGameGlobals.potentialChallengeEditable,p.ControllerSandbox.settings=t.settings,G.ControllerGameGlobals.curChallengeID=G.ControllerGameGlobals.potentialChallengeID,G.ControllerGameGlobals.ratedCurChallenge=!1,G.ControllerGameGlobals.curChallengePublic=G.ControllerGameGlobals.potentialChallengePublic,G.ControllerGameGlobals.curChallengeFeatured=G.ControllerGameGlobals.potentialChallengeFeatured,G.ControllerGameGlobals.curRobotID="",G.ControllerGameGlobals.curReplayID="",G.ControllerGameGlobals.loadedParts=t.allParts,G.ControllerGameGlobals.initX=t.cameraX,G.ControllerGameGlobals.initY=t.cameraY,G.ControllerGameGlobals.initZoom=t.zoomLevel)}}finishDeleting(e){o.Database.waitingForResponse&&o.Database.curTransactionType==o.Database.ACTION_DELETE_ROBOT&&(""!=o.Database.FinishDeletingRobot(e)&&(this.m_progressDialog.SetMessage("Delete successful!"),this.m_progressDialog.HideInXSeconds(1),this.removeChild(this.m_loadWindow),this.m_loadWindow=new SaveLoadWindow(this,SaveLoadWindow.LOAD_ROBOT_TYPE),this.addChild(this.m_loadWindow),this.removeChild(this.m_progressDialog),this.addChild(this.m_progressDialog)))}finishDeletingReplay(e){o.Database.waitingForResponse&&o.Database.curTransactionType==o.Database.ACTION_DELETE_REPLAY&&o.Database.FinishDeletingReplay(e)&&(this.m_progressDialog.SetMessage("Delete successful!"),this.m_progressDialog.HideInXSeconds(1),this.removeChild(this.m_loadWindow),this.m_loadWindow=new SaveLoadWindow(this,SaveLoadWindow.LOAD_REPLAY_TYPE),this.addChild(this.m_loadWindow),this.removeChild(this.m_progressDialog),this.addChild(this.m_progressDialog))}finishDeletingChallenge(e){o.Database.waitingForResponse&&o.Database.curTransactionType==o.Database.ACTION_DELETE_CHALLENGE&&o.Database.FinishDeletingChallenge(e)&&(this.m_progressDialog.SetMessage("Delete successful!"),this.m_progressDialog.HideInXSeconds(1),this.removeChild(this.m_loadWindow),this.m_loadWindow=new SaveLoadWindow(this,SaveLoadWindow.LOAD_CHALLENGE_TYPE),this.addChild(this.m_loadWindow),this.removeChild(this.m_progressDialog),this.addChild(this.m_progressDialog))}enableSoundButtonPressed(e){n.Main.enableSound=!0,this.enableSoundButton.visible=!1,this.disableSoundButton.visible=!0,f.introSong.resume()}disableSoundButtonPressed(e){n.Main.enableSound=!1,f.introSong.pause(),this.enableSoundButton.visible=!0,this.disableSoundButton.visible=!1}loginButton(e,t=!1,o=!1,i=!1){this.saveLoadOpen=i,this.m_loginWindow&&this.removeChild(this.m_loginWindow),this.m_loginWindow=new LoginWindow(this),t&&this.m_loginWindow.displayMessage(),this.addChild(this.m_loginWindow),this.fader2.visible=!0,this.backToSaveWindow=o}finishLoggingInGold(e){if(o.Database.waitingForResponse&&o.Database.curTransactionType==o.Database.ACTION_LOGIN_GOLD){var t=o.Database.FinishLoggingIn(e);""!=t&&(this.m_progressDialog.SetMessage("Success!"),this.m_progressDialog.HideInXSeconds(1),this.m_goldLoginWindow.visible=!1,G.ControllerGameGlobals.userName=t.substring(t.indexOf("user: ")+6,t.indexOf("password: ")-1),G.ControllerGameGlobals.password=t.substring(t.indexOf("password: ")+10,t.indexOf("session: ")-1),G.ControllerGameGlobals.sessionID=t.substr(t.indexOf("session: ")+9),this.fader.visible=!1,this.playButton.visible=!0,this.logInButton.visible=!1,this.logOutButton.visible=!0),n.Main.ShowMouse();var i=new TextFormat;i.font=n.Main.GLOBAL_FONT,i.color=16777215,this.userText.text="Welcome, "+("_Public"==G.ControllerGameGlobals.userName?"Guest":G.ControllerGameGlobals.userName),this.userText.setTextFormat(i)}}finishLoggingIn(e){if(o.Database.waitingForResponse&&o.Database.curTransactionType==o.Database.ACTION_LOGIN){var t=o.Database.FinishLoggingIn(e);""!=t&&(this.m_progressDialog.SetMessage("Success!"),this.m_progressDialog.HideInXSeconds(1),this.m_loginWindow&&(this.m_loginWindow.visible=!1),0==t.indexOf("premium")?n.Main.premiumMode=!0:n.Main.premiumMode=!1,G.ControllerGameGlobals.userName=t.substring(t.indexOf("user: ")+6,t.indexOf("password: ")-1),G.ControllerGameGlobals.password=t.substring(t.indexOf("password: ")+10,t.indexOf("session: ")-1),G.ControllerGameGlobals.sessionID=t.substr(t.indexOf("session: ")+9),this.m_loadWindow&&this.m_loadWindow.visible&&(this.m_loadWindow.HideFader(),this.m_loadWindow.reportClicked(new MouseEvent(""))),this.saveLoadOpen?this.ReloadLoadWindow():this.fader2.visible=!1,this.logInButton.visible=!1,this.logOutButton.visible=!0),n.Main.ShowMouse();var i=new TextFormat;i.font=n.Main.GLOBAL_FONT,i.color=16777215,this.userText.text="Welcome, "+("_Public"==G.ControllerGameGlobals.userName?"Guest":G.ControllerGameGlobals.userName),this.userText.setTextFormat(i)}}finishAddingUser(e){if(o.Database.waitingForResponse&&o.Database.curTransactionType==o.Database.ACTION_ADD_USER){var t=o.Database.FinishAddingUser(e);""!=t&&(this.m_progressDialog.SetMessage("Success!"),this.m_progressDialog.HideInXSeconds(1),this.m_loginWindow&&(this.m_loginWindow.visible=!1),this.m_newUserWindow.visible=!1,n.Main.premiumMode=!1,G.ControllerGameGlobals.userName=t.substring(t.indexOf("user: ")+6,t.indexOf("password: ")-1),G.ControllerGameGlobals.password=t.substring(t.indexOf("password: ")+10,t.indexOf("session: ")-1),G.ControllerGameGlobals.sessionID=t.substr(t.indexOf("session: ")+9),this.m_loadWindow&&this.m_loadWindow.visible&&(this.m_loadWindow.HideFader(),this.m_loadWindow.reportClicked(new MouseEvent(""))),this.saveLoadOpen?this.ReloadLoadWindow():this.fader2.visible=!1,this.logInButton.visible=!1,this.logOutButton.visible=!0);var i=new TextFormat;i.font=n.Main.GLOBAL_FONT,i.color=16777215,this.userText.text="Welcome, "+("_Public"==G.ControllerGameGlobals.userName?"Guest":G.ControllerGameGlobals.userName),this.userText.setTextFormat(i)}}ReloadLoadWindow(){this.m_loadWindow.visible=!0,this.m_loadWindow.dataType!=SaveLoadWindow.HIGH_SCORE_TYPE&&this.m_loadWindow.yourRobotsBox.selected?(this.m_loadWindow.dataType==SaveLoadWindow.LOAD_ROBOT_TYPE?(o.Database.GetRobotData(G.ControllerGameGlobals.userName,G.ControllerGameGlobals.password,!1,o.Database.SORT_BY_EDIT_TIME,o.Database.SORT_PERIOD_ALLTIME,1,"",this.finishGettingLoadRobotData),this.ShowDialog("Getting robots...")):this.m_loadWindow.dataType==SaveLoadWindow.LOAD_REPLAY_TYPE?(o.Database.GetReplayData(G.ControllerGameGlobals.userName,G.ControllerGameGlobals.password,!1,o.Database.SORT_BY_EDIT_TIME,o.Database.SORT_PERIOD_ALLTIME,1,"",this.finishGettingLoadReplayData),this.ShowDialog("Getting replays...")):(o.Database.GetChallengeData(G.ControllerGameGlobals.userName,G.ControllerGameGlobals.password,!1,o.Database.SORT_BY_EDIT_TIME,o.Database.SORT_PERIOD_ALLTIME,1,"",this.finishGettingLoadChallengeData),this.ShowDialog("Getting challenges...")),this.m_loadWindow.ShowFader(),n.Main.ShowHourglass()):this.m_loadWindow.dataType==SaveLoadWindow.HIGH_SCORE_TYPE&&(o.Database.GetScoreData(G.ControllerGameGlobals.userName,G.ControllerGameGlobals.password,o.Database.highScoresChallenge,1==this.m_loadWindow.m_scoreTypeBox.selectedIndex,2==this.m_loadWindow.m_scoreTypeBox.selectedIndex,o.Database.SORT_BY_SCORE,1,"",this.finishGettingScoreData),this.ShowDialog("Getting high scores..."),this.m_loadWindow.ShowFader(),n.Main.ShowHourglass())}commentButton(e,t="",i=!1){i?(o.Database.CommentOnRobot(t,this.finishCommenting),this.ShowDialog("Connecting to forum..."),n.Main.ShowHourglass()):(this.ShowDialog3("You need to save your robot publicly first!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer())}finishCommenting(e){if(o.Database.waitingForResponse&&(o.Database.curTransactionType==o.Database.ACTION_COMMENT_ROBOT||o.Database.curTransactionType==o.Database.ACTION_COMMENT_REPLAY||o.Database.curTransactionType==o.Database.ACTION_COMMENT_CHALLENGE)){var t=o.Database.FinishCommenting(e);-1!=t&&(this.m_loadWindow.HideFader(),this.m_progressDialog.visible=!1,n.Main.BrowserRedirect("http://incredibots.com/forums/posting.php?mode=reply&t="+t+("_Public"==G.ControllerGameGlobals.userName?"":"&sid="+G.ControllerGameGlobals.sessionID),!0),n.Main.ShowMouse())}}finishExporting(e,t){this.m_loadWindow.visible=!1,this.m_exportDialog&&this.removeChild(this.m_exportDialog),this.m_exportDialog=new ExportWindow(this,e,t),this.fader2.visible=!0,this.addChild(this.m_exportDialog)}linkButton(e,t="",o=!1){o?this.ShowLinkDialog("     Use the link below to\n        link to this robot.","http://incredibots2.com/?robotID="+t):(this.ShowDialog3("You need to save your robot publicly first!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer())}embedButton(e,t="",o=!1){o?this.ShowLinkDialog("Copy the HTML below into your\n  website to embed this robot.",null,!1,t):(this.ShowDialog3("You need to save your robot publicly first!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer())}commentReplayButton(e,t="",i=!1){i?(o.Database.CommentOnReplay(t,this.finishCommenting),this.ShowDialog("Connecting to forum..."),n.Main.ShowHourglass()):(this.ShowDialog3("You need to save your replay publicly first!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer())}linkReplayButton(e,t="",o=!1){o?this.ShowLinkDialog("     Use the link below to\n       link to this replay.","http://incredibots2.com/?replayID="+t):(this.ShowDialog3("You need to save your replay publicly first!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer())}embedReplayButton(e,t="",o=!1){o?this.ShowLinkDialog("Copy the HTML below into your\n  website to embed this replay.",null,!1,t,!0):(this.ShowDialog3("You need to save your replay publicly first!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer())}commentChallengeButton(e,t="",i=!1){i?(o.Database.CommentOnChallenge(t,this.finishCommenting),this.ShowDialog("Connecting to forum..."),n.Main.ShowHourglass()):(this.ShowDialog3("You need to save your challenge publicly first!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer())}linkChallengeButton(e,t="",o=!1){o?this.ShowLinkDialog("     Use the link below to\n       link to this challenge.","http://incredibots2.com/?challengeID="+t):(this.ShowDialog3("You need to save your challenge publicly first!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer())}embedChallengeButton(e,t="",o=!1){o?this.ShowLinkDialog("Copy the HTML below into your\n  website to embed this challenge.",null,!0,t):(this.ShowDialog3("You need to save your challenge publicly first!"),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer())}ShowDialog(e){this.m_progressDialog&&this.removeChild(this.m_progressDialog),this.m_progressDialog=new DialogWindow(this,e),this.addChild(this.m_progressDialog)}ShowDialog2(e){this.m_progressDialog&&this.removeChild(this.m_progressDialog),this.m_progressDialog=new DialogWindow(this,e,!0,!0),this.addChild(this.m_progressDialog)}ShowDialog3(e){this.m_progressDialog&&this.removeChild(this.m_progressDialog),this.m_progressDialog=new DialogWindow(this,e,!0),this.addChild(this.m_progressDialog)}ShowLinkDialog(e,t,o=!1,i="",a=!1){this.m_linkDialog&&this.removeChild(this.m_linkDialog),this.m_linkDialog=new LinkWindow(this,e,t,o,i,a),this.addChild(this.m_linkDialog)}HideDialog(e){o.Database.nonfatalErrorOccurred=!1,this.m_loadWindow&&this.m_loadWindow.HideFader(),this.m_challengeWindow&&this.m_challengeWindow.HideFader(),this.m_newUserWindow&&this.m_newUserWindow.visible?this.m_newUserWindow.HideFader():this.m_loginWindow?this.m_loginWindow.HideFader():this.m_goldLoginWindow&&this.m_goldLoginWindow.HideFader(),this.m_progressDialog.visible=!1,this.m_loadWindow&&this.m_loadWindow.visible||this.m_newUserWindow&&this.m_newUserWindow.visible||this.m_loginWindow&&this.m_loginWindow.visible||this.m_challengeWindow&&this.m_challengeWindow.visible||(this.fader2.visible=!1)}HideLinkDialog(e){this.m_linkDialog.visible=!1,this.m_loadWindow.HideFader()}HideExportDialog(e){this.m_exportDialog.visible=!1,this.m_loadWindow&&this.m_loadWindow.visible&&this.m_loadWindow.HideFader(),this.fader2.visible=!1}HideImportDialog(e){this.m_importDialog.visible=!1,this.fader2.visible=!1}ShowImportWindow(e){this.m_importDialog&&this.removeChild(this.m_importDialog),this.m_importDialog=new r.ImportWindow(this,e),this.fader2.visible=!0,this.addChild(this.m_importDialog)}ShowConfirmDialog(e,t){this.m_progressDialog&&this.removeChild(this.m_progressDialog),this.m_progressDialog=new DialogWindow(this,e,!0),this.addChild(this.m_progressDialog),this.m_progressDialog.ShowOKAndCancelButton(t)}HideConfirmDialog(e){this.m_progressDialog.visible=!1,this.m_loadWindow?this.m_loadWindow.HideFader():this.fader2.visible=!1}DialogOK(e){this.m_progressDialog.visible=!1,this.m_loadWindow&&this.m_loadWindow.visible&&this.m_loadWindow.HideFader(),this.m_challengeWindow&&this.m_challengeWindow.visible&&this.m_challengeWindow.HideFader(),this.m_loginWindow&&this.m_loginWindow.visible&&this.m_loginWindow.HideFader(),this.m_goldLoginWindow&&this.m_goldLoginWindow.visible&&this.m_goldLoginWindow.HideFader(),this.m_newUserWindow&&this.m_newUserWindow.visible&&this.m_newUserWindow.HideFader()}ConfirmDeleteRobot(e){this.m_loadWindow.deleteRobotButtonPressed(e,!0)}ConfirmDeleteReplay(e){this.m_loadWindow.deleteReplayButtonPressed(e,!0)}ConfirmDeleteChallenge(e){this.m_loadWindow.deleteChallengeButtonPressed(e,!0)}playButtonPressed(e){n.Main.premiumMode&&""==G.ControllerGameGlobals.userName||(this.playButton.visible=!1,this.fader.visible=!0,this.levelSelectGui.visible=!0,this.logoShrinking=!0,this.subscribeButton&&(this.subscribeButton.visible=!1),this.gamesButton&&(this.gamesButton.visible=!1),this.removeChild(this.enableSoundButton),this.removeChild(this.disableSoundButton),this.levelSelectGui.addChild(this.enableSoundButton),this.levelSelectGui.addChild(this.disableSoundButton))}contestButtonPressed(e){n.Main.BrowserRedirect("http://incredibots.com/forums/viewtopic.php?t=119105",!0)}forumPostButtonPressed(e){n.Main.BrowserRedirect("http://incredibots.com/forums/viewtopic.php?p=1269792",!0)}tankButton(e){n.Main.changeControllers=!0,n.Main.nextControllerType=10}shapeButton(e){n.Main.changeControllers=!0,n.Main.nextControllerType=11}carButton(e){n.Main.changeControllers=!0,n.Main.nextControllerType=12}jumpBotButton(e){n.Main.changeControllers=!0,n.Main.nextControllerType=13}dumpBotButton(e){n.Main.changeControllers=!0,n.Main.nextControllerType=14}catapultButton(e){n.Main.changeControllers=!0,n.Main.nextControllerType=15}homeMovieButton(e){n.Main.changeControllers=!0,n.Main.nextControllerType=16}rubeGoldbergButton(e){n.Main.changeControllers=!0,n.Main.nextControllerType=17}tutorialButton(e){this.m_tutorialWindow&&this.removeChild(this.m_tutorialWindow),this.m_tutorialWindow=new TutorialSelectWindow(this),this.fader2.visible=!0,this.addChild(this.m_tutorialWindow)}sandboxButton(e){var t=new y.SandboxSettings(15,1,0,0,0);p.ControllerSandbox.settings=t,n.Main.changeControllers=!0,n.Main.nextControllerType=0}advancedButton(e){n.Main.nextControllerType=0,this.m_sandboxWindow=new l.AdvancedSandboxWindow(this),this.fader2.visible=!0,this.addChild(this.m_sandboxWindow)}editorButton(e){c.ControllerChallenge.challenge=null,c.ControllerChallenge.playChallengeMode=!1,c.ControllerChallenge.playOnlyMode=!1,n.Main.nextControllerType=1,this.m_sandboxWindow=new l.AdvancedSandboxWindow(this),this.fader2.visible=!0,this.addChild(this.m_sandboxWindow)}logout(e){this.fader2.visible=!0,this.ShowConfirmDialog("Are you sure you want to log "+G.ControllerGameGlobals.userName+" out?",12)}ConfirmLogout(e){n.Main.premiumMode=!1,G.ControllerGameGlobals.userName="_Public",this.logInButton.visible=!0,this.logOutButton.visible=!1,this.ShowDialog3("You are now logged out."),this.m_progressDialog.ShowOKButton(),this.m_progressDialog.StopTimer(),this.fader2.visible=!0;var t=new TextFormat;t.font=n.Main.GLOBAL_FONT,t.color=16777215,this.userText.text="Welcome, Guest",this.userText.setTextFormat(t)}instructionsButton(e){n.Main.BrowserRedirect("http://www.incredifriends.com/",!0)}creditsButton(e){n.Main.BrowserRedirect("http://www.incredifriends.com/",!0)}suggestionsButton(e){n.Main.BrowserRedirect("http://www.incredifriends.com/",!0)}Update(){if(f.channel&&!n.Main.enableSound){G.ControllerGameGlobals.introVolume-=.01;var e=new SoundTransform(G.ControllerGameGlobals.introVolume);f.channel.soundTransform=e,G.ControllerGameGlobals.introVolume<=0&&(f.channel.stop(),f.channel=null)}var t=window.performance.now();this.HandleCamera();for(var i=0;i<this.allParts.length;i++)this.allParts[i].Update(this.world);if(this.replay&&this.replay.Update(this.frameCounter)){for(this.frameCounter=0,this.replay.syncPointIndex=0,this.replay.cameraMovementIndex=0,this.replay.keyPressIndex=0,f.cannonballs=new Array,i=0;i<this.allParts.length;i++)this.allParts[i].UnInit(this.world);for(i=this.allParts.length;i>=0;i--)this.allParts[i]instanceof u.ShapePart&&this.allParts[i].Init(this.world);for(i=0;i<this.allParts.length;i++)(this.allParts[i]instanceof d.JointPart||this.allParts[i]instanceof g.Thrusters)&&this.allParts[i].Init(this.world)}else this.frameCounter++;this.draw.DrawWorld(this.allParts,new Array,!1,!1,!1,!0),this.sSky.Update(!1,this.hasPanned),n.Main.m_fpsCounter.updatePhys(t),this.levelSelectGui.visible?(this.logoShrinking&&(this.logoShrinking=!1,this.sLogo.scale.x!=this.sLogo.scale.y?(this.sLogo.scale.x=Math.min(this.sLogo.scale.x,this.sLogo.scale.y),this.sLogo.scale.y=this.sLogo.scale.x,this.logoShrinking=!0):this.sLogo.scale.x>.6&&(this.sLogo.width-=25,this.sLogo.scale.x<.6&&(this.sLogo.scale.x=.6),this.sLogo.scale.y=this.sLogo.scale.x,this.logoShrinking=!0),this.sLogo.x<215&&(this.sLogo.x+=11.7,this.sLogo.x>215&&(this.sLogo.x=215),this.logoShrinking=!0),this.sLogo.y>10&&(this.sLogo.y-=2,this.sLogo.y<10&&(this.sLogo.y=10),this.logoShrinking=!0)),this.startHereArrow&&(this.arrowAccel=.12*(118-this.arrowX),this.arrowVel+=this.arrowAccel,this.arrowX+=this.arrowVel,this.startHereArrow.x=this.arrowX)):(this.sLogo.width=this.sLogo.texture.width*f.LOGO_STRETCH_WIDTHS[this.logoFrame]/100,this.sLogo.height=this.sLogo.texture.height*f.LOGO_STRETCH_HEIGHTS[this.logoFrame]/100,this.sLogo.x=400-this.sLogo.width/2,this.sLogo.y=92.5-this.sLogo.height/2,this.logoFrame=(this.logoFrame+1)%48),o.Database.errorOccurred&&(this.m_progressDialog.StopTimer(),this.m_progressDialog.SetMessage(o.Database.lastErrorMsg,!0),o.Database.errorOccurred=!1,o.Database.versionErrorOccurred?(o.Database.versionErrorOccurred=!1,this.m_progressDialog.ShowOKAndCancelButton(5)):this.m_progressDialog.ShowOKButton(),this.removeChild(this.m_progressDialog),this.addChild(this.m_progressDialog),n.Main.ShowMouse())}keyInput(e,t){for(var o=0;o<this.allParts.length;o++)this.allParts[o].KeyInput(e,t,!0)}SyncReplay(e){for(var o=new Array,i=0,l=0;l<this.allParts.length;l++)this.allParts[l]instanceof u.ShapePart&&!this.allParts[l].isStatic&&!a.Util.ObjectInArray(this.allParts[l].GetBody(),o)&&(this.allParts[l].GetBody().SetTransform((new t.b2Transform).SetPositionAngle(a.Util.Vector(e.positions[i].x,e.positions[i].y),e.angles[i])),i++,o.push(this.allParts[l].GetBody()));for(l=0;l<f.cannonballs.length;l++)f.cannonballs[l].SetTransform((new t.b2Transform).SetPositionAngle(e.cannonballPositions[l],0))}SyncReplay2(e,o){for(var i=this.replay.syncPoints.indexOf(e),l=new Array,s=0,r=0;r<this.allParts.length;r++)this.allParts[r]instanceof u.ShapePart&&!this.allParts[r].isStatic&&!a.Util.ObjectInArray(this.allParts[r].GetBody(),l)&&(this.allParts[r].GetBody().SetTransform((new t.b2Transform).SetPositionAngle(a.Util.Vector(this.replaySplineXs[0][i][s]+(this.frameCounter-e.frame)*(this.replaySplineXs[1][i][s]+(this.frameCounter-e.frame)*(this.replaySplineXs[2][i][s]+(this.frameCounter-e.frame)*this.replaySplineXs[3][i][s])),this.replaySplineYs[0][i][s]+(this.frameCounter-e.frame)*(this.replaySplineYs[1][i][s]+(this.frameCounter-e.frame)*(this.replaySplineYs[2][i][s]+(this.frameCounter-e.frame)*this.replaySplineYs[3][i][s]))),this.replaySplineAngles[0][i][s]+(this.frameCounter-e.frame)*(this.replaySplineAngles[1][i][s]+(this.frameCounter-e.frame)*(this.replaySplineAngles[2][i][s]+(this.frameCounter-e.frame)*this.replaySplineAngles[3][i][s])))),s++,l.push(this.allParts[r].GetBody()));for(r=0;r<f.cannonballs.length;r++)if(e.cannonballPositions.length>r){var n=o.frame-e.frame,h=(e.cannonballPositions[r].x*(o.frame-this.frameCounter)+o.cannonballPositions[r].x*(this.frameCounter-e.frame))/n,d=(e.cannonballPositions[r].y*(o.frame-this.frameCounter)+o.cannonballPositions[r].y*(this.frameCounter-e.frame))/n;f.cannonballs[r].SetTransform((new t.b2Transform).SetPositionAngle(a.Util.Vector(h,d),0))}else f.cannonballs[r].SetTransform((new t.b2Transform).SetPositionAngle(o.cannonballPositions[r],0))}MoveCameraForReplay(e){}World2ScreenX(e){return e*this.m_physScale-this.draw.m_drawXOff}World2ScreenY(e){return e*this.m_physScale-this.draw.m_drawYOff}HandleCamera(){if(this.cameraPart){var e=this.draw.m_drawXOff,t=this.draw.m_drawYOff;this.draw.m_drawXOff=this.cameraPart.GetBody().GetWorldCenter().x*this.m_physScale-f.ZOOM_FOCUS_X,this.draw.m_drawYOff=this.cameraPart.GetBody().GetWorldCenter().y*this.m_physScale-f.ZOOM_FOCUS_Y,this.draw.m_drawYOff<-760&&(this.draw.m_drawYOff=-760),e==this.draw.m_drawXOff&&t==this.draw.m_drawYOff||(this.hasPanned=!0,this.sGround.x=this.World2ScreenX(-42.36),this.sGround.y=this.World2ScreenY(9.55))}}ComputeReplaySplines(e){for(var t=new Array,o=new Array,i=0;i<this.replay.syncPoints.length-1;i++){t.push(this.replay.syncPoints[i+1].frame-this.replay.syncPoints[i].frame);for(var l=new Array,s=0;s<this.replay.syncPoints[0].positions.length;s++)if(0==e)l.push((this.replay.syncPoints[i+1].positions[s].x-this.replay.syncPoints[i].positions[s].x)/t[i]);else if(1==e)l.push((this.replay.syncPoints[i+1].positions[s].y-this.replay.syncPoints[i].positions[s].y)/t[i]);else{var r=this.replay.syncPoints[i+1].angles[s]-this.replay.syncPoints[i].angles[s];if(Math.abs(r)>300){var n=a.Util.NormalizeAngle(this.replay.syncPoints[i].angles[s]),h=a.Util.NormalizeAngle(this.replay.syncPoints[i+1].angles[s]);r=Math.abs(n-h)<Math.PI?h-n:n>h?h+2*Math.PI-n:h-(n+2*Math.PI)}l.push(r/t[i])}o.push(l)}var d=new Array,u=new Array;for(d.push(0),d.push(2*(t[0]+t[1])),l=new Array,s=0;s<this.replay.syncPoints[0].positions.length;s++)l.push(0);for(u.push(l),l=new Array,s=0;s<this.replay.syncPoints[0].positions.length;s++)l.push(6*(o[1][s]-o[0][s]));for(u.push(l),i=2;i<this.replay.syncPoints.length-1;i++){for(d.push(2*(t[i-1]+t[i])-t[i-1]*t[i-1]/d[i-1]),l=new Array,s=0;s<this.replay.syncPoints[0].positions.length;s++)l.push(6*(o[i][s]-o[i-1][s])-t[i-1]*u[i-1][s]/d[i-1]);u.push(l)}var g=new Array;for(l=new Array,s=0;s<this.replay.syncPoints[0].positions.length;s++)l.push(0);for(g[this.replay.syncPoints.length-1]=l,i=this.replay.syncPoints.length-2;i>0;i--){for(l=new Array,s=0;s<this.replay.syncPoints[0].positions.length;s++)l.push((u[i][s]-t[i]*g[i+1][s])/d[i]);g[i]=l}for(l=new Array,s=0;s<this.replay.syncPoints[0].positions.length;s++)l.push(0);g[0]=l;var m=new Array,b=new Array,c=new Array,p=new Array,C=new Array;for(i=0;i<this.replay.syncPoints.length-1;i++){var G=new Array,w=new Array,D=new Array,S=new Array;for(s=0;s<this.replay.syncPoints[0].positions.length;s++)G.push(0==e?this.replay.syncPoints[i].positions[s].x:1==e?this.replay.syncPoints[i].positions[s].y:this.replay.syncPoints[i].angles[s]),r=this.replay.syncPoints[i+1].angles[s]-this.replay.syncPoints[i].angles[s],Math.abs(r)>300&&(n=a.Util.NormalizeAngle(this.replay.syncPoints[i].angles[s]),h=a.Util.NormalizeAngle(this.replay.syncPoints[i+1].angles[s]),r=Math.abs(n-h)<Math.PI?h-n:n>h?h+2*Math.PI-n:h-(n+2*Math.PI)),w.push(-t[i]*g[i+1][s]/6-t[i]*g[i][s]/3+(0==e?this.replay.syncPoints[i+1].positions[s].x-G[s]:1==e?this.replay.syncPoints[i+1].positions[s].y-G[s]:r)/t[i]),D.push(g[i][s]/2),S.push((g[i+1][s]-g[i][s])/(6*t[i]));b.push(G),c.push(w),p.push(D),C.push(S)}return m.push(b),m.push(c),m.push(p),m.push(C),m}}exports.ControllerMainMenu=f,f.LOGO_STRETCH_WIDTHS=[101.2,101,100.7,100.5,100.2,100,99.7,99.4,99.1,98.9,98.6,98.4,98.2,98,97.8,97.7,97.5,97.5,97.4,97.4,97.4,97.5,97.6,97.8,98.1,98.3,98.6,99,99.3,99.6,100,100.3,100.7,101,101.3,101.6,101.8,102,102.1,102.2,102.3,102.2,102.2,102.1,102,101.8,101.6,101.4],f.LOGO_STRETCH_HEIGHTS=[97.7,97.6,97.7,97.7,97.7,97.8,97.9,98,98.2,98.4,98.7,99,99.3,99.6,100,100.3,100.6,100.9,101.2,101.5,101.7,101.8,101.9,102,102,101.9,101.8,101.7,101.5,101.3,101.1,100.8,100.6,100.3,100.1,99.8,99.5,99.3,99,98.8,98.5,98.4,98.2,98,97.9,97.8,97.8,97.7],f.ZOOM_FOCUS_X=440,f.ZOOM_FOCUS_Y=280,f.firstLoad=!0,f.introSong=D.Resource.cIntro,f.cannonballs=new Array;
},{"pixi.js":"aQiP","@box2d/core":"kjbO","../General/Database":"CVYw","../General/LSOManager":"unNJ","../General/Util":"Zvyo","../Gui/AdvancedSandboxWindow":"kpwL","../Gui/GuiButton":"IBBZ","../Gui/ImportWindow":"F66q","../Main":"aM6Q","../Parts/Cannon":"vdN1","../Parts/JointPart":"avwv","../Parts/ShapePart":"CDAe","../Parts/Thrusters":"Yw1p","./ContactFilter":"u77w","./Controller":"T7gT","./ControllerChallenge":"V2jW","./ControllerSandbox":"v13b","./Draw":"tHDu","./Globals/ControllerGameGlobals":"K8aL","./Graphics/Gradient":"a6nr","./Graphics/Resource":"VWUR","./Graphics/Sky":"cNJr","./SandboxSettings":"ZSAP","../General/ByteArray":"Ujas"}],"bdNa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FpsCounter=void 0;const t=require("pixi.js");class s extends t.Container{constructor(){super(),this.mfpsCount=0,this.mfpsCount2=0,this.avgCount=30,this.avgCount2=30,this.textBox=new t.Text("..."),this.textBox.style.fill="#aa1144",this.textBox2=new t.Text("..."),this.textBox2.width=150,this.textBox2.style.fill="#aa1144",this.textBox2.y=15,this.textBox3=new t.Text("..."),this.textBox3.style.fill="#aa1144",this.textBox3.y=30,this.oldT=window.performance.now(),this.addChild(this.textBox),this.addChild(this.textBox2),this.addChild(this.textBox3)}update(){var t=window.performance.now()-this.oldT;this.mfpsCount+=t,this.avgCount<1&&(this.textBox.text=String(Math.round(1e3/(this.mfpsCount/30))+" fps average"),this.avgCount=30,this.mfpsCount=0),this.avgCount--,this.oldT=window.performance.now(),this.textBox3.text=Math.round(window.performance.memory.usedJSHeapSize/1048576)+" MB used"}updatePhys(t){var s=window.performance.now()-t;this.mfpsCount2+=s,this.avgCount2<1&&(this.textBox2.text=String("Physics step: "+Math.round(this.mfpsCount2/30)+" ms ("+Math.round(1e3/(this.mfpsCount2/30))+" fps)"),this.avgCount2=30,this.mfpsCount2=0),this.avgCount2--}}exports.FpsCounter=s;
},{"pixi.js":"aQiP"}],"aM6Q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Main=void 0;const e=require("./Game/Globals/ControllerGameGlobals"),o=require("./Game/ControllerMainMenu"),r=require("./Game/ControllerSandbox"),l=require("./Game/SandboxSettings"),t=require("./General/FpsCounter"),n=require("./General/LSOManager"),a=require("./General/Input");class C{constructor(e){C.renderer=e,C.theRoot=C.renderer.stage,C.theRoot.interactive=!0;var o=window.location.href,r=o.indexOf("://")+3,l=o.indexOf("/",r),t=o.substring(r,l),a=t.lastIndexOf(".")-1,i=t.lastIndexOf(".",a)+1;"incredibotsgold.com"==(t=t.substring(i,t.length))&&(C.premiumMode=!0),e.ticker.maxFPS=30,e.ticker.add(e=>this.update()),addEventListener(Event.ADDED_TO_STAGE,this.Init,!1,0,!0),n.LSOManager.Init(),this.Init(),C.DEBUG_VERSION&&(C.m_fpsCounter.x=7,C.m_fpsCounter.y=525,C.theRoot.addChild(C.m_fpsCounter))}static BrowserRedirect(e=null,o=!1,r=!1){const l=e||"http://www.incredibots.com/";let t="_self";o&&(t="_blank"),r&&(t="_top"),window.open(l,t)}Init(){a.Input.Init()}rehideMouse(e){Mouse.hide()}update(){if(C.frameCounter++,C.firstFrame){var t=new URLSearchParams(window.location.search);if(t.get("replayID")){C.loadReplayMode=!0;var n=t.get("replayID")}if(t.get("robotID")){C.loadRobotMode=!0;var i=t.get("robotID")}if(t.get("challengeID")){C.loadChallengeMode=!0;var d=t.get("challengeID")}t.get("iframe")&&(C.inIFrame=!0),C.loadReplayMode&&!C.premiumMode?(r.ControllerSandbox.settings=new l.SandboxSettings(15,0,0,0,0),C.m_curController=new r.ControllerSandbox,C.m_curController.LoadReplayNow(n),e.ControllerGameGlobals.potentialReplayID=n,e.ControllerGameGlobals.potentialReplayPublic=!0,e.ControllerGameGlobals.replayDirectlyLinked=!0,C.theRoot.addChild(C.m_curController),C.nextControllerType=0):C.loadRobotMode&&!C.premiumMode?(r.ControllerSandbox.settings=new l.SandboxSettings(15,0,0,0,0),C.m_curController=new r.ControllerSandbox,C.m_curController.LoadRobotNow(i),e.ControllerGameGlobals.potentialRobotID=i,e.ControllerGameGlobals.potentialRobotPublic=!0,C.theRoot.addChild(C.m_curController),C.nextControllerType=0):C.loadChallengeMode&&!C.premiumMode?(r.ControllerSandbox.settings=new l.SandboxSettings(15,0,0,0,0),C.m_curController=new r.ControllerSandbox,C.m_curController.LoadChallengeNow(d),e.ControllerGameGlobals.potentialChallengeID=d,e.ControllerGameGlobals.potentialChallengePublic=!0,C.theRoot.addChild(C.m_curController),C.nextControllerType=0):(C.m_curController=new o.ControllerMainMenu,C.theRoot.addChild(C.m_curController)),C.firstFrame=!1}C.changeControllers&&(C.theRoot.removeChild(C.m_curController),-1==C.nextControllerType?C.m_curController=new o.ControllerMainMenu(!0):10==C.nextControllerType?C.m_curController=new ControllerTank:11==C.nextControllerType?C.m_curController=new ControllerShapes:12==C.nextControllerType?C.m_curController=new ControllerCar:13==C.nextControllerType?C.m_curController=new ControllerJumpbot:14==C.nextControllerType?C.m_curController=new ControllerDumpbot:15==C.nextControllerType?C.m_curController=new ControllerCatapult:16==C.nextControllerType?C.m_curController=new ControllerHomeMovies:17==C.nextControllerType?C.m_curController=new ControllerRubeGoldberg:18==C.nextControllerType?C.m_curController=new ControllerNewFeatures:19==C.nextControllerType?C.m_curController=new ControllerChallengeEditor:1==C.nextControllerType?C.m_curController=new ControllerChallenge:2==C.nextControllerType?C.m_curController=new ControllerMonkeyBars:3==C.nextControllerType?C.m_curController=new ControllerClimb:4==C.nextControllerType?C.m_curController=new ControllerRace:5==C.nextControllerType?C.m_curController=new ControllerSpaceship:C.m_curController=new r.ControllerSandbox,C.theRoot.addChild(C.m_curController),C.changeControllers=!1),C.m_curController.Update(),a.Input.update(),C.DEBUG_VERSION&&C.m_fpsCounter.update()}static ShowMouse(){}static ShowHourglass(){}}exports.Main=C,C.m_fpsCounter=new t.FpsCounter,C.changeControllers=!1,C.nextControllerType=-1,C.firstFrame=!0,C.frameCounter=0,C.inIFrame=!1,C.loadRobotMode=!1,C.loadReplayMode=!1,C.loadChallengeMode=!1,C.premiumMode=!1,C.enableSound=!0,C.VERSION_STRING="2.23 CE",C.DEBUG_VERSION=!0,C.ENABLE_SITE_LOCK=643-(C.DEBUG_VERSION?2:1),C._mochiads_game_id="50feb50977299858",C.lastAdTime=0,C.GLOBAL_FONT="Arial";
},{"./Game/Globals/ControllerGameGlobals":"K8aL","./Game/ControllerMainMenu":"rq5K","./Game/ControllerSandbox":"v13b","./Game/SandboxSettings":"ZSAP","./General/FpsCounter":"bdNa","./General/LSOManager":"unNJ","./General/Input":"xLqP"}],"B6dB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("pixi.js"),i=require("./Main"),n=require("./Game/Graphics/Resource");async function a(){await n.Resource.load();const a=new e.Application({transparent:!1,antialias:!0,width:800,height:600}),r=(new i.Main(a),document.getElementById("game_wrapper"));r&&(r.innerHTML="",r.appendChild(a.view))}a();
},{"pixi.js":"aQiP","./Main":"aM6Q","./Game/Graphics/Resource":"VWUR"}]},{},["B6dB"], null)
//# sourceMappingURL=/Incredibots-2-HTML5-Open-Source/src.26a265b9.js.map